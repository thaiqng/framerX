(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(t,e,n){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(2)),i=n(96),a=o.addIndex(o.map);e.mapTo255=o.compose(o.clamp(0,255),Math.floor,o.multiply(255)),e.toRGBA=a(function(t,n){return 3===n?t:e.mapTo255(t)}),e.predicate=o.allPass([o.compose(o.not,o.isNil),o.where({0:o.is(Number),1:o.is(Number),2:o.is(Number),3:o.is(Number)}),Array.isArray,o.propEq("length",4)]);var c=o.ifElse(e.predicate,o.compose(o.apply(i.rgba),e.toRGBA),o.always(null));e.default=c},157:function(t,e,n){t.exports=n.p+"static/media/artboard.ca47a092.svg"},158:function(t,e,n){t.exports=n.p+"static/media/warning.a2fb0bb8.svg"},163:function(t,e,n){t.exports=n(302)},164:function(t,e,n){"undefined"===typeof Promise&&(n(165).enable(),window.Promise=n(167)),n(168),Object.assign=n(49)},219:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(0)),c=i(n(1)),s=i(n(54)),u=function(t){function e(e){var n=t.call(this,e)||this;return n.socketDispatcher=new s.default(e.uri),n}return r(e,t),e.prototype.getChildContext=function(){return{socketDispatcher:this.socketDispatcher}},e.prototype.componentDidMount=function(){this.socketDispatcher.connect()},e.prototype.componentWillUnmount=function(){this.socketDispatcher.close()},e.prototype.componentWillReceiveProps=function(t){this.props.uri!==t.uri&&(this.socketDispatcher.uri=t.uri,this.socketDispatcher.connect())},e.prototype.render=function(){return a.default.Children.only(this.props.children)},e}(a.Component);u.propTypes={uri:c.default.string.isRequired,children:c.default.element.isRequired},u.childContextTypes={socketDispatcher:c.default.instanceOf(s.default).isRequired},e.default=u},22:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(219);e.SocketConnection=r.default;var o=n(54);e.SocketDispatcher=o.default;var i=n(220);e.Subscribe=i.default;var a=n(221);e.withSocket=a.default},220:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),c=o(n(1)),s=o(n(54)),u=o(n(78)),l=o(n(3)),f=i(n(2)),d=function(t,e){void 0===t&&(t={}),void 0===e&&(e=[]);var n=Object.keys(t);return f.all(f.equals(!0),e.map(function(t){return n.includes(t)}))},p=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.socketListener=r.socketListener.bind(r),(e.event||e.handler)&&l.default(d(e,["event","handler"]),"[Subscribe] provide both event and handler props"),r}return r(e,t),e.prototype.socketListener=function(t){var e=this.props,n=e.event,r=e.handler;if(t.type===u.default.MESSAGE&&r){var o=void 0;try{o=JSON.parse(t.data)}catch(i){console.error("[Subscribe] error while parsing socket event",i)}o&&n===o.type&&r(o)}t.type===u.default.MESSAGE&&this.props.onMessage&&this.props.onMessage(t),t.type===u.default.OPEN&&this.props.onOpen&&this.props.onOpen(t),t.type===u.default.CLOSE&&this.props.onClose&&this.props.onClose(t),t.type===u.default.ERROR&&this.props.onError&&this.props.onError(t)},e.prototype.componentDidMount=function(){this.context.socketDispatcher.subscribe(this.socketListener)},e.prototype.componentWillUnmount=function(){this.context.socketDispatcher.unsubscribe(this.socketListener)},e.prototype.render=function(){return null},e.propTypes={event:c.default.string,handler:c.default.func,onMessage:c.default.func,onOpen:c.default.func,onClose:c.default.func,onError:c.default.func},e.contextTypes={socketDispatcher:c.default.instanceOf(s.default)},e}(a.Component);e.default=p},221:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=i(n(0)),s=a(n(1)),u=a(n(54)),l=a(n(78));e.default=function(t){var e;return(e=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.state={readyState:window.WebSocket.CLOSED},r.socketListener=r.socketListener.bind(r),r}return r(n,e),n.prototype.socketListener=function(t){switch(t.type){case l.default.OPEN:this.setState(function(t){return o({},t,{readyState:window.WebSocket.OPEN})});break;case l.default.CLOSE:this.setState(function(t){return o({},t,{readyState:window.WebSocket.CLOSED})})}},n.prototype.componentDidMount=function(){this.context.socketDispatcher.subscribe(this.socketListener)},n.prototype.componentWillUnmount=function(){this.context.socketDispatcher.unsubscribe(this.socketListener)},n.prototype.render=function(){return c.default.createElement(t,o({},this.props,{socketDispatcher:this.context.socketDispatcher,readyState:this.state.readyState}))},n}(c.Component)).contextTypes={socketDispatcher:s.default.instanceOf(u.default)},e}},230:function(t,e,n){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(2)),i=n(118);e.default=o.ifElse(i.predicate,function(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=[1,1,1,1];return[(1-i)*a[0]+i*e,(1-i)*a[1]+i*n,(1-i)*a[2]+i*r,1].map(o.clamp(0,1))},o.always(null))},231:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(0)),c=i(n(232)),s=o(n(2)),u=i(n(233)),l=function(t,e){for(var n in t)if(!(n in e))return!0;for(var n in e)if(t[n]!==e[n])return!0;return!1},f=function(t){return"none"===t},d=s.omit(["children"]),p={fromRight:"fromRightReverse",fromLeft:"fromLeftReverse",fromTop:"fromTopReverse",fromBottom:"fromBottomReverse",none:"none"},h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={previousTransition:"none"},e.updatePreviousTransition=function(t){l(d(t),d(e.props))&&e.setState({previousTransition:e.transition})},e}return r(e,t),e.prototype.componentWillReceiveProps=function(t){this.updatePreviousTransition(t)},Object.defineProperty(e.prototype,"transition",{get:function(){return s.pathOr("none",["state","transitionType"],this.props.location)},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this.props,e=t.children,n=t.location,r=t.isBack,o=this.state.previousTransition;return a.default.createElement(u.default,{transitionKey:s.all(f,[o,this.transition])&&!o?0:n.key,transition:r?p[o]:this.transition},e)},e}(a.Component);e.default=c.default(h)},232:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(0)),c=n(13);e.default=function(t){return c.withRouter(function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isBack:!1},t.historySinceEnter=[],t}return r(n,e),n.prototype.componentDidMount=function(){this.historySinceEnter.push(this.props.location.key)},n.prototype.componentWillReceiveProps=function(t){var e=this.props.location;if(t.location.key!==e.key){var n=!1;switch(t.history.action){case"PUSH":this.historySinceEnter.push(t.location.key);break;case"POP":var r=this.historySinceEnter.length-1;this.historySinceEnter[r-1]===t.location.key?(this.historySinceEnter.pop(),n=!0):this.historySinceEnter.push(t.location.key);break;case"REPLACE":this.historySinceEnter.pop(),this.historySinceEnter.push(t.location.key)}this.setState({isBack:n})}},n.prototype.render=function(){return a.default.createElement(t,o({isBack:this.state.isBack},this.props))},n}(a.Component))}},233:function(t,e,n){"use strict";var r=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c,s,u=i(n(0)),l=n(234),f=a(n(11)),d=f.default.div(c||(c=r(["\n  position: absolute;\n  width: 100%;\n  top: 0;\n  left: 0;\n"],["\n  position: absolute;\n  width: 100%;\n  top: 0;\n  left: 0;\n"]))),p=f.default(l.CSSTransition)(s||(s=r(["\n  transition-duration: 400ms;\n  transition-property: transform;\n  perspective: 1000;\n\n  // none\n\n  &.none-enter {\n    z-index: 20;\n    transform: translate(0, 0);\n  }\n\n  // fromRight\n\n  &.fromRight-enter {\n    transform: translateX(100%);\n    z-index: 50;\n  }\n\n  &.fromRight-enter-active {\n    transform: translateX(0);\n  }\n\n  &.fromRight-exit {\n  }\n\n  &.fromRight-exit-active {\n    transform: translateX(-30%);\n  }\n\n  // fromRightReverse\n\n  &.fromRightReverse-enter {\n    transform: translateX(-30%);\n  }\n\n  &.fromRightReverse-enter-active {\n    transform: translateX(0);\n  }\n\n  &.fromRightReverse-exit {\n    z-index: 50;\n  }\n\n  &.fromRightReverse-exit-active {\n    transform: translateX(100%);\n  }\n\n  // fromLeft\n\n  &.fromLeft-enter {\n    transform: translateX(-100%);\n    z-index: 50;\n  }\n\n  &.fromLeft-enter-active {\n    transform: translateX(0);\n  }\n\n  &.fromLeft-exit {\n  }\n\n  &.fromLeft-exit-active {\n    transform: translateX(30%);\n  }\n\n  // fromLeftReverse\n\n  &.fromLeftReverse-enter {\n    transform: translateX(30%);\n  }\n\n  &.fromLeftReverse-enter-active {\n    transform: translateX(0);\n  }\n\n  &.fromLeftReverse-exit {\n    z-index: 50;\n  }\n\n  &.fromLeftReverse-exit-active {\n    transform: translateX(-100%);\n  }\n\n  // fromTop\n\n  &.fromTop-enter {\n    transform: translateY(-100%);\n    z-index: 50;\n  }\n\n  &.fromTop-enter-active {\n    transform: translateY(0);\n  }\n\n  &.fromTop-exit {\n  }\n\n  &.fromTop-exit-active {\n  }\n\n  // fromTopReverse\n\n  &.fromTopReverse-enter {\n  }\n\n  &.fromTopReverse-enter-active {\n  }\n\n  &.fromTopReverse-exit {\n    transform: translateY(0);\n    z-index: 50;\n  }\n\n  &.fromTopReverse-exit-active {\n    transform: translateY(-100%);\n  }\n\n  // fromBottom\n\n  &.fromBottom-enter {\n    transform: translateY(100%);\n    z-index: 50;\n  }\n\n  &.fromBottom-enter-active {\n    transform: translateY(0);\n  }\n\n  &.fromBottom-exit {\n  }\n\n  &.fromBottom-exit-active {\n  }\n\n  // fromBottomReverse\n\n  &.fromBottomReverse-enter {\n  }\n\n  &.fromBottomReverse-enter-active {\n  }\n\n  &.fromBottomReverse-exit {\n    transform: translateY(0);\n    z-index: 50;\n  }\n\n  &.fromBottomReverse-exit-active {\n    transform: translateY(100%);\n  }\n"],["\n  transition-duration: 400ms;\n  transition-property: transform;\n  perspective: 1000;\n\n  // none\n\n  &.none-enter {\n    z-index: 20;\n    transform: translate(0, 0);\n  }\n\n  // fromRight\n\n  &.fromRight-enter {\n    transform: translateX(100%);\n    z-index: 50;\n  }\n\n  &.fromRight-enter-active {\n    transform: translateX(0);\n  }\n\n  &.fromRight-exit {\n  }\n\n  &.fromRight-exit-active {\n    transform: translateX(-30%);\n  }\n\n  // fromRightReverse\n\n  &.fromRightReverse-enter {\n    transform: translateX(-30%);\n  }\n\n  &.fromRightReverse-enter-active {\n    transform: translateX(0);\n  }\n\n  &.fromRightReverse-exit {\n    z-index: 50;\n  }\n\n  &.fromRightReverse-exit-active {\n    transform: translateX(100%);\n  }\n\n  // fromLeft\n\n  &.fromLeft-enter {\n    transform: translateX(-100%);\n    z-index: 50;\n  }\n\n  &.fromLeft-enter-active {\n    transform: translateX(0);\n  }\n\n  &.fromLeft-exit {\n  }\n\n  &.fromLeft-exit-active {\n    transform: translateX(30%);\n  }\n\n  // fromLeftReverse\n\n  &.fromLeftReverse-enter {\n    transform: translateX(30%);\n  }\n\n  &.fromLeftReverse-enter-active {\n    transform: translateX(0);\n  }\n\n  &.fromLeftReverse-exit {\n    z-index: 50;\n  }\n\n  &.fromLeftReverse-exit-active {\n    transform: translateX(-100%);\n  }\n\n  // fromTop\n\n  &.fromTop-enter {\n    transform: translateY(-100%);\n    z-index: 50;\n  }\n\n  &.fromTop-enter-active {\n    transform: translateY(0);\n  }\n\n  &.fromTop-exit {\n  }\n\n  &.fromTop-exit-active {\n  }\n\n  // fromTopReverse\n\n  &.fromTopReverse-enter {\n  }\n\n  &.fromTopReverse-enter-active {\n  }\n\n  &.fromTopReverse-exit {\n    transform: translateY(0);\n    z-index: 50;\n  }\n\n  &.fromTopReverse-exit-active {\n    transform: translateY(-100%);\n  }\n\n  // fromBottom\n\n  &.fromBottom-enter {\n    transform: translateY(100%);\n    z-index: 50;\n  }\n\n  &.fromBottom-enter-active {\n    transform: translateY(0);\n  }\n\n  &.fromBottom-exit {\n  }\n\n  &.fromBottom-exit-active {\n  }\n\n  // fromBottomReverse\n\n  &.fromBottomReverse-enter {\n  }\n\n  &.fromBottomReverse-enter-active {\n  }\n\n  &.fromBottomReverse-exit {\n    transform: translateY(0);\n    z-index: 50;\n  }\n\n  &.fromBottomReverse-exit-active {\n    transform: translateY(100%);\n  }\n"]))),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.render=function(){var t=this.props,e=t.transition,n=t.transitionKey,r=t.children;return u.default.createElement(l.TransitionGroup,{childFactory:function(t){return u.default.cloneElement(t,{classNames:e})}},u.default.createElement(p,{key:n,timeout:400,classNames:e},u.default.createElement(d,null,r)))},e}(u.PureComponent);e.default=h},241:function(t,e,n){"use strict";var r=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i,a=o(n(0)),c=o(n(1)),s=o(n(11)).default.div(i||(i=r(["\n  position: relative;\n  overflow: hidden;\n  width: ","px;\n  height: ","px;\n"],["\n  position: relative;\n  overflow: hidden;\n  width: ","px;\n  height: ","px;\n"])),function(t){return t.width},function(t){return t.height}),u=function(t){var e=t.width,n=t.height,r=t.children;return a.default.createElement(s,{width:e,height:n},r)};u.propTypes={width:c.default.number.isRequired,height:c.default.number.isRequired,children:c.default.node},e.default=u},242:function(t,e,n){"use strict";var r=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},i=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c,s,u,l,f=a(n(0)),d=a(n(1)),p=a(n(11)),h=a(n(243)),b=p.default.div(c||(c=r(["\n  position: relative;\n  width: ","px;\n  height: ","px;\n  overflow: hidden;\n  background-color: ",";\n"],["\n  position: relative;\n  width: ","px;\n  height: ","px;\n  overflow: hidden;\n  background-color: ",";\n"])),function(t){return t.width},function(t){return t.height},function(t){return t.backgroundColor}),m=p.default.div(s||(s=r(["\n  width: ","px;\n  height: ","px;\n  overflow: auto;\n  position: relative;\n  -webkit-overflow-scrolling: touch;\n  overflow-scrolling: touch;\n  ",";\n"],["\n  width: ","px;\n  height: ","px;\n  overflow: auto;\n  position: relative;\n  -webkit-overflow-scrolling: touch;\n  overflow-scrolling: touch;\n  ",";\n"])),function(t){return t.width},function(t){return t.height},function(t){return t.hideScrollbars&&"&::-webkit-scrollbar {\n    display: none;\n  }"}),v=p.default.div(u||(u=r(["\n  width: ","px;\n  height: ","px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n  z-index: 1;\n  overflow: hidden;\n"],["\n  width: ","px;\n  height: ","px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n  z-index: 1;\n  overflow: hidden;\n"])),function(t){return t.width},function(t){return t.height}),y=p.default.div(l||(l=r(["\n  width: ","px;\n  height: ","px;\n  position: relative;\n  overflow: hidden;\n"],["\n  width: ","px;\n  height: ","px;\n  position: relative;\n  overflow: hidden;\n"])),function(t){return t.width},function(t){return t.height}),O=function(t){var e=t.viewportWidth,n=t.viewportHeight,r=t.contentsWidth,a=t.contentsHeight,c=t.scrollbarWidth,s=t.scrollbarHeight,u=t.hideScrollbarsOnWebkit,l=t.children,d=t.fixedChildren,p=t.backgroundColor,O=t.scrollKey,g=i(t,["viewportWidth","viewportHeight","contentsWidth","contentsHeight","scrollbarWidth","scrollbarHeight","hideScrollbarsOnWebkit","children","fixedChildren","backgroundColor","scrollKey"]),w=a>n?e+c:e,_=r>e?n+s:n;return f.default.createElement(b,o({width:w,height:_,backgroundColor:p},g),f.default.createElement(v,{width:e,height:n},d),f.default.createElement(h.default,{scrollKey:O},function(t){var e=t.connectScrollTarget;return f.default.createElement(m,{innerRef:e,hideScrollbars:u,width:w,height:_},f.default.createElement(y,{width:r,height:a},l))}))};O.propTypes={viewportWidth:d.default.number.isRequired,viewportHeight:d.default.number.isRequired,contentsWidth:d.default.number.isRequired,contentsHeight:d.default.number.isRequired,children:d.default.node,fixedChildren:d.default.node,hideScrollbarsOnWebkit:d.default.bool,scrollbarWidth:d.default.number,scrollbarHeight:d.default.number,backgroundColor:d.default.string},O.defaultProps={hideScrollbarsOnWebkit:!1,scrollbarWidth:0,scrollbarHeight:0,backgroundColor:"#fff"},e.default=O},243:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},i=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=a(n(0)),s=a(n(244));e.memoryStore={_data:new Map,get:function(t){return t&&this._data.get(t)||null},set:function(t,e){if(t)return this._data.set(t,e)}};var u=function(t){function e(e){var n=t.apply(this,arguments)||this;return n.connectScrollTarget=n.connectScrollTarget.bind(n),n._target=window,n}return r(e,t),e.prototype.connectScrollTarget=function(t){this._target=t},e.prototype.restoreScrollPosition=function(t){var e=this;t=t||this.props.scrollStore.get(this.props.scrollKey),this._target&&t&&s.default(function(){var n,r,o;n=e._target,r=t.x,o=t.y,n instanceof window.Window?n.scrollTo(r,o):(n.scrollLeft=r,n.scrollTop=o)})},e.prototype.saveScrollPosition=function(){if(this._target){var t=function(t){if(t instanceof window.Window)return{x:t.scrollX,y:t.scrollY};return{x:t.scrollLeft,y:t.scrollTop}}(this._target);this.props.scrollStore.set(this.props.scrollKey,t)}},e.prototype.componentDidMount=function(){this.restoreScrollPosition()},e.prototype.componentWillReceiveProps=function(t){this.props.scrollKey!==t.scrollKey&&this.saveScrollPosition()},e.prototype.componentDidUpdate=function(t){this.props.scrollKey!==t.scrollKey&&this.restoreScrollPosition()},e.prototype.componentWillUnmount=function(){this.saveScrollPosition()},e.prototype.render=function(){var t=this.props,e=t.children,n=void 0===e?null:e,r=i(t,["children"]);return n&&n(o({},r,{connectScrollTarget:this.connectScrollTarget}))},e}(c.default.Component);e.default=u,u.defaultProps={scrollStore:e.memoryStore}},302:function(t,e,n){"use strict";n.r(e);n(164);var r=n(0),o=n.n(r),i=n(93),a=n.n(i),c=n(12),s=n(67),u=n.n(s),l=n(9);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var f,d,p,h=n(25),b=n(144),m=n.n(b),v=n(145),y=n.n(v),O=n(146),g=n(5),w=n(31),_=n(6),S=Object(_.a)((f={},Object(g.a)(f,"CONNECTION_SUCCESS",function(t,e){var n=e.payload;return Object(w.a)({},t,{connected:!0,token:n.token})}),Object(g.a)(f,"CONNECTION_CLOSED",function(t){return Object(w.a)({},{connected:!1,token:null,manifestLoaded:!1})}),Object(g.a)(f,"UPDATE_MANIFEST",function(t){return Object(w.a)({},t,{manifestLoaded:!0})}),f),{connected:!1,token:null,manifestLoaded:!1}),E=function(t){return function(e,n){e(Object(l.e)({pathname:"/".concat(t),state:{transitionType:"none",canGoBack:!1}}))}},j=Object(_.a)(Object(g.a)({},"UPDATE_MANIFEST",function(t,e){return{byId:e.payload.entities.artboards}}),{byId:{}}),k=Object(_.a)(Object(g.a)({},"UPDATE_MANIFEST",function(t,e){return{byId:e.payload.entities.documents}}),{byId:{}}),R=Object(_.a)(Object(g.a)({},"UPDATE_MANIFEST",function(t,e){return{byId:e.payload.entities.pages}}),{byId:{}}),A=Object(_.a)(Object(g.a)({},"UPDATE_MANIFEST",function(t,e){return{byId:e.payload.entities.layers}}),{byId:{}}),x=Object(h.combineReducers)({artboards:j,documents:k,pages:R,layers:A}),T=n(2),C=T.ifElse(T.is(Number),T.inc,T.always(0)),P=T.curry(function(t,e){return T.over(T.lensPath(["artboards",t]),C,e)}),I=Object(_.a)((d={},Object(g.a)(d,"UPDATE_MANIFEST",function(t,e){var n=T.keys(e.payload.entities.artboards);return T.reduce(T.flip(P),t,n)}),Object(g.a)(d,"INCREASE_ARTBOARD_REVISION",function(t,e){var n=e.payload;return P(n,t)}),d),{artboards:{}}),D=Object(_.a)((p={},Object(g.a)(p,"SET_SCROLLBAR_DIMENSIONS",function(t,e){var n=e.payload;return T.set(T.lensProp("scrollbarDimensions"),n,t)}),Object(g.a)(p,l.b,function(t,e){var n=e.payload;return n&&n.state&&!1===n.state.canGoBack?T.set(T.lensProp("canGoBack"),!1,t):T.set(T.lensProp("canGoBack"),!0,t)}),p),{scrollbarDimensions:null,canGoBack:!1}),M=Object(_.a)(Object(g.a)({},"UPDATE_MANIFEST",function(t,e){return{color:T.pathOr(null,["payload","entities","documents",e.payload.result,"flowColor"],e)}}),{color:null}),L=Object(_.a)(Object(g.a)({},"UPDATE_MANIFEST",function(t,e){e.payload;return Object(w.a)({},t,{manifestIsSet:!0})}),{manifestIsSet:!1}),N=Object(h.combineReducers)({connection:S,entities:x,router:l.g,revisions:I,screen:D,hitAreas:M,manifest:L}),B=Object(O.composeWithDevTools)({});var W=n(16),U=n(17),z=n(19),H=n(18),G=n(20),F=n(22),X=n(149),Y=n(150),V=n.n(Y),q=function(t){return{type:"CONNECTION_SUCCESS",payload:{token:t}}},K=function(t){return{type:"CONNECTION_CLOSED"}},J=n(161),$=function(t,e){return Object(T.map)((n=t,function(t){return Object(T.curryN)(Object(T.length)(t),function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.apply(void 0,Object(J.a)(Object(T.adjust)(n,-1,r)))})}),e);var n},Q=$(T.path(["connection"]),{getConnectionIsReady:function(t){return t.connected&&t.manifestLoaded},getToken:function(t){return T.propOr(null,"token",t)}}),Z=function(t){return{payload:t,type:"INCREASE_ARTBOARD_REVISION"}},tt=n(46),et=new tt.schema.Entity("layers",{},{idAttribute:function(t,e,n){return"".concat(e.id,"-").concat(t.id,"-").concat(e[n].indexOf(t))},processStrategy:function(t,e,n){return T.set(T.lensProp("id"),"".concat(e.id,"-").concat(t.id,"-").concat(e[n].indexOf(t)),t)}}),nt=new tt.schema.Entity("artboards",{layers:[et]}),rt=new tt.schema.Entity("pages",{artboards:[nt]}),ot=new tt.schema.Entity("documents",{pages:[rt]},{idAttribute:function(t){return t.manifest.id},processStrategy:function(t,e,n){var r=T.pathOr([],["manifest","contents","pages"],t);return{flowColor:T.pathOr(null,["manifest","flowColor"],t),pages:r}}}),it=function(t){return{type:"UPDATE_MANIFEST",payload:{manifest:t},meta:{schema:ot}}},at=n(98),ct=n.n(at),st={edge:"Edge",chrome:"Chrome",crios:"Chrome iOS",firefox:"Firefox",opera:"Opera",ie:"Internet Explorer",android:"Android",ios:"iOS",safari:"Safari"},ut=function(){return t=ct.a?ct.a.name:"Unknown",T.propOr(t,t,st);var t},lt=function(t){function e(){var t,n;Object(W.a)(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(z.a)(this,(t=Object(H.a)(e)).call.apply(t,[this].concat(o)))).initConnection=function(){var t=localStorage.getItem("uuid");t||(t=Object(X.v4)(),localStorage.setItem("uuid",t)),n.setState({uuid:t})},n.sendDeviceInfo=function(){var t=n.props.socketDispatcher,e={type:"device-info",content:{uuid:n.state.uuid,"user-agent":window.navigator.userAgent,"display-name":ut(),challenge:V.a.parse(window.location.search).challenge,screens:[{name:"Browser",scale:window.devicePixelRatio,width:window.screen.width,height:window.screen.height}]}};t.send(JSON.stringify(e))},n.connect=function(){n.props.connected||n.props.socketDispatcher.connect()},n.handleOpen=function(){n.sendDeviceInfo()},n.handleClose=function(){n.props.closeConnection(),setTimeout(n.connect,5e3)},n.handleError=function(){n.props.handleError()},n.handleManifestUpdate=function(t){n.props.updateManifest(t.content)},n.handleArtboardUpdate=function(t){T.isNil(t.content.identifier)||n.props.updateArtboard(t.content.identifier)},n.handleConnectionSuccess=function(t){n.props.connectionSuccess(t.content.token)},n.handleUpdateCurrentArtboard=function(t){T.isNil(t.content.identifier)||n.props.updateCurrentArtboard(t.content.identifier)},n}return Object(G.a)(e,t),Object(U.a)(e,[{key:"componentDidMount",value:function(){this.initConnection()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(F.Subscribe,{onOpen:this.handleOpen}),o.a.createElement(F.Subscribe,{onClose:this.handleClose}),o.a.createElement(F.Subscribe,{onError:this.handleError}),o.a.createElement(F.Subscribe,{event:"connected",handler:this.handleConnectionSuccess}),o.a.createElement(F.Subscribe,{event:"manifest",handler:this.handleManifestUpdate}),o.a.createElement(F.Subscribe,{event:"artboard",handler:this.handleArtboardUpdate}),!1)}}]),e}(r.Component),ft=T.compose(F.withSocket,Object(c.b)(function(t){return{connected:t.connection.connected}},function(t,e){return{connectionSuccess:function(e){return t(q(e))},updateManifest:function(e){return t(it(e))},updateArtboard:function(e){return t(Z(e))},updateCurrentArtboard:function(e){return t(E(e))},closeConnection:function(){t(K())}}}))(lt),dt=n(162),pt=n(71),ht=n(21),bt=n(14),mt=n(11),vt=n(13),yt=n(1),Ot=n.n(yt),gt=n(96);function wt(){var t=Object(ht.a)(["\n  position: absolute;\n  border-radius: ",";\n  display: block;\n  opacity: ",";\n  transition: opacity 0.25s;\n  cursor: pointer;\n  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.15);\n  pointer-events: auto;\n\n  &::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    border: 2px solid ",";\n    border-radius: ",";\n  }\n"]);return wt=function(){return t},t}var _t=mt.default.div.attrs({style:function(t){return{width:t.width,height:t.height,top:t.top||"initial",right:t.right||"initial",bottom:t.bottom||"initial",left:t.left||"initial",backgroundColor:Object(gt.transparentize)(.8,t.color||"#00fffc")}}})(wt(),"1px",function(t){return t.isActive?"1":"0"},function(t){return t.color||"#00fffc"},"1px");_t.propTypes={color:Ot.a.string},_t.defaultProps={color:"#00fffc"};var St=_t,Et=n(37),jt=T.path(["entities","layers"]),kt=function(t,e){return e.byId[t]},Rt=function(t,e){return T.pathOr(null,["flow","destinationArtboardID"],kt(t,e))},At=$(jt,{getLayer:kt,getDestinationArtboardId:Rt}),xt=$(T.path(["hitAreas"]),{getColor:function(t){return T.propOr(null,"color",t)}}),Tt=$(T.path(["screen"]),{getScalingMode:function(t){return t.scalingMode},getIsScrollbarDimensionsSet:function(t){return null!==t.scrollbarDimensions},getScrollbarDimensions:function(t){return t.scrollbarDimensions},getShouldHideScrollbars:function(t){return!!t.scrollbarDimensions.width||!!t.scrollbarDimensions.height},getCanGoBack:function(t){return t.canGoBack}}),Ct=n(69),Pt=function(t){return t+"px"},It=Object(Et.createSelector)(function(t,e){return At.getLayer(e.layerId,t)},function(t,e){return e.scale},function(t){return xt.getColor(t)},function(t){return Tt.getCanGoBack(t)},function(t,e,n,r){return{flow:t.flow,width:Pt(Math.ceil(t.boundingRect.width*e)),height:Pt(Math.ceil(t.boundingRect.height*e)),top:Pt(t.boundingRect.y*e),left:Pt(t.boundingRect.x*e),color:Object(Ct.floatsToCSSRGBAString)(n),canGoBack:r}}),Dt=function(t,e){return function(n,r){t(Object(l.d)({pathname:"/".concat(n),state:{transitionType:r,fromArtboardId:e.match.params.artboardId,toArtboardId:n}}))}},Mt=T.compose(Object(bt.e)({onClick:function(t){var e=t.flow,n=t.goToArtboard,r=t.goToPreviousArtboard;return function(t){t.stopPropagation(),e.isBackAction?r():e.destinationArtboardID&&n(e.destinationArtboardID,e.animationType)}}}),Object(bt.a)(function(t){var e=t.flow,n=t.canGoBack;return e&&e.isBackAction&&!n},bt.c)),Lt=T.compose(vt.withRouter,Object(c.b)(It,function(t,e){return{goToArtboard:Dt(t,e),goToPreviousArtboard:function(){t(Object(l.c)())}}}),Mt)(St),Nt=T.path(["entities","artboards"]),Bt=function(t,e){return T.pathOr(null,["byId",t],e)},Wt=function(t,e){return T.propOr([],"layers",Bt(t,e))},Ut=$(Nt,{getArtboards:function(t){var e=T.pathOr({},["byId"],t);return T.values(e)},getArtboard:Bt,getLayers:Wt,getViewport:function(t,e){return T.propOr({width:null,height:null},"viewport",Bt(t,e))},getArtboardFileTypes:function(t,e){var n=Bt(t,e);return T.propOr(["full"],"files",n)}}),zt=Object(Et.createSelector)(function(t,e){return e.match.params.artboardId},function(t){return t.entities.artboards},function(t){return t.entities.layers},function(t,e,n){var r=Wt(t,e).map(function(t){return Rt(t,n)}).filter(function(t){return t});return T.uniq(r)}),Ht=Object(Et.createSelector)(function(t,e){return Ut.getArtboard(e.match.params.artboardId,t)},function(t){return t.entities.layers},function(t,e){return t?t.layers.map(function(t){return kt(t,e)}):[]}),Gt=parseInt(window.location.port,10),Ft={socketUri:"ws://127.0.0.1:".concat(Gt+1),fileServerUri:"http://127.0.0.1:".concat(Gt)},Xt=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"full";return"".concat(Ft.fileServerUri,"/artboards/").concat(t,"?scale=").concat(n,"&token=").concat(e,"&v=").concat(r,"&type=").concat(o)},Yt=$(T.path(["revisions"]),{getArtboardRevision:function(t,e){return e.artboards[t]}}),Vt=Object(Et.createSelector)(function(t){return t.connection.token},function(t,e){return e.artboardId},function(t,e){return Yt.getArtboardRevision(e.artboardId,t)},function(t,e){return Ut.getArtboardFileTypes(e.artboardId,t)},function(t,e,n,r){return r.reduce(function(r,o){return r[o]=T.map(function(r){return Xt(e,t,r,n,o)},T.range(1,4)),r},{})}),qt=n(70),Kt=n(156),Jt=n(157),$t=n.n(Jt),Qt=n(158),Zt=n.n(Qt);function te(){var t=Object(ht.a)(["\n  margin-bottom: 0.9375rem;\n  user-select: none;\n"]);return te=function(){return t},t}function ee(){var t=Object(ht.a)(["\n  font-size: 0.6875rem;\n  opacity: 0.8;\n  max-width: 170px;\n  margin: 0;\n  user-select: none;\n"]);return ee=function(){return t},t}function ne(){var t=Object(ht.a)(["\n  font-size: 0.6875rem;\n  margin: 0;\n  user-select: none;\n"]);return ne=function(){return t},t}function re(){var t=Object(ht.a)(["\n  color: white;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  line-height: 1.5;\n  width: ",";\n  height: ",";\n"]);return re=function(){return t},t}var oe=mt.default.div(re(),function(t){return t.width},function(t){return t.height}),ie=mt.default.h1(ne()),ae=mt.default.p(ee()),ce=mt.default.img(te()),se=function(t){switch(t.type){case"warn":return o.a.createElement(ce,{src:Zt.a,alt:"Warning"});case"artboard":default:return o.a.createElement(ce,{src:$t.a,alt:"Artboard"})}},ue=function(t){var e=t.title,n=t.message,r=t.width,i=t.height,a=t.iconType;return o.a.createElement(oe,{width:r,height:i},o.a.createElement(se,{type:a}),o.a.createElement(ie,null,e),o.a.createElement(ae,null,n))},le=function(){return window.navigator.userAgent.toLowerCase().includes("sketch")},fe=function(t){return t.map(function(t,e){return"".concat(t," ").concat(e+1,"x")},"").join(", ")},de=function(){},pe=function(t){function e(){return Object(W.a)(this,e),Object(z.a)(this,Object(H.a)(e).apply(this,arguments))}return Object(G.a)(e,t),Object(U.a)(e,[{key:"componentDidMount",value:function(){var t=this;window.previewFrontend.transitionToArtboard=function(e,n){return t.props.goToArtboard(e,n)}}},{key:"componentWillUnmount",value:function(){window.previewFrontend.transitionToArtboard=de}},{key:"render",value:function(){return null}}]),e}(r.Component),he=T.compose(vt.withRouter,Object(c.b)(null,function(t,e){return{goToArtboard:Dt(t,e)}}))(pe),be=function(t){var e=t.src,n=t.srcSet;return new Promise(function(t,r){var o=new window.Image;o.addEventListener("load",function(e){t(e)}),o.addEventListener("error",function(t){r(t),o=null}),o.src=e,n&&(o.srcset=n)})},me=function(t){function e(){return Object(W.a)(this,e),Object(z.a)(this,Object(H.a)(e).apply(this,arguments))}return Object(G.a)(e,t),Object(U.a)(e,[{key:"fetchImage",value:function(t){this.promise=be({src:t.src,srcSet:t.srcSet})}},{key:"componentDidMount",value:function(){this.fetchImage(this.props)}},{key:"render",value:function(){return null}}]),e}(r.Component),ve=Object(c.b)(function(t,e){return{urls:Vt(t,e)}})(function(t){var e=t.urls;return[e.full,e.scrollable,e.fixed].filter(function(t){return t&&t.length}).map(function(t){return o.a.createElement(me,{key:t[0],src:t[0],srcSet:fe(t)})})});function ye(){var t=Object(ht.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  max-width: 100vw;\n  max-height: 100vh;\n  background-color: ",";\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return ye=function(){return t},t}var Oe=Object(bt.d)(mt.default.div(ye(),"#000")),ge=function(t){function e(){return Object(W.a)(this,e),Object(z.a)(this,Object(H.a)(e).apply(this,arguments))}return Object(G.a)(e,t),Object(U.a)(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.viewportWidth,n=t.viewportHeight,r=t.setCurrentArtboard,o=T.pathOr(null,["match","params","artboardId"],this.props);e&&n||!o||r(o)}},{key:"componentDidUpdate",value:function(t){var e=t.artboard;e&&this.props.artboard&&this.props.artboard.id!==e.id&&le()&&window.webkit.messageHandlers.artboardDidChange.postMessage(this.props.artboard.id)}},{key:"calculateScale",value:function(t,e){var n=Object(pt.a)(t,2),r=n[0],o=n[1],i=Object(pt.a)(e,2),a=i[0],c=i[1];return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return T.head(T.sort(function(t,e){return t-e},e))}(r<a?r/a:1,o<c?o/c:1)}},{key:"calculateViewport",value:function(t){var e=this.props,n=e.viewportWidth,r=e.viewportHeight,o=e.isSketchWebView,i=e.scrollbarDimensions,a=T.ifElse(function(){return!o},T.zipWith(T.add,[i.width,i.height]),T.identity),c=T.pipe(T.map(T.pipe(T.multiply(t),Math.floor)),a);return c([n,r])}},{key:"renderArtboardNotFound",value:function(){return o.a.createElement(ue,{width:"100vw",height:"100vh",title:"Artboard not found",message:"Select an Artboard to preview.",iconType:"artboard"})}},{key:"render",value:function(){var t=this.props,e=t.viewportWidth,n=t.viewportHeight,r=t.artboard,i=t.flashHitareas,a=t.hitAreasAreActive,c=t.layers,s=(t.match,t.location),u=t.measureRef,l=t.contentRect,f=t.shouldHideScrollbars,d=t.scrollbarDimensions,p=(t.scrollableArtboardUrls,t.fixedViewportUrls,t.artboardUrls),h=t.relatedArtboardIds,b=Object(dt.a)(t,["viewportWidth","viewportHeight","artboard","flashHitareas","hitAreasAreActive","layers","match","location","measureRef","contentRect","shouldHideScrollbars","scrollbarDimensions","scrollableArtboardUrls","fixedViewportUrls","artboardUrls","relatedArtboardIds"]);if(!r)return this.renderArtboardNotFound();var m=l.entry.width||window.innerWidth,v=l.entry.height||window.innerHeight,y=this.calculateScale([m,v],[e,n]),O=this.calculateViewport(y),g=Object(pt.a)(O,2),w=g[0],_=g[1];return o.a.createElement(Oe,Object.assign({innerRef:u,onClick:i},b),h.map(function(t){return o.a.createElement(ve,{key:t,artboardId:t})}),o.a.createElement(he,null),o.a.createElement(qt.Viewport,{width:w,height:_},o.a.createElement(qt.ArtboardsTransition,null,o.a.createElement(qt.Artboard,{scrollKey:s.key,scrollbarWidth:d.width,scrollbarHeight:d.height,hideScrollbarsOnWebkit:f,viewportWidth:w,viewportHeight:_,contentsWidth:Math.floor(r.width*y),contentsHeight:Math.floor(r.height*y),backgroundColor:Object(Ct.floatsToCSSRGBAString)(r.backgroundColor)||"#fff",fixedChildren:o.a.createElement(o.a.Fragment,null,p.fixed&&o.a.createElement("img",{src:p.fixed[0],srcSet:fe(p.fixed),style:{width:"100%"},draggable:!1,alt:""}),!!c.filter(function(t){return t.isFixedToViewport}).length&&c.filter(function(t){return t.isFixedToViewport}).map(function(t){return o.a.createElement(Lt,{key:t.id,layerId:t.id,isActive:a,scale:y})}))},c.filter(function(t){return!t.isFixedToViewport}).map(function(t){return o.a.createElement(Lt,{key:t.id,layerId:t.id,isActive:a,scale:y})}),p.scrollable||p.full?o.a.createElement("img",{src:p.scrollable?p.scrollable[0]:p.full[0],srcSet:fe(p.scrollable||p.full),style:{width:"100%"},draggable:!1,alt:""}):null))))}}]),e}(r.Component),we=Object(bt.b)(Object(bt.g)("hitAreasAreActive","setHitAreasAreActive",!1),Object(bt.e)({flashHitareas:function(t){var e=t.setHitAreasAreActive,n=t.hitAreasAreActive;return function(){n||(e(!0),setTimeout(function(){e(!1)},500))}}}),vt.withRouter,Object(bt.f)(function(t){return{isSketchWebView:le(),artboardId:T.pathOr(null,["match","params","artboardId"],t)}}),Object(c.b)(function(t,e){var n=e.match.params.artboardId,r=Ut.getArtboard(n,t),o=Ut.getViewport(n,t);return{artboard:r,layers:Ht(t,e),viewportWidth:T.prop("width",o),viewportHeight:T.prop("height",o),shouldHideScrollbars:Tt.getShouldHideScrollbars(t),scrollbarDimensions:Tt.getScrollbarDimensions(t),artboardUrls:Vt(t,e),relatedArtboardIds:zt(t,e)}},function(t){return{setCurrentArtboard:function(e){return t(E(e))}}}),Object(Kt.withContentRect)())(ge),_e=n(159),Se=n.n(_e),Ee=function(t){return{type:"SET_SCROLLBAR_DIMENSIONS",payload:t}},je=$(T.path(["manifest"]),{getManifestIsSet:function(t){return t.manifestIsSet}}),ke={NO_ARTBOARDS_TITLE:"No Artboards",NO_ARTBOARDS_MESSAGE:"Artboards are required in order to preview your designs.",CONNECTION_ERROR_TITLE:"Connection Error",CONNECTION_ERROR_MESSAGE:"Error establishing connection"},Re=o.a.createContext(),Ae=function(t){function e(){var t,n;Object(W.a)(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(z.a)(this,(t=Object(H.a)(e)).call.apply(t,[this].concat(o)))).state={localizedStrings:ke},n}return Object(G.a)(e,t),Object(U.a)(e,[{key:"componentDidMount",value:function(){var t=this;window.previewFrontend.setLocalizedStrings=function(e){t.setState(function(t){return Object(w.a)({},t,{localizedStrings:T.merge(t.localizedStrings,e)})})}}},{key:"render",value:function(){return o.a.createElement(Re.Provider,{value:this.state},this.props.children)}}]),e}(r.Component),xe=Re.Consumer;var Te=function(t){return function(e){return o.a.createElement(xe,null,function(n){var r=n.localizedStrings;return o.a.createElement(t,Object.assign({},e,{localizedStrings:r}))})}},Ce=function(t,e){return T.has(e,t)||console.warn("No localized string found for ".concat(e)),T.prop(e,t)},Pe=T.compose(Te,Object(bt.f)(function(t){var e=t.localizedStrings;return{title:Ce(e,"NO_ARTBOARDS_TITLE"),message:Ce(e,"NO_ARTBOARDS_MESSAGE"),iconType:"artboard"}}))(ue),Ie=T.compose(Te,Object(bt.f)(function(t){var e=t.localizedStrings;return{title:Ce(e,"CONNECTION_ERROR_TITLE"),message:Ce(e,"CONNECTION_ERROR_MESSAGE"),iconType:"warn"}}))(ue),De=function(t){function e(){return Object(W.a)(this,e),Object(z.a)(this,Object(H.a)(e).apply(this,arguments))}return Object(G.a)(e,t),Object(U.a)(e,[{key:"render",value:function(){var t=this.props,e=t.connectionIsReady,n=t.setScrollbarDimensions,r=t.isScrollbarDimensionsSet,i=t.goToConnectionError,a=t.manifestIsSet,c=t.documentContainsArtboards;return o.a.createElement(Ae,null,o.a.createElement(F.SocketConnection,{uri:Ft.socketUri},o.a.createElement("div",null,o.a.createElement(ft,{handleError:i}),o.a.createElement(Se.a,{onLoad:n}),e?r&&a&&o.a.createElement(vt.Switch,null,c&&o.a.createElement(vt.Route,{path:"/:artboardId",component:we}),o.a.createElement(vt.Route,{render:function(){return o.a.createElement(Pe,{width:"100vw",height:"100vh"})}})):o.a.createElement(vt.Switch,null,o.a.createElement(vt.Route,{path:"/state/connection-error",render:function(){return o.a.createElement(Ie,{width:"100vw",height:"100vh"})}})))))}}]),e}(r.Component),Me=Object(vt.withRouter)(Object(c.b)(function(t,e){return{connectionIsReady:Q.getConnectionIsReady(t),isScrollbarDimensionsSet:Tt.getIsScrollbarDimensionsSet(t),manifestIsSet:je.getManifestIsSet(t),documentContainsArtboards:Ut.getArtboards(t).length>0}},function(t){return{setScrollbarDimensions:function(e){return t(Ee({width:e.scrollbarWidth,height:e.scrollbarHeight}))},goToConnectionError:function(){return t(Object(l.e)("/state/connection-error"))}}})(De));function Le(){var t=Object(ht.a)(["\n  body {\n    overflow: hidden; // block body scrolling\n    background-color: #000;\n    color: #fff;\n    font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;\n    -webkit-font-smoothing: antialiased;\n    margin: 0;\n  }\n"]);return Le=function(){return t},t}Object(mt.injectGlobal)(Le());var Ne=n(160),Be=n.n(Ne);window.__RELEASE_INFO={commit:"b3abe758787a43415bc54760895a96b4b5eaf998"};var We=function(){return window.history.state||{}};if(!We().key){var Ue=Object.assign({},We(),{key:Math.random().toString(36).substr(2,6)});window.history.replaceState(Ue,null,window.location.href)}var ze,He=u()(),Ge=function(t){var e=t.history,n=B(Object(h.applyMiddleware)(m.a,y()(),Object(l.f)(e)));return Object(h.createStore)(N,n)}({history:He});ze=Ge,window.previewFrontend={goToArtboard:function(t){return Be.a.anyNonNil(t)&&ze.dispatch(E(t))},getSessionId:function(){return window.localStorage.getItem("uuid")},setLocalizedStrings:function(t){console.warn("LocalizedStringProvider isn't initialized")},transitionToArtboard:function(){console.warn("AddGlobalTransitionToArtboardHandler isn't initialized")}},a.a.render(o.a.createElement(c.a,{store:Ge},o.a.createElement(l.a,{history:He},o.a.createElement(Me,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},54:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(78)),i=n(2),a=function(){function t(t){var e=this;this.onClose=function(t){e.broadcast(t)},this.onOpen=function(t){e.broadcast(t)},this.onError=function(t){e.broadcast(t)},this.onMessage=function(t){e.broadcast(t)},this.send=function(t){if(e.socket&&e.socket.readyState===window.WebSocket.OPEN)try{e.socket.send(t)}catch(n){console.warn("Couldn't send message")}},this.uri=t,this.listeners=[],this.sockets=[],this.connect=this.connect.bind(this),this.close=this.close.bind(this)}return t.prototype.subscribe=function(t){if(this.listeners.push(t),this.socket&&this.socket instanceof window.WebSocket)switch(this.socket.readyState){case window.WebSocket.OPEN:t({type:o.default.OPEN});break;case window.WebSocket.CLOSED:t({type:o.default.CLOSE})}},t.prototype.unsubscribe=function(t){this.listeners.indexOf(t)>-1&&this.listeners.splice(this.listeners.indexOf(t),1)},t.prototype.broadcast=function(t){this.listeners.forEach(function(e){e(t)})},t.prototype.close=function(){if(this.socket&&this.socket instanceof window.WebSocket)try{this.socket.removeEventListener("close",this.onClose),this.socket.removeEventListener("open",this.onOpen),this.socket.removeEventListener("error",this.onError),this.socket.removeEventListener("message",this.onMessage),this.socket.close()}catch(t){console.warn("Could not close connection",t)}},Object.defineProperty(t.prototype,"socket",{get:function(){return i.last(this.sockets)},set:function(t){this.sockets.push(t)},enumerable:!0,configurable:!0}),t.prototype.connect=function(){this.uri?(this.close(),this.socket=new window.WebSocket(this.uri),this.socket.addEventListener("close",this.onClose),this.socket.addEventListener("open",this.onOpen),this.socket.addEventListener("error",this.onError),this.socket.addEventListener("message",this.onMessage),this.socket.onclose=function(){}):console.warn("Can't set up connection because no URI was provided")},t}();e.default=a},69:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(118);e.floatsToCSSRGBAString=r.default;var o=n(230);e.floatsToOpaqueRGBA=o.default},70:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(231);e.ArtboardsTransition=r.default;var o=n(241);e.Viewport=o.default;var i=n(242);e.Artboard=i.default},78:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={OPEN:"open",CLOSE:"close",MESSAGE:"message",ERROR:"error"}}},[[163,2,1]]]);
//# sourceMappingURL=main.af071ba0.chunk.js.map