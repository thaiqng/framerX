!function(e){var t={};function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)__webpack_require__.d(n,r,function(t){return e[t]}.bind(null,r));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=442)}([function(e,t){e.exports=React},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(453);t.LineJoin=r.LineJoin,t.LineCap=r.LineCap;var i=n(192);t.collectFiltersFromProps=i.collectFiltersFromProps;var o=n(268);t.getConfigFromURL=o.getConfigFromPreviewURL,t.getConfigFromPreviewURL=o.getConfigFromPreviewURL,t.getConfigFromVekterURL=o.getConfigFromVekterURL;var s=n(269);t.serverURL=s.serverURL;var a=n(270);t.memoize=a.memoize;var c=n(271);t.InternalID=c.InternalID;var l=n(149);t.LinearGradientElementProperties=l.LinearGradientElementProperties;var u=n(456);t.frameFromElement=u.frameFromElement,t.frameFromElements=u.frameFromElements,t.dispatchKeyDownEvent=u.dispatchKeyDownEvent,t.DOM=u.DOM;var h=n(457);t.FillProperties=h.FillProperties;var d=n(458);t.FilterProperties=d.FilterProperties,t.FilterNumberProperties=d.FilterNumberProperties;var p=n(459);t.BackgroundFilterProperties=p.BackgroundFilterProperties;var f=n(277);t.RadiusProperties=f.RadiusProperties;var g=n(278);t.BlendingProperties=g.BlendingProperties,t.BlendingMode=g.BlendingMode,t.collectBlendingFromProps=g.collectBlendingFromProps;var m=n(198);t.Background=m.Background,t.BackgroundProperties=m.BackgroundProperties;var v=n(81);t.ImageFit=v.ImageFit,t.BackgroundImage=v.BackgroundImage;var y=n(199);t.WithOpacity=y.WithOpacity,t.withOpacity=y.withOpacity,t.collectOpacityFromProps=y.collectOpacityFromProps;var S=n(279);t.DeprecatedVisualProperties=S.DeprecatedVisualProperties,t.collectVisualStyleFromProps=S.collectVisualStyleFromProps;var b=n(462);t.WithShape=b.WithShape,t.withShape=b.withShape;var _=n(463);t.BoxShadowProperties=_.BoxShadowProperties;var C=n(464);t.gradientForShape=C.gradientForShape;var w=n(465);t.debounce=w.debounce;var x=n(466);t.throttle=x.throttle;var P=n(82);t.setImageForFill=P.setImageForFill,t.imageUrlForFill=P.imageUrlForFill,t.imageUrlForAsset=P.imageUrlForAsset,t.QualityOptions=P.QualityOptions;var T=n(82);t._imageURL=T._imageURL,t._imageScalingMethod=T._imageScalingMethod;var k=n(280);t.imagePatternPropsForFill=k.imagePatternPropsForFill;var E=n(119);t.ComponentDefinition=E.ComponentDefinition,t.ComponentIdentifier=E.ComponentIdentifier,t.ComponentLoader=E.ComponentLoader,t.ComponentMap=E.ComponentMap,t.DesignComponentDefinition=E.DesignComponentDefinition,t.PackageIdentifier=E.PackageIdentifier,t.TokenDefinition=E.TokenDefinition,t.TokenMap=E.TokenMap,t.componentLoader=E.componentLoader,t.isDesignDefinition=E.isDesignDefinition,t.isOverride=E.isOverride,t.isAction=E.isAction,t.isReactDefinition=E.isReactDefinition;var O=n(281);t.localPackageFallbackIdentifier=O.localPackageFallbackIdentifier;var M=n(468);t.ControlDescription=M.ControlDescription,t.CompactControlsDescription=M.CompactControlsDescription,t.BooleanControlDescription=M.BooleanControlDescription,t.NumberControlDescription=M.NumberControlDescription,t.StringControlDescription=M.StringControlDescription,t.FusedNumberControlDescription=M.FusedNumberControlDescription,t.EnumControlDescription=M.EnumControlDescription,t.SegmentedEnumControlDescription=M.SegmentedEnumControlDescription,t.ColorControlDescription=M.ColorControlDescription,t.ImageControlDescription=M.ImageControlDescription,t.FileControlDescription=M.FileControlDescription,t.ComponentInstanceDescription=M.ComponentInstanceDescription,t.ArrayControlDescription=M.ArrayControlDescription,t.EventHandlerControlDescription=M.EventHandlerControlDescription,t.ControlType=M.ControlType,t.PropertyControls=M.PropertyControls;var F=n(469);t.WithFractionOfFreeSpace=F.WithFractionOfFreeSpace;var D=n(470);t.withStylable=D.withStylable;var I=n(471);t.isOfAnnotatedType=I.isOfAnnotatedType,t.annotateTypeOnStringify=I.annotateTypeOnStringify;var R=n(282);t.PathSegment=R.PathSegment;var N=n(473);t.PathSegments=N.PathSegments;var A=n(283);t.WithPath=A.WithPath,t.withPath=A.withPath,t.WithPaths=A.WithPaths,t.isStraightCurve=A.isStraightCurve,t.pathDefaults=A.pathDefaults,t.toSVGPath=A.toSVGPath;var B=n(266);t.BoxShadow=B.BoxShadow,t.Shadow=B.Shadow;var L=n(474);t.StrokeAlignment=L.StrokeAlignment;var j=n(97);t.Rect=j.Rect;var z=n(151);t.Size=z.Size;var U=n(475);t.Line=U.Line;var H=n(194);t.Point=H.Point;var V=n(118);t.Gradient=V.Gradient,t.LinearGradient=V.LinearGradient,t.LinearGradientBase=V.LinearGradientBase,t.RadialGradient=V.RadialGradient,t.RadialGradientBase=V.RadialGradientBase;var W=n(69);t.Frame=W.Frame,t.FrameWithMotion=W.FrameWithMotion,t.FrameProps=W.FrameProps,t.DeprecatedFrame=W.DeprecatedFrame,t.DeprecatedFrameProperties=W.DeprecatedFrameProperties,t.DeprecatedFrameWithEvents=W.DeprecatedFrameWithEvents,t.DeprecatedFrameWithEventsProps=W.DeprecatedFrameWithEventsProps,t.FrameLayoutProperties=W.FrameLayoutProperties,t.DeprecatedCoreFrameProps=W.DeprecatedCoreFrameProps,t.BaseFrameProps=W.BaseFrameProps,t.CSSTransformProperties=W.CSSTransformProperties,t.VisualProperties=W.VisualProperties;var G=n(48);t.Layer=G.Layer,t.LayerProps=G.LayerProps,t.IdentityProps=G.IdentityProps;var q=n(491);t.SVG=q.SVG,t.SVGProperties=q.SVGProperties;var K=n(492);t.Text=K.Text,t.TextProperties=K.TextProperties,t.TextAlignment=K.TextAlignment;var $=n(583);t.Vector=$.Vector,t.VectorProperties=$.VectorProperties;var X=n(586);t.VectorGroup=X.VectorGroup,t.VectorGroupProperties=X.VectorGroupProperties;var Y=n(333);t.ComponentContainer=Y.ComponentContainer,t.ComponentContainerProperties=Y.ComponentContainerProperties;var J=n(335);t.TextBlock=J.TextBlock,t.draftBlockRendererFunction=J.draftBlockRendererFunction;var Z=n(587);t.TransformValues=Z.TransformValues;var Q=n(152);t.DefaultProps=Q.DefaultProps,t.ConstraintMask=Q.ConstraintMask,t.ConstraintValues=Q.ConstraintValues,t.ConstraintProperties=Q.ConstraintProperties,t.ConstraintPercentage=Q.ConstraintPercentage,t.DimensionType=Q.DimensionType,t.valueToDimensionType=Q.valueToDimensionType;var ee=n(32);t.ProvideParentSize=ee.ProvideParentSize,t.NewConstraintProperties=ee.NewConstraintProperties,t.calculateRect=ee.calculateRect,t.ParentSizeState=ee.ParentSizeState,t.constraintsEnabled=ee.constraintsEnabled;var te=n(37);t.Color=te.Color,t.ConvertColor=te.ConvertColor,t.ColorMixOptions=te.ColorMixOptions;var ne=n(96);t.ColorFormat=ne.ColorFormat,t.ColorRGBA=ne.ColorRGBA,t.ColorHSLA=ne.ColorHSLA,t.ColorHSL=ne.ColorHSL,t.ColorHSVA=ne.ColorHSVA,t.ColorMixModelType=ne.ColorMixModelType,t.IncomingColor=ne.IncomingColor;var re=n(153);t.BorderStyle=re.BorderStyle,t.BorderProperties=re.BorderProperties;var ie=n(332);t.StyleHandler=ie.StyleHandler,t.draftStyleFunction=ie.draftStyleFunction,t.draftStyles=ie.draftStyles,t.getStyleForTypefaceOrSelector=ie.getStyleForTypefaceOrSelector;var oe=n(204);t.isEqual=oe.isEqual;var se=n(68);t.isFiniteNumber=se.isFiniteNumber,t.finiteNumber=se.finiteNumber;var ae=n(338);t.isShallowEqualArray=ae.isShallowEqualArray;var ce=n(117);t.roundedNumber=ce.roundedNumber,t.roundedNumberString=ce.roundedNumberString,t.roundWithOffset=ce.roundWithOffset;var le=n(219);t.transformString=le.transformString;var ue=n(116);t.localShadowFrame=ue.localShadowFrame,t.shadowForShape=ue.shadowForShape;var he=n(588);t.PresentationTree=he.PresentationTree,t.renderPresentationTree=he.renderPresentationTree,t.convertPresentationTree=he.convertPresentationTree,t.addServerUrlToResourceProps=he.addServerUrlToResourceProps;var de=n(16);t.RenderTarget=de.RenderTarget,t.executeInRenderEnvironment=de.executeInRenderEnvironment,t.setGlobalRenderEnvironment=de.setGlobalRenderEnvironment;var pe=n(159);t.NavigationInterface=pe.NavigationInterface,t.NavigationProps=pe.NavigationProps,t.NavigationConsumer=pe.NavigationConsumer;var fe=n(339);t.NavigationTransition=fe.NavigationTransition,t.NavigationTransitionPosition=fe.NavigationTransitionPosition,t.NavigationTransitionSide=fe.NavigationTransitionSide,t.NavigationTransitionAnimation=fe.NavigationTransitionAnimation,t.NavigationTransitionAppearsFrom=fe.NavigationTransitionAppearsFrom,t.NavigationTransitionBackdropColor=fe.NavigationTransitionBackdropColor,t.FadeTransitionOptions=fe.FadeTransitionOptions,t.PushTransitionOptions=fe.PushTransitionOptions,t.ModalTransitionOptions=fe.ModalTransitionOptions,t.OverlayTransitionOptions=fe.OverlayTransitionOptions,t.FlipTransitionOptions=fe.FlipTransitionOptions;var ge=n(592);t.NavigateTo=ge.NavigateTo,t.NavigationLink=ge.NavigationLink,t.NavigationTarget=ge.NavigationTarget,t.NavigationTransitionType=ge.NavigationTransitionType,t.NavigationTransitionDirection=ge.NavigationTransitionDirection;var me=n(593);t.useNavigation=me.useNavigation;var ve=n(594);t.WithChildInsertion=ve.WithChildInsertion,t.withChildInsertion=ve.withChildInsertion;var ye=n(595);t.ChildLayoutProvider=ye.ChildLayoutProvider,t.providesChildLayout=ye.providesChildLayout;var Se=n(596);t.FreeSpaceProvider=Se.FreeSpaceProvider,t.providesFreeSpace=Se.providesFreeSpace,t.toFreeSpace=Se.toFreeSpace;var be=n(597);t.AutoSize=be.AutoSize,t.hasAutoSize=be.hasAutoSize,t.toAutoSize=be.toAutoSize;var _e=n(598);t.WithCSSExport=_e.WithCSSExport,t.withCSSExport=_e.withCSSExport;var Ce=n(599);t.toPaddingSize=Ce.toPaddingSize;const we=n(153);t.styles={collectBorder:we.collectBorderStyleForProps};var xe=n(600);t.createDesignComponent=xe.createDesignComponent,t.CanvasStore=xe.CanvasStore,t.PropertyTree=xe.PropertyTree;var Pe=n(267);t.CustomProperties=Pe.CustomProperties,t.CustomPropertiesContext=Pe.CustomPropertiesContext;var Te=n(218);t.fontStore=Te.fontStore;var ke=n(331);t.parseVariant=ke.parseVariant;var Ee=n(99);t.WebFontLocator=Ee.WebFontLocator,t.Typeface=Ee.Typeface,t.Font=Ee.Font,t.TypefaceSourceName=Ee.TypefaceSourceName,t.TypefaceSourceNames=Ee.TypefaceSourceNames,t.TypefaceLocator=Ee.TypefaceLocator,t.ReadonlyFont=Ee.ReadonlyFont,t.ReadonlyTypeface=Ee.ReadonlyTypeface},function(e,t,n){"use strict";n.r(t),n.d(t,"number",function(){return l}),n.d(t,"scale",function(){return h}),n.d(t,"alpha",function(){return u}),n.d(t,"degrees",function(){return p}),n.d(t,"percent",function(){return f}),n.d(t,"progressPercentage",function(){return y}),n.d(t,"px",function(){return g}),n.d(t,"vw",function(){return v}),n.d(t,"vh",function(){return m}),n.d(t,"rgba",function(){return x}),n.d(t,"rgbUnit",function(){return w}),n.d(t,"hsla",function(){return P}),n.d(t,"hex",function(){return T}),n.d(t,"color",function(){return k}),n.d(t,"complex",function(){return O});var r=function(){return(r=Object.assign||function __assign(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},o=function(e){return e%1?Number(e.toFixed(5)):e},s=/(-)?(\d[\d\.]*)/g,a=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,c=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))$/i,l={test:function(e){return"number"==typeof e},parse:parseFloat,transform:function(e){return e}},u=r({},l,{transform:i(0,1)}),h=r({},l,{default:1}),d=function(e){return{test:function(t){return"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return""+t+e}}},p=d("deg"),f=d("%"),g=d("px"),m=d("vh"),v=d("vw"),y=r({},f,{parse:function(e){return f.parse(e)/100},transform:function(e){return f.transform(100*e)}}),S=i(0,255),b=function(e){return void 0!==e.red},_=function(e){return void 0!==e.hue},C=function(e){return function(t){if("string"!=typeof t)return t;for(var n,r={},i=(n=t,n.substring(n.indexOf("(")+1,n.lastIndexOf(")"))).split(/,\s*/),o=0;o<4;o++)r[e[o]]=void 0!==i[o]?parseFloat(i[o]):1;return r}},w=r({},l,{transform:function(e){return Math.round(S(e))}});function isColorString(e,t){return e.startsWith(t)&&c.test(e)}var x={test:function(e){return"string"==typeof e?isColorString(e,"rgb"):b(e)},parse:C(["red","green","blue","alpha"]),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha;return function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha;return"rgba("+t+", "+n+", "+r+", "+(void 0===i?1:i)+")"}({red:w.transform(t),green:w.transform(n),blue:w.transform(r),alpha:o(i)})}},P={test:function(e){return"string"==typeof e?isColorString(e,"hsl"):_(e)},parse:C(["hue","saturation","lightness","alpha"]),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;return function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;return"hsla("+t+", "+n+", "+r+", "+(void 0===i?1:i)+")"}({hue:Math.round(t),saturation:f.transform(o(n)),lightness:f.transform(o(r)),alpha:o(i)})}},T=r({},x,{test:function(e){return"string"==typeof e&&isColorString(e,"#")},parse:function(e){var t="",n="",r="";return e.length>4?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),t+=t,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:1}}}),k={test:function(e){return"string"==typeof e&&c.test(e)||b(e)||_(e)},parse:function(e){return x.test(e)?x.parse(e):P.test(e)?P.parse(e):T.test(e)?T.parse(e):e},transform:function(e){return b(e)?x.transform(e):_(e)?P.transform(e):e}},E=function(e){return"number"==typeof e?0:e},O={test:function(e){if("string"!=typeof e||!isNaN(e))return!1;var t=0,n=e.match(s),r=e.match(a);return n&&(t+=n.length),r&&(t+=r.length),t>0},parse:function(e){var t=e,n=[],r=t.match(a);r&&(t=t.replace(a,"${c}"),n.push.apply(n,r.map(k.parse)));var i=t.match(s);return i&&n.push.apply(n,i.map(l.parse)),n},createTransformer:function(e){var t=e,n=0,r=e.match(a),i=r?r.length:0;if(r)for(var c=0;c<i;c++)t=t.replace(r[c],"${c}"),n++;var l=t.match(s),u=l?l.length:0;if(l)for(c=0;c<u;c++)t=t.replace(l[c],"${n}"),n++;return function(e){for(var r=t,s=0;s<n;s++)r=r.replace(s<i?"${c}":"${n}",s<i?k.transform(e[s]):o(e[s]));return r}},getAnimatableNone:function(e){var t=O.parse(e);return O.createTransformer(e)(t.map(E))}}},function(e,t,n){e.exports=function(){"use strict";var e=Array.prototype.slice;function createClass(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function Iterable(e){return isIterable(e)?e:Seq(e)}function KeyedIterable(e){return isKeyed(e)?e:KeyedSeq(e)}function IndexedIterable(e){return isIndexed(e)?e:IndexedSeq(e)}function SetIterable(e){return isIterable(e)&&!isAssociative(e)?e:SetSeq(e)}function isIterable(e){return!(!e||!e[t])}function isKeyed(e){return!(!e||!e[n])}function isIndexed(e){return!(!e||!e[r])}function isAssociative(e){return isKeyed(e)||isIndexed(e)}function isOrdered(e){return!(!e||!e[i])}createClass(KeyedIterable,Iterable),createClass(IndexedIterable,Iterable),createClass(SetIterable,Iterable),Iterable.isIterable=isIterable,Iterable.isKeyed=isKeyed,Iterable.isIndexed=isIndexed,Iterable.isAssociative=isAssociative,Iterable.isOrdered=isOrdered,Iterable.Keyed=KeyedIterable,Iterable.Indexed=IndexedIterable,Iterable.Set=SetIterable;var t="@@__IMMUTABLE_ITERABLE__@@",n="@@__IMMUTABLE_KEYED__@@",r="@@__IMMUTABLE_INDEXED__@@",i="@@__IMMUTABLE_ORDERED__@@",o=5,s=1<<o,a=s-1,c={},l={value:!1},u={value:!1};function MakeRef(e){return e.value=!1,e}function SetRef(e){e&&(e.value=!0)}function OwnerID(){}function arrCopy(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function ensureSize(e){return void 0===e.size&&(e.size=e.__iterate(returnTrue)),e.size}function wrapIndex(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?ensureSize(e)+t:t}function returnTrue(){return!0}function wholeSlice(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function resolveBegin(e,t){return resolveIndex(e,t,0)}function resolveEnd(e,t){return resolveIndex(e,t,t)}function resolveIndex(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var h=0,d=1,p=2,f="function"==typeof Symbol&&Symbol.iterator,g="@@iterator",m=f||g;function Iterator(e){this.next=e}function iteratorValue(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function iteratorDone(){return{value:void 0,done:!0}}function hasIterator(e){return!!getIteratorFn(e)}function isIterator(e){return e&&"function"==typeof e.next}function getIterator(e){var t=getIteratorFn(e);return t&&t.call(e)}function getIteratorFn(e){var t=e&&(f&&e[f]||e[g]);if("function"==typeof t)return t}function isArrayLike(e){return e&&"number"==typeof e.length}function Seq(e){return null==e?emptySequence():isIterable(e)?e.toSeq():function seqFromValue(e){var t=maybeIndexedSeqFromValue(e)||"object"==typeof e&&new ObjectSeq(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function KeyedSeq(e){return null==e?emptySequence().toKeyedSeq():isIterable(e)?isKeyed(e)?e.toSeq():e.fromEntrySeq():keyedSeqFromValue(e)}function IndexedSeq(e){return null==e?emptySequence():isIterable(e)?isKeyed(e)?e.entrySeq():e.toIndexedSeq():indexedSeqFromValue(e)}function SetSeq(e){return(null==e?emptySequence():isIterable(e)?isKeyed(e)?e.entrySeq():e:indexedSeqFromValue(e)).toSetSeq()}Iterator.prototype.toString=function(){return"[Iterator]"},Iterator.KEYS=h,Iterator.VALUES=d,Iterator.ENTRIES=p,Iterator.prototype.inspect=Iterator.prototype.toSource=function(){return this.toString()},Iterator.prototype[m]=function(){return this},createClass(Seq,Iterable),Seq.of=function(){return Seq(arguments)},Seq.prototype.toSeq=function(){return this},Seq.prototype.toString=function(){return this.__toString("Seq {","}")},Seq.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Seq.prototype.__iterate=function(e,t){return seqIterate(this,e,t,!0)},Seq.prototype.__iterator=function(e,t){return seqIterator(this,e,t,!0)},createClass(KeyedSeq,Seq),KeyedSeq.prototype.toKeyedSeq=function(){return this},createClass(IndexedSeq,Seq),IndexedSeq.of=function(){return IndexedSeq(arguments)},IndexedSeq.prototype.toIndexedSeq=function(){return this},IndexedSeq.prototype.toString=function(){return this.__toString("Seq [","]")},IndexedSeq.prototype.__iterate=function(e,t){return seqIterate(this,e,t,!1)},IndexedSeq.prototype.__iterator=function(e,t){return seqIterator(this,e,t,!1)},createClass(SetSeq,Seq),SetSeq.of=function(){return SetSeq(arguments)},SetSeq.prototype.toSetSeq=function(){return this},Seq.isSeq=isSeq,Seq.Keyed=KeyedSeq,Seq.Set=SetSeq,Seq.Indexed=IndexedSeq;var v,y,S,b="@@__IMMUTABLE_SEQ__@@";function ArraySeq(e){this._array=e,this.size=e.length}function ObjectSeq(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function IterableSeq(e){this._iterable=e,this.size=e.length||e.size}function IteratorSeq(e){this._iterator=e,this._iteratorCache=[]}function isSeq(e){return!(!e||!e[b])}function emptySequence(){return v||(v=new ArraySeq([]))}function keyedSeqFromValue(e){var t=Array.isArray(e)?new ArraySeq(e).fromEntrySeq():isIterator(e)?new IteratorSeq(e).fromEntrySeq():hasIterator(e)?new IterableSeq(e).fromEntrySeq():"object"==typeof e?new ObjectSeq(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function indexedSeqFromValue(e){var t=maybeIndexedSeqFromValue(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function maybeIndexedSeqFromValue(e){return isArrayLike(e)?new ArraySeq(e):isIterator(e)?new IteratorSeq(e):hasIterator(e)?new IterableSeq(e):void 0}function seqIterate(e,t,n,r){var i=e._cache;if(i){for(var o=i.length-1,s=0;s<=o;s++){var a=i[n?o-s:s];if(!1===t(a[1],r?a[0]:s,e))return s+1}return s}return e.__iterateUncached(t,n)}function seqIterator(e,t,n,r){var i=e._cache;if(i){var o=i.length-1,s=0;return new Iterator(function(){var e=i[n?o-s:s];return s++>o?{value:void 0,done:!0}:iteratorValue(t,r?e[0]:s-1,e[1])})}return e.__iteratorUncached(t,n)}function fromJS(e,t){return t?function fromJSWith(e,t,n,r){return Array.isArray(t)?e.call(r,n,IndexedSeq(t).map(function(n,r){return fromJSWith(e,n,r,t)})):isPlainObj(t)?e.call(r,n,KeyedSeq(t).map(function(n,r){return fromJSWith(e,n,r,t)})):t}(t,e,"",{"":e}):fromJSDefault(e)}function fromJSDefault(e){return Array.isArray(e)?IndexedSeq(e).map(fromJSDefault).toList():isPlainObj(e)?KeyedSeq(e).map(fromJSDefault).toMap():e}function isPlainObj(e){return e&&(e.constructor===Object||void 0===e.constructor)}function is(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function deepEqual(e,t){if(e===t)return!0;if(!isIterable(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||isKeyed(e)!==isKeyed(t)||isIndexed(e)!==isIndexed(t)||isOrdered(e)!==isOrdered(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!isAssociative(e);if(isOrdered(e)){var r=e.entries();return t.every(function(e,t){var i=r.next().value;return i&&is(i[1],e)&&(n||is(i[0],t))})&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var s=!0,a=t.__iterate(function(t,r){if(n?!e.has(t):i?!is(t,e.get(r,c)):!is(e.get(r,c),t))return s=!1,!1});return s&&e.size===a}function Repeat(e,t){if(!(this instanceof Repeat))return new Repeat(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(y)return y;y=this}}function invariant(e,t){if(!e)throw new Error(t)}function Range(e,t,n){if(!(this instanceof Range))return new Range(e,t,n);if(invariant(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(S)return S;S=this}}function Collection(){throw TypeError("Abstract")}function KeyedCollection(){}function IndexedCollection(){}function SetCollection(){}Seq.prototype[b]=!0,createClass(ArraySeq,IndexedSeq),ArraySeq.prototype.get=function(e,t){return this.has(e)?this._array[wrapIndex(this,e)]:t},ArraySeq.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===e(n[t?r-i:i],i,this))return i+1;return i},ArraySeq.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new Iterator(function(){return i>r?{value:void 0,done:!0}:iteratorValue(e,i,n[t?r-i++:i++])})},createClass(ObjectSeq,KeyedSeq),ObjectSeq.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ObjectSeq.prototype.has=function(e){return this._object.hasOwnProperty(e)},ObjectSeq.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var s=r[t?i-o:o];if(!1===e(n[s],s,this))return o+1}return o},ObjectSeq.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,o=0;return new Iterator(function(){var s=r[t?i-o:o];return o++>i?{value:void 0,done:!0}:iteratorValue(e,s,n[s])})},ObjectSeq.prototype[i]=!0,createClass(IterableSeq,IndexedSeq),IterableSeq.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=getIterator(n),i=0;if(isIterator(r))for(var o;!(o=r.next()).done&&!1!==e(o.value,i++,this););return i},IterableSeq.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=getIterator(n);if(!isIterator(r))return new Iterator(iteratorDone);var i=0;return new Iterator(function(){var t=r.next();return t.done?t:iteratorValue(e,i++,t.value)})},createClass(IteratorSeq,IndexedSeq),IteratorSeq.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===e(i[o],o++,this))return o;for(;!(n=r.next()).done;){var s=n.value;if(i[o]=s,!1===e(s,o++,this))break}return o},IteratorSeq.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new Iterator(function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return iteratorValue(e,i,r[i++])})},createClass(Repeat,IndexedSeq),Repeat.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Repeat.prototype.get=function(e,t){return this.has(e)?this._value:t},Repeat.prototype.includes=function(e){return is(this._value,e)},Repeat.prototype.slice=function(e,t){var n=this.size;return wholeSlice(e,t,n)?this:new Repeat(this._value,resolveEnd(t,n)-resolveBegin(e,n))},Repeat.prototype.reverse=function(){return this},Repeat.prototype.indexOf=function(e){return is(this._value,e)?0:-1},Repeat.prototype.lastIndexOf=function(e){return is(this._value,e)?this.size:-1},Repeat.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},Repeat.prototype.__iterator=function(e,t){var n=this,r=0;return new Iterator(function(){return r<n.size?iteratorValue(e,r++,n._value):{value:void 0,done:!0}})},Repeat.prototype.equals=function(e){return e instanceof Repeat?is(this._value,e._value):deepEqual(e)},createClass(Range,IndexedSeq),Range.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},Range.prototype.get=function(e,t){return this.has(e)?this._start+wrapIndex(this,e)*this._step:t},Range.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},Range.prototype.slice=function(e,t){return wholeSlice(e,t,this.size)?this:(e=resolveBegin(e,this.size),(t=resolveEnd(t,this.size))<=e?new Range(0,0):new Range(this.get(e,this._end),this.get(t,this._end),this._step))},Range.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},Range.prototype.lastIndexOf=function(e){return this.indexOf(e)},Range.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===e(i,o,this))return o+1;i+=t?-r:r}return o},Range.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;return new Iterator(function(){var s=i;return i+=t?-r:r,o>n?{value:void 0,done:!0}:iteratorValue(e,o++,s)})},Range.prototype.equals=function(e){return e instanceof Range?this._start===e._start&&this._end===e._end&&this._step===e._step:deepEqual(this,e)},createClass(Collection,Iterable),createClass(KeyedCollection,Collection),createClass(IndexedCollection,Collection),createClass(SetCollection,Collection),Collection.Keyed=KeyedCollection,Collection.Indexed=IndexedCollection,Collection.Set=SetCollection;var _="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function imul(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function smi(e){return e>>>1&1073741824|3221225471&e}function hash(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!=e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return smi(n)}if("string"===t)return e.length>E?function cachedHashString(e){var t=F[e];return void 0===t&&(t=hashString(e),M===O&&(M=0,F={}),M++,F[e]=t),t}(e):hashString(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return function hashJSObj(e){var t;if(P&&void 0!==(t=C.get(e)))return t;if(void 0!==(t=e[k]))return t;if(!x){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[k]))return t;if(void 0!==(t=function getIENodeHash(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++T,1073741824&T&&(T=0),P)C.set(e,t);else{if(void 0!==w&&!1===w(e))throw new Error("Non-extensible objects are not allowed as keys.");if(x)Object.defineProperty(e,k,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[k]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[k]=t}}return t}(e);if("function"==typeof e.toString)return hashString(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function hashString(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return smi(t)}var C,w=Object.isExtensible,x=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),P="function"==typeof WeakMap;P&&(C=new WeakMap);var T=0,k="__immutablehash__";"function"==typeof Symbol&&(k=Symbol(k));var E=16,O=255,M=0,F={};function assertNotInfinite(e){invariant(e!==1/0,"Cannot perform this action with an infinite size.")}function Map(e){return null==e?emptyMap():isMap(e)&&!isOrdered(e)?e:emptyMap().withMutations(function(t){var n=KeyedIterable(e);assertNotInfinite(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function isMap(e){return!(!e||!e[I])}createClass(Map,KeyedCollection),Map.of=function(){var t=e.call(arguments,0);return emptyMap().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},Map.prototype.toString=function(){return this.__toString("Map {","}")},Map.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Map.prototype.set=function(e,t){return updateMap(this,e,t)},Map.prototype.setIn=function(e,t){return this.updateIn(e,c,function(){return t})},Map.prototype.remove=function(e){return updateMap(this,e,c)},Map.prototype.deleteIn=function(e){return this.updateIn(e,function(){return c})},Map.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Map.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=function updateInDeepMap(e,t,n,r){var i=e===c,o=t.next();if(o.done){var s=i?n:e,a=r(s);return a===s?e:a}invariant(i||e&&e.set,"invalid keyPath");var l=o.value,u=i?c:e.get(l,c),h=updateInDeepMap(u,t,n,r);return h===u?e:h===c?e.remove(l):(i?emptyMap():e).set(l,h)}(this,forceIterator(e),t,n);return r===c?void 0:r},Map.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):emptyMap()},Map.prototype.merge=function(){return mergeIntoMapWith(this,void 0,arguments)},Map.prototype.mergeWith=function(t){var n=e.call(arguments,1);return mergeIntoMapWith(this,t,n)},Map.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,emptyMap(),function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]})},Map.prototype.mergeDeep=function(){return mergeIntoMapWith(this,deepMerger,arguments)},Map.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return mergeIntoMapWith(this,deepMergerWith(t),n)},Map.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,emptyMap(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]})},Map.prototype.sort=function(e){return OrderedMap(sortFactory(this,e))},Map.prototype.sortBy=function(e,t){return OrderedMap(sortFactory(this,t,e))},Map.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Map.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new OwnerID)},Map.prototype.asImmutable=function(){return this.__ensureOwner()},Map.prototype.wasAltered=function(){return this.__altered},Map.prototype.__iterator=function(e,t){return new MapIterator(this,e,t)},Map.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},Map.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?makeMap(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Map.isMap=isMap;var D,I="@@__IMMUTABLE_MAP__@@",R=Map.prototype;function ArrayMapNode(e,t){this.ownerID=e,this.entries=t}function BitmapIndexedNode(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function HashArrayMapNode(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function HashCollisionNode(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function ValueNode(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function MapIterator(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&mapIteratorFrame(e._root)}function mapIteratorValue(e,t){return iteratorValue(e,t[0],t[1])}function mapIteratorFrame(e,t){return{node:e,index:0,__prev:t}}function makeMap(e,t,n,r){var i=Object.create(R);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function emptyMap(){return D||(D=makeMap(0))}function updateMap(e,t,n){var r,i;if(e._root){var o=MakeRef(l),s=MakeRef(u);if(r=updateNode(e._root,e.__ownerID,0,void 0,t,n,o,s),!s.value)return e;i=e.size+(o.value?n===c?-1:1:0)}else{if(n===c)return e;i=1,r=new ArrayMapNode(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?makeMap(i,r):emptyMap()}function updateNode(e,t,n,r,i,o,s,a){return e?e.update(t,n,r,i,o,s,a):o===c?e:(SetRef(a),SetRef(s),new ValueNode(t,r,[i,o]))}function isLeafNode(e){return e.constructor===ValueNode||e.constructor===HashCollisionNode}function mergeIntoNode(e,t,n,r,i){if(e.keyHash===r)return new HashCollisionNode(t,r,[e.entry,i]);var s,c=(0===n?e.keyHash:e.keyHash>>>n)&a,l=(0===n?r:r>>>n)&a,u=c===l?[mergeIntoNode(e,t,n+o,r,i)]:(s=new ValueNode(t,r,i),c<l?[e,s]:[s,e]);return new BitmapIndexedNode(t,1<<c|1<<l,u)}function mergeIntoMapWith(e,t,n){for(var r=[],i=0;i<n.length;i++){var o=n[i],s=KeyedIterable(o);isIterable(o)||(s=s.map(function(e){return fromJS(e)})),r.push(s)}return mergeIntoCollectionWith(e,t,r)}function deepMerger(e,t,n){return e&&e.mergeDeep&&isIterable(t)?e.mergeDeep(t):is(e,t)?e:t}function deepMergerWith(e){return function(t,n,r){if(t&&t.mergeDeepWith&&isIterable(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return is(t,i)?t:i}}function mergeIntoCollectionWith(e,t,n){return 0===(n=n.filter(function(e){return 0!==e.size})).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,c,function(e){return e===c?n:t(e,n,r)})}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)}):e.constructor(n[0])}function popCount(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function setIn(e,t,n,r){var i=r?e:arrCopy(e);return i[t]=n,i}R[I]=!0,R.delete=R.remove,R.removeIn=R.deleteIn,ArrayMapNode.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(is(n,i[o][0]))return i[o][1];return r},ArrayMapNode.prototype.update=function(e,t,n,r,i,o,s){for(var a=i===c,l=this.entries,u=0,h=l.length;u<h&&!is(r,l[u][0]);u++);var d=u<h;if(d?l[u][1]===i:a)return this;if(SetRef(s),(a||!d)&&SetRef(o),!a||1!==l.length){if(!d&&!a&&l.length>=N)return function createNodes(e,t,n,r){e||(e=new OwnerID);for(var i=new ValueNode(e,hash(n),[n,r]),o=0;o<t.length;o++){var s=t[o];i=i.update(e,0,void 0,s[0],s[1])}return i}(e,l,r,i);var p=e&&e===this.ownerID,f=p?l:arrCopy(l);return d?a?u===h-1?f.pop():f[u]=f.pop():f[u]=[r,i]:f.push([r,i]),p?(this.entries=f,this):new ArrayMapNode(e,f)}},BitmapIndexedNode.prototype.get=function(e,t,n,r){void 0===t&&(t=hash(n));var i=1<<((0===e?t:t>>>e)&a),s=this.bitmap;return 0==(s&i)?r:this.nodes[popCount(s&i-1)].get(e+o,t,n,r)},BitmapIndexedNode.prototype.update=function(e,t,n,r,i,l,u){void 0===n&&(n=hash(r));var h=(0===t?n:n>>>t)&a,d=1<<h,p=this.bitmap,f=0!=(p&d);if(!f&&i===c)return this;var g=popCount(p&d-1),m=this.nodes,v=f?m[g]:void 0,y=updateNode(v,e,t+o,n,r,i,l,u);if(y===v)return this;if(!f&&y&&m.length>=A)return function expandNodes(e,t,n,r,i){for(var o=0,a=new Array(s),c=0;0!==n;c++,n>>>=1)a[c]=1&n?t[o++]:void 0;return a[r]=i,new HashArrayMapNode(e,o+1,a)}(e,m,p,h,y);if(f&&!y&&2===m.length&&isLeafNode(m[1^g]))return m[1^g];if(f&&y&&1===m.length&&isLeafNode(y))return y;var S=e&&e===this.ownerID,b=f?y?p:p^d:p|d,_=f?y?setIn(m,g,y,S):function spliceOut(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,s=0;s<r;s++)s===t&&(o=1),i[s]=e[s+o];return i}(m,g,S):function spliceIn(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),s=0,a=0;a<i;a++)a===t?(o[a]=n,s=-1):o[a]=e[a+s];return o}(m,g,y,S);return S?(this.bitmap=b,this.nodes=_,this):new BitmapIndexedNode(e,b,_)},HashArrayMapNode.prototype.get=function(e,t,n,r){void 0===t&&(t=hash(n));var i=(0===e?t:t>>>e)&a,s=this.nodes[i];return s?s.get(e+o,t,n,r):r},HashArrayMapNode.prototype.update=function(e,t,n,r,i,s,l){void 0===n&&(n=hash(r));var u=(0===t?n:n>>>t)&a,h=i===c,d=this.nodes,p=d[u];if(h&&!p)return this;var f=updateNode(p,e,t+o,n,r,i,s,l);if(f===p)return this;var g=this.count;if(p){if(!f&&--g<B)return function packNodes(e,t,n,r){for(var i=0,o=0,s=new Array(n),a=0,c=1,l=t.length;a<l;a++,c<<=1){var u=t[a];void 0!==u&&a!==r&&(i|=c,s[o++]=u)}return new BitmapIndexedNode(e,i,s)}(e,d,g,u)}else g++;var m=e&&e===this.ownerID,v=setIn(d,u,f,m);return m?(this.count=g,this.nodes=v,this):new HashArrayMapNode(e,g,v)},HashCollisionNode.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(is(n,i[o][0]))return i[o][1];return r},HashCollisionNode.prototype.update=function(e,t,n,r,i,o,s){void 0===n&&(n=hash(r));var a=i===c;if(n!==this.keyHash)return a?this:(SetRef(s),SetRef(o),mergeIntoNode(this,e,t,n,[r,i]));for(var l=this.entries,u=0,h=l.length;u<h&&!is(r,l[u][0]);u++);var d=u<h;if(d?l[u][1]===i:a)return this;if(SetRef(s),(a||!d)&&SetRef(o),a&&2===h)return new ValueNode(e,this.keyHash,l[1^u]);var p=e&&e===this.ownerID,f=p?l:arrCopy(l);return d?a?u===h-1?f.pop():f[u]=f.pop():f[u]=[r,i]:f.push([r,i]),p?(this.entries=f,this):new HashCollisionNode(e,this.keyHash,f)},ValueNode.prototype.get=function(e,t,n,r){return is(n,this.entry[0])?this.entry[1]:r},ValueNode.prototype.update=function(e,t,n,r,i,o,s){var a=i===c,l=is(r,this.entry[0]);return(l?i===this.entry[1]:a)?this:(SetRef(s),a?void SetRef(o):l?e&&e===this.ownerID?(this.entry[1]=i,this):new ValueNode(e,this.keyHash,[r,i]):(SetRef(o),mergeIntoNode(this,e,t,hash(r),[r,i])))},ArrayMapNode.prototype.iterate=HashCollisionNode.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},BitmapIndexedNode.prototype.iterate=HashArrayMapNode.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},ValueNode.prototype.iterate=function(e,t){return e(this.entry)},createClass(MapIterator,Iterator),MapIterator.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return mapIteratorValue(e,r.entry)}else if(r.entries){if(n=r.entries.length-1,i<=n)return mapIteratorValue(e,r.entries[this._reverse?n-i:i])}else if(n=r.nodes.length-1,i<=n){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return mapIteratorValue(e,o.entry);t=this._stack=mapIteratorFrame(o,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var N=s/4,A=s/2,B=s/4;function List(e){var t=emptyList();if(null==e)return t;if(isList(e))return e;var n=IndexedIterable(e),r=n.size;return 0===r?t:(assertNotInfinite(r),r>0&&r<s?makeList(0,r,o,null,new VNode(n.toArray())):t.withMutations(function(e){e.setSize(r),n.forEach(function(t,n){return e.set(n,t)})}))}function isList(e){return!(!e||!e[L])}createClass(List,IndexedCollection),List.of=function(){return this(arguments)},List.prototype.toString=function(){return this.__toString("List [","]")},List.prototype.get=function(e,t){if((e=wrapIndex(this,e))>=0&&e<this.size){var n=listNodeFor(this,e+=this._origin);return n&&n.array[e&a]}return t},List.prototype.set=function(e,t){return function updateList(e,t,n){if((t=wrapIndex(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?setListBounds(e,t).set(0,n):setListBounds(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,i=e._root,o=MakeRef(u);return t>=getTailOffset(e._capacity)?r=updateVNode(r,e.__ownerID,0,t,n,o):i=updateVNode(i,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):makeList(e._origin,e._capacity,e._level,i,r):e}(this,e,t)},List.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},List.prototype.insert=function(e,t){return this.splice(e,0,t)},List.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=o,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):emptyList()},List.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){setListBounds(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},List.prototype.pop=function(){return setListBounds(this,0,-1)},List.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){setListBounds(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},List.prototype.shift=function(){return setListBounds(this,1)},List.prototype.merge=function(){return mergeIntoListWith(this,void 0,arguments)},List.prototype.mergeWith=function(t){var n=e.call(arguments,1);return mergeIntoListWith(this,t,n)},List.prototype.mergeDeep=function(){return mergeIntoListWith(this,deepMerger,arguments)},List.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return mergeIntoListWith(this,deepMergerWith(t),n)},List.prototype.setSize=function(e){return setListBounds(this,0,e)},List.prototype.slice=function(e,t){var n=this.size;return wholeSlice(e,t,n)?this:setListBounds(this,resolveBegin(e,n),resolveEnd(t,n))},List.prototype.__iterator=function(e,t){var n=0,r=iterateList(this,t);return new Iterator(function(){var t=r();return t===H?{value:void 0,done:!0}:iteratorValue(e,n++,t)})},List.prototype.__iterate=function(e,t){for(var n,r=0,i=iterateList(this,t);(n=i())!==H&&!1!==e(n,r++,this););return r},List.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?makeList(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},List.isList=isList;var L="@@__IMMUTABLE_LIST__@@",j=List.prototype;function VNode(e,t){this.array=e,this.ownerID=t}j[L]=!0,j.delete=j.remove,j.setIn=R.setIn,j.deleteIn=j.removeIn=R.removeIn,j.update=R.update,j.updateIn=R.updateIn,j.mergeIn=R.mergeIn,j.mergeDeepIn=R.mergeDeepIn,j.withMutations=R.withMutations,j.asMutable=R.asMutable,j.asImmutable=R.asImmutable,j.wasAltered=R.wasAltered,VNode.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&a;if(r>=this.array.length)return new VNode([],e);var i,s=0===r;if(t>0){var c=this.array[r];if((i=c&&c.removeBefore(e,t-o,n))===c&&s)return this}if(s&&!i)return this;var l=editableVNode(this,e);if(!s)for(var u=0;u<r;u++)l.array[u]=void 0;return i&&(l.array[r]=i),l},VNode.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&a;if(i>=this.array.length)return this;if(t>0){var s=this.array[i];if((r=s&&s.removeAfter(e,t-o,n))===s&&i===this.array.length-1)return this}var c=editableVNode(this,e);return c.array.splice(i+1),r&&(c.array[i]=r),c};var z,U,H={};function iterateList(e,t){var n=e._origin,r=e._capacity,i=getTailOffset(r),a=e._tail;return iterateNodeOrLeaf(e._root,e._level,0);function iterateNodeOrLeaf(e,c,l){return 0===c?function iterateLeaf(e,o){var c=o===i?a&&a.array:e&&e.array,l=o>n?0:n-o,u=r-o;return u>s&&(u=s),function(){if(l===u)return H;var e=t?--u:l++;return c&&c[e]}}(e,l):function iterateNode(e,i,a){var c,l=e&&e.array,u=a>n?0:n-a>>i,h=1+(r-a>>i);return h>s&&(h=s),function(){for(;;){if(c){var e=c();if(e!==H)return e;c=null}if(u===h)return H;var n=t?--h:u++;c=iterateNodeOrLeaf(l&&l[n],i-o,a+(n<<i))}}}(e,c,l)}}function makeList(e,t,n,r,i,o,s){var a=Object.create(j);return a.size=t-e,a._origin=e,a._capacity=t,a._level=n,a._root=r,a._tail=i,a.__ownerID=o,a.__hash=s,a.__altered=!1,a}function emptyList(){return z||(z=makeList(0,0,o))}function updateVNode(e,t,n,r,i,s){var c,l=r>>>n&a,u=e&&l<e.array.length;if(!u&&void 0===i)return e;if(n>0){var h=e&&e.array[l],d=updateVNode(h,t,n-o,r,i,s);return d===h?e:((c=editableVNode(e,t)).array[l]=d,c)}return u&&e.array[l]===i?e:(SetRef(s),c=editableVNode(e,t),void 0===i&&l===c.array.length-1?c.array.pop():c.array[l]=i,c)}function editableVNode(e,t){return t&&e&&t===e.ownerID?e:new VNode(e?e.array.slice():[],t)}function listNodeFor(e,t){if(t>=getTailOffset(e._capacity))return e._tail;if(t<1<<e._level+o){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&a],r-=o;return n}}function setListBounds(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new OwnerID,i=e._origin,s=e._capacity,c=i+t,l=void 0===n?s:n<0?s+n:i+n;if(c===i&&l===s)return e;if(c>=l)return e.clear();for(var u=e._level,h=e._root,d=0;c+d<0;)h=new VNode(h&&h.array.length?[void 0,h]:[],r),d+=1<<(u+=o);d&&(c+=d,i+=d,l+=d,s+=d);for(var p=getTailOffset(s),f=getTailOffset(l);f>=1<<u+o;)h=new VNode(h&&h.array.length?[h]:[],r),u+=o;var g=e._tail,m=f<p?listNodeFor(e,l-1):f>p?new VNode([],r):g;if(g&&f>p&&c<s&&g.array.length){for(var v=h=editableVNode(h,r),y=u;y>o;y-=o){var S=p>>>y&a;v=v.array[S]=editableVNode(v.array[S],r)}v.array[p>>>o&a]=g}if(l<s&&(m=m&&m.removeAfter(r,0,l)),c>=f)c-=f,l-=f,u=o,h=null,m=m&&m.removeBefore(r,0,c);else if(c>i||f<p){for(d=0;h;){var b=c>>>u&a;if(b!==f>>>u&a)break;b&&(d+=(1<<u)*b),u-=o,h=h.array[b]}h&&c>i&&(h=h.removeBefore(r,u,c-d)),h&&f<p&&(h=h.removeAfter(r,u,f-d)),d&&(c-=d,l-=d)}return e.__ownerID?(e.size=l-c,e._origin=c,e._capacity=l,e._level=u,e._root=h,e._tail=m,e.__hash=void 0,e.__altered=!0,e):makeList(c,l,u,h,m)}function mergeIntoListWith(e,t,n){for(var r=[],i=0,o=0;o<n.length;o++){var s=n[o],a=IndexedIterable(s);a.size>i&&(i=a.size),isIterable(s)||(a=a.map(function(e){return fromJS(e)})),r.push(a)}return i>e.size&&(e=e.setSize(i)),mergeIntoCollectionWith(e,t,r)}function getTailOffset(e){return e<s?0:e-1>>>o<<o}function OrderedMap(e){return null==e?emptyOrderedMap():isOrderedMap(e)?e:emptyOrderedMap().withMutations(function(t){var n=KeyedIterable(e);assertNotInfinite(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function isOrderedMap(e){return isMap(e)&&isOrdered(e)}function makeOrderedMap(e,t,n,r){var i=Object.create(OrderedMap.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function emptyOrderedMap(){return U||(U=makeOrderedMap(emptyMap(),emptyList()))}function updateOrderedMap(e,t,n){var r,i,o=e._map,a=e._list,l=o.get(t),u=void 0!==l;if(n===c){if(!u)return e;a.size>=s&&a.size>=2*o.size?(i=a.filter(function(e,t){return void 0!==e&&l!==t}),r=i.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=l===a.size-1?a.pop():a.set(l,void 0))}else if(u){if(n===a.get(l)[1])return e;r=o,i=a.set(l,[t,n])}else r=o.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):makeOrderedMap(r,i)}function ToKeyedSequence(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function ToIndexedSequence(e){this._iter=e,this.size=e.size}function ToSetSequence(e){this._iter=e,this.size=e.size}function FromEntriesSequence(e){this._iter=e,this.size=e.size}function flipFactory(e){var t=makeSequence(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=cacheResultThrough,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return!1!==t(n,e,r)},n)},t.__iteratorUncached=function(t,n){if(t===p){var r=e.__iterator(t,n);return new Iterator(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===d?h:d,n)},t}function mapFactory(e,t,n){var r=makeSequence(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,c);return o===c?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate(function(e,i,s){return!1!==r(t.call(n,e,i,s),i,o)},i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(p,i);return new Iterator(function(){var i=o.next();if(i.done)return i;var s=i.value,a=s[0];return iteratorValue(r,a,t.call(n,s[1],a,e),i)})},r}function reverseFactory(e,t){var n=makeSequence(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=flipFactory(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=cacheResultThrough,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function filterFactory(e,t,n,r){var i=makeSequence(e);return r&&(i.has=function(r){var i=e.get(r,c);return i!==c&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,c);return o!==c&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var s=this,a=0;return e.__iterate(function(e,o,c){if(t.call(n,e,o,c))return a++,i(e,r?o:a-1,s)},o),a},i.__iteratorUncached=function(i,o){var s=e.__iterator(p,o),a=0;return new Iterator(function(){for(;;){var o=s.next();if(o.done)return o;var c=o.value,l=c[0],u=c[1];if(t.call(n,u,l,e))return iteratorValue(i,r?l:a++,u,o)}})},i}function sliceFactory(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n===1/0?n=i:n|=0),wholeSlice(t,n,i))return e;var o=resolveBegin(t,i),s=resolveEnd(n,i);if(o!=o||s!=s)return sliceFactory(e.toSeq().cacheResult(),t,n,r);var a,c=s-o;c==c&&(a=c<0?0:c);var l=makeSequence(e);return l.size=0===a?a:e.size&&a||void 0,!r&&isSeq(e)&&a>=0&&(l.get=function(t,n){return(t=wrapIndex(this,t))>=0&&t<a?e.get(t+o,n):n}),l.__iterateUncached=function(t,n){var i=this;if(0===a)return 0;if(n)return this.cacheResult().__iterate(t,n);var s=0,c=!0,l=0;return e.__iterate(function(e,n){if(!c||!(c=s++<o))return l++,!1!==t(e,r?n:l-1,i)&&l!==a}),l},l.__iteratorUncached=function(t,n){if(0!==a&&n)return this.cacheResult().__iterator(t,n);var i=0!==a&&e.__iterator(t,n),s=0,c=0;return new Iterator(function(){for(;s++<o;)i.next();if(++c>a)return{value:void 0,done:!0};var e=i.next();return r||t===d?e:iteratorValue(t,c-1,t===h?void 0:e.value[1],e)})},l}function skipWhileFactory(e,t,n,r){var i=makeSequence(e);return i.__iterateUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterate(i,o);var a=!0,c=0;return e.__iterate(function(e,o,l){if(!a||!(a=t.call(n,e,o,l)))return c++,i(e,r?o:c-1,s)}),c},i.__iteratorUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterator(i,o);var a=e.__iterator(p,o),c=!0,l=0;return new Iterator(function(){var e,o,u;do{if((e=a.next()).done)return r||i===d?e:iteratorValue(i,l++,i===h?void 0:e.value[1],e);var f=e.value;o=f[0],u=f[1],c&&(c=t.call(n,u,o,s))}while(c);return i===p?e:iteratorValue(i,o,u,e)})},i}function concatFactory(e,t){var n=isKeyed(e),r=[e].concat(t).map(function(e){return isIterable(e)?n&&(e=KeyedIterable(e)):e=n?keyedSeqFromValue(e):indexedSeqFromValue(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===r.length)return e;if(1===r.length){var i=r[0];if(i===e||n&&isKeyed(i)||isIndexed(e)&&isIndexed(i))return i}var o=new ArraySeq(r);return n?o=o.toKeyedSeq():isIndexed(e)||(o=o.toSetSeq()),(o=o.flatten(!0)).size=r.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),o}function flattenFactory(e,t,n){var r=makeSequence(e);return r.__iterateUncached=function(r,i){var o=0,s=!1;return function flatDeep(e,a){var c=this;e.__iterate(function(e,i){return(!t||a<t)&&isIterable(e)?flatDeep(e,a+1):!1===r(e,n?i:o++,c)&&(s=!0),!s},i)}(e,0),o},r.__iteratorUncached=function(r,i){var o=e.__iterator(r,i),s=[],a=0;return new Iterator(function(){for(;o;){var e=o.next();if(!1===e.done){var c=e.value;if(r===p&&(c=c[1]),t&&!(s.length<t)||!isIterable(c))return n?e:iteratorValue(r,a++,c,e);s.push(o),o=c.__iterator(r,i)}else o=s.pop()}return{value:void 0,done:!0}})},r}function sortFactory(e,t,n){t||(t=defaultComparator);var r=isKeyed(e),i=0,o=e.toSeq().map(function(t,r){return[r,t,i++,n?n(t,r,e):t]}).toArray();return o.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?KeyedSeq(o):isIndexed(e)?IndexedSeq(o):SetSeq(o)}function maxFactory(e,t,n){if(t||(t=defaultComparator),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return maxCompare(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return maxCompare(t,e,n)?n:e})}function maxCompare(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function zipWithFactory(e,t,n){var r=makeSequence(e);return r.size=new ArraySeq(n).map(function(e){return e.size}).min(),r.__iterate=function(e,t){for(var n,r=this.__iterator(d,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},r.__iteratorUncached=function(e,r){var i=n.map(function(e){return e=Iterable(e),getIterator(r?e.reverse():e)}),o=0,s=!1;return new Iterator(function(){var n;return s||(n=i.map(function(e){return e.next()}),s=n.some(function(e){return e.done})),s?{value:void 0,done:!0}:iteratorValue(e,o++,t.apply(null,n.map(function(e){return e.value})))})},r}function reify(e,t){return isSeq(e)?t:e.constructor(t)}function validateEntry(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function resolveSize(e){return assertNotInfinite(e.size),ensureSize(e)}function iterableClass(e){return isKeyed(e)?KeyedIterable:isIndexed(e)?IndexedIterable:SetIterable}function makeSequence(e){return Object.create((isKeyed(e)?KeyedSeq:isIndexed(e)?IndexedSeq:SetSeq).prototype)}function cacheResultThrough(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Seq.prototype.cacheResult.call(this)}function defaultComparator(e,t){return e>t?1:e<t?-1:0}function forceIterator(e){var t=getIterator(e);if(!t){if(!isArrayLike(e))throw new TypeError("Expected iterable or array-like: "+e);t=getIterator(Iterable(e))}return t}function Record(e,t){var n,r=function Record(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var s=Object.keys(e);!function setProps(e,t){try{t.forEach(function setProp(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){invariant(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}.bind(void 0,e))}catch(n){}}(i,s),i.size=s.length,i._name=t,i._keys=s,i._defaultValues=e}this._map=Map(o)},i=r.prototype=Object.create(V);return i.constructor=r,r}createClass(OrderedMap,Map),OrderedMap.of=function(){return this(arguments)},OrderedMap.prototype.toString=function(){return this.__toString("OrderedMap {","}")},OrderedMap.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},OrderedMap.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):emptyOrderedMap()},OrderedMap.prototype.set=function(e,t){return updateOrderedMap(this,e,t)},OrderedMap.prototype.remove=function(e){return updateOrderedMap(this,e,c)},OrderedMap.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},OrderedMap.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},OrderedMap.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},OrderedMap.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?makeOrderedMap(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},OrderedMap.isOrderedMap=isOrderedMap,OrderedMap.prototype[i]=!0,OrderedMap.prototype.delete=OrderedMap.prototype.remove,createClass(ToKeyedSequence,KeyedSeq),ToKeyedSequence.prototype.get=function(e,t){return this._iter.get(e,t)},ToKeyedSequence.prototype.has=function(e){return this._iter.has(e)},ToKeyedSequence.prototype.valueSeq=function(){return this._iter.valueSeq()},ToKeyedSequence.prototype.reverse=function(){var e=this,t=reverseFactory(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},ToKeyedSequence.prototype.map=function(e,t){var n=this,r=mapFactory(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},ToKeyedSequence.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?resolveSize(this):0,function(i){return e(i,t?--n:n++,r)}),t)},ToKeyedSequence.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(d,t),r=t?resolveSize(this):0;return new Iterator(function(){var i=n.next();return i.done?i:iteratorValue(e,t?--r:r++,i.value,i)})},ToKeyedSequence.prototype[i]=!0,createClass(ToIndexedSequence,IndexedSeq),ToIndexedSequence.prototype.includes=function(e){return this._iter.includes(e)},ToIndexedSequence.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},ToIndexedSequence.prototype.__iterator=function(e,t){var n=this._iter.__iterator(d,t),r=0;return new Iterator(function(){var t=n.next();return t.done?t:iteratorValue(e,r++,t.value,t)})},createClass(ToSetSequence,SetSeq),ToSetSequence.prototype.has=function(e){return this._iter.includes(e)},ToSetSequence.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},ToSetSequence.prototype.__iterator=function(e,t){var n=this._iter.__iterator(d,t);return new Iterator(function(){var t=n.next();return t.done?t:iteratorValue(e,t.value,t.value,t)})},createClass(FromEntriesSequence,KeyedSeq),FromEntriesSequence.prototype.entrySeq=function(){return this._iter.toSeq()},FromEntriesSequence.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){validateEntry(t);var r=isIterable(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},FromEntriesSequence.prototype.__iterator=function(e,t){var n=this._iter.__iterator(d,t);return new Iterator(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){validateEntry(r);var i=isIterable(r);return iteratorValue(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}})},ToIndexedSequence.prototype.cacheResult=ToKeyedSequence.prototype.cacheResult=ToSetSequence.prototype.cacheResult=FromEntriesSequence.prototype.cacheResult=cacheResultThrough,createClass(Record,KeyedCollection),Record.prototype.toString=function(){return this.__toString(recordName(this)+" {","}")},Record.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},Record.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},Record.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=makeRecord(this,emptyMap()))},Record.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+recordName(this));if(this._map&&!this._map.has(e)){var n=this._defaultValues[e];if(t===n)return this}var r=this._map&&this._map.set(e,t);return this.__ownerID||r===this._map?this:makeRecord(this,r)},Record.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:makeRecord(this,t)},Record.prototype.wasAltered=function(){return this._map.wasAltered()},Record.prototype.__iterator=function(e,t){var n=this;return KeyedIterable(this._defaultValues).map(function(e,t){return n.get(t)}).__iterator(e,t)},Record.prototype.__iterate=function(e,t){var n=this;return KeyedIterable(this._defaultValues).map(function(e,t){return n.get(t)}).__iterate(e,t)},Record.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?makeRecord(this,t,e):(this.__ownerID=e,this._map=t,this)};var V=Record.prototype;function makeRecord(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function recordName(e){return e._name||e.constructor.name||"Record"}function Set(e){return null==e?emptySet():isSet(e)&&!isOrdered(e)?e:emptySet().withMutations(function(t){var n=SetIterable(e);assertNotInfinite(n.size),n.forEach(function(e){return t.add(e)})})}function isSet(e){return!(!e||!e[G])}V.delete=V.remove,V.deleteIn=V.removeIn=R.removeIn,V.merge=R.merge,V.mergeWith=R.mergeWith,V.mergeIn=R.mergeIn,V.mergeDeep=R.mergeDeep,V.mergeDeepWith=R.mergeDeepWith,V.mergeDeepIn=R.mergeDeepIn,V.setIn=R.setIn,V.update=R.update,V.updateIn=R.updateIn,V.withMutations=R.withMutations,V.asMutable=R.asMutable,V.asImmutable=R.asImmutable,createClass(Set,SetCollection),Set.of=function(){return this(arguments)},Set.fromKeys=function(e){return this(KeyedIterable(e).keySeq())},Set.prototype.toString=function(){return this.__toString("Set {","}")},Set.prototype.has=function(e){return this._map.has(e)},Set.prototype.add=function(e){return updateSet(this,this._map.set(e,!0))},Set.prototype.remove=function(e){return updateSet(this,this._map.remove(e))},Set.prototype.clear=function(){return updateSet(this,this._map.clear())},Set.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)SetIterable(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Set.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return SetIterable(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.every(function(e){return e.includes(n)})||e.remove(n)})})},Set.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return SetIterable(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.some(function(e){return e.includes(n)})&&e.remove(n)})})},Set.prototype.merge=function(){return this.union.apply(this,arguments)},Set.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},Set.prototype.sort=function(e){return OrderedSet(sortFactory(this,e))},Set.prototype.sortBy=function(e,t){return OrderedSet(sortFactory(this,t,e))},Set.prototype.wasAltered=function(){return this._map.wasAltered()},Set.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},Set.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},Set.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Set.isSet=isSet;var W,G="@@__IMMUTABLE_SET__@@",q=Set.prototype;function updateSet(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function makeSet(e,t){var n=Object.create(q);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function emptySet(){return W||(W=makeSet(emptyMap()))}function OrderedSet(e){return null==e?emptyOrderedSet():isOrderedSet(e)?e:emptyOrderedSet().withMutations(function(t){var n=SetIterable(e);assertNotInfinite(n.size),n.forEach(function(e){return t.add(e)})})}function isOrderedSet(e){return isSet(e)&&isOrdered(e)}q[G]=!0,q.delete=q.remove,q.mergeDeep=q.merge,q.mergeDeepWith=q.mergeWith,q.withMutations=R.withMutations,q.asMutable=R.asMutable,q.asImmutable=R.asImmutable,q.__empty=emptySet,q.__make=makeSet,createClass(OrderedSet,Set),OrderedSet.of=function(){return this(arguments)},OrderedSet.fromKeys=function(e){return this(KeyedIterable(e).keySeq())},OrderedSet.prototype.toString=function(){return this.__toString("OrderedSet {","}")},OrderedSet.isOrderedSet=isOrderedSet;var K,$=OrderedSet.prototype;function makeOrderedSet(e,t){var n=Object.create($);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function emptyOrderedSet(){return K||(K=makeOrderedSet(emptyOrderedMap()))}function Stack(e){return null==e?emptyStack():isStack(e)?e:emptyStack().unshiftAll(e)}function isStack(e){return!(!e||!e[Y])}$[i]=!0,$.__empty=emptyOrderedSet,$.__make=makeOrderedSet,createClass(Stack,IndexedCollection),Stack.of=function(){return this(arguments)},Stack.prototype.toString=function(){return this.__toString("Stack [","]")},Stack.prototype.get=function(e,t){var n=this._head;for(e=wrapIndex(this,e);n&&e--;)n=n.next;return n?n.value:t},Stack.prototype.peek=function(){return this._head&&this._head.value},Stack.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):makeStack(e,t)},Stack.prototype.pushAll=function(e){if(0===(e=IndexedIterable(e)).size)return this;assertNotInfinite(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):makeStack(t,n)},Stack.prototype.pop=function(){return this.slice(1)},Stack.prototype.unshift=function(){return this.push.apply(this,arguments)},Stack.prototype.unshiftAll=function(e){return this.pushAll(e)},Stack.prototype.shift=function(){return this.pop.apply(this,arguments)},Stack.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):emptyStack()},Stack.prototype.slice=function(e,t){if(wholeSlice(e,t,this.size))return this;var n=resolveBegin(e,this.size),r=resolveEnd(t,this.size);if(r!==this.size)return IndexedCollection.prototype.slice.call(this,e,t);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):makeStack(i,o)},Stack.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?makeStack(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Stack.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Stack.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new Iterator(function(){if(r){var t=r.value;return r=r.next,iteratorValue(e,n++,t)}return{value:void 0,done:!0}})},Stack.isStack=isStack;var X,Y="@@__IMMUTABLE_STACK__@@",J=Stack.prototype;function makeStack(e,t,n,r){var i=Object.create(J);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function emptyStack(){return X||(X=makeStack(0))}function mixin(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}J[Y]=!0,J.withMutations=R.withMutations,J.asMutable=R.asMutable,J.asImmutable=R.asImmutable,J.wasAltered=R.wasAltered,Iterable.Iterator=Iterator,mixin(Iterable,{toArray:function(){assertNotInfinite(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new ToIndexedSequence(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new ToKeyedSequence(this,!0)},toMap:function(){return Map(this.toKeyedSeq())},toObject:function(){assertNotInfinite(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return OrderedMap(this.toKeyedSeq())},toOrderedSet:function(){return OrderedSet(isKeyed(this)?this.valueSeq():this)},toSet:function(){return Set(isKeyed(this)?this.valueSeq():this)},toSetSeq:function(){return new ToSetSequence(this)},toSeq:function(){return isIndexed(this)?this.toIndexedSeq():isKeyed(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Stack(isKeyed(this)?this.valueSeq():this)},toList:function(){return List(isKeyed(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return reify(this,concatFactory(this,t))},includes:function(e){return this.some(function(t){return is(t,e)})},entries:function(){return this.__iterator(p)},every:function(e,t){assertNotInfinite(this.size);var n=!0;return this.__iterate(function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1}),n},filter:function(e,t){return reify(this,filterFactory(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return assertNotInfinite(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){assertNotInfinite(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""}),t},keys:function(){return this.__iterator(h)},map:function(e,t){return reify(this,mapFactory(this,e,t))},reduce:function(e,t,n){var r,i;return assertNotInfinite(this.size),arguments.length<2?i=!0:r=t,this.__iterate(function(t,o,s){i?(i=!1,r=t):r=e.call(n,r,t,o,s)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return reify(this,reverseFactory(this,!0))},slice:function(e,t){return reify(this,sliceFactory(this,e,t,!0))},some:function(e,t){return!this.every(not(e),t)},sort:function(e){return reify(this,sortFactory(this,e))},values:function(){return this.__iterator(d)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return ensureSize(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function countByFactory(e,t,n){var r=Map().asMutable();return e.__iterate(function(i,o){r.update(t.call(n,i,o,e),0,function(e){return e+1})}),r.asImmutable()}(this,e,t)},equals:function(e){return deepEqual(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ArraySeq(e._cache);var t=e.toSeq().map(entryMapper).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(not(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate(function(n,i,o){if(e.call(t,n,i,o))return r=[i,n],!1}),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(returnTrue)},flatMap:function(e,t){return reify(this,function flatMapFactory(e,t,n){var r=iterableClass(e);return e.toSeq().map(function(i,o){return r(t.call(n,i,o,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return reify(this,flattenFactory(this,e,!0))},fromEntrySeq:function(){return new FromEntriesSequence(this)},get:function(e,t){return this.find(function(t,n){return is(n,e)},void 0,t)},getIn:function(e,t){for(var n,r=this,i=forceIterator(e);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,c):c)===c)return t}return r},groupBy:function(e,t){return function groupByFactory(e,t,n){var r=isKeyed(e),i=(isOrdered(e)?OrderedMap():Map()).asMutable();e.__iterate(function(o,s){i.update(t.call(n,o,s,e),function(e){return(e=e||[]).push(r?[s,o]:o),e})});var o=iterableClass(e);return i.map(function(t){return reify(e,o(t))})}(this,e,t)},has:function(e){return this.get(e,c)!==c},hasIn:function(e){return this.getIn(e,c)!==c},isSubset:function(e){return e="function"==typeof e.includes?e:Iterable(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:Iterable(e)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return is(t,e)})},keySeq:function(){return this.toSeq().map(keyMapper).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return maxFactory(this,e)},maxBy:function(e,t){return maxFactory(this,t,e)},min:function(e){return maxFactory(this,e?neg(e):defaultNegComparator)},minBy:function(e,t){return maxFactory(this,t?neg(t):defaultNegComparator,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return reify(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return reify(this,skipWhileFactory(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(not(e),t)},sortBy:function(e,t){return reify(this,sortFactory(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return reify(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return reify(this,function takeWhileFactory(e,t,n){var r=makeSequence(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var s=0;return e.__iterate(function(e,i,a){return t.call(n,e,i,a)&&++s&&r(e,i,o)}),s},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var s=e.__iterator(p,i),a=!0;return new Iterator(function(){if(!a)return{value:void 0,done:!0};var e=s.next();if(e.done)return e;var i=e.value,c=i[0],l=i[1];return t.call(n,l,c,o)?r===p?e:iteratorValue(r,c,l,e):(a=!1,{value:void 0,done:!0})})},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(not(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function hashIterable(e){if(e.size===1/0)return 0;var t=isOrdered(e),n=isKeyed(e),r=t?1:0;return function murmurHashOfSize(e,t){return t=_(t,3432918353),t=_(t<<15|t>>>-15,461845907),t=_(t<<13|t>>>-13,5),t=_((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=smi((t=_(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+hashMerge(hash(e),hash(t))|0}:function(e,t){r=r+hashMerge(hash(e),hash(t))|0}:t?function(e){r=31*r+hash(e)|0}:function(e){r=r+hash(e)|0}),r)}(this))}});var Z=Iterable.prototype;Z[t]=!0,Z[m]=Z.values,Z.__toJS=Z.toArray,Z.__toStringMapper=quoteString,Z.inspect=Z.toSource=function(){return this.toString()},Z.chain=Z.flatMap,Z.contains=Z.includes,mixin(KeyedIterable,{flip:function(){return reify(this,flipFactory(this))},mapEntries:function(e,t){var n=this,r=0;return reify(this,this.toSeq().map(function(i,o){return e.call(t,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return reify(this,this.toSeq().flip().map(function(r,i){return e.call(t,r,i,n)}).flip())}});var Q=KeyedIterable.prototype;function keyMapper(e,t){return t}function entryMapper(e,t){return[t,e]}function not(e){return function(){return!e.apply(this,arguments)}}function neg(e){return function(){return-e.apply(this,arguments)}}function quoteString(e){return"string"==typeof e?JSON.stringify(e):String(e)}function defaultZipper(){return arrCopy(arguments)}function defaultNegComparator(e,t){return e<t?1:e>t?-1:0}function hashMerge(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Q[n]=!0,Q[m]=Z.entries,Q.__toJS=Z.toObject,Q.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+quoteString(e)},mixin(IndexedIterable,{toKeyedSeq:function(){return new ToKeyedSequence(this,!1)},filter:function(e,t){return reify(this,filterFactory(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return reify(this,reverseFactory(this,!1))},slice:function(e,t){return reify(this,sliceFactory(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=resolveBegin(e,e<0?this.count():this.size);var r=this.slice(0,e);return reify(this,1===n?r:r.concat(arrCopy(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return reify(this,flattenFactory(this,e,!1))},get:function(e,t){return(e=wrapIndex(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return(e=wrapIndex(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return reify(this,function interposeFactory(e,t){var n=makeSequence(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate(function(e,r){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)},r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(d,r),s=0;return new Iterator(function(){return(!i||s%2)&&(i=o.next()).done?i:s%2?iteratorValue(n,s++,t):iteratorValue(n,s++,i.value,i)})},n}(this,e))},interleave:function(){var e=[this].concat(arrCopy(arguments)),t=zipWithFactory(this.toSeq(),IndexedSeq.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),reify(this,n)},keySeq:function(){return Range(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return reify(this,skipWhileFactory(this,e,t,!1))},zip:function(){var e=[this].concat(arrCopy(arguments));return reify(this,zipWithFactory(this,defaultZipper,e))},zipWith:function(e){var t=arrCopy(arguments);return t[0]=this,reify(this,zipWithFactory(this,e,t))}}),IndexedIterable.prototype[r]=!0,IndexedIterable.prototype[i]=!0,mixin(SetIterable,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),SetIterable.prototype.has=Z.includes,SetIterable.prototype.contains=SetIterable.prototype.includes,mixin(KeyedSeq,KeyedIterable.prototype),mixin(IndexedSeq,IndexedIterable.prototype),mixin(SetSeq,SetIterable.prototype),mixin(KeyedCollection,KeyedIterable.prototype),mixin(IndexedCollection,IndexedIterable.prototype),mixin(SetCollection,SetIterable.prototype),{Iterable,Seq,Collection,Map,OrderedMap,List,Stack,Set,OrderedSet,Record,Range,Repeat,is,fromJS}}()},function(e,t,n){"use strict";n.d(t,"b",function(){return __extends}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return __rest});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}var i=function(){return(i=Object.assign||function __assign(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function __rest(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[];t.addEventListener=function addEventListener(e){return r.push(e),function removeEventListener(){r=r.filter(function(t){return e!==t})}},t.triggerEvent=function triggerEvent(e,t){r.forEach(function(n){return n(e,t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(226);var i=n(226);t.CanvasNodeConstructor=i.CanvasNodeConstructor,t.default=r.default;var o=n(34);t.CanvasNode=o.default;var s=n(140);t.TreeNode=s.default,t.DrawableNode=s.DrawableNode,t.isDrawableNode=s.isDrawableNode,t.VectorNode=s.VectorNode,t.isVectorNode=s.isVectorNode,t.isTreeNode=s.isTreeNode;var a=n(29);t.ImmutableNode=a.ImmutableNode;var c=n(78);t.FrameNode=c.default,t.isFrameNode=c.isFrameNode;var l=n(186);t.ShapeContainerNode=l.default,t.isShapeContainerNode=l.isShapeContainerNode;var u=n(74);t.SVGNode=u.default;var h=n(76);t.TextNode=h.default,t.isTextNode=h.isTextNode;var d=n(21);t.CodeComponentNode=d.default,t.isCodeComponentNode=d.isCodeComponentNode;var p=n(101);t.NodeID=p.NodeID,t.stringFromNodeID=p.stringFromNodeID,t.NullID=p.NullID,t.MaybeNodeID=p.MaybeNodeID,t.nodeIDFromString=p.nodeIDFromString,t.InvalidID=p.InvalidID;var f=n(175);t.ShapeGroupNode=f.default,t.isShapeGroupNode=f.isShapeGroupNode;var g=n(232);t.PathNode=g.default;var m=n(256);t.StarShapeNode=m.default;var v=n(255);t.OvalShapeNode=v.default;var y=n(254);t.RectangleShapeNode=y.default;var S=n(257);t.PolygonShapeNode=S.default;var b=n(253);t.BooleanShapeNode=b.default,t.isBooleanShapeNode=b.isBooleanShapeNode;var _=n(417);t.ExportOptions=_.default;var C=n(187);t.classList=C.classList;var w=n(853);t.onlyIncludes=w.onlyIncludes,t.doesNotInclude=w.doesNotInclude,t.isEqual=w.isEqual;var x=n(46);t.Export=x.Export},function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"c",function(){return _});var r,i=n(11),o=0,s="undefined"!=typeof window&&void 0!==window.requestAnimationFrame?function(e){return window.requestAnimationFrame(e)}:function(e){var t=Date.now(),n=Math.max(0,16.7-(t-o));o=t+n,setTimeout(function(){return e(o)},n)};!function(e){e.Read="read",e.Update="update",e.Render="render",e.PostRender="postRender",e.FixedUpdate="fixedUpdate"}(r||(r={}));var a=1/60*1e3,c=!0,l=!1,u=!1,h={delta:0,timestamp:0},d=[r.Read,r.Update,r.Render,r.PostRender],p=function(e){return l=e},f=d.reduce(function(e,t){var n=function(e){var t=[],n=[],r=0,o=!1,s=0,a=new WeakSet,c=new WeakSet,l={cancel:function(e){var t=n.indexOf(e);a.add(e),-1!==t&&n.splice(t,1)},process:function(i){var u,h;if(o=!0,t=(u=[n,t])[0],(n=u[1]).length=0,r=t.length)for(s=0;s<r;s++)(h=t[s])(i),!0!==c.has(h)||a.has(h)||(l.schedule(h),e(!0));o=!1},schedule:function(e,s,l){void 0===s&&(s=!1),void 0===l&&(l=!1),Object(i.invariant)("function"==typeof e,"Argument must be a function");var u=l&&o,h=u?t:n;a.delete(e),s&&c.add(e),-1===h.indexOf(e)&&(h.push(e),u&&(r=t.length))}};return l}(p);return e.sync[t]=function(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r=!1),l||b(),n.schedule(e,t,r),e},e.cancelSync[t]=function(e){return n.cancel(e)},e.steps[t]=n,e},{steps:{},sync:{},cancelSync:{}}),g=f.steps,m=f.sync,v=f.cancelSync,y=function(e){return g[e].process(h)},S=function(e){l=!1,h.delta=c?a:Math.max(Math.min(e-h.timestamp,40),1),c||(a=h.delta),h.timestamp=e,u=!0,d.forEach(y),u=!1,l&&(c=!1,s(S))},b=function(){l=!0,c=!0,u||s(S)},_=function(){return h};t.b=m},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(28),i=n(106);t.Tools=i.Tools;const o=n(30),s=n(142),a="private-store-shown",c="true";var l,u;!function(e){e[e.Tools=0]="Tools",e[e.Layers=1]="Layers",e[e.Components=2]="Components",e[e.Marketplace=3]="Marketplace",e[e.Intercom=4]="Intercom",e[e.Account=5]="Account",e[e.Organization=6]="Organization",e[e.CodeEditor=7]="CodeEditor"}(l=t.LeftPanelContent||(t.LeftPanelContent={})),function(e){e.MacOS="MacOS Icons",e.iOS="iOS Icons",e.Watch="Watch Icons",e.Android="Android Icons"}(t.ShapeContainerCategories||(t.ShapeContainerCategories={})),function(e){e[e.None=0]="None",e[e.Left=1]="Left",e[e.Bottom=2]="Bottom"}(u=t.ToolTipArrow||(t.ToolTipArrow={}));const h={_update:0,tool:i.Tools.Highlight,tooltip:null,tooltipArrow:u.None,tooltipDelay:!1,tooltipOrigin:null,popupMenu:null,shapeModeActive:!1,handle:{x:0,y:0,fx:0,fy:0},straightLineAnchorIndex:0,typeFacePanelIsOpen:!1,leftPanelContent:l.Tools,codeFileCreationHeaderIsExpanded:!1,mouseCursor:"",shapeContainerOpenCategories:new Set([]),hasShownPrivateStore:window&&window.localStorage&&window.localStorage.getItem(a)===c,selectedGuide:null,highlightedGuide:null,ghostGuide:null,snapLinesX:null,snapLinesY:null};t.ToolStore=class ToolStore{constructor(e){this.addChanges=e,this.state=Object.assign({},h),this.componentDefinitionsFromScriptText=null,this.setTypeFacePanelOpen=e=>{this.state=Object.assign({},this.state,{typeFacePanelIsOpen:e}),this.addChanges(o.EngineChangeFlags.ToolStore)},this.editorCommand=null,this.currentEditorFile=null,this.storeMainPanelOpened=!1,this.editorViewStates=new Map}afterCommit(e,t,n){n.didTreeChange&&(this.state=Object.assign({},this.state,{_update:e}),this.addChanges(o.EngineChangeFlags.ToolStore))}setTool(e){const t=this.state;this.state.shapeModeActive&&!function shapeTool(e){switch(e){case i.Tools.CreateFrame:case i.Tools.CreateText:case i.Tools.CreateStackComponent:case i.Tools.CreateScrollComponent:case i.Tools.CreatePageComponent:case i.Tools.NavigationLink:case i.Tools.SlotConnect:case i.Tools.TextEdit:return!1;default:return!0}}(e)&&this.setShapeModeActive(!1),this.state=Object.assign({},this.state,{tool:e});let n=o.EngineChangeFlags.ToolStore;this.state.tool!==t.tool&&(n|=o.EngineChangeFlags.Tool),this.state.leftPanelContent!==t.leftPanelContent&&(n|=o.EngineChangeFlags.LeftPanelContent),this.addChanges(n)}setTooltip(e,t,n,r){(e||this.state.tooltipArrow===n)&&(this.state=Object.assign({},this.state,{tooltip:e,tooltipArrow:n,tooltipDelay:r,tooltipOrigin:t}),this.addChanges(o.EngineChangeFlags.ToolStore))}setPopupMenu(e){this.state=Object.assign({},this.state,{popupMenu:e}),this.addChanges(o.EngineChangeFlags.ToolStore)}setToolHandle(e){this.state=Object.assign({},this.state,{handle:e}),this.addChanges(o.EngineChangeFlags.ToolStore)}setLeftPanelContent(e){this.state=function setLeftPanelContent(e,t){return e.leftPanelContent===l.CodeEditor&&t!==l.CodeEditor&&(e=Object.assign({},e,{codeFileCreationHeaderIsExpanded:!1})),l.Organization===t&&(localStorage.setItem(a,c),e=Object.assign({},e,{hasShownPrivateStore:!0})),Object.assign({},e,{leftPanelContent:t})}(this.state,e),this.addChanges(o.EngineChangeFlags.ToolStore)}setCodeFileCreationHeaderIsExpanded(e){this.state=Object.assign({},this.state,{codeFileCreationHeaderIsExpanded:e}),this.addChanges(o.EngineChangeFlags.ToolStore)}setMouseCursor(e){this.state.mouseCursor!==e&&(this.state=Object.assign({},this.state,{mouseCursor:e}),this.addChanges(o.EngineChangeFlags.ToolStore))}setShapeModeActive(e){this.state=Object.assign({},this.state,{shapeModeActive:e}),s.layout.shapeModeActive=e,this.addChanges(o.EngineChangeFlags.ToolStore)}setShapeContainerOpenCategories(e){this.state=Object.assign({},this.state,{shapeContainerOpenCategories:e}),this.addChanges(o.EngineChangeFlags.ToolStore)}setStraightLineAnchorIndex(e){this.state=Object.assign({},this.state,{straightLineAnchorIndex:e})}setSelectedGuide(e=null){(e||this.state.selectedGuide)&&(this.state=Object.assign({},this.state,{selectedGuide:e}),!e&&this.state.ghostGuide&&(this.state=Object.assign({},this.state,{ghostGuide:null})),this.addChanges(o.EngineChangeFlags.ToolStore))}setHighlightedGuide(e=null){this.state=Object.assign({},this.state,{highlightedGuide:e}),this.addChanges(o.EngineChangeFlags.ToolStore)}setGhostGuide(e=null){this.state=Object.assign({},this.state,{ghostGuide:e}),this.addChanges(o.EngineChangeFlags.ToolStore)}setSnapLines(e=null,t=null){this.state=Object.assign({},this.state,{snapLinesX:e,snapLinesY:t}),this.addChanges(o.EngineChangeFlags.ToolStore)}isPathToolActive(){return this.state.tool===i.Tools.Path}isTextEditToolActive(){return this.state.tool===i.Tools.TextEdit}putEditorCommand(e){r(!this.editorCommand),this.editorCommand=e,this.addChanges(o.EngineChangeFlags.ToolStore)}takeEditorCommand(){const e=this.editorCommand;return this.editorCommand=null,e}setCurrentEditingFile(e){this.currentEditorFile!==e&&(this.currentEditorFile=e,this.addChanges(o.EngineChangeFlags.ToolStore))}setStoreMainPanelOpened(e){this.storeMainPanelOpened!==e&&(this.storeMainPanelOpened=e,this.addChanges(o.EngineChangeFlags.ToolStore))}addEditorViewState(e,t){t&&this.editorViewStates.set(e,t)}getEditorViewState(e){return this.editorViewStates.get(e)}isCodeEditorOpen(){return this.state.leftPanelContent===l.CodeEditor&&!!this.currentEditorFile}shouldShowArrows(){switch(this.state.tool){case i.Tools.Pan:case i.Tools.Zoom:case i.Tools.Highlight:return!0;default:return!1}}isStoreMainPanelOpen(){return this.state.leftPanelContent===l.Marketplace&&this.storeMainPanelOpened}}},function(e,t,n){"use strict";n.r(t),n.d(t,"reversed",function(){return r}),n.d(t,"mirrored",function(){return i}),n.d(t,"createReversedEasing",function(){return o}),n.d(t,"createMirroredEasing",function(){return s}),n.d(t,"createExpoIn",function(){return a}),n.d(t,"createBackIn",function(){return c}),n.d(t,"createAnticipateEasing",function(){return l}),n.d(t,"linear",function(){return u}),n.d(t,"easeIn",function(){return h}),n.d(t,"easeOut",function(){return d}),n.d(t,"easeInOut",function(){return p}),n.d(t,"circIn",function(){return f}),n.d(t,"circOut",function(){return g}),n.d(t,"circInOut",function(){return m}),n.d(t,"backIn",function(){return v}),n.d(t,"backOut",function(){return y}),n.d(t,"backInOut",function(){return S}),n.d(t,"anticipate",function(){return b}),n.d(t,"bounceOut",function(){return _}),n.d(t,"bounceIn",function(){return C}),n.d(t,"bounceInOut",function(){return w}),n.d(t,"cubicBezier",function(){return cubicBezier});var r=function(e){return function(t){return 1-e(1-t)}},i=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},o=r,s=i,a=function(e){return function(t){return Math.pow(t,e)}},c=function(e){return function(t){return t*t*((e+1)*t-e)}},l=function(e){var t=c(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}},u=function(e){return e},h=a(2),d=r(h),p=i(h),f=function(e){return 1-Math.sin(Math.acos(e))},g=r(f),m=i(g),v=c(1.525),y=r(v),S=i(v),b=l(1.525),_=function(e){var t=e*e;return e<4/11?7.5625*t:e<8/11?9.075*t-9.9*e+3.4:e<.9?4356/361*t-35442/1805*e+16061/1805:10.8*e*e-20.52*e+10.72},C=function(e){return 1-_(1-e)},w=function(e){return e<.5?.5*(1-_(1-2*e)):.5*_(2*e-1)+.5},x=8,P=.001,T=1e-7,k=10,E=11,O=1/(E-1),M="undefined"!=typeof Float32Array,F=function(e,t){return 1-3*t+3*e},D=function(e,t){return 3*t-6*e},I=function(e){return 3*e},R=function(e,t,n){return 3*F(t,n)*e*e+2*D(t,n)*e+I(t)},N=function(e,t,n){return((F(t,n)*e+D(t,n))*e+I(t))*e};function cubicBezier(e,t,n,r){var i=M?new Float32Array(E):new Array(E),o=function(t){for(var r,o,s,a=0,c=1,l=E-1;c!==l&&i[c]<=t;++c)a+=O;return r=(t-i[--c])/(i[c+1]-i[c]),(s=R(o=a+r*O,e,n))>=P?function(t,r){for(var i=0,o=0;i<x;++i){if(0===(o=R(r,e,n)))return r;r-=(N(r,e,n)-t)/o}return r}(t,o):0===s?o:function(t,r,i){var o,s,a=0;do{(o=N(s=r+(i-r)/2,e,n)-t)>0?i=s:r=s}while(Math.abs(o)>T&&++a<k);return s}(t,a,a+O)};!function(){for(var t=0;t<E;++t)i[t]=N(t*O,e,n)}();return function(i){return e===t&&n===r?i:0===i?0:1===i?1:N(o(i),t,r)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"invariant",function(){return i}),n.d(t,"warning",function(){return r});var r=function(){},i=function(){}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return interpolate}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return C}),n.d(t,"h",function(){return k}),n.d(t,"i",function(){return x}),n.d(t,"j",function(){return g}),n.d(t,"k",function(){return F}),n.d(t,"l",function(){return D}),n.d(t,"m",function(){return I});var r=n(2),i=n(11),o=(n(7),n(10),{x:0,y:0,z:0}),s=function(e){return"number"==typeof e},a=function(e,t){return void 0===t&&(t=o),180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI},c=function(e,t){var n=!0;return void 0===t&&(t=e,n=!1),function(r){return n?r-e+t:(e=r,n=!0,t)}},l=function(e){return function(t,n,r){return void 0!==r?e(t,n,r):function(r){return e(t,n,r)}}},u=l(function(e,t,n){return Math.min(Math.max(n,e),t)}),h=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},d=function(e){return h(e)&&e.hasOwnProperty("z")},p=function(e,t){return Math.abs(e-t)},f=function(e,t){if(void 0===t&&(t=o),s(e)&&s(t))return p(e,t);if(h(e)&&h(t)){var n=p(e.x,t.x),r=p(e.y,t.y),i=d(e)&&d(t)?p(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}return 0},g=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},m=function(e,t,n){return-n*e+n*t+e},v=function(){return(v=Object.assign||function __assign(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},y=function(e,t,n){var r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},S=[r.hex,r.rgba,r.hsla],b=function(e){return S.find(function(t){return t.test(e)})},_=function(e){return"'"+e+"' is not an animatable color. Use the equivalent color code instead."},C=function(e,t){var n=b(e),o=b(t);Object(i.invariant)(!!n,_(e)),Object(i.invariant)(!!o,_(t)),Object(i.invariant)(n.transform===o.transform,"Both colors must be hex/RGBA, OR both must be HSLA.");var s=n.parse(e),a=o.parse(t),c=v({},s),l=n===r.hsla?m:y;return function(e){for(var t in c)"alpha"!==t&&(c[t]=l(s[t],a[t],e));return c.alpha=m(s.alpha,a.alpha,e),n.transform(c)}},w=function(e,t){return function(n){return t(e(n))}},x=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(w)};function getMixer(e,t){return s(e)?function(n){return m(e,t,n)}:r.color.test(e)?C(e,t):k(e,t)}var P=function(e,t){var n=e.slice(),r=n.length,i=e.map(function(e,n){return getMixer(e,t[n])});return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},T=function(e,t){var n=v({},e,t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=getMixer(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}};function analyse(e){for(var t=r.complex.parse(e),n=t.length,i=0,o=0,s=0,a=0;a<n;a++)i||"number"==typeof t[a]?i++:void 0!==t[a].hue?s++:o++;return{parsed:t,numNumbers:i,numRGB:o,numHSL:s}}var k=function(e,t){var n=r.complex.createTransformer(t),o=analyse(e),s=analyse(t);return Object(i.invariant)(o.numHSL===s.numHSL&&o.numRGB===s.numRGB&&o.numNumbers>=s.numNumbers,"Complex values '"+e+"' and '"+t+"' too different to mix. Ensure all colors are of the same type."),x(P(o.parsed,s.parsed),n)},E=function(e,t){return function(n){return m(e,t,n)}};function createMixers(e,t,n){for(var i=[],o=n||function detectMixerFactory(e){return"number"==typeof e?E:"string"==typeof e?r.color.test(e)?C:k:Array.isArray(e)?P:"object"==typeof e?T:void 0}(e[0]),s=e.length-1,a=0;a<s;a++){var c=o(e[a],e[a+1]);if(t){var l=Array.isArray(t)?t[a]:t;c=x(l,c)}i.push(c)}return i}function interpolate(e,t,n){var r=void 0===n?{}:n,o=r.clamp,s=void 0===o||o,a=r.ease,c=r.mixer,l=e.length;Object(i.invariant)(l===t.length,"Both input and output ranges must be the same length"),Object(i.invariant)(!a||!Array.isArray(a)||a.length===l-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[l-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var h=createMixers(t,a,c),d=2===l?function fastInterpolate(e,t){var n=e[0],r=e[1],i=t[0];return function(e){return i(g(n,r,e))}}(e,h):function slowInterpolate(e,t){var n=e.length,r=n-1;return function(i){var o=0,s=!1;if(i<=e[0]?s=!0:i>=e[r]&&(o=r-1,s=!0),!s){for(var a=1;a<n&&!(e[a]>i||a===r);a++);o=a-1}var c=g(e[o],e[o+1],i);return t[o](c)}}(e,h);return s?x(u(e[0],e[l-1]),d):d}var O=function(e){return e},M=function(e){return void 0===e&&(e=O),l(function(t,n,r){var i=n-r,o=-(0-t+1)*(0-e(Math.abs(i)));return i<=0?n+o:n-o})},F=(M(),M(Math.sqrt),function(e,t){return s(e)?e/(1e3/t):0}),D=function(e,t){return t?e*(1e3/t):0},I=l(function(e,t,n){var r=t-e;return((n-e)%r+r)%r+e});u(0,1)},function(e,t,n){"use strict";var r=function validateFormat(e){};e.exports=function invariant(e,t,n,i,o,s,a,c){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,o,s,a,c],h=0;(l=new Error(t.replace(/%s/g,function(){return u[h++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";var r=n(70)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var i=n(307),o=n(206),s=n(506),a=n(3),c=n(127),l=a.OrderedSet,u=a.Record,h=a.Stack,d=u({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:h(),selection:null,treeMap:null,undoStack:h()}),p=function(){function EditorState(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EditorState),this._immutable=e}return EditorState.createEmpty=function createEmpty(e){return EditorState.createWithContent(o.createFromText(""),e)},EditorState.createWithContent=function createWithContent(e,t){var n=e.getBlockMap().first().getKey();return EditorState.create({currentContent:e,undoStack:h(),redoStack:h(),decorator:t||null,selection:c.createEmpty(n)})},EditorState.create=function create(e){var t=e.currentContent,n=e.decorator,i=r({},e,{treeMap:generateNewTreeMap(t,n),directionMap:s.getDirectionMap(t)});return new EditorState(new d(i))},EditorState.set=function set(e,t){return new EditorState(e.getImmutable().withMutations(function(n){var r=n.get("decorator"),o=r;null===t.decorator?o=null:t.decorator&&(o=t.decorator);var s=t.currentContent||e.getCurrentContent();if(o!==r){var a,c=n.get("treeMap");return a=o&&r?function regenerateTreeForNewDecorator(e,t,n,r,o){return n.merge(t.toSeq().filter(function(t){return r.getDecorations(t,e)!==o.getDecorations(t,e)}).map(function(t){return i.generate(e,t,r)}))}(s,s.getBlockMap(),c,o,r):generateNewTreeMap(s,o),void n.merge({decorator:o,treeMap:a,nativelyRenderedContent:null})}s!==e.getCurrentContent()&&n.set("treeMap",function regenerateTreeForNewBlocks(e,t,n,r){var o=e.getCurrentContent().set("entityMap",n),s=o.getBlockMap();return e.getImmutable().get("treeMap").merge(t.toSeq().filter(function(e,t){return e!==s.get(t)}).map(function(e){return i.generate(o,e,r)}))}(e,s.getBlockMap(),s.getEntityMap(),o)),n.merge(t)}))},EditorState.prototype.toJS=function toJS(){return this.getImmutable().toJS()},EditorState.prototype.getAllowUndo=function getAllowUndo(){return this.getImmutable().get("allowUndo")},EditorState.prototype.getCurrentContent=function getCurrentContent(){return this.getImmutable().get("currentContent")},EditorState.prototype.getUndoStack=function getUndoStack(){return this.getImmutable().get("undoStack")},EditorState.prototype.getRedoStack=function getRedoStack(){return this.getImmutable().get("redoStack")},EditorState.prototype.getSelection=function getSelection(){return this.getImmutable().get("selection")},EditorState.prototype.getDecorator=function getDecorator(){return this.getImmutable().get("decorator")},EditorState.prototype.isInCompositionMode=function isInCompositionMode(){return this.getImmutable().get("inCompositionMode")},EditorState.prototype.mustForceSelection=function mustForceSelection(){return this.getImmutable().get("forceSelection")},EditorState.prototype.getNativelyRenderedContent=function getNativelyRenderedContent(){return this.getImmutable().get("nativelyRenderedContent")},EditorState.prototype.getLastChangeType=function getLastChangeType(){return this.getImmutable().get("lastChangeType")},EditorState.prototype.getInlineStyleOverride=function getInlineStyleOverride(){return this.getImmutable().get("inlineStyleOverride")},EditorState.setInlineStyleOverride=function setInlineStyleOverride(e,t){return EditorState.set(e,{inlineStyleOverride:t})},EditorState.prototype.getCurrentInlineStyle=function getCurrentInlineStyle(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?function getInlineStyleForCollapsedSelection(e,t){var n=t.getStartKey(),r=t.getStartOffset(),i=e.getBlockForKey(n);if(r>0)return i.getInlineStyleAt(r-1);if(i.getLength())return i.getInlineStyleAt(0);return lookUpwardForInlineStyle(e,n)}(t,n):function getInlineStyleForNonCollapsedSelection(e,t){var n=t.getStartKey(),r=t.getStartOffset(),i=e.getBlockForKey(n);if(r<i.getLength())return i.getInlineStyleAt(r);if(r>0)return i.getInlineStyleAt(r-1);return lookUpwardForInlineStyle(e,n)}(t,n)},EditorState.prototype.getBlockTree=function getBlockTree(e){return this.getImmutable().getIn(["treeMap",e])},EditorState.prototype.isSelectionAtStartOfContent=function isSelectionAtStartOfContent(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},EditorState.prototype.isSelectionAtEndOfContent=function isSelectionAtEndOfContent(){var e=this.getCurrentContent().getBlockMap().last(),t=e.getLength();return this.getSelection().hasEdgeWithin(e.getKey(),t,t)},EditorState.prototype.getDirectionMap=function getDirectionMap(){return this.getImmutable().get("directionMap")},EditorState.acceptSelection=function acceptSelection(e,t){return updateSelection(e,t,!1)},EditorState.forceSelection=function forceSelection(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),updateSelection(e,t,!0)},EditorState.moveSelectionToEnd=function moveSelectionToEnd(e){var t=e.getCurrentContent().getLastBlock(),n=t.getKey(),r=t.getLength();return EditorState.acceptSelection(e,new c({anchorKey:n,anchorOffset:r,focusKey:n,focusOffset:r,isBackward:!1}))},EditorState.moveFocusToEnd=function moveFocusToEnd(e){var t=EditorState.moveSelectionToEnd(e);return EditorState.forceSelection(t,t.getSelection())},EditorState.push=function push(e,t,n){if(e.getCurrentContent()===t)return e;var r="insert-characters"!==n,i=s.getDirectionMap(t,e.getDirectionMap());if(!e.getAllowUndo())return EditorState.set(e,{currentContent:t,directionMap:i,lastChangeType:n,selection:t.getSelectionAfter(),forceSelection:r,inlineStyleOverride:null});var o=e.getSelection(),a=e.getCurrentContent(),c=e.getUndoStack(),l=t;o!==a.getSelectionAfter()||function mustBecomeBoundary(e,t){var n=e.getLastChangeType();return t!==n||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}(e,n)?(c=c.push(a),l=l.set("selectionBefore",o)):"insert-characters"!==n&&"backspace-character"!==n&&"delete-character"!==n||(l=l.set("selectionBefore",a.getSelectionBefore()));var u=e.getInlineStyleOverride();-1===["adjust-depth","change-block-type","split-block"].indexOf(n)&&(u=null);var d={currentContent:l,directionMap:i,undoStack:c,redoStack:h(),lastChangeType:n,selection:t.getSelectionAfter(),forceSelection:r,inlineStyleOverride:u};return EditorState.set(e,d)},EditorState.undo=function undo(e){if(!e.getAllowUndo())return e;var t=e.getUndoStack(),n=t.peek();if(!n)return e;var r=e.getCurrentContent(),i=s.getDirectionMap(n,e.getDirectionMap());return EditorState.set(e,{currentContent:n,directionMap:i,undoStack:t.shift(),redoStack:e.getRedoStack().push(r),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:r.getSelectionBefore()})},EditorState.redo=function redo(e){if(!e.getAllowUndo())return e;var t=e.getRedoStack(),n=t.peek();if(!n)return e;var r=e.getCurrentContent(),i=s.getDirectionMap(n,e.getDirectionMap());return EditorState.set(e,{currentContent:n,directionMap:i,undoStack:e.getUndoStack().push(r),redoStack:t.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:n.getSelectionAfter()})},EditorState.prototype.getImmutable=function getImmutable(){return this._immutable},EditorState}();function updateSelection(e,t,n){return p.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function generateNewTreeMap(e,t){return e.getBlockMap().map(function(n){return i.generate(e,n,t)}).toOrderedMap()}function lookUpwardForInlineStyle(e,t){var n=e.getBlockMap().reverse().skipUntil(function(e,n){return n===t}).skip(1).skipUntil(function(e,t){return e.getLength()}).first();return n?n.getInlineStyleAt(n.getLength()-1):l()}e.exports=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.safeWindow="undefined"==typeof window?{addEventListener:()=>{},removeEventListener:()=>{},dispatchEvent:()=>!1,onpointerdown:!1,onpointermove:!1,onpointerup:!1,ontouchstart:!1,ontouchmove:!1,ontouchend:!1,onmousedown:!1,onmousemove:!1,onmouseup:!1,devicePixelRatio:1,scrollX:0,scrollY:0,location:{href:""},setTimeout:()=>0,clearTimeout:()=>{},setInterval:()=>0,clearInterval:()=>{},webkitConvertPointFromPageToNode:(e,t)=>t}:window},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15);var i;!function(e){e.canvas="CANVAS",e.export="EXPORT",e.thumbnail="THUMBNAIL",e.preview="PREVIEW"}(i=t.RenderTarget||(t.RenderTarget={}));t.RenderEnvironment=Object.assign({imageBaseURL:"",target:i.preview,zoom:1},r.safeWindow.FramerRenderEnvironment),t.executeInRenderEnvironment=function executeInRenderEnvironment(e,n){const r=Object.assign({},t.RenderEnvironment);Object.assign(t.RenderEnvironment,e);const i=n();return Object.assign(t.RenderEnvironment,r),i},t.setGlobalRenderEnvironment=function setGlobalRenderEnvironment(e){Object.assign(t.RenderEnvironment,e)},function(e){e.current=function current(){return t.RenderEnvironment.target},e.hasRestrictions=function hasRestrictions(){const n=t.RenderEnvironment.target;return n===e.canvas||n===e.export}}(i=t.RenderTarget||(t.RenderTarget={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function toolClassFor(e){if(e===r.Tools.Move)return o.MoveTool;if(e===r.Tools.Resize)return s.ResizeTool;if(e===r.Tools.Rotate)return a.RotateTool;if(e===r.Tools.CreateFrame)return c.CreateFrameTool;if(e===r.Tools.CreateRoundedFrame)return c.CreateRoundedFrameTool;if(e===r.Tools.CreateShapeContainer)return c.CreateShapeContainerTool;if(e===r.Tools.CreateStackComponent)return l.CreateStackComponentTool;if(e===r.Tools.CreateScrollComponent)return l.CreateScrollComponentTool;if(e===r.Tools.CreatePageComponent)return l.CreatePageComponentTool;if(e===r.Tools.Highlight)return i.HighlightTool;if(e===r.Tools.DirectSelect)return i.DirectSelectTool;if(e===r.Tools.Select)return u.SelectTool;if(e===r.Tools.Path)return h.VekterPathEngine;if(e===r.Tools.Pan)return d.PanTool;if(e===r.Tools.Zoom)return p.ZoomTool;if(e===r.Tools.ZoomSelect)return f.ZoomSelectTool;if(e===r.Tools.Radius)return g.RadiusTool;if(e===r.Tools.SampleColor)return m.SampleColorTool;if(e===r.Tools.Gradient)return v.GradientToolEngine;if(e===r.Tools.TextEdit)return y.TextEditTool;if(e===r.Tools.CreateText)return S.CreateTextTool;if(e===r.Tools.CreateRectangleShape)return b.CreateRectangleShapeTool;if(e===r.Tools.CreateOvalShape)return b.CreateOvalShapeTool;if(e===r.Tools.CreatePolygonShape)return b.CreatePolygonShapeTool;if(e===r.Tools.CreateStarShape)return b.CreateStarShapeTool;if(e===r.Tools.SlotConnect)return _.SlotConnectTool;if(e===r.Tools.NavigationLink)return C.NavigationLinkTool;if(e===r.Tools.Comment)return w.FeedbackTool;if(e!==r.Tools.Unknown)throw Error("missing case");return null}t.VekterTool=class VekterTool{constructor(){this.enum=r.Tools.Unknown,this.wantsAutoscrolling=!1,this.displaySelectionBox=!1,this.displaySelectionHandles=!1}start(){}stop(){}cancel(){}update(){}},t.toolClassFor=toolClassFor,t.newToolFor=function newToolFor(e,t){const n=toolClassFor(e);if(!n)throw Error("call with a known tool");return t?new n(t):new n};const r=n(9),i=n(798),o=n(398),s=n(805),a=n(806),c=n(402),l=n(811),u=n(400),h=n(406),d=n(179),p=n(407),f=n(245),g=n(823),m=n(412),v=n(826),y=n(414),S=n(831),b=n(832),_=n(833),C=n(835),w=n(836)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(28),i=n(262);t.framerChromeClassName="__framer-chrome";function svgURL(e){return function url(e,t){return`url(data:${e};charset=utf-8;base64,${btoa(t)})`}("image/svg+xml",e)}t.theme=new class CurrentTheme{constructor(){this.globalStyleRules=[],this.imageNameToVariableMap=new Map,this.activeTheme=i.lightTheme,this.layerPanelRowBackgroundImage="var()",this.name="current",this.tint="var()",this.tintDark="var()",this.componentTint="var()",this.toolbarBackground="var()",this.toolbarIconIndicator="var()",this.tabContentBackground="var()",this.tabContentBackgroundHover="var()",this.tabContentAccessoryBackground="var()",this.tabContentDivider="var()",this.toolSectionHeaderText="var()",this.toolText="var()",this.toolTextActive="var()",this.toolAccelerator="var()",this.scrollerThumbBackground="var()",this.canvasBackground="var()",this.rulerBackground="var()",this.rulerBorderColor="var()",this.rulerTextColor="var()",this.guideColor="var()",this.guideHighlightColor="var()",this.panelEmptyHeader="var()",this.panelEmptyText="var()",this.layerPanelRowOdd="var()",this.layerPanelRowEven="var()",this.layerPanelAccent="var()",this.layerPanelText="var()",this.layerPanelDimmedText="var()",this.layerPanelSelection="var()",this.layerPanelSelectionText="var()",this.layerPanelSelectionDimmedText="var()",this.layerPanelFieldPlaceholderText="var()",this.layerPanelMasterOrReplica="var()",this.layerPanelComponentLabel="var()",this.layerPanelComponentLabelSelected="var()",this.propertyPanelHeaderBackground="var()",this.propertyPanelBackground="var()",this.propertyPanelBackgroundDivider="var()",this.propertyPanelTitle="var()",this.propertyPanelLabel="var()",this.propertyPanelLabelInactive="var()",this.propertyPanelDivider="var()",this.propertyPanelInputBackground="var()",this.propertyPanelInputBorder="var()",this.propertyPanelInputBorderOverlay="var()",this.propertyPanelInputBorderInactive="var()",this.propertyPanelInputText="var()",this.propertyPanelInputTextInactive="var()",this.propertyPanelInputLabel="var()",this.propertyPanelInputLabelInactive="var()",this.propertyPanelButtonBorderPrimary="var()",this.propertyPanelButtonBackground="var()",this.propertyPanelButtonBackgroundInactive="var()",this.propertyPanelButtonBackgroundPrimary="var()",this.propertyPanelButtonBackgroundPressed="var()",this.propertyPanelButtonText="var()",this.propertyPanelButtonTextInactive="var()",this.propertyPanelButtonTextPrimary="var()",this.propertyPanelSegmentDivider="var()",this.propertyPanelHeaderBorder="var()",this.pinsFrameBorder="var()",this.colorSwatchBorder="var()",this.colorTokenSwatchBorder="var()",this.colorTokenRowBackgroundActive="var()",this.colorTokenLabel="var()",this.colorTokenPlaceholderPreviewBackground="var()",this.colorTokenPlaceholderPreviewBorder="var()",this.constraintsReferenceFrame="var()",this.codeExportPanelCSSText="var()",this.codeExportPanelCSSProp="var()",this.codeExportPanelCSSValueNumber="var()",this.codeExportPanelCSSValueString="var()",this.sectionHeaderText="var()",this.sectionHeaderPopUp="var()",this.searchPlaceholder="var()",this.searchPlaceholderFocused="var()",this.focusRing="var()",this.sliderKnobFill="var()",this.sliderKnobShadow="var()",this.sliderTrack="var()",this.sliderTrackHighlight="var()",this.sliderTrackInactive="var()",this.checkboxBackground="var()",this.checkboxBackgroundPressed="var()",this.checkboxBackgroundChecked="var()",this.checkboxBackgroundCheckedPressed="var()",this.checkboxBorder="var()",this.checkboxBorderChecked="var()",this.checkboxIndicator="var()",this.checkboxBorderInnerChecked="var()",this.popoverBackground="var()",this.popoverShadow="var()",this.popoverArrowBorder="var()",this.popoverArrowBorderFlipped="var()",this.layerCreatePreview="var()",this.frameTitle="var()",this.frameOutline="var()",this.framePreview="var()",this.framePreviewOutline="var()",this.selectionBox="var()",this.selectionBoxOutline="var()",this.selectionBoxBackground="var()",this.selectionBoxComponentBackground="var()",this.resizeBox="var()",this.resizeHandle="var()",this.resizeHandleOutline="var()",this.snapLine="var()",this.snapConstraint="var()",this.parentHighlight="var()",this.shapeContainerOutline="var()",this.segmentAnchor="var()",this.segmentAnchorOutline="var()",this.pathCurvePreview="var()",this.navigationConnectionLine="var()",this.textEditorOutline="var()",this.packageTitle="var()",this.packageTitleBackground="var()",this.packageTitleBorder="var()",this.packageTitleArrow="var()",this.packageIconBorder="var()",this.packageIconBackground="var()",this.packageTitleNewBadgeBackground="var()",this.packageTitleNewBadgeBorder="var()",this.packageTitleNewBadgeLabel="var()",this.componentItemBackground="var()",this.componentItemBorder="var()",this.componentItemLabel="var()",this.componentCategoryLabel="var()",this.componentsEmptyHeader="var()",this.componentsEmptyText="var()",this.componentsEmptyInactive="var()",this.componentsEmptyActive="var()",this.error="var()",this.errorText="var()",this.statusBarBackground="var()",this.statusBarBorder="var()",this.statusBarText="var()",this.statusBarActiveText="var()",this.statusBarUpdateItemActive="var()",this.statusBarErrorItemActive="var()",this.statusBarItemInactive="var()",this.webFrameBackground="var()",this.webFrameTitle="var()",this.webFrameMessage="var()",this.tooltipBackground="var()",this.tooltipCaretBackground="var()",this.tooltipColor="var()",this.feedbackSidebarBackground="var()",this.feedbackSidebarDivider="var()",this.feedbackTabBarBackground="var()",this.feedbackTabBarBorderBottom="var()",this.feedbackTabBarMenuSelected="var()",this.feedbackTabBarMenuDefault="var()",this.feedbackTabBarButtonBackground="var()",this.feedbackTabBarButtonBorder="var()",this.feedbackTabBarButtonText="var()",this.feedbackTabBarThreadTitle="var()",this.feedbackPrimaryText="var()",this.feedbackSecondaryText="var()",this.feedbackItemHover="var()",this.feedbackEllipsisColor="var()",this.feedbackFormBackground="var()",this.feedbackFormPlaceholder="var()",this.feedbackFormButton="var()",this.feedbackFormDivider="var()",this.feedbackFormBorder="var()",this.feedbackFormInputBackground="var()",Object.keys(this).forEach(e=>{"var()"===this[e]&&(this[e]=`var(--framerInternalUI-${e})`)})}updateActiveThemeStyleElement(e){this.styleElement=e,e&&(e.innerHTML=this.cssTextForActiveTheme())}addStyle(e,t){this.addGlobalStyle(`.__framer-chrome ${e.replace(",",", .__framer-chrome ")}`,t)}addGlobalStyle(e,t){let n=e+" {";for(const r in t){const e=r.replace(/([A-Z])/g,e=>`-${e[0].toLowerCase()}`);let i=t[r];"number"==typeof i&&(i="opacity"===e?`${i}`:`${i}px`),n+="\n"+e+": "+i+";\n"}n+="\n}\n",r(-1===this.globalStyleRules.indexOf(n),"theme.addStyle() must be called only once for any given rule"),this.globalStyleRules.push(n)}backgroundImage(e,t){const n=this.activeTheme;return`url(images/theme-${n?n.name:""}/${e}.${t||"svg"}?hash=635540a)`}setActiveTheme(e){if(this.activeTheme===e)return;this.activeTheme=e;const t=`images/theme-${e?e.name:""}/`;!function replaceImages(e){const n=e.getAttribute("style");if(n&&n.indexOf("images/theme-")>=0&&e.setAttribute("style",n.replace(/images\/theme-[\w]+\//g,t)),e.childNodes)for(const t of e.childNodes)t instanceof HTMLElement&&replaceImages(t)}(document.body)}cssTextForActiveTheme(){const e=this.activeTheme,t={layerPanelRowBackgroundImage:svgURL(`<svg xmlns='http://www.w3.org/2000/svg' width='1' height='56'><g><path d='M 0 0 L 1 0 L 1 28 L 0 28 Z' style='fill:${e.layerPanelRowOdd}'></path><path d='M 0 28 L 1 28 L 1 56 L 0 56 Z' style='fill:${e.layerPanelRowEven}'></path></g></svg>`),checkboxCheckedBackgroundImage:svgURL(`<svg width='8' height='8' viewBox='0 0 8 8' xmlns='http://www.w3.org/2000/svg'><title>icon-checkmark</title><path d='M1 3l2 2 4-4v2L3 7 1 5z' style='fill:${e.checkboxIndicator}' fill-rule='evenodd'/></svg>`),checkboxUncheckedBackgroundImage:svgURL(`<svg width='8' height='8' viewBox='0 0 8 8' xmlns='http://www.w3.org/2000/svg'><title>icon-checkmark</title><path d='M1 3h6v2H1z' style='fill:${e.checkboxIndicator}' fill-rule='evenodd'/></svg>`)};let n=":root {";Object.keys(this).forEach(r=>{const i=this[r],o=e[r]||t[r];if("string"==typeof i&&i.startsWith("var(")&&"string"==typeof o){const e=i.substring("var(".length,i.length-")".length);n+=`${e}: ${o};`}});for(const[r,i]of this.imageNameToVariableMap)n+=`${i}: url(images/theme-${e?e.name:""}/${r}.svg);`;return n+="}",n+=`\n        body {\n            background: ${e.canvasBackground};\n        }`,n+=`\n        .__framer-chrome .tabBar,\n        .__framer-chrome .tabContent {\n            position: relative;\n        }\n\n        .__framer-chrome .tabBar::after,\n        .__framer-chrome .tabContent::after {\n            content: "";\n            position: absolute;\n            width: 1px;\n            height: 100%;\n            background: ${e.tabContentDivider};\n            top: 0;\n            right: 0;\n            z-index: 1001;\n        }\n\n        .__framer-chrome .tabBar::after {\n            right: -1px;\n        }`,n+="\n        .scroller::-webkit-scrollbar {\n            display: none;\n        }",n+=`\n        * {\n            box-sizing: inherit;\n            -webkit-user-select: none;\n            user-select: none;\n        }\n        .__framer-chrome input:enabled,\n        .__framer-chrome textarea:enabled,\n        [contenteditable="true"],\n        [contenteditable="true"] * {\n            -webkit-user-select: text;\n            user-select: text;\n        }\n\n        .__framer-chrome input[type="submit"] {\n            -webkit-appearance: none;\n            border: none;\n            outline: none;\n        }\n\n        .__framer-chrome input:focus:not([type="checkbox"]),\n        .__framer-chrome select:focus {\n            border-color: ${e.focusRing};\n        }\n\n        .__framer-chrome .force-focus-border:focus {\n            border-color: ${e.focusRing} !important;\n        }\n\n        /* Enforce blue borders in the property panel */\n        .__framer-chrome .propertyPanel input:focus:not([type="checkbox"]),\n        .__framer-chrome .propertyPanel select:focus,\n        .__framer-chrome .popover-input:focus {\n            border-color: ${e.focusRing} !important;\n        }\n\n        .__framer-chrome input:focus,\n        .__framer-chrome select:focus,\n        .__framer-chrome .popover-input:focus {\n            outline: none;\n        }\n\n        /* To show the cursor is Safari when empty */\n        [contenteditable="true"] > * {\n            outline: 1px solid transparent;\n        }\n\n        /* Color the cursor using CSS var, see TextEditor.tsx */\n        [contenteditable="true"] {\n            color: var(--cursor-color);\n        }`,n+=`\n        .__framer-chrome .searchPlaceholder::-webkit-input-placeholder {\n            color: ${e.searchPlaceholder};\n        }\n\n        .__framer-chrome .searchPlaceholder:focus::-webkit-input-placeholder {\n            color: ${e.searchPlaceholderFocused};\n        }\n\n        .__framer-chrome .layerPanelPlaceholder::-webkit-input-placeholder {\n            color: ${e.layerPanelFieldPlaceholderText};\n            position: relative;\n            top: 1px; /* FIXME: this fixes the offset placeholder text vs field content, but should be resolved using the base styling */\n        }`,n+=`\n        .__framer-chrome .inputButton {\n            background-color: ${e.propertyPanelButtonBackground};\n        }\n\n        .__framer-chrome .inputButton:active:hover {\n            background-color: ${e.propertyPanelButtonBackgroundPressed};\n        }`,n+=`\n        .__framer-chrome input[type="range"] {\n            -webkit-appearance: none;\n            background-color: transparent;\n            height: 19px;\n            padding-top: 4px;\n        }\n\n        .__framer-chrome input[type="range"]::-webkit-slider-runnable-track {\n            background: linear-gradient(to right, ${e.sliderTrackHighlight} calc(var(--progress)), ${e.sliderTrack} calc(var(--progress)));\n            height: 2px;\n            border-radius: 2px;\n            will-change: transform;\n        }\n\n        .__framer-chrome input:disabled[type="range"]::-webkit-slider-runnable-track {\n            background: ${e.sliderTrackInactive};\n        }\n\n        .__framer-chrome input[type="range"]::-webkit-slider-thumb {\n            -webkit-appearance: none;\n            background-color: ${e.sliderKnobFill};\n            box-shadow: ${e.sliderKnobShadow};\n            opacity: 1;\n            margin-top: -3px;\n            width: 8px;\n            height: 8px;\n            border-radius: 4px;\n            will-change: transform;\n        }\n\n        .__framer-chrome input:disabled[type="range"]::-webkit-slider-thumb {\n            display: none;\n        }\n\n        .__framer-chrome input[type="range"]:focus {\n            outline: none;\n        }`,n+=`\n        .__framer-chrome input[type="checkbox"] {\n            position: relative;\n            display: inline-block;\n            width: 12px;\n            height: 12px;\n            border-radius: 2px;\n            border: 1px solid ${e.checkboxBorder};\n            background-color: ${e.checkboxBackground};\n            -webkit-appearance: none;\n            background-repeat: no-repeat;\n            background-position: center\n        }\n\n        .__framer-chrome input[type="checkbox"]:checked, input[type="checkbox"]:indeterminate {\n            border-color: ${e.checkboxBorderChecked};\n            background-color: ${e.checkboxBackgroundChecked};\n            background-image: ${t.checkboxCheckedBackgroundImage};\n        }\n\n        .__framer-chrome input[type="checkbox"]:indeterminate {\n            background-image: ${t.checkboxUncheckedBackgroundImage};\n        }\n\n        .__framer-chrome input[type="checkbox"]:active:hover {\n            background-color: ${e.checkboxBackgroundPressed}\n        }\n\n        .__framer-chrome input[type="checkbox"]:checked:active:hover,\n        .__framer-chrome input[type="checkbox"]:indeterminate:active:hover {\n            background-color: ${e.checkboxBackgroundCheckedPressed};\n        }\n\n        .__framer-chrome input[type="checkbox"]:disabled:indeterminate,\n        .__framer-chrome input[type="checkbox"]:disabled:indeterminate:active,\n        .__framer-chrome input[type="checkbox"]:disabled:indeterminate:hover {\n            background-color: ${e.checkboxBackground};\n        }\n        .__framer-chrome input[type="checkbox"]:disabled,\n        .__framer-chrome input[type="checkbox"]:disabled:active,\n        .__framer-chrome input[type="checkbox"]:disabled:hover {\n            background-color: ${e.checkboxBackground};\n            border-color: ${e.checkboxBorder};\n        }`,n+=`\n        .__framer-chrome input[type="radio"] {\n            position: relative;\n            display: inline-block;\n            width: 12px;\n            height: 12px;\n            margin-right: 5px;\n            border-radius: 12px;\n            border: 1px solid ${e.checkboxBorder};\n            background-color: ${e.checkboxBackground};\n            -webkit-appearance: none;\n        }\n\n        .__framer-chrome input[type="radio"]:checked {\n            background-color: ${e.checkboxBackgroundChecked};\n            border-color: ${e.checkboxBorderChecked};\n        }\n\n        .__framer-chrome input[type="radio"]:checked::after {\n            content: "";\n            position: absolute;\n            top: 2px;\n            left: 2px;\n            width: 4px;\n            height: 4px;\n            border-radius: 50%;\n            background-color: ${e.checkboxIndicator};\n            border: 1px solid ${e.checkboxBorderInnerChecked};\n        }`,n+=this.globalStyleRules.join("\n\n")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(1),o=n(6),s=n(20),a=n(108),c=n(91),l=n(26),u=n(36),h=n(63),d=n(240),p=n(77),f=n(23),g=n(41),m=n(107);function groupPathSegmentSelectors(e){const t={};return e.forEach(e=>{t[e.id]||(t[e.id]=[]),t[e.id].push(e.index)}),t}function oppositeHandle(e,t){return t.handle===g.SegmentHandle.In?{x:e.handleOutX,y:e.handleOutY}:{x:e.handleInX,y:e.handleInY}}function collectDescendantPaths(e,t,n,r){if(o.isShapeGroupNode(t)||o.isBooleanShapeNode(t)||o.isShapeContainerNode(t))for(const i of t.children)u.hasShape(i)&&collectDescendantPaths(e,i,n,r);else if(a.hasPath(t)){let i=convertPathToCanvas(e,t,t)[0].pathSegments;r&&(i=convertPathToNode(e,r,[{pathSegments:i,pathClosed:t.pathClosed}])[0]),n[t.id]={pathSegments:i,pathClosed:t.pathClosed}}}function collectDescendantBasicShapes(e,t,n,r=!1,s=!1,c){if(o.isShapeGroupNode(t)||o.isBooleanShapeNode(t)||o.isShapeContainerNode(t))for(const i of t.children){const t=l.hasRotation(i)&&i.rotation%90!=0||r;u.hasShape(i)&&collectDescendantBasicShapes(e,i,n,t,s,c)}else if(!a.hasPath(t)&&u.hasShape(t))if(r||s)n[t.id]=null;else{const r=i.Rect.cornerPoints(i.Rect.atOrigin(e.getRect(t)));n[t.id]=r.map(n=>{const r=e.convertPointToCanvas(t,n);return c?e.convertPointToNode(c,r,!0):r})}}function convertPathToCanvas(e,t,n,r=1,i=!1){let o=[];return(o=Array.isArray(n)?n:[n]).map(({pathSegments:n,pathClosed:o})=>{return{pathSegments:n.map(n=>convertSegmentToCanvas(e,t,n,r,void 0,i)),pathClosed:o}})}function convertSegmentToCanvas(e,t,n,r=1,o,s){const a=i.Point.multiply(e.convertPointToCanvas(t,n,!0,o),r);s&&(a.x=Math.floor(a.x)+.5,a.y=Math.floor(a.y)+.5);const c=i.Point.multiply(e.convertPointToCanvas(t,i.PathSegment.calculatedHandleIn(n),!0,o),r),l=i.Point.multiply(e.convertPointToCanvas(t,i.PathSegment.calculatedHandleOut(n),!0,o),r),u=i.Point.subtract(c,a),h=i.Point.subtract(l,a);return n.merge(Object.assign({},a,{handleOutX:h.x,handleOutY:h.y,handleInX:u.x,handleInY:u.y}))}function convertPathToParent(e,t,n){let r;if(n){const t=Object.assign({},e,n);r=(new WebKitCSSMatrix).translate(t.x,t.y).rotate(0,0,t.rotation),r=(new WebKitCSSMatrix).translate(.5*t.width,.5*t.height).multiply(r).translate(-.5*t.width,-.5*t.height)}else r=e.transformMatrix(null,e);return t.map(({pathSegments:t,pathClosed:i})=>({pathSegments:t.map(t=>convertSegmentToParent(e,t,n,r)),pathClosed:i}))}function convertSegmentToParent(e,t,n,r){let o;if(r)o=r;else if(n){const t=Object.assign({},e,n);o=(new WebKitCSSMatrix).translate(t.x,t.y).rotate(0,0,t.rotation),o=(new WebKitCSSMatrix).translate(.5*t.width,.5*t.height).multiply(o).translate(-.5*t.width,-.5*t.height)}else o=e.transformMatrix(null,e);const s=p.default.convertPoint(o,t),a=p.default.convertPoint(o,i.PathSegment.calculatedHandleIn(t)),c=p.default.convertPoint(o,i.PathSegment.calculatedHandleOut(t)),l=i.Point.subtract(a,s),u=i.Point.subtract(c,s);return t.merge(Object.assign({},s,{handleOutX:u.x,handleOutY:u.y,handleInX:l.x,handleInY:l.y}))}function convertPathToNode(e,t,n){return n.map(({pathSegments:n})=>n.map(n=>{const r=e.convertPointToNode(t,n),o=e.convertPointToNode(t,i.PathSegment.calculatedHandleIn(n)),s=e.convertPointToNode(t,i.PathSegment.calculatedHandleOut(n)),a=i.Point.subtract(o,r),c=i.Point.subtract(s,r);return n.merge(Object.assign({},r,{handleOutX:c.x,handleOutY:c.y,handleInX:a.x,handleInY:a.y}))}))}function convertPoint(e,t,n){const r=(new WebKitCSSMatrix).translate(t.x,t.y).rotate(0,0,n),i=(new WebKitCSSMatrix).translate(.5*t.width,.5*t.height).multiply(r).translate(-.5*t.width,-.5*t.height);return p.default.convertPoint(i,e)}function offsetAndFilterChildren(e,t,n,r){for(let i=0,o=e.length;i<o;i++){const o=e[i],s=t[o.id];s.x-=n,s.y-=r;let a=!1;for(const e in s)if(s[e]!==o[e]){a=!0;break}a||delete t[o.id]}}function collectSubtreeShapeTransformUpdates(e,t,n,r){let i;const u=n[t.id];if(u)r[t.id]=Object.assign({x:t.x,y:t.y},u),i=t.calculatedPaths();else if(o.isShapeGroupNode(t)||o.isBooleanShapeNode(t)){const u=s.getChildren(t).map(t=>(function collectSubtreePathSegmentUpdates(e,t,n,r){let i;const u=n[t.id];if(o.isShapeGroupNode(t)||o.isBooleanShapeNode(t)){const a=s.getChildren(t).map(t=>collectSubtreePathSegmentUpdates(e,t,n,r));let u;u=o.isBooleanShapeNode(t)?t.pathBoolean:c.PathBooleanType.Join,i=d.CompoundShape.executePathBoolean(a,u);const[h,p]=updatedRectForBoundingBox(t,l.hasRotation(t)?t.rotation:0,i);r[t.id]=h;const f=p.x,g=p.y;offsetAndFilterChildren(t.children,r,f,g)}else if(u&&a.hasPath(t)){const e=t.updateForPath(u);r[t.id]=e,i=[Object.assign({pathSegments:t.pathSegments,pathClosed:t.pathClosed},u)]}else{if(u&&(t instanceof o.RectangleShapeNode||t instanceof o.OvalShapeNode||t instanceof o.StarShapeNode||t instanceof o.PolygonShapeNode)){r[t.id]=u;const e=h.BasicShape.calculatedPath(t,u)[0];return[f.default.offset(e,u)]}r[t.id]={x:t.x,y:t.y},i=t.calculatedPaths()}return convertPathToParent(t,i)})(e,t,n,r));let p;p=o.isBooleanShapeNode(t)?t.pathBoolean:c.PathBooleanType.Join,i=d.CompoundShape.executePathBoolean(u,p);const[g,m]=updatedRectForBoundingBox(t,l.hasRotation(t)?t.rotation:0,i);r[t.id]=g;const v=m.x,y=m.y;offsetAndFilterChildren(t.children,r,v,y)}else r[t.id]={x:t.x,y:t.y},i=t.calculatedPaths();return convertPathToParent(t,i,u)}function updatedRectForBoundingBox(e,t,n){const r=f.default.boundingBox(n),o=r.x,s=r.y,a={x:e.x+o,y:e.y+s,width:r.width,height:r.height},c=convertPoint({x:0,y:0},e,t),l=convertPoint({x:-o,y:-s},a,t),u=i.Point.subtract(c,l);return a.x+=u.x,a.y+=u.y,[a,{x:o,y:s}]}function curveAngle(e,t,n){const r=i.isStraightCurve(e,t);if(0===n){if(r)return i.Point.subtract(t,e);if(0!==e.handleOutX||0!==e.handleOutY){const t=i.PathSegment.calculatedHandleOut(e);return i.Point.subtract(t,e)}const n=i.PathSegment.calculatedHandleIn(t);return i.Point.subtract(n,e)}{if(r)return i.Point.subtract(e,t);if(0!==t.handleInX||0!==t.handleInY){const e=i.PathSegment.calculatedHandleIn(t);return i.Point.subtract(e,t)}const n=i.PathSegment.calculatedHandleOut(e);return i.Point.subtract(n,t)}}function copyShapeStyle(e){return{strokeEnabled:e.strokeEnabled,strokeAlignment:e.strokeAlignment,strokeWidth:e.strokeWidth,strokeColor:e.strokeColor,lineJoin:e.lineJoin,lineCap:e.lineCap,strokeMiterLimit:e.strokeMiterLimit,strokeDashArray:e.strokeDashArray,strokeDashOffset:e.strokeDashOffset,fillEnabled:e.fillEnabled,fillType:e.fillType,fillColor:e.fillColor,fillLinearGradient:e.fillLinearGradient,fillRadialGradient:e.fillRadialGradient,fillImage:e.fillImage,fillImageResize:e.fillImageResize,fillImagePixelWidth:e.fillImagePixelWidth,fillImagePixelHeight:e.fillImagePixelHeight,boxShadows:e.boxShadows}}t.groupPathSegmentSelectors=groupPathSegmentSelectors,t.roundedPoint=function roundedPoint(e,t){const n=1/t;return{x:Math.round(e.x*n)/n,y:Math.round(e.y*n)/n}},t.segmentHandlePoint=function segmentHandlePoint(e,t){const n=e.getNode(t.id);if(!n||!n.pathSegments)return null;const r=n.pathSegments.get(t.index),o=t.handle===g.SegmentHandle.In?i.PathSegment.calculatedHandleIn(r):i.PathSegment.calculatedHandleOut(r);return e.convertPointToCanvas(n,o)},t.oppositeHandle=oppositeHandle,t.handleUpdate=function handleUpdate(e,t,n,r,o){const s=e.getNode(t.id),a=s.pathSegments.get(t.index);return n=e.convertPointToNode(s,n),n=i.Point.subtract(n,a),s.pathSegments.update(t.index,e=>{let s=oppositeHandle(e,t),a="straight"===e.handleMirroring,c=e.handleMirroring;r&&(s=oppositeHandle(r,t),a="straight"===r.handleMirroring,c=r.handleMirroring),a&&(c="symmetric"),r&&o&&(c="disconnected"===c||"asymmetric"===c?"symmetric":"disconnected"),"symmetric"===c&&(s=i.Point.reverse(n));const l=t.handle===g.SegmentHandle.In,u=l?n.x:s.x,h=l?n.y:s.y,d=l?s.x:n.x,p=l?s.y:n.y;return new i.PathSegment(e.merge({handleOutX:d,handleOutY:p,handleInX:u,handleInY:h,handleMirroring:c}))})},t.collectDescendantShapesAndFlattenRotations=function collectDescendantShapesAndFlattenRotations(e,t,n=!1,i){const s=e.tree;let a=r.Map(),c=r.Map();if(!u.hasShape(t)&&!o.isShapeContainerNode(t))return{descendantPaths:a,descendantBasicShapes:c};const l={};collectDescendantPaths(s,t,l);const h=Object.keys(l);for(let r=0,o=h.length;r<o;r++){const e=h[r],t=l[e];a=a.set(e,t)}const d={};collectDescendantBasicShapes(s,t,d,n);const p=Object.keys(d);for(let r=0,o=p.length;r<o;r++){const e=p[r],t=d[e];c=c.set(e,t)}return c.forEach((t,n)=>{if(null!==t)return;const r=s.getNode(n);if(!m.ContextAction.flattenEnabled([r]))return;const[o,c]=m.ContextAction.flattenShape(e,r,!1,!0),l=c[0];a=a.set(o,l),i&&-1!==i.indexOf(n)&&e.toggleSelection([o])}),{descendantPaths:a,descendantBasicShapes:c}},t.collectShapeContainerDescendantShapesAndFlattenRotations=function collectShapeContainerDescendantShapesAndFlattenRotations(e,t){const n=e.tree;let i=r.Map(),s=r.Map();if(!o.isShapeContainerNode(t))return{shapeContainerDescendantPaths:i,shapeContainerDescendantBasicShapes:s};const a={};collectDescendantPaths(n,t,a,t);const c=Object.keys(a);for(let r=0,o=c.length;r<o;r++){const e=c[r],t=a[e];i=i.set(e,t)}const l={};collectDescendantBasicShapes(n,t,l,!1,!1,t);const u=Object.keys(l);for(let r=0,o=u.length;r<o;r++){const e=u[r],t=l[e];s=s.set(e,t)}return s.forEach((r,o)=>{if(null!==r)return;const s=n.getNode(o);if(!m.ContextAction.flattenEnabled([s]))return;const[a,c]=m.ContextAction.flattenShape(e,s,!1,!0),l=c[0],u=convertPathToNode(n,t,[l])[0];i=i.set(a,{pathSegments:u,pathClosed:!0})}),{shapeContainerDescendantPaths:i,shapeContainerDescendantBasicShapes:s}},t.collectDescendantPaths=collectDescendantPaths,t.collectDescendantBasicShapes=collectDescendantBasicShapes,t.convertPathToCanvasWithNewFrame=function convertPathToCanvasWithNewFrame(e,t,n,r,i){return{pathSegments:n.map(n=>convertSegmentToCanvas(e,t,n,1,i)),pathClosed:r}},t.convertPathToCanvas=convertPathToCanvas,t.convertSegmentToCanvas=convertSegmentToCanvas,t.convertPathToParent=convertPathToParent,t.convertSegmentToParent=convertSegmentToParent,t.convertPointToParent=function convertPointToParent(e,t,n){return p.default.convertPoint(e.transformMatrix(null,n||e),t)},t.reverseSegment=function reverseSegment(e){return e.merge({handleOutX:e.handleInX,handleOutY:e.handleInY,handleInX:e.handleOutX,handleInY:e.handleOutY})},t.convertPathToNode=convertPathToNode,t.convertPathFromNodeToDescendant=function convertPathFromNodeToDescendant(e,t,n,r){return r.map(({pathSegments:r})=>r.map(r=>{const o={x:r.x,y:r.y},s=e.convertPointFromNodeToDescendant(t,n,o),a=e.convertPointFromNodeToDescendant(t,n,i.PathSegment.calculatedHandleIn(r)),c=e.convertPointFromNodeToDescendant(t,n,i.PathSegment.calculatedHandleOut(r)),l=i.Point.subtract(a,s),u=i.Point.subtract(c,s);return r.merge(Object.assign({},s,{handleOutX:u.x,handleOutY:u.y,handleInX:l.x,handleInY:l.y}))}))},t.convertPath=function convertPath(e,t){return t.map(({pathSegments:t})=>t.map(t=>{const n=p.default.convertPoint(e,t),r=p.default.convertPoint(e,i.PathSegment.calculatedHandleIn(t)),o=p.default.convertPoint(e,i.PathSegment.calculatedHandleOut(t)),s=i.Point.subtract(r,n),a=i.Point.subtract(o,n);return t.merge(Object.assign({},n,{handleOutX:a.x,handleOutY:a.y,handleInX:s.x,handleInY:s.y}))}))},t.convertPoint=convertPoint,t.validBoundingBoxUpdatesForFrameNode=function validBoundingBoxUpdatesForFrameNode(e,t){const n={};return collectSubtreeShapeTransformUpdates(e,t,{},n),n},t.collectSubtreeShapeTransformUpdates=collectSubtreeShapeTransformUpdates,t.updatedRectForBoundingBox=updatedRectForBoundingBox,t.cloneNodeAndUpdatePath=function cloneNodeAndUpdatePath(e,t,n,r,i){const s=e.getParent(n.id),a=n.updateForPath(r);t.createPath(s?s.id:o.NullID,Object.assign({},a,{id:i,rotation:n.rotation},copyShapeStyle(n)))},t.generateSegmentSelection=function generateSegmentSelection(e,t,n){if(n===g.PathSelectionType.Segments)return t;const i=[],o=groupPathSegmentSelectors(t),s=Object.keys(o);for(let a=0,c=s.length;a<c;a++){const t=s[a],n=[],c=e.getNode(t),l=o[t],u=c.pathSegments.count();for(let e=0,r=l.length;e<r;e++){const t=l[e];n.push(t);const r=t+1;r===u?n.push(0):n.push(r)}const h=r.List(n).toArray();for(let e=0,r=h.length;e<r;e++){const t=h[e];i.push({id:c.id,index:t})}}return i},t.partOfSelection=function partOfSelection(e,t,n){for(const r of e)if(r.id===t&&r.index===n)return!0;return!1},t.canJoinPaths=function canJoinPaths(e,t,n,r){return e.id!==n.id&&f.default.isEndSegment(e.pathSegments,e.pathClosed,t.index)&&f.default.isEndSegment(n.pathSegments,n.pathClosed,r.index)},t.joinPaths=function joinPaths(e,t,n,r,i,o){let s=convertPathToNode(e,n,convertPathToCanvas(e,i,i))[0];const a=!f.default.isLastSegment(n.pathSegments,n.pathClosed,r.index),c=f.default.isLastSegment(i.pathSegments,i.pathClosed,o.index);let l;(!a&&c||a&&!c)&&(s=f.default.reverse(s)),l=a?n.pathSegments.unshift(...s.toArray()):n.pathSegments.push(...s.toArray()),t.deleteNode(i.id),function updateNodeWithPathAndBoundingBox(e,t,n){const r=t.updateForPath(n),i=t.id;e.updateNode(i,r)}(t,n,{pathSegments:l})},t.curveAngle=curveAngle,t.curveDerivative=function curveDerivative(e,t){const n=e.getNode(t.id);if(!n)return null;const r=n.pathSegments.get(t.segmentIndex),o=n.pathSegments.get(t.segmentIndex+1);if(!r||!o)return null;const s=convertSegmentToCanvas(e,n,r),a=convertSegmentToCanvas(e,n,o),c=t.projectedTime<.5?i.PathSegment.point(s):i.PathSegment.point(a),l=curveAngle(s,a,0);return i.Line(c,i.Point.add(c,l))},t.closestCurveDistance=function closestCurveDistance(e,t){const n=f.default.toBezierJS(e.calculatedPaths());let r=1/0;for(let i=0,o=n.length;i<o;i++){const e=n[i].project(t).d;e<r&&(r=e)}return r},t.closestCurve=function closestCurve(e,t,n,r){const o=5/r,s=t.cache.canvasRect;if(s){if(s.x-n.x>o)return null;if(s.y-n.y>o)return null;if(n.x-(s.x+s.width)>o)return null;if(n.y-(s.y+s.height)>o)return null}const a=f.default.toBezierJS(t,t),c=e.convertPointToNode(t,n);let l=-1,u=1/0,h=0;for(let i=0,f=a.length;i<f;i++){const e=a[i].project(c),t=e.d,n=e.t;t>=u||0===n||1===n||(u=t,l=i,h=n)}if(-1===l)return null;const d=a[l],p=d.get(h),g=d.get(.5),m=i.Point.distance(c,g)<o;return{id:t.id,segmentIndex:l,distance:u,projectedPoint:p,projectedTime:h,midPoint:g,midPointInRange:m}},t.copyShapeStyle=copyShapeStyle},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(75),i=n(140),o=n(21),s=n(73),a=n(22),c=n(62),l=n(6),u=n(1),h=n(74);t.basicChildrenDefaults={},t.instructionalChildrenDefaults={};const d="children";function hasChildren(e){return d in e&&void 0!==e.children}function findComponentIn(e,t,n){if(!n)return!1;if(n===t)return!0;if(o.isCodeComponentNode(n)){const r=Object.keys(n.codeComponentProps);for(const i of r){const r=n.codeComponentProps[i];if(Array.isArray(r))for(const n of r){if(n.type!==u.ControlType.ComponentInstance)continue;const r=n.value;if(r&&findComponentIn(e,t,e.get(r)))return!0}}}const r=n.children;if(!r)return!1;for(let i=0,o=r.length;i<o;i++)if(findComponentIn(e,t,r[i]))return!0;return!1}t.hasChildren=hasChildren,t.getChildren=function getChildren(e){return hasChildren(e)?e.children:[]},t.acceptsChild=function acceptsChild(e,t,n){if(t===n)return!1;if(t.originalid)return!1;if(!i.isDrawableNode(t)||!hasChildren(t))return!1;if(n instanceof r.RootNode)return!1;if(h.isSVGNode(t))return!1;if(l.isShapeContainerNode(t)&&!i.isVectorNode(n))return!1;if(i.isVectorNode(n)&&!l.isShapeContainerNode(t)&&!i.isVectorNode(t))return!1;if(o.isCodeComponentNode(t)){if(i.isVectorNode(n))return!1;if(!s.codeComponentWithChildInsertion(t))return!1}let u=!1,d=!1,p=!1;return n.walk(n=>{u||(o.isCodeComponentNode(n)&&(u=findComponentIn(e,t,n)),d||(d=a.isReplica(n)),p||(p=a.isMaster(n)))}),!(u||d&&c.TemplateHelper.isInMasterOfReplica(e,t,n))},t.findComponentIn=findComponentIn},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(33),o=n(34),s=n(132),a=n(29),c=n(730),l=n(44),u=n(73),h=n(368),d=n(228),p=n(229),f=n(138),g=n(144),m=n(169),v=n(180),y=n(1),S=n(92),b=n(71),_=n(847);function isCodeComponentNode(e){return e instanceof CodeComponentNode}t.isCodeComponentNode=isCodeComponentNode,t.isStackComponent=function isStackComponent(e){return!!e&&isCodeComponentNode(e)&&e.codeComponentIdentifier===S.HardCodedCodeIdentifier.stack};class CodeComponentNode extends(s.withPinsSizeRatioConstraints(o.default)){constructor(e){super(),a.setDefaults(this,c.CodeComponentRecord,e)}updateForRect(e,t){return l.updateConstrainedFrame(e,t,this.constraints(),this.constraintsLocked)}updateForSize(e,t){return l.updateConstrainedSize(e,t,this.constraintValues())}getComponentChildren(){if(u.codeComponentWithChildInsertion(this))return this.children||[];if(!this.cache.latest)return[];const e=this.tree(),{children:t}=this.codeComponentProps;if(e&&t){const n=this.component();if(!n||!n.properties||!n.properties.children)return[];const{type:r}=n.properties.children;if((r===y.ControlType.Array||r===y.ControlType.ComponentInstance)&&Array.isArray(t)){const n=[];for(let i=0,o=t.length;i<o;i++){const o=t[i];if(o.enabled&&o.value){const t=e.getNode(o.value);t&&n.push(t)}if(r===y.ControlType.ComponentInstance)break}return n}}return[]}getComponentSlotChildren(){const e={},t=this.getSlotKeys();for(const n of t){const t=this.codeComponentProps[n];e[n]=this.getNodesForSlotValues(t)}return e}getCodeComponentProps(){const e=this.component();if(!e||!e.properties)return{};const t={};if(!b.experiments.isOn("forceCodeComponentDomLayout")){const e=this.rect(this.cache.parentRect);e&&(t.width=e.width,t.height=e.height)}if(this.isStylable()){const e={overflow:this.clip?"hidden":"visible"},n=f.collectStyleFromNode(this);p.collectBoxShadowPropsForNode(this,n),m.collectFilterPropsForNode(this,n),g.collectBackgroundPropsForNode(this,n),r.collectVisualStyleFromProps(n,e),t.background=n.background,t._border=d.borderPropsForNode(this),t.style=e}const n=[],i=Object.keys(e.properties);for(let r=0,o=i.length;r<o;r++){const o=i[r];if("children"===o)continue;const s=e.properties[o],a=this.codeComponentProps[o];switch(s.type){case y.ControlType.File:case y.ControlType.Image:t[o]=a,n.push(o);break;case y.ControlType.FusedNumber:[o,s.toggleKey,...s.valueKeys].forEach(e=>t[e]=this.codeComponentProps[e]);break;case y.ControlType.Array:{const e=s.propertyControl.type;if(e===y.ControlType.ComponentInstance)t[o]=this.getNodesForSlotValues(a);else{if(!Array.isArray(a))continue;t[o]=[];for(const r of a)r.enabled&&(e!==y.ControlType.File&&e!==y.ControlType.Image||n.push([o,t[o].length]),t[o].push(r.value))}break}case y.ControlType.ComponentInstance:t[o]=this.getNodesForSlotValues(a);break;default:t[o]=a}}return n.length>0&&(t.__serverResources=n),S.HardCodedCodeIdentifier.all.includes(this.codeComponentIdentifier)&&(t.__fromCodeComponentNode=!0),t}getNodesForSlotValues(e){const t=[];if(!Array.isArray(e))return t;for(const n of e){if(!n.enabled)continue;const e=n.value;if(!e)continue;const r=this.tree().getNode(e);r&&t.push(r)}return t}getProps(){const e=Object.assign({},super.getProps(),this.newConstraintProperties(),{componentIdentifier:this.codeComponentIdentifier,visible:this.visible,style:{rotate:`${this.rotation}deg`,opacity:this.opacity}});return this.__unsafeIsGroundNode()&&(e.left=0,e.top=0),void 0===e.name&&this.name&&(e.name=this.name),e}component(){return i.componentLoader.componentForIdentifier(this.codeComponentIdentifier)}getSlotKeys(){const e=this.slotDictionary();return e?[...e.single,...e.multi]:[]}slotTitleForKey(e){const t=this.component();if(!t||!t.properties)return e;const n=t.properties[e];return n&&n.title||e}slotDictionary(){const e=this.component();if(!e)return null;const{properties:t}=e;if(!t)return null;const n={single:[],multi:[]},r=Object.keys(t);for(let i=0,o=r.length;i<o;i++){const e=r[i],o=t[e];if(o&&!_.isHidden(o,this))switch(o.type){case y.ControlType.ComponentInstance:n.single.push(e);break;case y.ControlType.Array:o.propertyControl.type===y.ControlType.ComponentInstance&&n.multi.push(e)}}return n}singleSlotWithContent(){const e=this.slots(),t=Object.keys(e);let n;for(const r of t){const e=this.codeComponentProps[r];if(e&&Array.isArray(e)&&0!==e.length){if(n)return null;n=r}}return n||null}anySlotContent(){const e=this.slotDictionary();if(!e)return!1;const t=[...e.single,...e.multi];for(const n of t){const e=this.codeComponentProps[n];if(e&&Array.isArray(e))for(let t=0,n=e.length;t<n;t++){const n=e[t];if(!n)continue;const r=n.value;if(r&&"string"==typeof r)return!0}}return!1}slots(){const e={},t=this.getSlotKeys();for(const n of t){const t=this.codeComponentProps[n];if(e[n]=[],t&&Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const i=t[r];if(!i)continue;const o=i.value;o&&"string"==typeof o&&e[n].push(o)}}return e}allSlotContent(){const e=this.slots(),t=Object.keys(e),n=[];for(const r of t){const t=e[r];n.push(...t)}return n}removeNodeFromSlotContent(e){if(!this.allSlotContent().includes(e))return;const t=Object.assign({},this.codeComponentProps),n=this.slots();let r=!1;for(const i in n)n.hasOwnProperty(i)&&n[i].includes(e)&&(t[i]=t[i].filter(t=>t.value!==e),r=!0);if(r){const e=this.tree();e&&this.id&&e.update(this.id,{codeComponentProps:t})}}providesFreeSpace(){const e=this.component();return!!e&&r.providesFreeSpace(e.class)}isStylable(){const e=this.component();return!e||!e.class||r.withStylable(e.class)}collectCSS(e){const t=this.component();if(!t||!r.withCSSExport(t.class))return;const n=t.class._cssExport(this.codeComponentProps),i=Object.keys(n);for(let r=0,o=i.length;r<o;r++){const t=i[r],o=n[t];e[t]=o}}framerComponent(){const e=this.component();return!!e&&"framer"===e.packageIdentifier}hasAutoSize(){const e=i.componentLoader.componentForIdentifier(this.codeComponentIdentifier);return!!e&&r.hasAutoSize(e.class)}autoSize(e){const t=i.componentLoader.componentForIdentifier(this.codeComponentIdentifier);if(this.children&&t&&r.hasAutoSize(t.class)){const n=this.children.map(t=>h.toMinSize(t,e)),r=v.invisibleChildIndexes(this);return t.class.autoSize(n,this.codeComponentProps,r)}return null}minSize(e){let t=null;if((this.widthType===r.DimensionType.Auto||this.heightType===r.DimensionType.Auto)&&this.children){const n=super.minSize(e);t=this.autoSize(n)}return r.ConstraintValues.toMinSize(this.constraintValues(),e,t)}size(e,t,n=!0){const{parentDirectedRect:i}=this.cache;if(i&&n)return{width:i.width,height:i.height};let o=null;if((this.widthType===r.DimensionType.Auto||this.heightType===r.DimensionType.Auto)&&this.children){const t=super.minSize(e);o=this.autoSize(t)}return r.ConstraintValues.toSize(this.constraintValues(),e,o,t)}rect(e){if(this.cache.parentDirectedRect)return Object.assign({},this.cache.parentDirectedRect);let t=null;if((this.widthType===r.DimensionType.Auto||this.heightType===r.DimensionType.Auto)&&this.children){const n=this.minSize(e);t=this.autoSize(n)}return r.ConstraintValues.toRect(this.constraintValues(),e,t,!0)}}t.default=CodeComponentNode},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HIDDEN_MASTER="hidden master",t.templateDefaults={isMaster:!1,isExternalMaster:null,replicaInfo:null};const r="isMaster";function hasTemplate(e){return r in e}function isReplica(e){return hasTemplate(e)&&!!e.replicaInfo}t.hasTemplate=hasTemplate,t.isMaster=function isMaster(e){return hasTemplate(e)&&e.isMaster},t.isHiddenMaster=function isHiddenMaster(e){return e.isExternalMaster},t.isExternalMaster=function isExternalMaster(e){const n=e.isExternalMaster;return n&&n!==t.HIDDEN_MASTER},t.isInternalHiddenMaster=function isInternalHiddenMaster(e){return e.isExternalMaster===t.HIDDEN_MASTER},t.isReplica=isReplica,t.isReplicaChild=function isReplicaChild(e){return!!e.originalid&&!isReplica(e)},t.isReplicaOrReplicaChild=function isReplicaOrReplicaChild(e){const t=isReplica(e),n=hasTemplate(e)&&null!==e.originalid&&!t;return t||n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(741),o=n(1),s=n(19),a=n(163);var c;function curveAngle(e,t,n){const r=Math.atan2(n.y-e.y,n.x-e.x)-Math.atan2(t.y-e.y,t.x-e.x),i=r>=0?r:2*Math.PI+r;return i<Math.PI?i:2*Math.PI-i}function maxRadius(e,t){return t*Math.tan(e/2)}function movePoint(e,t,n){const r=o.Point.distance(e,t);if(0===n||0===r)return e;const i=t.x-e.x,s=t.y-e.y,a=n/r;return{x:e.x+a*i,y:e.y+a*s}}!function(e){function toBezierJS(e,t){let n=null;if(t&&!t.mutable&&(n=t.cache).bezier)return n.bezier;const r=[];let s=[];return(s=Array.isArray(e)?e:[e]).forEach(({pathSegments:e,pathClosed:t})=>{for(let n=0,s=e.count();n<s;n++){const a=e.get(n);let c;if(n===s-1?t&&s>1&&(c=e.get(0)):c=e.get(n+1),c){const e=[o.PathSegment.point(a),o.PathSegment.calculatedHandleOut(a),o.PathSegment.calculatedHandleIn(c),o.PathSegment.point(c)],t=new i(e);r.push(t)}}}),!n||t&&t.mutable||(n.bezier=r),r}function isFirstSegment(e,t,n){return!t&&0===n}function isLastSegment(e,t,n){return!t&&n===e.count()-1}function radiusEnabledSegments(e,t){const n=[];for(let r=0,i=e.count();r<i;r++){if(i<3){n.push(!1);continue}const s=0===r,a=r===i-1;if(s&&!t){n.push(!1);continue}if(a&&!t){n.push(!1);continue}const c=s?e.last():e.get(r-1),l=a?e.first():e.get(r+1),u=e.get(r),h=o.isStraightCurve(c,u)&&o.isStraightCurve(u,l);n.push(h)}return n}e.toBezierJS=toBezierJS,e.isClosed=function isClosed(e){return Array.isArray(e)?!0===a.commonPropertyValue(e,"pathClosed"):e.pathClosed},e.boundingBox=function boundingBox(e){const t=toBezierJS(e),n=[],r=[];for(let c=0,l=t.length;c<l;c++){const e=t[c].bbox();n.push(e.x.min,e.x.max),r.push(e.y.min,e.y.max)}if(0===n.length)return{x:0,y:0,width:1,height:1};const i=Math.min(...n),o=Math.min(...r),s=Math.max(...n),a=Math.max(...r);return{x:i,y:o,width:Math.max(s-i,1),height:Math.max(a-o,1)}},e.anchorBoundingBox=function anchorBoundingBox(e){const t=[],n=[];for(let s=0,a=e.count();s<a;s++){const r=e.get(s);t.push(r.x),n.push(r.y)}const r=Math.min(...t),i=Math.max(...t),o=Math.min(...n);return{x:r,y:o,width:i-r,height:Math.max(...n)-o}},e.offset=function offset(e,t){return{pathSegments:e.pathSegments.map(e=>e.merge(o.Point.add(e,t))),pathClosed:e.pathClosed}},e.split=function split(e,t,n,r){const i=toBezierJS([{pathSegments:e,pathClosed:t}])[n].split(r);let s=n+1;n===e.count()-1&&(s=0);const a=e.get(n),c=e.get(s),l=o.isStraightCurve(a,c),u=i.left.points[1];let h=e.update(n,e=>l?e:new o.PathSegment(e.merge({handleOutX:u.x-e.x,handleOutY:u.y-e.y,handleMirroring:"asymmetric"})));const d=i.right.points[2];h=h.update(s,e=>l?e:new o.PathSegment(e.merge({handleInX:d.x-e.x,handleInY:d.y-e.y,handleMirroring:"asymmetric"})));const p=i.left.points[3],f=i.left.points[2],g=i.right.points[1],m=new o.PathSegment({x:p.x,y:p.y,handleInX:l?0:f.x-p.x,handleInY:l?0:f.y-p.y,handleOutX:l?0:g.x-p.x,handleOutY:l?0:g.y-p.y,handleMirroring:l?"straight":"asymmetric"});return h.insert(n+1,m)},e.isFirstSegment=isFirstSegment,e.isLastSegment=isLastSegment,e.isEndSegment=function isEndSegment(e,t,n){return isFirstSegment(0,t,n)||isLastSegment(e,t,n)},e.reverse=function reverse(e){return e.reverse().map(e=>s.reverseSegment(e))},e.canClose=function canClose(e,t,n,r){if(1===e.count())return!1;const i=isFirstSegment(0,t,n),o=isLastSegment(e,t,n),s=isFirstSegment(0,t,r),a=isLastSegment(e,t,r);return i&&a||o&&s},e.segmentIndexesToDelete=function segmentIndexesToDelete(e,t,n){const r=e.count(),i=!t||-1!==n.indexOf(r-1);return e.map((e,t)=>{const o=0===t,s=t===r-1,a=-1!==n.indexOf(t),c=-1!==n.indexOf(t-1);return o?a&&i:s?c&&i:a&&c}).toArray()},e.radiusEnabledSegments=radiusEnabledSegments,e.reduceRadius=function reduceRadius(e,t,n,r){if(null===n.radius)return;const i=radiusEnabledSegments(e,t);for(let o=0,s=e.count();o<s;o++){if(!i[o])continue;if(r&&-1===r.indexOf(o))continue;const t=e.get(o);if(void 0===n.radius)n.radius=t.radius;else if(n.radius!==t.radius)return void(n.radius=null)}},e.applyRadius=function applyRadius(e,t){const n=radiusEnabledSegments(e,t),i=[];for(let r=0,s=e.count();r<s;r++){const t=n[r],a=e.get(r);if(!t||0===a.radius){i.push(a);continue}const c=0===r,l=r===s-1,u=c?e.last():e.get(r-1),h=l?e.first():e.get(r+1);let d=1,p=1;const f=(c?n[s-1]:n[r-1])&&0!==u.radius,g=l?n[0]:n[r+1]&&0!==h.radius;f&&(d=a.radius/(u.radius+a.radius)),g&&(p=a.radius/(h.radius+a.radius));const m=o.Point.distance(u,a)*d,v=o.Point.distance(a,h)*p,y=Math.min(m,v);if(0===y){i.push(a);continue}const S=curveAngle(a,u,h),b=maxRadius(S,y),_=Math.min(a.radius,b),C=_/Math.tan(S/2),w=movePoint(a,u,C),x=movePoint(a,h,C),P=720/(180-180*S/Math.PI),T=4/3*Math.tan(Math.PI/P),k=movePoint(w,a,T*_),E=movePoint(x,a,T*_),O=o.Point.subtract(k,w),M=o.Point.subtract(E,x),F=new o.PathSegment(Object.assign({},w,{handleMirroring:"disconnected",handleOutX:O.x,handleOutY:O.y})),D=new o.PathSegment(Object.assign({},x,{handleMirroring:"disconnected",handleInX:M.x,handleInY:M.y}));i.push(F,D)}return{pathSegments:r.List(i),pathClosed:t}}}(c||(c={})),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(196);t.Animatable=r.Animatable,t.AnimatableObject=r.AnimatableObject,t.Cancel=r.Cancel,t.Change=r.Change,t.isAnimatable=r.isAnimatable;var i=n(197);t.UpdateObserver=i.UpdateObserver},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(5)),__export(n(655))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rotationDefaults={rotation:0};const r="rotation";function hasRotation(e){return r in e}t.hasRotation=hasRotation,t.isRotated=function isRotated(e){if(!hasRotation)return!1;if(e.cache&&e.cache.matrix)return function getRotationAngleFromMatrix(e){const{a:t,b:n}=e;return Math.round(Math.atan2(n,t)*(180/Math.PI))}(e.cache.matrix)%90!=0;return e.rotation%90!=0},t.reduceRotation=function reduceRotation(e,t){hasRotation(e)&&(void 0===t.rotation?t.rotation=e.rotation:null!==t.rotation&&e.rotation!==t.rotation&&(t.rotation=null))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(376),i=n(838),o=r.VekterEngine.shared();o.codeGenerator=new i.CodeGenerator(o),t.default=o},function(e,t,n){"use strict";(function(t){function compare(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function isBuffer(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var r=n(451),i=Object.prototype.hasOwnProperty,o=Array.prototype.slice,s="foo"===function foo(){}.name;function pToString(e){return Object.prototype.toString.call(e)}function isView(e){return!isBuffer(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var a=e.exports=ok,c=/\s*function\s+([^\(\s]*)\s*/;function getName(e){if(r.isFunction(e)){if(s)return e.name;var t=e.toString().match(c);return t&&t[1]}}function truncate(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function inspect(e){if(s||!r.isFunction(e))return r.inspect(e);var t=getName(e);return"[Function"+(t?": "+t:"")+"]"}function fail(e,t,n,r,i){throw new a.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function ok(e,t){e||fail(e,!0,t,"==",a.ok)}function _deepEqual(e,t,n,i){if(e===t)return!0;if(isBuffer(e)&&isBuffer(t))return 0===compare(e,t);if(r.isDate(e)&&r.isDate(t))return e.getTime()===t.getTime();if(r.isRegExp(e)&&r.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(isView(e)&&isView(t)&&pToString(e)===pToString(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===compare(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(isBuffer(e)!==isBuffer(t))return!1;var s=(i=i||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===i.expected.indexOf(t)||(i.actual.push(e),i.expected.push(t),function objEquiv(e,t,n,i){if(null==e||null==t)return!1;if(r.isPrimitive(e)||r.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var s=isArguments(e),a=isArguments(t);if(s&&!a||!s&&a)return!1;if(s)return e=o.call(e),t=o.call(t),_deepEqual(e,t,n);var c,u,h=l(e),d=l(t);if(h.length!==d.length)return!1;for(h.sort(),d.sort(),u=h.length-1;u>=0;u--)if(h[u]!==d[u])return!1;for(u=h.length-1;u>=0;u--)if(c=h[u],!_deepEqual(e[c],t[c],n,i))return!1;return!0}(e,t,n,i))}return n?e===t:e==t}function isArguments(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function expectedException(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(n){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function _throws(e,t,n,i){var o;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(i=n,n=null),o=function _tryBlock(e){var t;try{e()}catch(n){t=n}return t}(t),i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),e&&!o&&fail(o,n,"Missing expected exception"+i);var s="string"==typeof i,a=!e&&o&&!n;if((!e&&r.isError(o)&&s&&expectedException(o,n)||a)&&fail(o,n,"Got unwanted exception"+i),e&&o&&n&&!expectedException(o,n)||!e&&o)throw o}a.AssertionError=function AssertionError(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function getMessage(e){return truncate(inspect(e.actual),128)+" "+e.operator+" "+truncate(inspect(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=getName(t),o=r.indexOf("\n"+i);if(o>=0){var s=r.indexOf("\n",o+1);r=r.substring(s+1)}this.stack=r}}},r.inherits(a.AssertionError,Error),a.fail=fail,a.ok=ok,a.equal=function equal(e,t,n){e!=t&&fail(e,t,n,"==",a.equal)},a.notEqual=function notEqual(e,t,n){e==t&&fail(e,t,n,"!=",a.notEqual)},a.deepEqual=function deepEqual(e,t,n){_deepEqual(e,t,!1)||fail(e,t,n,"deepEqual",a.deepEqual)},a.deepStrictEqual=function deepStrictEqual(e,t,n){_deepEqual(e,t,!0)||fail(e,t,n,"deepStrictEqual",a.deepStrictEqual)},a.notDeepEqual=function notDeepEqual(e,t,n){_deepEqual(e,t,!1)&&fail(e,t,n,"notDeepEqual",a.notDeepEqual)},a.notDeepStrictEqual=function notDeepStrictEqual(e,t,n){_deepEqual(e,t,!0)&&fail(e,t,n,"notDeepStrictEqual",notDeepStrictEqual)},a.strictEqual=function strictEqual(e,t,n){e!==t&&fail(e,t,n,"===",a.strictEqual)},a.notStrictEqual=function notStrictEqual(e,t,n){e===t&&fail(e,t,n,"!==",a.notStrictEqual)},a.throws=function(e,t,n){_throws(!0,e,t,n)},a.doesNotThrow=function(e,t,n){_throws(!1,e,t,n)},a.ifError=function(e){if(e)throw e};var l=Object.keys||function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t}}).call(this,n(8))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(28),i=n(101),o=n(365),s=n(366);t.setDefaults=function setDefaults(e,t,n){Object.assign(e,t,n)};const a={mutable:!0,update:0};t.MutableNode=class MutableNode{constructor(e,t){this.mutable=!0,this.update=0,this.parentid=i.NullID,this.originalid=null,this.children=[],e?(Object.assign(this,e),this.id||(this.id=i.randomID()),this.cache||(this.cache=t||new o.NodeCache)):(this.id=i.randomID(),this.cache=t||new o.NodeCache)}toJS(){const e=Object.assign({},this);delete e.cache,delete e.update,delete e.mutable;for(const n in e){if("children"===n)continue;const t=e[n];void 0!==t&&(t&&t.toJS)instanceof Function&&(e[n]=t.toJS())}if(e.__class=this.constructor.name,e.replicaInfo)return e.children&&(e.children=[]),e;const t=e.children;return t&&(e.children=t.map(e=>e.toJS())),e}set(e,t){this.cache.latest&&(r(!e.id,"`id` should not be set"),r(!e.parentid,"`parentid` should not be set"),r(!e.children,"`children` should not be set"),r(!e.mutable,"`mutable` should not be set"),r(!e.update,"`update` should not be set"),r(!e.cache,"`cache` should not be set"));const n=this.asMutable(t);return Object.assign(n,e),n}clone(e){const t=new this.constructor;if(Object.assign(t,this,a,{cache:t.cache,id:t.id},e),e&&e.children)return t;const n=this.children;return n&&(t.children=n.map(e=>e.clone({parentid:t.id}))),t}cloneWithIds(e){const t=new this.constructor;Object.assign(t,this,a,{cache:t.cache},e);const n=this.children;return n&&(t.children=n.map(e=>e.cloneWithIds())),t}freeze(){return r(this.mutable,"Node must be mutable when freezing"),this.mutable=!1,this.cache.future=null,this.cache.reset(),s.USE_FREEZE&&Object.freeze(this),s.USE_FREEZE&&Object.freeze(this.children),this}preCommit(e){}preFreeze(e){}tree(){return this.cache.tree()}latest(){return this.tree().getCurrentOrFuture(this.id)}isMutable(){return this.mutable}asMutable(e){return this.mutable?this:(e||this.tree()).mutableFutureNode(this)}futureOrCurrent(){return this.cache.future?this.cache.future:this}getChild(e){return this.children?e<0||e>=this.children.length?null:this.children[e]:null}addChild(e){return r(this.mutable,"Node must be mutable when adding children"),r(this.children,"Node must have children"),this.children&&(e.parentid=this.id,this.children.push(e)),e}walk(e){e(this);const t=this.children;if(t)for(let n=0,r=t.length;n<r;n++){const r=t[n];r&&r.walk(e)}}walkWithPredicate(e){if(!e(this))return;const t=this.children;if(t)for(let n=0,r=t.length;n<r;n++){const r=t[n];r&&r.walkWithPredicate(e)}}find(e){if(e(this))return this;const t=this.children;if(t)for(let n=0,r=t.length;n<r;n++){const r=t[n].find(e);if(r)return r}return null}*ancestors(){const e=this.tree();let t=e.get(this.parentid);for(;t;)yield t,t=e.get(t.parentid)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.TreeStore=1]="TreeStore",e[e.Tree=2]="Tree",e[e.Selection=4]="Selection",e[e.Highlight=8]="Highlight",e[e.Arrows=16]="Arrows",e[e.ShapeContainerNodes=32]="ShapeContainerNodes",e[e.ToolStore=64]="ToolStore",e[e.Tool=128]="Tool",e[e.LeftPanelContent=256]="LeftPanelContent",e[e.Layout=512]="Layout",e[e.CanvasStore=1024]="CanvasStore",e[e.CanvasZoom=2048]="CanvasZoom",e[e.CanvasLiveTransform=4096]="CanvasLiveTransform",e[e.ComponentHash=8192]="ComponentHash",e[e.DebugStore=16384]="DebugStore",e[e.MouseStore=32768]="MouseStore",e[e.ChromePointerEvents=65536]="ChromePointerEvents",e[e.PathSelection=131072]="PathSelection",e[e.ChromeStore=262144]="ChromeStore",e[e.ServerStore=524288]="ServerStore",e[e.UserDefaultsStore=1048576]="UserDefaultsStore",e[e.DocumentSettings=2097152]="DocumentSettings",e[e.SelectionOutline=4194304]="SelectionOutline",e[e.TextStyle=8388608]="TextStyle",e[e.ExportStatus=16777216]="ExportStatus",e[e.StatusBar=33554432]="StatusBar",e[e.GradientTool=67108864]="GradientTool",e[e.ComponentPanel=134217728]="ComponentPanel",e[e.ColorPicker=268435456]="ColorPicker",e[e.FeedbackStore=536870912]="FeedbackStore",e[e.Rulers=1073741824]="Rulers"}(t.EngineChangeFlags||(t.EngineChangeFlags={}));t.EngineChanges=class EngineChanges{constructor(){this.addChanges=e=>{this.changes|=e},this.changeListenerKeys=[],this.changeListenerCallbacks=[]}get flags(){return this.changes}has(e){return 0!=(this.changes&e)}observe(e,t){return this.changeListenerKeys.push(e),this.changeListenerCallbacks.push(t),t}observeWithComponent(e,t,n){this.changeListenerKeys.push(e);const r=()=>t.setState(n());return this.changeListenerCallbacks.push(r),r}removeObserver(e){const t=this.changeListenerCallbacks.indexOf(e);t<0||(this.changeListenerKeys.splice(t,1),this.changeListenerCallbacks.splice(t,1))}signalAllObservers(){if(!this.changes)return;const e=this.changes,t=this.changeListenerKeys,n=this.changeListenerCallbacks;for(let r=0,i=t.length;r<i;r++)0!=(t[r]&e)&&n[r]();this.changes=0}signalObserversFor(e){const t=this.changeListenerKeys,n=this.changeListenerCallbacks;for(let r=0,i=t.length;r<i;r++)0!=(t[r]&e)&&n[r]();this.changes&=~e}}},function(e,t,n){"use strict";var r=n(42),i=n(494),o=n(304),s=n(3),a=n(496),c=n(498),l=n(155),u=n(501),h=n(502),d=n(13),p=n(503),f=n(305),g=n(504),m=n(505),v=s.OrderedSet,y={replaceText:function replaceText(e,t,n,i,o){var s=f(e,t),a=g(s,t),c=r.create({style:i||v(),entity:o||null});return h(a,a.getSelectionAfter(),n,c)},insertText:function insertText(e,t,n,r,i){return t.isCollapsed()||d(!1),y.replaceText(e,t,n,r,i)},moveText:function moveText(e,t,n){var r=l(e,t),i=y.removeRange(e,t,"backward");return y.replaceWithFragment(i,n,r)},replaceWithFragment:function replaceWithFragment(e,t,n){var r=f(e,t),i=g(r,t);return u(i,i.getSelectionAfter(),n)},removeRange:function removeRange(e,t,n){var r,i,s=void 0,a=void 0;t.getIsBackward()&&(t=t.merge({anchorKey:t.getFocusKey(),anchorOffset:t.getFocusOffset(),focusKey:t.getAnchorKey(),focusOffset:t.getAnchorOffset(),isBackward:!1})),r=t.getAnchorKey(),i=t.getFocusKey(),s=e.getBlockForKey(r),a=e.getBlockForKey(i);var l=t.getStartOffset(),u=t.getEndOffset(),h=s.getEntityAt(l),d=a.getEntityAt(u-1);if(r===i&&h&&h===d){var p=c(e.getEntityMap(),s,a,t,n);return g(e,p)}var m=t;o.draft_segmented_entities_behavior&&(m=c(e.getEntityMap(),s,a,t,n));var v=f(e,m);return g(v,m)},splitBlock:function splitBlock(e,t){var n=f(e,t),r=g(n,t);return m(r,r.getSelectionAfter())},applyInlineStyle:function applyInlineStyle(e,t,n){return i.add(e,t,n)},removeInlineStyle:function removeInlineStyle(e,t,n){return i.remove(e,t,n)},setBlockType:function setBlockType(e,t,n){return p(e,t,function(e){return e.merge({type:n,depth:0})})},setBlockData:function setBlockData(e,t,n){return p(e,t,function(e){return e.merge({data:n})})},mergeBlockData:function mergeBlockData(e,t,n){return p(e,t,function(e){return e.merge({data:e.getData().merge(n)})})},applyEntity:function applyEntity(e,t,n){var r=f(e,t);return a(r,t,n)}};e.exports=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(152),o=n(68);function isString(e){return"string"==typeof e}function constraintsEnabled(e){const{_constraints:t}=e;return!!t&&(!function containsInvalidStringValues(e){const{left:t,right:n,top:r,bottom:i,center:o}=e;return!![n,i].some(isString)||!(!isString(t)||o&&"y"!==o)||!(!isString(r)||o&&"x"!==o)}(e)&&t.enabled)}function sizeFromFiniteNumberProps(e){const{size:t}=e;let{width:n,height:r}=e;return o.isFiniteNumber(t)&&(void 0===n&&(n=t),void 0===r&&(r=t)),o.isFiniteNumber(n)&&o.isFiniteNumber(r)?{width:n,height:r}:null}function calculateRect(e,t,n=!0){if(!constraintsEnabled(e)||t===s.Disabled)return function rectFromFiniteNumberProps(e){const t=sizeFromFiniteNumberProps(e);if(null===t)return null;const{left:n,top:r}=e;return o.isFiniteNumber(n)&&o.isFiniteNumber(r)?Object.assign({x:n,y:r},t):null}(e);const r=getConstraintValues(e);return i.ConstraintValues.toRect(r,deprecatedParentSize(t),null,n)}function getConstraintValues(e){const{left:t,right:n,top:r,bottom:s,center:a,_constraints:c,size:l}=e;let{width:u,height:h}=e;void 0===u&&(u=l),void 0===h&&(h=l);const{aspectRatio:d,autoSize:p}=c,f=i.ConstraintMask.quickfix({left:o.isFiniteNumber(t),right:o.isFiniteNumber(n),top:o.isFiniteNumber(r),bottom:o.isFiniteNumber(s),widthType:i.valueToDimensionType(u),heightType:i.valueToDimensionType(h),aspectRatio:d||null,fixedSize:!0===p});let g=null,m=null,v=i.DimensionType.FixedNumber,y=i.DimensionType.FixedNumber;if(f.widthType!==i.DimensionType.FixedNumber&&"string"==typeof u){const e=parseFloat(u);u.endsWith("fr")?(v=i.DimensionType.FractionOfFreeSpace,g=e):"auto"===u?v=i.DimensionType.Auto:(v=i.DimensionType.Percentage,g=e/100)}else void 0!==u&&"string"!=typeof u&&(g=u);if(f.heightType!==i.DimensionType.FixedNumber&&"string"==typeof h){const e=parseFloat(h);h.endsWith("fr")?(y=i.DimensionType.FractionOfFreeSpace,m=e):"auto"===h?y=i.DimensionType.Auto:(y=i.DimensionType.Percentage,m=parseFloat(h)/100)}else void 0!==h&&"string"!=typeof h&&(m=h);let S=.5,b=.5;return!0!==a&&"x"!==a||(f.left=!1,"string"==typeof t&&(S=parseFloat(t)/100)),!0!==a&&"y"!==a||(f.top=!1,"string"==typeof r&&(b=parseFloat(r)/100)),{left:f.left?t:null,right:f.right?n:null,top:f.top?r:null,bottom:f.bottom?s:null,widthType:v,heightType:y,width:g,height:m,aspectRatio:f.aspectRatio||null,centerAnchorX:S,centerAnchorY:b}}var s;function deprecatedParentSize(e){return e===s.Unknown||e===s.Disabled?null:e}function useParentSize(){return r.useContext(t.ConstraintsContext).size}function isSize(e){return"object"==typeof e}t.constraintsEnabled=constraintsEnabled,t.calculateSize=function calculateSize(e,t){if(!constraintsEnabled(e)||t===s.Disabled)return sizeFromFiniteNumberProps(e);const n=getConstraintValues(e),r=i.ConstraintValues.toRect(n,deprecatedParentSize(t),null,!0);return{width:r.width,height:r.height}},t.calculateRect=calculateRect,function(e){e[e.Unknown=0]="Unknown",e[e.Disabled=1]="Disabled"}(s=t.ParentSizeState||(t.ParentSizeState={})),t.ConstraintsContext=r.createContext({size:s.Unknown}),t.deprecatedParentSize=deprecatedParentSize,t.useParentSize=useParentSize,t.isSize=isSize,t.ProvideParentSize=e=>{const n=useParentSize(),{parentSize:i,children:o}=e;if(n===s.Disabled)return o?r.createElement(r.Fragment,null,o):null;const a=isSize(i)?[i.width,i.height]:[i,-1],c=r.useMemo(()=>({size:i}),a);return r.createElement(t.ConstraintsContext.Provider,{value:c},o)},t.ConsumeParentSize=t.ConstraintsContext.Consumer,t.useProvideParentSize=function useProvideParentSize(e,n){return r.createElement(t.ProvideParentSize,{parentSize:n},e)},t.useConstraints=function useConstraints(e){return calculateRect(e,useParentSize())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(643);t.componentLoader=r.componentLoader,t.isErrorDefinition=r.isErrorDefinition,t.isDesignDefinition=r.isDesignDefinition,t.findMasters=r.findMasters,t.extractComponentDefinitionsFromScript=r.extractComponentDefinitionsFromScript,t.ComponentLoaderInterface=r.ComponentLoaderInterface,t.ProjectBundleGlobalEnvironment=r.ProjectBundleGlobalEnvironment,t.ProjectBundleScriptsMap=r.ProjectBundleScriptsMap},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(28),i=n(3),o=n(100),s=n(3),a=n(29),c=n(101),l=n(728);function revive(e){if(e){const t=e.__class;if("StyledTextDraft"===t)return new f.StyledTextDraft(void 0,e);t!==b.LinearGradient.name&&t!==_.RadialGradient.name||(e=u.gradientMigration(e))}return i.fromJS(e,immutableReviver)}function reviveGuidesInfo(e){return s.Set(e)}function reviveReplicaInfo(e){if(!e)return e;const{overrides:t}=e,n={};for(const r in t){const e=t[r],i=n[r]={};for(const t in e)i[t]="codeComponentProps"===t?e[t]:revive(e[t])}return Object.assign({},e,{overrides:n})}function reviveTokens(e,t){t=t||Object.keys(e);const n=[];for(const r of t){const t=e[r],i=canvasNodeFromValue(t,null,[]);i?n.push([i.id,i]):o.warn(`Could not revive token: ${t.name}`)}return s.OrderedMap(n)}function reviveCodeComponentProps(e){const t=Object.keys(e);for(const n of t){const t=e[n];if("object"==typeof t&&null!==t&&"__class"in t){const r=p.classMap[t.__class];r&&(e[n]=new r(t))}}return e}function canvasNodeFromValue(e,t,n){if(!e)return null;const r=e.id;if(!r)return n.push("node missing id"),null;const i=e.__class;if(!i)return n.push(`${r}: node missing __class`),null;const o=p.classMap[i];if(!o)return u.classMigrations[i]?canvasNodeFromValue(u.classMigrations[i](e),t,n):(n.push(`${r}: unknown node class ${i}`),null);e.parentid&&e.parentid!==t&&n.push(`${r}: parentid is different from parent. ${e.parentid} !== ${t}`);const s=new o;for(const a in e)"children"!==a&&(a.startsWith("_")||u.ignoredMigrations[i]&&u.ignoredMigrations[i][a]||(u.migrations[a]?"codeComponentProps"===a?u.migrations.codeComponentProps(s,e[a],reviveCodeComponentProps):u.migrations[a](s,e[a],revive):"guidesX"===a||"guidesY"===a?s[a]=reviveGuidesInfo(e[a]):"replicaInfo"===a?s.replicaInfo=reviveReplicaInfo(e[a]):"tokens"===a?s.tokens=reviveTokens(e[a],e.tokensIndex):"tokensIndex"===a||(a in s?s[a]=revive(e[a]):n.push(`${r} Not setting key '${a}' in object '${i}', value: ${e[a]}`))));if("parentid"in s&&(s.parentid=t),"mutable"in s&&(s.mutable=!0),s.originalid)return s;if(e.children){let t=e.children.map(e=>{return canvasNodeFromValue(e,r,n)}).filter(e=>!!e);if(y.isFrameNode(s)&&t.length>0&&t.every(g.isVectorNode)){const e=new m.default({top:0,left:0,width:s.width,height:s.height,parentid:s.id,children:t,fillEnabled:!1});t.forEach(t=>t.parentid=e.id),t=[e]}else{const e=[];t.forEach(t=>{if(g.isVectorNode(s)||m.isShapeContainerNode(s)){if(!g.isVectorNode(t))return;return void e.push(t)}if(!g.isVectorNode(t))return void e.push(t);const i={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0};if(v.collectBoundingBox(t,i,!1),!v.isValidBoundingBox(i))return void n.push(`${r}: could not wrap shape in container because of invalid bounding box`);const o=v.getRectContainingBoundingBox(i),a=new m.default({top:o.y,left:o.x,width:o.width,height:o.height,parentid:s.id,children:[t],fillEnabled:S.isRootNode(s)});t.parentid=a.id,t.x=t.x-i.minX,t.y=t.y-i.minY,e.push(a)}),t=e}s.children=t}return s}function immutableReviver(e,t){const n=t.get("__class");if(!n)return i.Iterable.isIndexed(t)?s.List(t):t;const r=p.classMap[n];return r?new r(t):t}t.default=class CanvasNode extends a.MutableNode{constructor(e){super({id:e},new l.CanvasNodeCache),this.visible=!1,this.name=null}static fromJS(e,t){return canvasNodeFromValue(e,c.NullID,t||[])}set(e,t){if(this.originalid){this.cache.templateProperties||(this.cache.templateProperties={});const t=Object.keys(e);for(const n of t){const t=e[n];this[n]!==t&&(this.cache.templateProperties[n]=t)}}const n=this.asMutable(t);return Object.assign(n,e),n}setIgnoringReplica(e,t){const n=this.asMutable(t);return Object.assign(n,e),n}preCommit(e){if(r(this===this.cache.future,"Pre-commit node must be its future"),d.isReplica(this)&&h.TemplateHelper.replicaWithChanges(e,this),d.isMaster(this)){const t=this.cache.replicaInstances;if(t)for(let n=0,i=t.length;n<i;n++){const i=e.getFuture(t[n]);i&&i.replicaInfo&&(r(i.replicaInfo.master===this.id,"Replica does not have expected master"),r(i.originalid,"Replica does not have original id"),i.asMutable(e))}}const t=this.cache.links;t&&t.forEach(t=>{const n=e.getFuture(t);n&&n.asMutable()})}rect(e=null){return{x:0,y:0,width:0,height:0}}updateForRect(e,t){return{x:0,y:0,width:0,height:0}}updateForSize(e,t){return{left:0,top:0,width:0,height:0}}transformMatrix(e,t){return new WebKitCSSMatrix}isEmptyGroup(){return!1}getProps(){return{key:this.id,id:c.stringFromNodeID(this.id),willChangeTransform:!1}}canvasMatrix(){const e=this.cache.matrix;if(!e)throw Error("shape matrix requested but does not exist");return e}providesFreeSpace(){return!1}hasAutoSize(){return!1}isSelected(){return this.cache.selected}__unsafeIsGroundNode(){return!!this.cache.latest&&this.tree().isGroundNode(this)}},t.revive=revive,t.reviveGuidesInfo=reviveGuidesInfo,t.reviveReplicaInfo=reviveReplicaInfo,t.reviveTokens=reviveTokens,t.canvasNodeFromValue=canvasNodeFromValue;const u=n(729),h=n(62),d=n(22),p=n(187),f=n(60),g=n(140),m=n(186),v=n(241),y=n(78),S=n(75),b=n(177),_=n(110)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(44);t.pinDefaults={constraintsLocked:!1,left:0,right:null,top:0,bottom:null,centerAnchorX:0,centerAnchorY:0,widthType:r.DimensionType.FixedNumber,heightType:r.DimensionType.FixedNumber};const o="constraintsLocked";function isPinnable(e){return o in e}t.isPinnable=isPinnable,t.reducePins=function reducePins(e,t,n){if(!isPinnable(t))return;if(t.cache.parentDirected)return;if(t.parentid===e.root.id)return;if(void 0===n.constraintsLocked?n.constraintsLocked=t.constraintsLocked:null!==n.constraintsLocked&&n.constraintsLocked!==t.constraintsLocked&&(n.constraintsLocked=null),null!==n.pinLeft){const e=!!r.isFiniteNumber(t.left);void 0===n.pinLeft?n.pinLeft=e:n.pinLeft!==e&&(n.pinLeft=null)}if(null!==n.pinRight){const e=!!r.isFiniteNumber(t.right);void 0===n.pinRight?n.pinRight=e:n.pinRight!==e&&(n.pinRight=null)}if(null!==n.pinTop){const e=!!r.isFiniteNumber(t.top);void 0===n.pinTop?n.pinTop=e:n.pinTop!==e&&(n.pinTop=null)}if(null!==n.pinBottom){const e=!!r.isFiniteNumber(t.bottom);void 0===n.pinBottom?n.pinBottom=e:n.pinBottom!==e&&(n.pinBottom=null)}if(null!==n.widthFactor){const e=t.widthType===r.DimensionType.Percentage;void 0===n.widthFactor?n.widthFactor=e:n.widthFactor!==e&&(n.widthFactor=null)}if(null!==n.heightFactor){const e=t.heightType===r.DimensionType.Percentage;void 0===n.heightFactor?n.heightFactor=e:n.heightFactor!==e&&(n.heightFactor=null)}const o=t.constraints();n.canSetTop&&!i.canSetConstraint(o,"top")&&(n.canSetTop=!1),n.canSetBottom&&!i.canSetConstraint(o,"bottom")&&(n.canSetBottom=!1),n.canSetLeft&&!i.canSetConstraint(o,"left")&&(n.canSetLeft=!1),n.canSetRight&&!i.canSetConstraint(o,"right")&&(n.canSetRight=!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.hasShape=function hasShape(e){return r.withShape(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(193);t.Color=r.Color,t.ColorMixOptions=r.ColorMixOptions;var i=n(455);t.ConvertColor=i.ConvertColor},function(e,t,n){"use strict";e.exports=function nullthrows(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sizeDefaults={width:100,height:100},t.pathSizeDefaults={width:1,height:1};const r="width";t.hasSize=function hasSize(e){return r in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lockDefaults={locked:!1};const r="locked";t.hasLock=function hasLock(e){return r in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(141),i=n(30);var o,s;!function(e){e[e.In=0]="In",e[e.Out=1]="Out"}(t.SegmentHandle||(t.SegmentHandle={})),function(e){e[e.Segments=0]="Segments",e[e.Curves=1]="Curves"}(o=t.PathSelectionType||(t.PathSelectionType={})),function(e){e[e.Full=1]="Full",e[e.Half=.5]="Half"}(s=t.PointRounding||(t.PointRounding={}));t.PathSelectionStore=class PathSelectionStore{constructor(e){this.addChanges=e,this.state={segmentSelection:[],selectionType:o.Segments,segmentHandle:null,segmentHovered:null,closestCurve:null,pointRounding:s.Half,snapConstraint:null}}validateSegmentSelection(e){this.state=function validateSelection(e,t){const n=[];for(let i=0,o=t.segmentSelection.length;i<o;i++){const r=t.segmentSelection[i],o=e.getNode(r.id);!o||r.index>=o.pathSegments.count()||n.push(r)}let r=t.segmentHandle;if(r){const t=e.getNode(r.id);(!t||r.index>=t.pathSegments.count())&&(r=null)}return Object.assign({},t,{segmentSelection:n,segmentHandle:r})}(e,this.state),this.addChanges(i.EngineChangeFlags.PathSelection)}setSegmentSelection(e,t){this.state=Object.assign({},this.state,{segmentSelection:e,selectionType:t}),this.addChanges(i.EngineChangeFlags.PathSelection)}toggleSegmentSelection(e,t){this.state.selectionType!==t&&(this.state=Object.assign({},this.state,{segmentSelection:e,selectionType:t}));const n=e.filter(e=>void 0===this.state.segmentSelection.find(t=>e.id===t.id&&e.index===t.index)),o=this.state.segmentSelection.filter(t=>void 0===e.find(e=>e.id===t.id&&e.index===t.index));this.state=Object.assign({},this.state,{segmentSelection:r.union(n,o)}),this.addChanges(i.EngineChangeFlags.PathSelection)}setSegmentHandle(e){this.state=Object.assign({},this.state,{segmentHandle:e}),this.addChanges(i.EngineChangeFlags.PathSelection)}setHoveredSegment(e){this.state=Object.assign({},this.state,{segmentHovered:e}),this.addChanges(i.EngineChangeFlags.PathSelection)}setClosestCurve(e){this.state=Object.assign({},this.state,{closestCurve:e}),this.addChanges(i.EngineChangeFlags.PathSelection)}setPathPointRounding(e){this.state=Object.assign({},this.state,{pointRounding:e}),this.addChanges(i.EngineChangeFlags.PathSelection)}setPathConstraint(e){this.state=Object.assign({},this.state,{snapConstraint:e}),this.addChanges(i.EngineChangeFlags.PathSelection)}}},function(e,t,n){"use strict";var r=n(3),i=r.Map,o=r.OrderedSet,s=r.Record,a=o(),c={style:a,entity:null},l=function(e){function CharacterMetadata(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CharacterMetadata),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(CharacterMetadata,e),CharacterMetadata.prototype.getStyle=function getStyle(){return this.get("style")},CharacterMetadata.prototype.getEntity=function getEntity(){return this.get("entity")},CharacterMetadata.prototype.hasStyle=function hasStyle(e){return this.getStyle().includes(e)},CharacterMetadata.applyStyle=function applyStyle(e,t){var n=e.set("style",e.getStyle().add(t));return CharacterMetadata.create(n)},CharacterMetadata.removeStyle=function removeStyle(e,t){var n=e.set("style",e.getStyle().remove(t));return CharacterMetadata.create(n)},CharacterMetadata.applyEntity=function applyEntity(e,t){var n=e.getEntity()===t?e:e.set("entity",t);return CharacterMetadata.create(n)},CharacterMetadata.create=function create(e){if(!e)return u;var t=i({style:a,entity:null}).merge(e),n=h.get(t);if(n)return n;var r=new CharacterMetadata(t);return h=h.set(t,r),r},CharacterMetadata}(s(c)),u=new l,h=i([[i(c),u]]);l.EMPTY=u,e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.aspectRatioDefaults={aspectRatio:null};const i="aspectRatio";function hasAspectRatio(e){return i in e}t.hasAspectRatio=hasAspectRatio,t.reduceAspectRatio=function reduceAspectRatio(e,t){if(!hasAspectRatio(e))return;const n=r.isFiniteNumber(e.aspectRatio);void 0===t.aspectRatioEnabled?t.aspectRatioEnabled=n:null!==t.aspectRatioEnabled&&t.aspectRatioEnabled!==n&&(t.aspectRatioEnabled=null)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(163),o=n(1);t.updateConstrainedFrame=(e,n,i,o)=>{const a=r.Rect.pixelAligned(e);return o?s(i,a,n):t.guessConstrainedFrame(a,n,i)},t.updateConstrainedSize=(e,t,n)=>{const i=o.ConstraintValues.toRect(n,t,null,!0),s={};return r.isFiniteNumber(n.aspectRatio)&&(r.isFiniteNumber(e.width)?e.height=e.width/n.aspectRatio:r.isFiniteNumber(e.height)&&(e.width=e.height*n.aspectRatio)),r.isFiniteNumber(e.width)&&(t&&n.widthType===o.DimensionType.Percentage?s.width=e.width/t.width:(s.widthType=o.DimensionType.FixedNumber,s.width=e.width)),r.isFiniteNumber(e.height)&&(t&&n.heightType===o.DimensionType.Percentage?s.height=e.height/t.height:(s.heightType=o.DimensionType.FixedNumber,s.height=e.height)),r.isFiniteNumber(s.width)&&null!==n.left&&null!==n.right&&(s.right=n.right-(s.width-i.width),s.widthType=o.DimensionType.FixedNumber),r.isFiniteNumber(s.height)&&null!==n.top&&null!==n.bottom&&(s.bottom=n.bottom-(s.height-i.height),s.heightType=o.DimensionType.FixedNumber),s},t.guessConstrainedFrame=(e,n,r,i,o)=>{const a=t.guessConstraints(e,n,r,i,o);return s(a,e,n)};t.guessConstraints=(e,n,i,s,a)=>{const c=i&&i.aspectRatio||a||null;let l=i&&i.fixedSize||!1;if(null===n)return{left:!0,top:!0,bottom:!1,right:!1,widthType:o.DimensionType.FixedNumber,heightType:o.DimensionType.FixedNumber,aspectRatio:c,fixedSize:l};if(void 0!==i&&(e=>!1===e.left&&!1===e.right&&!1===e.top&&!1===e.bottom&&e.widthType===o.DimensionType.Percentage&&e.heightType===o.DimensionType.Percentage)(i))return i;const u=.2*n.width,h=.2*n.height,d=r.Rect.center(e),p=Math.abs(d.x-n.width/2)<2,f=Math.abs(d.y-n.height/2)<2,g=t.pinValues(e,n);let m=(g.left||0)<u,v=(g.right||0)<u,y=(g.top||0)<h,S=(g.bottom||0)<h;m||v||p||((g.left||0)<=(g.right||0)?m=!0:v=!0),y||S||f||((g.top||0)<=(g.bottom||0)?y=!0:S=!0);const b=i?i.widthType:o.DimensionType.FixedNumber,_=i?i.heightType:o.DimensionType.FixedNumber,C=b!==o.DimensionType.FixedNumber,w=_!==o.DimensionType.FixedNumber;return C&&m&&v&&(p?v=m=!1:g.left<=g.right?v=!1:m=!1),w&&y&&S&&(f?S=y=!1:g.top<=g.bottom?S=!1:y=!1),void 0!==s&&(l=s),l&&m&&v&&(v=!1,m=!1),l&&y&&S&&(S=!1,y=!1),r.isFiniteNumber(c)&&y&&S&&m&&v&&((g.top||0)<=(g.bottom||0)?S=!1:y=!1),{left:m,top:y,right:v,bottom:S,widthType:b,heightType:_,aspectRatio:c,fixedSize:l}};const s=(e,n,r)=>{const{width:i,height:s}=n,{widthType:a,heightType:c}=e;if(null===r)return{width:i,height:s,left:n.x,top:n.y,right:null,bottom:null,widthType:o.DimensionType.FixedNumber,heightType:o.DimensionType.FixedNumber};const u=l(n,r),h=t.pinValues(n,r),d={centerAnchorX:u.x,centerAnchorY:u.y,top:e.top?h.top:null,bottom:e.bottom?h.bottom:null,left:e.left?h.left:null,right:e.right?h.right:null,widthType:a,heightType:c};return a===o.DimensionType.FixedNumber?d.width=i:a===o.DimensionType.Percentage&&(d.width=n.width/r.width),c===o.DimensionType.FixedNumber?d.height=s:c===o.DimensionType.Percentage&&(d.height=n.height/r.height),d};t.canSetConstraint=(e,t)=>!e.fixedSize||-1===["widthFactor","heightFactor","aspectRatio"].indexOf(t),t.setConstraint=(e,n,i)=>{if(!t.canSetConstraint(e,n))throw Error("Trying to solve constraint that can't be solved");const s=Object.assign({},e,{[n]:i});if(!i)return s;const l=e.widthType!==o.DimensionType.FixedNumber,u=e.heightType!==o.DimensionType.FixedNumber;return s.fixedSize?a(s,n):r.isFiniteNumber(s.aspectRatio)&&c(s,n)&&a(s,n),s.left&&s.right&&l&&(s.widthType=o.DimensionType.FixedNumber),s.top&&s.bottom&&u&&(s.heightType=o.DimensionType.FixedNumber),s};const a=(e,t)=>{switch(t){case"left":e.right=!1;break;case"right":e.left=!1;break;case"top":e.bottom=!1;break;case"bottom":e.top=!1}return e},c=(e,t)=>{const n=["top","bottom","left","right"].filter(e=>e!==t).map(t=>e[t]);return!0===i.commonValue(n)};t.pinValues=(e,t)=>({top:e.y,bottom:t.height-e.y-e.height,left:e.x,right:t.width-e.x-e.width});const l=(e,t)=>{const n=r.Rect.center(e);return{x:n.x/t.width,y:n.y/t.height}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visibilityDefaults={visible:!0};const r="visible";t.hasVisibility=function hasVisibility(e){return r in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);t.withExportDefaults={exportOptions:r.List([])},t.withExportIncludesBackgroundDefaults={exportIncludesBackground:!1};const i="exportOptions";t.hasExport=function hasExport(e){return i in e};const o="exportIncludesBackground";t.hasExportIncludesBackground=function hasExportIncludesBackground(e){return o in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.cursorImage=(e,t,n=12)=>{const i=r.isFiniteNumber(n)?n:n.x,o=r.isFiniteNumber(n)?n:n.y;return t?`-webkit-image-set(url(images/cursors/${e}.png) 1x, url(images/cursors/${e}@2x.png) 2x) ${i} ${o}, default`:`-webkit-image-set(url(images/cursors/${e}.png) 1x) ${i} ${o}, default`};const i=["resize-vertical","resize-diagonal-right","resize-horizontal","resize-diagonal-left"];t.rotationCursors=["rotate-top-center","rotate-top-right","rotate-mid-right","rotate-bottom-right","rotate-bottom-center","rotate-bottom-left","rotate-mid-left","rotate-top-left"];const o=(e,t,n)=>{const i=n[1],o=n[4];let s=r.Point.angle(o,i);(s+=202.5)<360&&(s+=360);const a=Math.floor(s/45);if(0===t){if(0===e)return a+7;if(1===e)return a+1}else if(.5===t){if(0===e)return a+6;if(1===e)return a+2}else{if(0===e)return a+5;if(.5===e)return a+4;if(1===e)return a+3}return a},s={x:10,y:1};t.pathExtensionCursor=function pathExtensionCursor(){return t.cursorImage("cursor-vector",!0,s)},t.pathCurveSplitCursor=function pathCurveSplitCursor(){return t.cursorImage("cursor-vector-add",!0,s)},t.pathClosingCursor=function pathClosingCursor(){return t.cursorImage("cursor-vector-point",!0,s)},t.disconnectCursor=function disconnectCursor(){return t.cursorImage("cursor-disconnect",!0,10)},t.addCursor=function addCursor(){return t.cursorImage("cursor-add",!0,10)},t.removeCursor=function removeCursor(){return t.cursorImage("cursor-remove",!0,10)},t.swapCursor=function swapCursor(){return t.cursorImage("cursor-swap",!0,{x:3,y:3})},t.resizing=(e,n)=>{const{fx:r,fy:s}=e,a=o(r,s,n),c=i[a%4];return t.cursorImage(c,!0)},t.rotating=(e,n)=>{const{fx:r,fy:i}=e,s=o(r,i,n),a=t.rotationCursors[s%8];return t.cursorImage(a,!0)},t.gradientRotate=e=>{(e+=202.5)<360&&(e+=360);const n=Math.floor(e/45),r=t.rotationCursors[n%8];return t.cursorImage(r,!0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(204),o=n(16),s=n(298),a=n(299);class Layer extends r.Component{constructor(){super(...arguments),this.previousZoom=o.RenderEnvironment.zoom}static applyWillChange(e,t){(e.props.willChangeTransform||o.RenderTarget.current()!==o.RenderTarget.canvas)&&(t.willChange="transform")}shouldComponentUpdate(e,t){return this.state!==t||!i.isEqual(this.props,e)}componentDidUpdate(e){const{zoom:t}=o.RenderEnvironment,n=a.elementForComponent(this);t!==this.previousZoom&&this.props.blendingMode&&"normal"!==this.props.blendingMode&&s.resetSetStyle(n,"mixBlendMode",this.props.blendingMode),this.props.clip&&0===this.props.radius&&0!==e.radius&&s.resetSetStyle(n,"overflow","hidden",!1),this.previousZoom=t}}Layer.defaultProps={},t.Layer=Layer},function(e,t,n){"use strict";var r={},i=Math.pow(2,24);e.exports=function generateRandomKey(){for(var e=void 0;void 0===e||r.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*i).toString(32);return r[e]=!0,e}},function(e,t,n){"use strict";var r=n(515),i=n(518),o=n(519),s=n(520);function compare(e,t,n,r){if(e===n)return!0;if(!n.startsWith(e))return!1;var o=n.slice(e.length);return!!t&&(o=r?r(o):o,i.contains(o,t))}function normalizePlatformVersion(e){return"Windows"===r.platformName?e.replace(/^\s*NT/,""):e}var a={isBrowser:function isBrowser(e){return compare(r.browserName,r.browserFullVersion,e)},isBrowserArchitecture:function isBrowserArchitecture(e){return compare(r.browserArchitecture,null,e)},isDevice:function isDevice(e){return compare(r.deviceName,null,e)},isEngine:function isEngine(e){return compare(r.engineName,r.engineVersion,e)},isPlatform:function isPlatform(e){return compare(r.platformName,r.platformFullVersion,e,normalizePlatformVersion)},isPlatformArchitecture:function isPlatformArchitecture(e){return compare(r.platformArchitecture,null,e)}};e.exports=o(a,s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(167),i=n(1),o="--token-";function tokenToCSSCustomProperty(e){return`${o}${e.id}`}function parseCSSVariable(e){const t=/var\((.+)\)/.exec(e);if(!t)return{};const n=t[1],[r,...i]=n.split(",");return{customProperty:r.trim(),fallback:i.join(",").trim()||void 0}}t.tokenToCSSCustomProperty=tokenToCSSCustomProperty,t.tokenToCSSVariable=function tokenToCSSVariable(e,t={}){const n=i.Color.isColor(e.value)?i.Color.toRgbString(i.Color(e.value)):e.value,r=`var(${tokenToCSSCustomProperty(e)}, ${n})`;return!0===t.excludeMetadata?r:`${r} ${function tokenMetadata(e,t){const n={name:e};return t&&t!==i.localPackageFallbackIdentifier&&(n.packageIdentifier=t),`/* ${JSON.stringify(n)} */`}(e.name,t.packageIdentifier)}`},t.tokenIdFromCSSVariable=function tokenIdFromCSSVariable(e){const{customProperty:t}=parseCSSVariable(e);return t?t.slice(o.length):null},t.fallbackValueFromCSSVariable=function fallbackValueFromCSSVariable(e){return parseCSSVariable(e).fallback||null},t.isTokenCSSVariable=function isTokenCSSVariable(e){return"string"==typeof e&&e.trim().startsWith(`var(${o}`)};t.TokenNode=class TokenNode{constructor(e){this.name="",this.value="",this.id=e||r()}toJS(){const e=Object.assign({},this);for(const t in e){const n=e[t];void 0===n&&delete e[t],(n&&n.toJS)instanceof Function&&(e[t]=n.toJS())}return e.__class=this.constructor.name,e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(285),i=n(170);const o=new class IpcRenderer extends r.EventEmitter{send(e,...t){window._bridge?window._bridge(e,...t):i.isDebugBuild&&console.warn("IPC message could not be sent",e,t)}};function onBridge(e,...t){if(!t)return;const n=t[0],r=t.slice(1);o.emit(n,...r)}function onBridgeRaw(e,...t){if(!t)return;const n=t[0],r=t.slice(1),i=null!==r?JSON.parse("["+r+"]"):r;o.emit(n,...i)}"undefined"!=typeof window&&(window._ipc=o),t.getIpcRenderer=()=>o,t.isElectron=function isElectron(){return window._isElectron},function main(){if(window._bridge)return window._onBridge=onBridge,void(window._onBridgeRaw=onBridgeRaw)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentReady="DocumentReady",t.DocumentSave="DocumentSave",t.DocumentSaveAs="DocumentSaveAs",t.DocumentSaveDialogStart="DocumentSaveDialogStart",t.DocumentSaveDialogEnd="DocumentSaveDialogEnd",t.DocumentLoaded="DocumentLoaded",t.DocumentLoadJSON="DocumentLoadJSON",t.DocumentInsertImage="DocumentInsertImage",t.DocumentInsertSVG="DocumentInsertSVG",t.DocumentReceivedImage="DocumentReceivedImage",t.DocumentSetImageBaseURL="DocumentSetImageBaseURLForExportTesting",t.DocumentSetProjectURL="DocumentSetProjectURL",t.DocumentKeepMouseCursorVisible="DocumentKeepMouseCursorVisible",t.ChooseImageDialog="ChooseImageDialog",t.ChooseFileDialog="ChooseFileDialog",t.ChooseImageDialogDrop="ChooseImageDialogDrop",t.ChooseMetadataImageDialog="ChooseMetadataImageDialog",t.ShowSaveDialog="ShowSaveDialog",t.ShowPathInFileViewer="ShowPathInFileViewer",t.OpenRelativePathExternally="OpenRelativePathExternally",t.CreateFileAtRelativePath="CreateFileAtRelativePath",t.CopyFileContentsAtRelativePath="CopyFileContentsAtRelativePath",t.RevealInFinder="RevealInFinder",t.DocumentCopyStyleToPasteboard="DocumentCopyStyleToPasteboard",t.DocumentPasteStyleFromPasteboard="DocumentPasteStyleFromPasteboard",t.DocumentCopyCSSToPasteboard="DocumentCopyCSSToPasteboard",t.DocumentCopySVGToPasteboard="DocumentCopySVGToPasteboard",t.DocumentDirty="DocumentDirty",t.VekterUserDefaultsChange="VekterUserDefaultsChange",t.FramesHintShownChanged="FramesHintShownChanged",t.TabContentWidthChanged="TabContentWidthChanged",t.DocumentCopy="DocumentCopy",t.DocumentPaste="DocumentPaste",t.ExportAction="ExportAction",t.ExportProgress="ExportProgress",t.ExportHTML="ExportHTML",t.ExportToPasteboard="ExportToPasteboard",t.GeneratePreview="GeneratePreview",t.ExportDragPreviewStart="ExportDragPreviewStart",t.Beep="Beep",t.PreviewLoaded="PreviewLoaded",t.UpdatePreview="UpdatePreview",t.UpdatePreviewSettings="UpdatePreviewSettings",t.TogglePreviewConsole="TogglePreviewConsole",t.OpenPreview="OpenPreview",t.OpenPreviewInspector="OpenPreviewInspector",t.PreviewErrors="PreviewErrors",t.SetPreviewSelectionLock="SetPreviewSelectionLock",t.PackageAdd="PackageAdd",t.PackageUpdateInfo="PackageUpdateInfo",t.ShowStoreView="ShowStoreView",t.ServerStoreData="ServerStoreData",t.ApplicationOpenURL="ApplicationOpenURL",t.ApplicationOpenMetadataFolder="ApplicationOpenMetadataFolder",t.ApplicationOpenREADME="ApplicationOpenREADME",t.MetricsContext="MetricsContext",t.OrganizationInfo="OrganizationInfo"},function(e,t,n){"use strict";n.r(t),n.d(t,"Action",function(){return h}),n.d(t,"ValueReaction",function(){return m}),n.d(t,"action",function(){return d}),n.d(t,"chain",function(){return ee}),n.d(t,"composite",function(){return L}),n.d(t,"crossfade",function(){return re}),n.d(t,"decay",function(){return k}),n.d(t,"delay",function(){return ie}),n.d(t,"everyFrame",function(){return M}),n.d(t,"inertia",function(){return O}),n.d(t,"keyframes",function(){return N}),n.d(t,"listen",function(){return H}),n.d(t,"merge",function(){return oe}),n.d(t,"mouse",function(){return Y}),n.d(t,"multicast",function(){return g}),n.d(t,"multitouch",function(){return K}),n.d(t,"parallel",function(){return ne}),n.d(t,"physics",function(){return A}),n.d(t,"pointer",function(){return Q}),n.d(t,"schedule",function(){return se}),n.d(t,"spring",function(){return E}),n.d(t,"stagger",function(){return ae}),n.d(t,"styler",function(){return ce}),n.d(t,"timeline",function(){return U}),n.d(t,"tween",function(){return I}),n.d(t,"value",function(){return v});var r=n(4),i=n(12),o=n(7),s=n(2),a=n(10),c=n(11),l=function(){return function Observer(e,t){var n=this,r=e.middleware,i=e.onComplete;this.isActive=!0,this.update=function(e){n.observer.update&&n.updateObserver(e)},this.complete=function(){n.observer.complete&&n.isActive&&n.observer.complete(),n.onComplete&&n.onComplete(),n.isActive=!1},this.error=function(e){n.observer.error&&n.isActive&&n.observer.error(e),n.isActive=!1},this.observer=t,this.updateObserver=function(e){return t.update(e)},this.onComplete=i,t.update&&r&&r.length&&r.forEach(function(e){return n.updateObserver=e(n.updateObserver,n.complete)})}}(),u=function(e,t,n){var r=t.middleware;return new l({middleware:r,onComplete:n},"function"==typeof e?{update:e}:e)},h=function(){function Action(e){void 0===e&&(e={}),this.props=e}return Action.prototype.create=function(e){return new Action(e)},Action.prototype.start=function(e){void 0===e&&(e={});var t=!1,n={stop:function(){}},i=this.props,o=i.init,s=Object(r.c)(i,["init"]),a=o(u(e,s,function(){t=!0,n.stop()}));return n=a?Object(r.a)({},n,a):n,t&&n.stop(),n},Action.prototype.applyMiddleware=function(e){return this.create(Object(r.a)({},this.props,{middleware:this.props.middleware?[e].concat(this.props.middleware):[e]}))},Action.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=1===e.length?e[0]:i.i.apply(void 0,e);return this.applyMiddleware(function(e){return function(t){return e(n(t))}})},Action}(),d=function(e){return new h({init:e})},p=function(e){function BaseMulticast(){var t=null!==e&&e.apply(this,arguments)||this;return t.subscribers=[],t}return Object(r.b)(BaseMulticast,e),BaseMulticast.prototype.complete=function(){this.subscribers.forEach(function(e){return e.complete()})},BaseMulticast.prototype.error=function(e){this.subscribers.forEach(function(t){return t.error(e)})},BaseMulticast.prototype.update=function(e){for(var t=0;t<this.subscribers.length;t++)this.subscribers[t].update(e)},BaseMulticast.prototype.subscribe=function(e){var t=this,n=u(e,this.props);return this.subscribers.push(n),{unsubscribe:function(){var e=t.subscribers.indexOf(n);-1!==e&&t.subscribers.splice(e,1)}}},BaseMulticast.prototype.stop=function(){this.parent&&this.parent.stop()},BaseMulticast}(function(){function Chainable(e){void 0===e&&(e={}),this.props=e}return Chainable.prototype.applyMiddleware=function(e){return this.create(Object(r.a)({},this.props,{middleware:this.props.middleware?[e].concat(this.props.middleware):[e]}))},Chainable.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=1===e.length?e[0]:i.i.apply(void 0,e);return this.applyMiddleware(function(e){return function(t){return e(n(t))}})},Chainable.prototype.while=function(e){return this.applyMiddleware(function(t,n){return function(r){return e(r)?t(r):n()}})},Chainable.prototype.filter=function(e){return this.applyMiddleware(function(t){return function(n){return e(n)&&t(n)}})},Chainable}()),f=function(e){function Multicast(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(Multicast,e),Multicast.prototype.create=function(e){return new Multicast(e)},Multicast}(p),g=function(){return new f},m=function(e){function ValueReaction(t){var n=e.call(this,t)||this;return n.scheduleVelocityCheck=function(){return o.b.postRender(n.velocityCheck)},n.velocityCheck=function(e){e.timestamp!==n.lastUpdated&&(n.prev=n.current)},n.prev=n.current=t.value||0,n.updateCurrent=function(e){return n.current=e},n.getVelocityOfCurrent=function(){return n.getSingleVelocity(n.current,n.prev)},t.initialSubscription&&n.subscribe(t.initialSubscription),n}return Object(r.b)(ValueReaction,e),ValueReaction.prototype.create=function(e){return new ValueReaction(e)},ValueReaction.prototype.get=function(){return this.current},ValueReaction.prototype.getVelocity=function(){return this.getVelocityOfCurrent()},ValueReaction.prototype.update=function(t){e.prototype.update.call(this,t),this.prev=this.current,this.updateCurrent(t);var n=Object(o.c)(),r=n.delta,i=n.timestamp;this.timeDelta=r,this.lastUpdated=i,o.b.postRender(this.scheduleVelocityCheck)},ValueReaction.prototype.subscribe=function(t){var n=e.prototype.subscribe.call(this,t);return this.subscribers[this.subscribers.length-1].update(this.current),n},ValueReaction.prototype.getSingleVelocity=function(e,t){return"number"==typeof e&&"number"==typeof t?Object(i.l)(e-t,this.timeDelta):Object(i.l)(parseFloat(e)-parseFloat(t),this.timeDelta)||0},ValueReaction}(p),v=function(e,t){return new m({value:e,initialSubscription:t})},y=[s.px,s.percent,s.degrees,s.vh,s.vw],S=function(e){return y.find(function(t){return t.test(e)})},b=function(e,t){return e(t)},_=function(e,t){var n=t.from,i=t.to,o=Object(r.c)(t,["from","to"]),s=S(n)||S(i),a=s.transform,c=s.parse;return e(Object(r.a)({},o,{from:"string"==typeof n?c(n):n,to:"string"==typeof i?c(i):i})).pipe(a)},C=function(e){return function(t,n){var i=n.from,o=n.to,s=Object(r.c)(n,["from","to"]);return t(Object(r.a)({},s,{from:0,to:1})).pipe(e(i,o))}},w=C(i.g),x=C(i.h),P=function(e,t){var n=function(e){var t=Object.keys(e),n=function(t,n){return void 0!==t&&!e[n](t)};return{getVectorKeys:function(e){return t.reduce(function(t,r){return n(e[r],r)&&t.push(r),t},[])},testVectorProps:function(e){return e&&t.some(function(t){return n(e[t],t)})}}}(t),r=n.testVectorProps,i=n.getVectorKeys;return function(t){if(!r(t))return e(t);var n=i(t),o=t[n[0]];return T(o)(e,t,n)}},T=function(e){return"number"==typeof e?b:function(e){return Boolean(S(e))}(e)?_:s.color.test(e)?w:s.complex.test(e)?x:b},k=P(function(e){return void 0===e&&(e={}),d(function(t){var n=t.complete,r=t.update,i=e.velocity,s=void 0===i?0:i,a=e.from,c=void 0===a?0:a,l=e.power,u=void 0===l?.8:l,h=e.timeConstant,d=void 0===h?350:h,p=e.restDelta,f=void 0===p?.5:p,g=e.modifyTarget,m=0,v=u*s,y=Math.round(c+v),S=void 0===g?y:g(y),b=o.b.update(function(e){var t=e.delta;m+=t;var i=-v*Math.exp(-m/d),s=i>f||i<-f;r(s?S+i:S),s||(o.a.update(b),n())},!0);return{stop:function(){return o.a.update(b)}}})},{from:s.number.test,modifyTarget:function(e){return"function"==typeof e},velocity:s.number.test}),E=P(function(e){return void 0===e&&(e={}),d(function(t){var n=t.update,r=t.complete,s=e.velocity,a=void 0===s?0:s,c=e.from,l=void 0===c?0:c,u=e.to,h=void 0===u?0:u,d=e.stiffness,p=void 0===d?100:d,f=e.damping,g=void 0===f?10:f,m=e.mass,v=void 0===m?1:m,y=e.restSpeed,S=void 0===y?.01:y,b=e.restDelta,_=void 0===b?.01:b,C=a?-a/1e3:0,w=0,x=h-l,P=l,T=P,k=o.b.update(function(e){var t=e.delta;w+=t;var s=g/(2*Math.sqrt(p*v)),c=Math.sqrt(p/v)/1e3;if(T=P,s<1){var l=Math.exp(-s*c*w),u=c*Math.sqrt(1-s*s);P=h-l*((C+s*c*x)/u*Math.sin(u*w)+x*Math.cos(u*w))}else{l=Math.exp(-c*w);P=h-l*(x+(C+c*x)*w)}a=Object(i.l)(P-T,t);var d=Math.abs(a)<=S,f=Math.abs(h-P)<=_;d&&f?(n(P=h),o.a.update(k),r()):n(P)},!0);return{stop:function(){return o.a.update(k)}}})},{from:s.number.test,to:s.number.test,stiffness:s.number.test,damping:s.number.test,mass:s.number.test,velocity:s.number.test}),O=P(function(e){var t=e.from,n=void 0===t?0:t,s=e.velocity,a=void 0===s?0:s,c=e.min,l=e.max,u=e.power,h=void 0===u?.8:u,p=e.timeConstant,f=void 0===p?700:p,g=e.bounceStiffness,m=void 0===g?500:g,v=e.bounceDamping,y=void 0===v?10:v,S=e.restDelta,b=void 0===S?1:S,_=e.modifyTarget;return d(function(e){var t,s=e.update,u=e.complete,d=n,p=n,g=!1,v=function(e){return void 0!==c&&e<=c},S=function(e){return void 0!==l&&e>=l},C=function(e){return v(e)||S(e)},w=function(e){s(e),d=p,p=e,a=Object(i.l)(p-d,Object(o.c)().delta),t&&!g&&function(e,t){return v(e)&&t<0||S(e)&&t>0}(e,a)&&P({from:e,velocity:a})},x=function(e,n){t&&t.stop(),t=e.start({update:w,complete:function(){n?n():u()}})},P=function(e){g=!0,x(E(Object(r.a)({},e,{to:v(e.from)?c:l,stiffness:m,damping:y,restDelta:b})))};if(C(n))P({from:n,velocity:a});else if(0!==a){var T=k({from:n,velocity:a,timeConstant:f,power:h,restDelta:C(n)?20:b,modifyTarget:_});x(T,function(){C(p)?P({from:p,velocity:a}):u()})}else u();return{stop:function(){return t&&t.stop()}}})},{from:s.number.test,velocity:s.number.test,min:s.number.test,max:s.number.test,damping:s.number.test,stiffness:s.number.test,modifyTarget:function(e){return"function"==typeof e}}),M=function(){return d(function(e){var t=e.update,n=0,r=o.b.update(function(e){var r=e.timestamp;n||(n=r),t(r-n)},!0,!0);return{stop:function(){return o.a.update(r)}}})},F=P(function(e){var t=e.from,n=void 0===t?0:t,r=e.to,o=void 0===r?1:r,s=e.ease,c=void 0===s?a.linear:s,l=e.reverseEase;return void 0!==l&&l&&(c=Object(a.createReversedEasing)(c)),d(function(e){var t=e.update;return{seek:function(e){return t(e)}}}).pipe(c,function(e){return Object(i.f)(n,o,e)})},{ease:function(e){return"function"==typeof e},from:s.number.test,to:s.number.test}),D=Object(i.c)(0,1),I=function(e){return void 0===e&&(e={}),d(function(t){var n,r=t.update,s=t.complete,c=e.duration,l=void 0===c?300:c,u=e.ease,h=void 0===u?a.easeOut:u,d=e.flip,p=void 0===d?0:d,f=e.loop,g=void 0===f?0:f,m=e.yoyo,v=void 0===m?0:m,y=e.repeatDelay,S=void 0===y?0:y,b=e.from,_=void 0===b?0:b,C=e.to,w=void 0===C?1:C,x=e.elapsed,P=void 0===x?0:x,T=e.flipCount,k=void 0===T?0:T,E=e.yoyoCount,O=void 0===E?0:E,M=e.loopCount,I=void 0===M?0:M,R=F({from:_,to:w,ease:h}).start(r),N=0,A=!1,B=function(e){var t;void 0===e&&(e=!1),R=F({from:_=(t=[w,_])[0],to:w=t[1],ease:h,reverseEase:e}).start(r)},L=function(){N=D(Object(i.j)(0,l,P)),R.seek(N)},j=function(){A=!0,n=o.b.update(function(e){var t,r=e.delta;P+=r,L(),!(t=A&&P>l+S)||(!t||g||p||v)&&(P=P-l-S,g&&I<g?(I++,1):p&&k<p?(k++,B(),1):v&&O<v&&(B(++O%2!=0),1))||(o.a.update(n),s&&o.b.update(s,!1,!0))},!0)},z=function(){A=!1,n&&o.a.update(n)};return j(),{isActive:function(){return A},getElapsed:function(){return Object(i.c)(0,l,P)},getProgress:function(){return N},stop:function(){z()},pause:function(){return z(),this},resume:function(){return A||j(),this},seek:function(e){return P=Object(i.f)(0,l,e),o.b.update(L,!1,!0),this},reverse:function(){return B(),this}}})},R=Object(i.c)(0,1),N=function(e){var t=e.easings,n=e.ease,o=void 0===n?a.linear:n,s=e.times,c=e.values,l=Object(r.c)(e,["easings","ease","times","values"]);t=Array.isArray(t)?t:function(e,t){return e.map(function(){return t||a.easeOut}).splice(0,e.length-1)}(c,t),s=s||function(e){var t=e.length;return e.map(function(e,n){return 0!==n?n/(t-1):0})}(c);var u=t.map(function(e,t){return F({from:c[t],to:c[t+1],ease:e})});return I(Object(r.a)({},l,{ease:o})).applyMiddleware(function(e){return function(e,t,n){var r=e.length,o=r-1,s=o-1,a=t.map(function(e){return e.start(n)});return function(t){t<=e[0]&&a[0].seek(0),t>=e[o]&&a[s].seek(1);for(var n=1;n<r&&!(e[n]>t||n===o);n++);var c=Object(i.j)(e[n-1],e[n],t);a[n-1].seek(R(c))}}(s,u,e)})},A=P(function(e){return void 0===e&&(e={}),d(function(t){var n=t.complete,r=t.update,s=e.acceleration,a=void 0===s?0:s,c=e.friction,l=void 0===c?0:c,u=e.velocity,h=void 0===u?0:u,d=e.springStrength,p=e.to,f=e.restSpeed,g=void 0===f?.001:f,m=e.from,v=void 0===m?0:m,y=o.b.update(function(e){var t=e.delta,s=Math.max(t,16);(a&&(h+=Object(i.k)(a,s)),l&&(h*=Math.pow(1-l,s/100)),void 0!==d&&void 0!==p)&&(h+=(p-v)*Object(i.k)(d,s));v+=Object(i.k)(h,s),r(v),!1!==g&&(!h||Math.abs(h)<=g)&&(o.a.update(y),n())},!0);return{set:function(e){return v=e,this},setAcceleration:function(e){return a=e,this},setFriction:function(e){return l=e,this},setSpringStrength:function(e){return d=e,this},setSpringTarget:function(e){return p=e,this},setVelocity:function(e){return h=e,this},stop:function(){return o.a.update(y)}}})},{acceleration:s.number.test,friction:s.number.test,velocity:s.number.test,from:s.number.test,to:s.number.test,springStrength:s.number.test}),B=function(e){var t=e.getCount,n=e.getFirst,r=e.getOutput,i=e.mapApi,s=e.setProp,a=e.startActions;return function(e){return d(function(c){var l=c.update,u=c.complete,h=c.error,d=t(e),p=r(),f=function(){return l(p)},g=0,m=a(e,function(e,t){var n=!1;return e.start({complete:function(){n||(n=!0,++g===d&&o.b.update(u))},error:h,update:function(e){s(p,t,e),o.b.update(f,!1,!0)}})});return Object.keys(n(m)).reduce(function(e,t){return e[t]=i(m,t),e},{})})}},L=B({getOutput:function(){return{}},getCount:function(e){return Object.keys(e).length},getFirst:function(e){return e[Object.keys(e)[0]]},mapApi:function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Object.keys(e).reduce(function(r,i){var o;return e[i][t]&&(n[0]&&void 0!==n[0][i]?r[i]=e[i][t](n[0][i]):r[i]=(o=e[i])[t].apply(o,n)),r},{})}},setProp:function(e,t,n){return e[t]=n},startActions:function(e,t){return Object.keys(e).reduce(function(n,r){return n[r]=t(e[r],r),n},{})}}),j=function(e,t){return Array.isArray(t)?e.push.apply(e,function(e){var t=[],n=e[e.length-1],r="number"==typeof n,i=r?n:0,o=r?e.slice(0,-1):e,s=o.length,a=0;return o.forEach(function(e,n){if(t.push(e),n!==s-1){var r=e.duration||300;a+=i,t.push("-"+(r-a))}}),t}(t)):e.push(t),e},z=function(e,t,n){var r=e.duration,i=e.easings,o=e.times,s=e.values,c=s.length,l=o[c-1],u=0===t.at?0:t.at/r,h=(t.at+t.duration)/r;if(0===n)s.push(t.from),o.push(u);else if(l!==u){void 0!==t.from&&(s.push(s[c-1]),o.push(u),i.push(a.linear));var d=void 0!==t.from?t.from:s[c-1];s.push(d),o.push(u),i.push(a.linear)}else void 0!==t.from&&(s.push(t.from),o.push(u),i.push(a.linear));return s.push(t.to),o.push(h),i.push(t.ease||a.easeInOut),e},U=function(e,t){var n=void 0===t?{}:t,i=n.duration,o=n.elapsed,s=n.ease,a=n.loop,c=n.flip,l=n.yoyo,u=0,h=0,d=e.reduce(j,[]),p=[];d.forEach(function(e){if("string"==typeof e)u+=parseFloat(e);else if("number"==typeof e)u=e;else{var t=Object(r.a)({},e,{at:u});t.duration=void 0===t.duration?300:t.duration,p.push(t),u+=t.duration,h=Math.max(h,t.at+t.duration)}});for(var f={},g=p.length,m=0;m<g;m++){var v=p[m],y=v.track;if(void 0===y)throw new Error("No track defined");f.hasOwnProperty(y)||(f[y]=[]),f[y].push(v)}var S={};for(var b in f)if(f.hasOwnProperty(b)){var _=f[b].reduce(z,{duration:h,easings:[],times:[],values:[]});S[b]=N(Object(r.a)({},_,{duration:i||h,ease:s,elapsed:o,loop:a,yoyo:l,flip:c}))}return L(S)},H=function(e,t,n){return d(function(r){var i=r.update,o=t.split(" ").map(function(t){return e.addEventListener(t,i,n),t});return{stop:function(){return o.forEach(function(t){return e.removeEventListener(t,i,n)})}}})},V=function(){return{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}},W=function(e,t){return void 0===t&&(t={clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}),t.clientX=t.x=e.clientX,t.clientY=t.y=e.clientY,t.pageX=e.pageX,t.pageY=e.pageY,t},G=[V()],q=!1;if("undefined"!=typeof document){H(document,"touchstart touchmove",{passive:!0,capture:!0}).start(function(e){var t=e.touches;q=!0;var n=t.length;G.length=0;for(var r=0;r<n;r++){var i=t[r];G.push(W(i))}})}var K=function(e){var t=void 0===e?{}:e,n=t.preventDefault,r=void 0===n||n,s=t.scale,a=void 0===s?1:s,c=t.rotate,l=void 0===c?0:c;return d(function(e){var t=e.update,n={touches:G,scale:a,rotate:l},s=0,c=0,u=G.length>1;if(u){var h=G[0],d=G[1];s=Object(i.d)(h,d),c=Object(i.a)(h,d)}var p=function(){if(u){var e=G[0],r=G[1],o=Object(i.d)(e,r),h=Object(i.a)(e,r);n.scale=a*(o/s),n.rotate=l+(h-c)}t(n)},f=H(document,"touchmove",{passive:!r}).start(function(e){(r||e.touches.length>1)&&e.preventDefault(),o.b.update(p)});return q&&o.b.update(p),{stop:function(){o.a.update(p),f.stop()}}})},$=V(),X=!1;if("undefined"!=typeof document){H(document,"mousedown mousemove",!0).start(function(e){X=!0,W(e,$)})}var Y=function(e){var t=(void 0===e?{}:e).preventDefault,n=void 0===t||t;return d(function(e){var t=e.update,r=function(){return t($)},i=H(document,"mousemove").start(function(e){n&&e.preventDefault(),o.b.update(r)});return X&&o.b.update(r),{stop:function(){o.a.update(r),i.stop()}}})},J=function(e){return e[0]},Z=function(e){return void 0===e&&(e={}),q?K(e).pipe(function(e){return e.touches},J):Y(e)},Q=function(e){void 0===e&&(e={});var t=e.x,n=e.y,o=Object(r.c)(e,["x","y"]);if(void 0!==t||void 0!==n){var s=Object(i.b)(t||0),a=Object(i.b)(n||0),c={x:0,y:0};return Z(o).pipe(function(e){return c.x=s(e.x),c.y=a(e.y),c})}return Z(o)},ee=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return d(function(t){var n,r=t.update,i=t.complete,o=0,s=function(){n=e[o].start({complete:function(){++o>=e.length?i():s()},update:r})};return s(),{stop:function(){return n&&n.stop()}}})},te=B({getOutput:function(){return[]},getCount:function(e){return e.length},getFirst:function(e){return e[0]},mapApi:function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.map(function(e,r){if(e[t])return Array.isArray(n[0])?e[t](n[0][r]):e[t].apply(e,n)})}},setProp:function(e,t,n){return e[t]=n},startActions:function(e,t){return e.map(function(e,n){return t(e,n)})}}),ne=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return te(e)},re=function(e,t){return d(function(n){var o=0,s=ne(e,t).start(Object(r.a)({},n,{update:function(e){var t=e[0],r=e[1];n.update(Object(i.f)(t,r,o))}}));return{setBalance:function(e){return o=e},stop:function(){return s.stop()}}})},ie=function(e){return d(function(t){var n=t.complete,r=setTimeout(n,e);return{stop:function(){return clearTimeout(r)}}})},oe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return d(function(t){var n=e.map(function(e){return e.start(t)});return{stop:function(){return n.forEach(function(e){return e.stop()})}}})},se=function(e,t){return d(function(n){var r,i=n.update,o=n.complete,s=e.start({update:function(){return void 0!==r&&i(r)},complete:o}),a=t.start({update:function(e){return r=e},complete:o});return{stop:function(){s.stop(),a.stop()}}})},ae=function(e,t){var n="number"==typeof t,r=e.map(function(e,r){var i=n?t*r:t(r);return ee(ie(i),e)});return ne.apply(void 0,r)},ce=function(){return Object(c.invariant)(!1,"styler has been removed from Popmotion in 9.0. Downgrade to 8.x or npm install stylefire")}},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(79));var r=n(604);t.Scroll=r.Scroll,t.ScrollProps=r.ScrollProps,t.ScrollEvents=r.ScrollEvents,t.ScrollConfig=r.ScrollConfig,t.Page=r.Page,t.PageEvents=r.PageEvents,t.PageProps=r.PageProps,t.PageProperties=r.PageProperties,t.PageEffect=r.PageEffect,t.PageEffectInfo=r.PageEffectInfo,t.PageAlignment=r.PageAlignment,t.Draggable=r.Draggable,t.Stack=r.Stack,t.StackProperties=r.StackProperties,t.StackSpecificProps=r.StackSpecificProps,t.Navigation=r.Navigation,t.calcChildLayoutRects=r.calcChildLayoutRects;var i=n(627);t.WithNavigator=i.WithNavigator;var o=n(222);t.Device=o.Device,t.DeviceProperties=o.DeviceProperties,t.DeviceDescriptor=o.DeviceDescriptor,t.DeviceSkin=o.DeviceSkin,t.DeviceSkins=o.DeviceSkins,t.DeviceRenderer=o.DeviceRenderer,__export(n(628));var s=n(203);t.AnyInterpolation=s.AnyInterpolation,t.ValueInterpolation=s.ValueInterpolation;var a=n(24);t.Animatable=a.Animatable,t.AnimatableObject=a.AnimatableObject,t.Cancel=a.Cancel;var c=n(629);t.animate=c.animate;var l=n(350);t.FramerAnimation=l.FramerAnimation;var u=n(352);t.BezierAnimator=u.BezierAnimator,t.SpringAnimator=u.SpringAnimator;var h=n(221);t.FramerEvent=h.FramerEvent,t.FramerEventListener=h.FramerEventListener,t.FramerEventSession=h.FramerEventSession;var d=n(1);t.Point=d.Point,t.Size=d.Size,t.Rect=d.Rect,t.Vector=d.Vector,t.VectorGroup=d.VectorGroup,t.ComponentContainer=d.ComponentContainer,t.ComponentIdentifier=d.ComponentIdentifier,t.SVG=d.SVG,t.Text=d.Text,t.Frame=d.Frame,t.FrameProps=d.FrameProps,t.BaseFrameProps=d.BaseFrameProps,t.FrameLayoutProperties=d.FrameLayoutProperties,t.CSSTransformProperties=d.CSSTransformProperties,t.VisualProperties=d.VisualProperties,t.DeprecatedFrame=d.DeprecatedFrame,t.QualityOptions=d.QualityOptions,t.DeprecatedFrameProperties=d.DeprecatedFrameProperties,t.DeprecatedFrameWithEvents=d.DeprecatedFrameWithEvents,t.DeprecatedFrameWithEventsProps=d.DeprecatedFrameWithEventsProps,t.componentLoader=d.componentLoader,t.setGlobalRenderEnvironment=d.setGlobalRenderEnvironment,t.RenderTarget=d.RenderTarget,t.ControlType=d.ControlType,t.PropertyControls=d.PropertyControls,t.NumberControlDescription=d.NumberControlDescription,t.EnumControlDescription=d.EnumControlDescription,t.BooleanControlDescription=d.BooleanControlDescription,t.StringControlDescription=d.StringControlDescription,t.ColorControlDescription=d.ColorControlDescription,t.FusedNumberControlDescription=d.FusedNumberControlDescription,t.SegmentedEnumControlDescription=d.SegmentedEnumControlDescription,t.ImageControlDescription=d.ImageControlDescription,t.FileControlDescription=d.FileControlDescription,t.ArrayControlDescription=d.ArrayControlDescription,t.EventHandlerControlDescription=d.EventHandlerControlDescription,t.ControlDescription=d.ControlDescription,t.getConfigFromURL=d.getConfigFromPreviewURL,t.getConfigFromPreviewURL=d.getConfigFromPreviewURL,t.getConfigFromVekterURL=d.getConfigFromVekterURL,t.serverURL=d.serverURL,t.NavigationInterface=d.NavigationInterface,t.NavigationConsumer=d.NavigationConsumer,t.NavigationLink=d.NavigationLink,t.NavigationTransitionDirection=d.NavigationTransitionDirection,t.NavigationTransitionSide=d.NavigationTransitionSide,t.NavigationTransitionPosition=d.NavigationTransitionPosition,t.NavigationTransitionAnimation=d.NavigationTransitionAnimation,t.NavigationTransitionAppearsFrom=d.NavigationTransitionAppearsFrom,t.NavigationTransitionBackdropColor=d.NavigationTransitionBackdropColor,t.NavigationTransition=d.NavigationTransition,t.FadeTransitionOptions=d.FadeTransitionOptions,t.PushTransitionOptions=d.PushTransitionOptions,t.ModalTransitionOptions=d.ModalTransitionOptions,t.OverlayTransitionOptions=d.OverlayTransitionOptions,t.FlipTransitionOptions=d.FlipTransitionOptions,t.NavigationProps=d.NavigationProps,t.useNavigation=d.useNavigation,t.isReactDefinition=d.isReactDefinition,t.createDesignComponent=d.createDesignComponent,t.CanvasStore=d.CanvasStore,t.isOverride=d.isOverride,t.isAction=d.isAction,t.Color=d.Color,t.ConvertColor=d.ConvertColor,t.ColorMixModelType=d.ColorMixModelType,t.addServerUrlToResourceProps=d.addServerUrlToResourceProps,t.BackgroundProperties=d.BackgroundProperties,t.CustomProperties=d.CustomProperties,t.CustomPropertiesContext=d.CustomPropertiesContext,t.constraintsEnabled=d.constraintsEnabled,t.throttle=d.throttle,t.debounce=d.debounce;var p=n(122);t.ObservableObject=p.ObservableObject;var f=n(353);t.Data=f.Data;var g=n(631);t.createData=g.createData,t.DataContext=g.DataContext;var m=n(633);t.Override=m.Override,t.OverrideFunction=m.OverrideFunction,t.OverrideObject=m.OverrideObject,t.WithOverride=m.WithOverride;var v=n(635);t.Action=v.Action,t.ActionHandler=v.ActionHandler,t.ActionInfo=v.ActionInfo,t.addActionControls=v.addActionControls,t.getActionControls=v.getActionControls,t.ActionControlDescription=v.ActionControlDescription,t.ActionControls=v.ActionControls;var y=n(354);t.DataObserver=y.DataObserver;var S=n(636);t.PropertyStore=S.PropertyStore;var b=n(638);t.loadJSON=b.loadJSON;var _=n(639);t.print=_.print;var C=n(345);t.addPropertyControls=C.addPropertyControls,t.getPropertyControls=C.getPropertyControls;var w=n(642);t.version=w.version;const x=n(120);t.MainLoop=x.MainLoop},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nameDefaults={name:null};const r="name";t.hasName=function hasName(e){return r in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.opacityDefaults={opacity:1};const r="opacity";function hasOpacity(e){return r in e}t.hasOpacity=hasOpacity,t.reduceOpacity=function reduceOpacity(e,t){if(!hasOpacity(e))return;const n=Math.round(100*e.opacity);void 0===t.opacity?t.opacity=n:null!==t.opacity&&t.opacity!==n&&(t.opacity=null)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.radiusDefaults={radius:0},t.relativeRadiusDefaults=Object.assign({},t.radiusDefaults,{radiusIsRelative:!1});const r=n(87),i="radius";function withRadius(e){return i in e&&r.stylableNode(e)}function withRelativeRadius(e){return"radiusIsRelative"in e&&r.stylableNode(e)}t.withRadius=withRadius,t.withRelativeRadius=withRelativeRadius,t.reduceRadius=function reduceRadius(e,t){if(!withRadius(e))return;let n=e.radius;withRelativeRadius(e)&&e.radiusIsRelative&&(n=`${e.radius}%`),void 0===t.radius?t.radius=n:null!==t.radius&&t.radius!==n&&(t.radius=null)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.radiusPerCornerDefaults={radiusPerCorner:!1,radiusTopLeft:0,radiusTopRight:0,radiusBottomLeft:0,radiusBottomRight:0};const r="radiusPerCorner";function withRadiusPerCorner(e){return r in e}t.withRadiusPerCorner=withRadiusPerCorner,t.reduceRadiusPerCorner=function reduceRadiusPerCorner(e,t){withRadiusPerCorner(e)&&(void 0===t.radiusPerCorner?(t.radiusPerCorner=e.radiusPerCorner,t.radiusTopLeft=e.radiusTopLeft,t.radiusTopRight=e.radiusTopRight,t.radiusBottomLeft=e.radiusBottomLeft,t.radiusBottomRight=e.radiusBottomRight):(null!==t.radiusPerCorner&&t.radiusPerCorner!==e.radiusPerCorner&&(t.radiusPerCorner=null),null!==t.radiusTopLeft&&t.radiusTopLeft!==e.radiusTopLeft&&(t.radiusTopLeft=null),null!==t.radiusTopRight&&t.radiusTopRight!==e.radiusTopRight&&(t.radiusTopRight=null),null!==t.radiusBottomLeft&&t.radiusBottomLeft!==e.radiusBottomLeft&&(t.radiusBottomLeft=null),null!==t.radiusBottomRight&&t.radiusBottomRight!==e.radiusBottomRight&&(t.radiusBottomRight=null)))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(t){o(t)}}function rejected(e){try{step(r.throw(e))}catch(t){o(t)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(125),o=n(1),s=n(3),a=n(0),c=n(735),l=n(51),u=n(139),h=n(739),d=n(371),p=n(71),f=()=>{};class StyledTextDraft extends h.StyledText{constructor(e,t){let n=null;if(t)if(n=d.StyledTextCache.fromRawValue(t))super(void 0,n);else{let e=i.convertFromRaw(t);e=StyledTextDraft.convertInternalStateFromRaw(e),super(i.EditorState.createWithContent(e))}else if("string"==typeof e||e instanceof i.EditorState||void 0===e)super(e);else{if(!(e instanceof i.ContentState))throw Error("state error");super(i.EditorState.createWithContent(e))}this.blockRendererFn=this.blockRendererFn.bind(this),this._sizeCache=s.Map(),this._blockSizeCache=s.Map(),n&&(this._sizeCache=this._sizeCache.set(n.width,n.size))}reviveFromCached(e){return e.revive()}static createEmptyWithStyle(e){return new StyledTextDraft(i.EditorState.setInlineStyleOverride(i.EditorState.createWithContent(StyledTextDraft.ensureBlockEmptyStyles(i.ContentState.createFromText(""),e)),e))}get text(){return super.text}get styledText(){return super.styledText}withUpdatedText(e){const t=this.styledText.getCurrentContent(),n=t.getFirstBlock(),r=n.getLength();let o=n.getData().get("emptyStyle");return!o&&r>0&&(o=n.getInlineStyleAt(r-1)),new StyledTextDraft(i.Modifier.replaceText(t,this.fullTextSelection(),e,o))}toJS(){const e=this.cached();if(e&&e._rawLoadedValue)return e._rawLoadedValue;const t=i.convertToRaw(this.styledText.getCurrentContent());return t.__class=this.constructor.name,e&&(t.cached=e.toJS()),t}toJSON(){return this.toJS()}toHTML(){const e=this.alignment(),t=a.createElement(i.Editor,{editorState:this.styledText,onChange:f,customStyleFn:o.draftStyleFunction,textAlignment:e,readOnly:!0,blockRendererFn:this.blockRendererFn},null);return c.renderToStaticMarkup(t)}tokenVariables(){return this.colors(!1).toArray().filter(l.isTokenCSSVariable)}removeTokenVariables(e){const t=this.styledText.getCurrentContent(),n=this.adjustStyle(o.draftStyles.color.prefix,t=>u.findValueForTokenCSSVariable(t,e)||t);return t===n.styledText.getCurrentContent()?void 0:n}uncachedBlocksHTML(e){const t=[];if(this.styledText.getCurrentContent().getBlockMap().forEach((n,r)=>{this._blockSizeCache.has(r)&&this._blockSizeCache.get(r).get(e)||t.push(n)}),0===t.length)return null;const n=i.EditorState.createWithContent(i.ContentState.createFromBlockArray(t)),r=a.createElement(i.Editor,{editorState:n,onChange:f,customStyleFn:o.draftStyleFunction,textAlignment:"left",readOnly:!0,blockRendererFn:this.blockRendererFn},null);return c.renderToStaticMarkup(r)}blockRendererFn(e){return o.draftBlockRendererFunction({editable:!1,alignment:this.alignment()})(e)}updateStyledText(e){const t=new StyledTextDraft(e);t._measureElement=this._measureElement;const n=this.styledText.getCurrentContent(),r=e.getCurrentContent();if(r===n)t._sizeCache=this._sizeCache,t._blockSizeCache=this._blockSizeCache,t._alignment=this._alignment,t._cached=this._cached;else{const e=r.getBlocksAsArray();let i=this._blockSizeCache;n.getBlockMap().forEach((t,n)=>{-1===e.indexOf(t)&&(i=i.delete(n))}),t._blockSizeCache=i}return t}calculateSize(e=0){const t=this._sizeCache.get(e);if(void 0!==t)return t;const n=this.measureUncachedBlocks(e),r=o.Size(e,0),i=this.styledText.getCurrentContent().getBlockMap();if(i.keySeq().forEach(t=>{const n=this._blockSizeCache.get(t);if(void 0===n)throw Error(`Did not find cache for block ${t}`);const i=n.get(e);if(void 0===i)throw Error(`Did not find size for block ${t}`);r.height+=i.height,r.width=Math.max(i.width,r.width)}),r.height=Math.ceil(r.height),r.width=Math.ceil(r.width+1),this._sizeCache=this._sizeCache.set(e,r),n&&1===i.size){const t=this._measureElement.querySelectorAll("span");if(2===t.length&&t[0].parentElement){let n=t[0].parentElement.outerHTML;const i=this.alignment();i&&(n=`<div class='DraftEditor-align${i[0].toUpperCase()}${i.substring(1)}'>${n}</div>`),this._cached=new d.StyledTextCache(n,e,r)}}return r}measureUncachedBlocks(e){const t=this.uncachedBlocksHTML(e);return null!==t&&(this._measureElement||(this._measureElement=document.createElement("div")),this._measureElement.style.width=0===e?"10000px":`${e}px`,this._measureElement.innerHTML=t,document.body.appendChild(this._measureElement),[].slice.call(this._measureElement.querySelectorAll('[data-block="true"]')).forEach(t=>{const n=o.frameFromElement(t).height,r=[].slice.call(t.querySelectorAll('[data-text="true"]'));if(0===r.length)throw Error("Found block without expected text span");const i=o.frameFromElements(r).width,a=o.Size(i,n),c=this.blockId(t);if(void 0!==c){let t=this._blockSizeCache.get(c,s.Map());t=t.set(e,a),this._blockSizeCache=this._blockSizeCache.set(c,t)}}),document.body.removeChild(this._measureElement),!0)}scaledToHeight(e){const t=e/this.calculateSize().height;return this.adjustStyle(o.draftStyles.size.prefix,e=>{const n=e?Number(e):o.draftStyles.size.default;return`${Math.round(n*t)}`})}adjustStyle(e,t,n=!1){const r=this.styledText.getSelection();let o=this.styledText.getCurrentContent();if(n&&r.isCollapsed()){const r=this.styles(n).find(t=>t.startsWith(e));let i=void 0;void 0!==r&&(i=r.slice(e.length));const o=t(i);return void 0===o?this:this.updateStyle(e,o,!0)}const s=this.styledText.getCurrentContent();let a=!1;s.getBlocksAsArray().forEach(s=>{let c,l,u=NaN,h=NaN;if(n){if(!a){if(s.getKey()!==r.getStartKey())return;a=!0,u=r.getStartOffset()}a&&s.getKey()===r.getEndKey()&&(h=r.getEndOffset())}s.findStyleRanges(t=>{const n=t.getStyle();return c=void 0,n.forEach(t=>{if(t.startsWith(e))return c=t,!1}),!0},(n,r)=>{if(!isNaN(u)){if(u>r)return;n=Math.max(u,n)}if(!isNaN(h)){if(n>h)return;r=Math.min(h,r)}const a=new i.SelectionState({anchorKey:s.getKey(),anchorOffset:n,focusKey:s.getKey(),focusOffset:r});let l;void 0!==c&&(o=i.Modifier.removeInlineStyle(o,a,c),l=c.slice(e.length));const d=t(l);void 0!==d&&(o=i.Modifier.applyInlineStyle(o,a,`${e}${d}`))}),o.getBlockForKey(s.getKey()).getInlineStyleAt(0).forEach(t=>{if(t.startsWith(e))return l=t.slice(e.length),!1}),void 0!==l&&(o=StyledTextDraft.updateBlockEmptyStyle(o,[s.getKey()],e,l)),this.stylesPrefixedWith(e,!1),isNaN(h)||(a=!1)});let c=i.EditorState.push(this.styledText,o,"change-inline-style");return c=i.EditorState.acceptSelection(c,r),this.updateStyledText(c)}emptyStyledText(){return this.textToStyledText("")}textToStyledText(e){return i.EditorState.setInlineStyleOverride(i.EditorState.createWithContent(i.ContentState.createFromText(e)),StyledTextDraft.defaultStyleOverride)}styledTextToText(e){return e.getCurrentContent().getPlainText()}fonts(e){if(this._cached){const e=this._cached.fonts();if(e)return e}return this.stylesPrefixedWith(o.draftStyles.font.prefix,e)}colors(e){return this.stylesPrefixedWith(o.draftStyles.color.prefix,e)}sizes(e){return this.stylesPrefixedWith(o.draftStyles.size.prefix,e)}letterSpacings(e){return this.stylesPrefixedWith(o.draftStyles.letterSpacing.prefix,e)}lineHeight(){return this.stylesPrefixedWith(o.draftStyles.lineHeight.prefix,!0).first()}alignment(){let e=this._alignment;return e||((e=this.findFirstAlignment())||(e="undefined"),this._alignment=e),this.stringToTextAlignment(e)}findFirstAlignment(){const e=this.styledText.getCurrentContent().getBlockMap().find(e=>e.getLength()>0);if(!e)return;const t=e.getInlineStyleAt(0).find(e=>e.startsWith(o.draftStyles.align.prefix));return t?this.stringToTextAlignment(t.slice(o.draftStyles.align.prefix.length)):void 0}stringToTextAlignment(e){return"left"!==e&&"right"!==e&&"center"!==e?void 0:e}serialize(e){if(this._cached){const t=this._cached.serialize(e);if(t)return t}const t=this.styledText.getCurrentContent(),n=[];return t.getBlocksAsArray().forEach(e=>{const t={text:e.getText(),inlineStyles:[]};let r;if(e.findStyleRanges(e=>(r=e.getStyle(),!0),(e,n)=>{const i=o.draftStyleFunction(r,!1);t.inlineStyles.push({startIndex:e,endIndex:n,css:i})}),0===t.inlineStyles.length){const n=StyledTextDraft.getBlockEmptyStyle(e),r=o.draftStyleFunction(n,!1);t.inlineStyles.push({startIndex:0,endIndex:0,css:r})}n.push(t)}),{blocks:n,alignment:this.alignment()}}fullTextSelection(){const e=this.styledText.getCurrentContent();return new i.SelectionState({anchorKey:e.getFirstBlock().getKey(),anchorOffset:0,focusKey:e.getLastBlock().getKey(),focusOffset:e.getLastBlock().getLength()})}styles(e){let t=s.OrderedSet();const n=this.styledText,r=n.getCurrentContent(),i=e?n.getSelection():this.fullTextSelection();if(i.isCollapsed())return n.getCurrentInlineStyle();const o=i.getEndKey(),a=i.getEndOffset(),c=i.getStartKey(),l=i.getStartOffset();let u=r.getBlockForKey(c);for(;;){let e;if(u.findStyleRanges(t=>(e=t.getStyle(),!0),(n,r)=>{void 0!==e&&(u.getKey()===c&&r<=l||u.getKey()===o&&n>=a||(t=t.merge(e)))}),u.getKey()===o)break;u=r.getBlockAfter(u.getKey())}return t}stylesPrefixedWith(e,t){return s.OrderedSet(this.styles(t).filter(t=>t.startsWith(e)).map(t=>t.slice(e.length)))}updateStyle(e,t,n){const r=this.styles(n),o=`${e}${t}`;let a=this.styledText,c=a.getCurrentContent();const l=a.getSelection(),u=n?l:this.fullTextSelection(),h=StyledTextDraft.keysOfBlocksWithStartInSelection(c,u);let d;return c=StyledTextDraft.updateBlockEmptyStyle(c,h,e,t),u.isCollapsed()?d=(d=s.OrderedSet(r.filter(t=>void 0!==t&&!t.startsWith(e)))).add(o):(r.forEach(t=>{t&&t.startsWith(e)&&(c=i.Modifier.removeInlineStyle(c,u,t))}),c=i.Modifier.applyInlineStyle(c,u,o)),a=StyledTextDraft.updateEditorStateAfterStyling(a,c,l,d),this.updateStyledText(a)}toggleStyle(e,t){const n=this.styles(t);let r=this.styledText,o=r.getCurrentContent();const s=r.getSelection(),a=t?s:this.fullTextSelection(),c=StyledTextDraft.keysOfBlocksWithStartInSelection(o,a);let l;return o=n.has(e)?StyledTextDraft.removeBlockEmptyStyle(o,c,e):StyledTextDraft.addBlockEmptyStyle(o,c,e),a.isCollapsed()?l=n.has(e)?n.remove(e):n.add(e):o=n.has(e)?i.Modifier.removeInlineStyle(o,a,e):i.Modifier.applyInlineStyle(o,a,e),r=StyledTextDraft.updateEditorStateAfterStyling(r,o,s,l),this.updateStyledText(r)}static updateEditorStateAfterStyling(e,t,n,r){let o=i.EditorState.push(e,t,"change-inline-style");return o=i.EditorState.acceptSelection(o,n),void 0!==r&&(o=i.EditorState.setInlineStyleOverride(o,r)),o}static keysOfBlocksWithStartInSelection(e,t){if(t.isCollapsed())return 0===t.getAnchorOffset()?[t.getAnchorKey()]:[];{const n=t.getStartKey(),r=t.getEndKey(),i=e.getBlockMap().keySeq().skipUntil(e=>e===n).takeUntil(e=>e===r).concat(r);return(0===t.getAnchorOffset()?i:i.rest()).toArray()}}static getBlockEmptyStyle(e){return e.getData().get("emptyStyle",s.OrderedSet())}static setBlockEmptyStyle(e,t){return e.merge({data:e.getData().merge({emptyStyle:t})})}static updateBlockEmptyStyle(e,t,n,r){const i=`${n}${r}`;return t.forEach(t=>{const r=e.getBlockForKey(t);StyledTextDraft.getBlockEmptyStyle(r).forEach(r=>{r&&r.startsWith(n)&&(e=StyledTextDraft.removeBlockEmptyStyle(e,[t],r))})}),e=StyledTextDraft.addBlockEmptyStyle(e,t,i)}static addBlockEmptyStyle(e,t,n){return this.addOrRemoveBlockEmptyStyle(e,t,n,!0)}static removeBlockEmptyStyle(e,t,n){return this.addOrRemoveBlockEmptyStyle(e,t,n,!1)}static addOrRemoveBlockEmptyStyle(e,t,n,r){if(0===t.length)return e;const i=e.getBlockMap().filter(e=>-1!==t.indexOf(e.getKey())).map(e=>{const t=this.getBlockEmptyStyle(e),i=r?t.add(n):t.remove(n);return this.setBlockEmptyStyle(e,i)});return e.merge({blockMap:e.getBlockMap().merge(i)})}static ensureBlockEmptyStyles(e,t){let n=s.Map(),r=t||this.defaultStyleOverride;return e.getBlockMap().forEach((e,t)=>{const i=e.getLength();if(void 0===e.getData().get("emptyStyle")){const o=0===i?r:e.getInlineStyleAt(0);n=n.set(t,this.setBlockEmptyStyle(e,o))}i>0&&(r=e.getInlineStyleAt(i-1))}),n.count()>0?e.merge({blockMap:e.getBlockMap().merge(n)}):e}blockId(e){const t=e.getAttribute("data-offset-key");if(null===t)return;const n=t.split("-")[0];return 0!==n.length?n:void 0}static convertInternalStateFromRaw(e){const t=e.getBlockMap().map(e=>{const t=this.getBlockEmptyStyle(e);return this.setBlockEmptyStyle(e,s.OrderedSet(t))});return e.merge({blockMap:t})}static getRawStylesFromCSS(e){const t=[],n=o.draftStyles;for(const r of Object.keys(n)){const i=n[r];if(void 0===i.fromCSS)continue;const o=i.fromCSS(e);void 0!==o&&t.push(n[r].prefix+o)}return"italic"===e.fontStyle&&t.push("ITALIC"),("bold"===e.fontWeight||null!==e.fontWeight&&parseFloat(e.fontWeight)>=500)&&t.push("BOLD"),t}loadMissingFonts(e,t){return r(this,void 0,void 0,function*(){(yield o.fontStore.loadWebFontsFromSelectors(e)).length&&(this._sizeCache=this._sizeCache.clear(),this._blockSizeCache=this._blockSizeCache.clear(),t&&t())})}getProps(e){const t=this._cached,n=this.fonts(!1).toArray(),r=n.filter(e=>!o.fontStore.isSelectorLoaded(e));if(r.length&&p.experiments.isOn("webfonts")){const t=r.filter(e=>o.fontStore.canLoadSelector(e));t.length&&this.loadMissingFonts(t,e)}if(t){return{rawHTML:t.html,alignment:t.alignment(this),fonts:n}}return{alignment:this.alignment(),contentState:this.styledText.getCurrentContent(),fonts:n}}static patch(e,t,n){if(e.text!==t.text&&e.text===n.text)return n.withUpdatedText(t.text);const r=[];if(e.styledText&&e instanceof StyledTextDraft){e.styledText.getCurrentContent().getFirstBlock().getInlineStyleAt(0).forEach(e=>{e&&r.push(e)})}const i=[];if(t.styledText&&t instanceof StyledTextDraft){t.styledText.getCurrentContent().getFirstBlock().getInlineStyleAt(0).forEach(e=>{e&&i.push(e)})}const o=[];if(n.styledText&&n instanceof StyledTextDraft){n.styledText.getCurrentContent().getFirstBlock().getInlineStyleAt(0).forEach(e=>{e&&o.push(e)})}i.forEach(e=>{if("SELECTED"===e)return;if(r.indexOf(e)>=0)return;let t=e.indexOf(":");t<0&&(t=e.length);const i=e.slice(0,t);if(r.find(e=>e.startsWith(i))===o.find(e=>e.startsWith(i))){const r=e.slice(t);n=n.updateStyle(i,r,!1)}});return["ITALIC","BOLD","UNDERLINE"].forEach(e=>{r.indexOf(e)<0||o.indexOf(e)<0||i.indexOf(e)>=0||(n=n.toggleStyle(e,!1))}),n}}StyledTextDraft.defaultStyleOverride=s.OrderedSet([o.draftStyles.font.prefix+o.draftStyles.font.default,o.draftStyles.color.prefix+o.draftStyles.color.default,o.draftStyles.size.prefix+o.draftStyles.size.default,o.draftStyles.letterSpacing.prefix+o.draftStyles.letterSpacing.default,o.draftStyles.lineHeight.prefix+o.draftStyles.lineHeight.default]),StyledTextDraft.setFont=(e,t,n)=>e.updateStyle(o.draftStyles.font.prefix,t,n),StyledTextDraft.setColor=(e,t,n)=>e.updateStyle(o.draftStyles.color.prefix,t,n),StyledTextDraft.setColorAlpha=(e,t,n)=>e.adjustStyle(o.draftStyles.color.prefix,e=>o.ConvertColor.setAlpha(e||o.draftStyles.color.default,t/100),n),StyledTextDraft.setSize=(e,t,n)=>e.updateStyle(o.draftStyles.size.prefix,`${t}`,n),StyledTextDraft.setLetterSpacing=(e,t,n)=>e.updateStyle(o.draftStyles.letterSpacing.prefix,`${t}`,n),StyledTextDraft.setLineHeight=(e,t)=>e.updateStyle(o.draftStyles.lineHeight.prefix,`${t}`,!1),StyledTextDraft.setAlignment=(e,t)=>e.updateStyle(o.draftStyles.align.prefix,t,!1),StyledTextDraft.toggleBold=(e,t=!1)=>e.toggleStyle("BOLD",t),StyledTextDraft.toggleItalic=(e,t=!1)=>e.toggleStyle("ITALIC",t),StyledTextDraft.toggleUnderline=(e,t=!1)=>e.toggleStyle("UNDERLINE",t),t.StyledTextDraft=StyledTextDraft,t.draftBlockRenderMap=s.Map({unstyled:{element:"div",aliasedElements:["p"]}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(166);t.strokeDefaults={strokeEnabled:r.Property.enabled,strokeAlignment:"center",strokeWidth:1,strokeColor:"#AAA",lineJoin:"miter",lineCap:"butt",strokeMiterLimit:4,strokeDashArray:"0",strokeDashOffset:0},t.shapeStrokeDefaults={strokeEnabled:void 0,strokeAlignment:void 0,strokeWidth:void 0,strokeColor:void 0,lineJoin:void 0,lineCap:void 0,strokeMiterLimit:void 0,strokeDashArray:void 0,strokeDashOffset:void 0};t.hasStroke=e=>"strokeEnabled"in e},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const i=n(28),o=n(22),s=n(35),a=n(76),c=n(60),l=Object.prototype.hasOwnProperty;function sanitizeOverride(e){if(!e)return e;if(!l.call(e,"originalid"))return e;const{originalid:t}=e;return r(e,["originalid"])}function updateNodeWithMaster(e,t,n){const r={id:(e=e.asMutable()).id,cache:e.cache,mutable:!0,update:e.update+1,parentid:e.parentid,originalid:e.originalid,isMaster:!1,isExternalMaster:null,children:e.children};Object.assign(e,t,r,n)}function rebuildChildren(e,t,n,r,o,s){if(r)return r.map(r=>{const a=function rebuildTemplate(e,t,n,r,o,s){const a=function mixID(e,t){return e+t}(t,r.id);r.cache.future&&(r=r.cache.future);let c=e.get(a);if(c){if(i(c.originalid===r.id,"`templateid` must match master’s `id`"),!r.mutable)return c.walk(e=>{e!==c&&s.delete(e.id)}),c;const a={id:(c=c.asMutable()).id,cache:c.cache,mutable:!0,update:c.update+1,parentid:n,originalid:c.originalid,isMaster:!1,isExternalMaster:null,replicaInfo:null,children:rebuildChildren(e,t,c.id,r.children,o,s)};return Object.assign(c,r,a,sanitizeOverride(o[r.id]))}return r.clone(Object.assign({id:a,parentid:n,originalid:r.id,replicaInfo:null,isMaster:!1,children:rebuildChildren(e,t,a,r.children,o,s)},sanitizeOverride(o[r.id])))}(e,t,n,r,o,s);return s.has(a.id)?s.delete(a.id):s.has(n)&&e.unsafeInsertNode(a,n),a})}t.updateNodeWithMaster=updateNodeWithMaster,function(e){function registerInMaster(e,t){i(e.id===t.replicaInfo.master,"Replica master should match master id"),e.cache.replicaInstances||(e.cache.replicaInstances=[]),i(e.cache.replicaInstances.indexOf(t.id)<0,"Replica id should be in master cache"),e.cache.replicaInstances.push(t.id)}function getMaster(e,t){return e.get(t.replicaInfo.master)}function withChanges(e,t,n){const r=!!t.cache.future,o=!!n.cache.future;r&&(i(t===t.cache.future),updateOverrides(t)),o&&(i(n.mutable,"Master must be mutable"),i(n===n.cache.future),updateFromMaster(e,t,n))}function updateFromMaster(e,t,n){let r=t.replicaInfo,i=r.overrides;t=t.asMutable();const o=new Set;t.walk(t=>{if(o.add(t.id),t instanceof a.default){const n=i[t.originalid];if(n&&n.styledText){const n=e.getCurrentOrFuture(t.originalid);if(!n)return;const r=n.cache.future;if(!r)return;i=maybePatchText(n,r,t,i)}}}),r.overrides!==i&&(r=Object.assign({},r,{overrides:i}));const s={id:t.id,cache:t.cache,mutable:!0,update:t.update+1,parentid:t.parentid,originalid:t.originalid,isMaster:!1,isExternalMaster:null,replicaInfo:r,children:rebuildChildren(e,t.id,t.id,n.children,i,o)};o.delete(t.id),o.forEach(t=>e.unsafeRemoveId(t)),Object.assign(t,n,s,sanitizeOverride(i[t.originalid]))}function updateOverrides(e){i(e.mutable,"Replica must be mutable"),i(e.originalid,"Replica must have original id");let t=null;e.walk(n=>{const r=n.mutable?n:n.cache.future;if(!r)return;const o=n.originalid;i(o,"Original id must not be empty");const s=r.cache.templateProperties;if(s){if(t||(t=Object.assign({},e.replicaInfo.overrides),e.replicaInfo={master:e.replicaInfo.master,overrides:t}),s.restore)return s.overrides?t[o]=s.overrides:delete t[o],void(r.cache.templateProperties=null);s.pathSegments&&(s.x=n.x,s.y=n.y,s.width=n.width,s.height=n.height),t[o]=Object.assign({},sanitizeOverride(t[o]),s),r.cache.templateProperties=null}})}e.create=function create(e,t,n={},r=e.newId()){if(i(t.isMaster,"Node is not a master node"),s.isPinnable(t)){const e=sanitizeOverride(n[t.id])||{},{top:r,left:i,right:o,bottom:s,centerAnchorX:a,centerAnchorY:c}=t;n[t.id]=Object.assign({top:r,left:i,right:o,bottom:s,centerAnchorX:a,centerAnchorY:c},e)}const o=t.clone(Object.assign({id:r,originalid:t.id,isMaster:!1,isExternalMaster:null,replicaInfo:{master:t.id,overrides:n},children:rebuildChildren(e,r,r,t.children,n,new Set)},sanitizeOverride(n[t.id])));return t.cache.latest&&registerInMaster(t,o),i(o.id===r,"Replica must be owned by the tree"),o.walk(e=>i(e.originalid,"Node must have a original id")),o},e.treeDidLoad=function treeDidLoad(e){const t=new Set;return function nodeDidLoad(e,t,n){t.walkWithPredicate(t=>{if(n.has(t.id))return!1;if(n.add(t.id),!t.replicaInfo)return!0;const r=getMaster(e,t);return r&&(nodeDidLoad(e,r,n),r.asMutable(e),registerInMaster(r,t)),!0})}(e,e.root,t),e.commit()},e.registerInMaster=registerInMaster,e.getMaster=getMaster,e.replicaWithChanges=function replicaWithChanges(e,t){const n=getMaster(e,t);n&&withChanges(e,t,n)},e.withChanges=withChanges,e.updateFromMaster=updateFromMaster,e.updateFromOverrides=function updateFromOverrides(e,t,n){const r=t.replicaInfo.overrides,i=n.replicaInfo.overrides;t.walk(t=>{const n=t.originalid,o=r[n];if(o){for(const[e,r]of Object.entries(o))if(t[e]!==r){t.setIgnoringReplica(o);break}}else if(i[n]){const r=e.get(n);r&&updateNodeWithMaster(t,r,{})}})},e.updateOverrides=updateOverrides,e.resetOverrides=function resetOverrides(e,t,n){const r=e.get(n.originalid),i=Object.assign({},t.replicaInfo.overrides);let o={};if(t.id===n.id){const e=i[n.originalid];o={left:e.left,top:e.top,right:e.right,bottom:e.bottom,name:n.name},i[n.originalid]=o}else n.name?(o={name:n.name},i[n.originalid]=o):delete i[n.originalid];const s=t.replicaInfo.master;updateNodeWithMaster(n,r,o),(t=t.asMutable()).replicaInfo={master:s,overrides:i}},e.resetOverridesByProperty=function resetOverridesByProperty(e,t,n,r){const i=e.get(n.originalid),o=Object.assign({},t.replicaInfo.overrides),s=Object.assign({},o[n.originalid]);r.forEach(e=>{delete s[e]}),o[n.originalid]=s;const a=t.replicaInfo.master;updateNodeWithMaster(n,i,s),(t=t.asMutable()).replicaInfo={master:a,overrides:o}};const t=["name"];function shouldIgnorePosition(t,n){if(!o.isReplica(n))return!1;const r=e.getMaster(t,n),i=r&&null===t.getParent(r.id),s=null===t.getParent(n.id),a=t.getParent(n.id)===t.getParent(n.originalid);return i||s||a}function isInMasterOfReplica(e,t,n){if(!t)return!1;if(!o.isReplica(n))return function isAnyChildInMasterOfReplica(e,t,n){let r=!1;return n.walk(n=>{!r&&o.isReplica(n)&&(r=isInMasterOfReplica(e,t,n))}),r}(e,t,n);for(;t;){if(o.isMaster(t)&&isMasterOfReplica(e,t,n))return!0;t=e.get(t.parentid)}return!1}function isMasterOfReplica(e,t,n){if(n.replicaInfo.master===t.id)return!0;const r=t.cache.replicaInstances;if(!r)return!1;for(let i=0,o=r.length;i<o;i++){const t=r[i];if(isInMasterOfReplica(e,e.get(t),n))return!0}return!1}function maybePatchText(e,t,n,r){if(!n.originalid)return r;if(!(n.styledText instanceof c.StyledTextDraft))return r;const i=e.styledText,o=t.styledText;if(i!==o){const t=n.styledText,s=c.StyledTextDraft.patch(i,o,t);s!==t&&((r=Object.assign({},r))[e.id]=Object.assign({},sanitizeOverride(r[e.id]),{styledText:s}))}return r}e.positionKeysToIgnore=["bottom","top","left","right","centerAnchorX","centerAnchorY"],e.shouldIgnorePosition=shouldIgnorePosition,e.overrideKeys=function overrideKeys(n,r){const i=[];for(let o=0,s=r.length;o<s;o++){const s=r[o],a=e.getReplicaForTemplateNode(n,s);if(!s.originalid||!a||!a.replicaInfo)continue;const c=sanitizeOverride(a.replicaInfo.overrides[s.originalid]);if(!c)continue;const l=shouldIgnorePosition(n,s),u=Object.keys(c);for(const n of u)l&&-1!==e.positionKeysToIgnore.indexOf(n)||-1===t.indexOf(n)&&-1===i.indexOf(n)&&i.push(n)}return i},e.isInMasterOfReplica=isInMasterOfReplica,e.getReplicaForTemplateNode=function getReplicaForTemplateNode(e,t){if(!t||!t.originalid)return null;let n=t;for(;n&&!o.isReplica(n);)n=e.get(n.parentid);return n},e.hasReplicas=function hasReplicas(e,t){const n=t.cache.replicaInstances;if(!n)return!1;for(let r=0,i=n.length;r<i;r++){const t=n[r];if(e.getFuture(t))return!0}return!1},e.hideMaster=function hideMaster(e,t){t.isExternalMaster||t.set({isExternalMaster:o.HIDDEN_MASTER},e)},e.showMaster=function showMaster(e,t){t.isExternalMaster===o.HIDDEN_MASTER&&t.set({isExternalMaster:null},e)},e.maybePatchText=maybePatchText}(t.TemplateHelper||(t.TemplateHelper={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(6),o=n(1),s=n(23),a=n(391);!function(e){function calculatePath(e,t){const n=path(e,t);return e instanceof i.OvalShapeNode?n:n.map(e=>s.default.applyRadius(e.pathSegments,e.pathClosed))}function path(e,t){const{width:n,height:r}=t||e;if(e instanceof i.OvalShapeNode)return makeOval(n,r);if(e instanceof i.StarShapeNode)return makeStar(n,r,e.spikeCount,e.spikeDepth,e.radius);if(e instanceof i.PolygonShapeNode)return makePolygon(n,r,e.polygonSides,e.radius);if(e instanceof i.RectangleShapeNode)return makeRectangle(n,r,e.radius,e.radiusPerCorner,e.radiusTopLeft,e.radiusTopRight,e.radiusBottomRight,e.radiusBottomLeft);throw Error("can't make path, uknown basic shape")}function makeRectangle(e,t,n=0,i=!1,s=0,a=0,c=0,l=0){const u=i?s:n,h=i?a:n,d=i?c:n,p=i?l:n;return[{pathSegments:r.List([new o.PathSegment({radius:u}),new o.PathSegment({x:e,y:0,radius:h}),new o.PathSegment({x:e,y:t,radius:d}),new o.PathSegment({x:0,y:t,radius:p})]),pathClosed:!0}]}function makeOval(e,t){const n=2*(Math.sqrt(2)-1)/3;return[{pathSegments:r.List([new o.PathSegment({x:e/2,y:0,handleMirroring:"symmetric",handleOutX:n*e,handleOutY:0,handleInX:-n*e,handleInY:0}),new o.PathSegment({x:e,y:t/2,handleMirroring:"symmetric",handleOutY:n*t,handleOutX:0,handleInY:-n*t,handleInX:0}),new o.PathSegment({x:e/2,y:t,handleMirroring:"symmetric",handleOutX:-n*e,handleOutY:0,handleInX:n*e,handleInY:0}),new o.PathSegment({x:0,y:t/2,handleMirroring:"symmetric",handleOutY:-n*t,handleOutX:0,handleInY:n*t,handleInX:0})]),pathClosed:!0}]}function makeStar(e,t,n=a.spikesDefaults.spikeCount,i=a.spikesDefaults.spikeDepth,s=0){const c=Math.max(0,Math.min(1,(100-i)/100)),l=[];let u=Math.PI/2*3,h=0,d=0;const p=Math.PI/n;for(let r=0;r<n;r++)h=1*Math.cos(u),d=1*Math.sin(u),l.push({x:h,y:d}),u+=p,h=Math.cos(u)*c,d=Math.sin(u)*c,l.push({x:h,y:d}),u+=p;return[{pathSegments:r.List(l.map(n=>new o.PathSegment({x:(n.x+1)*e/2,y:(n.y+1)*t/2,radius:s}))),pathClosed:!0}]}function makePolygon(e,t,n=6,i=0){const s=[];let a=Math.PI/2*3,c=0,l=0;const u=2*Math.PI/n;for(let r=0;r<n;r++)c=1*Math.cos(a),l=1*Math.sin(a),s.push({x:c,y:l}),a+=u;return[{pathSegments:r.List(s.map(n=>new o.PathSegment({x:(n.x+1)*e/2,y:(n.y+1)*t/2,radius:i}))),pathClosed:!0}]}e.isBasicShape=function isBasicShape(e){return e instanceof i.RectangleShapeNode||e instanceof i.OvalShapeNode||e instanceof i.StarShapeNode||e instanceof i.PolygonShapeNode},e.calculatedPath=function calculatedPath(e,t){if(e.mutable)return calculatePath(e,t);const n=e.cache;return n.calculatedPaths||(n.calculatedPaths=calculatePath(e,t)),n.calculatedPaths},e.path=path,e.makeRoundedRectangle=function makeRoundedRectangle(e,t){return makeRectangle(e,t,Math.max(e,t))},e.makeRectangle=makeRectangle,e.makeOval=makeOval,e.makeStar=makeStar,e.makePolygon=makePolygon}(t.BasicShape||(t.BasicShape={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(1);t.GradientColorStopRecord=r.Record({value:"black",position:0});class GradientColorStop extends t.GradientColorStopRecord{toJS(){const e=super.toJS();return e.__class=this.constructor.name,e}toJSON(){return this.toJS()}}t.GradientColorStop=GradientColorStop,t.isColorStops=function isColorStops(e){return function isList(e){return r.List.isList(e)}(e)&&e.every(e=>e instanceof GradientColorStop)},t.equalColorStops=function equalColorStops(e,t){return e.count()===t.count()&&e.every((e,n)=>{const r=t.get(n);return(e.value===r.value||i.ConvertColor.equals(e.value,r.value))&&e.position===r.position})}},function(e,t,n){(function(r){function load(){var e;try{e=t.storage.debug}catch(n){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(857)).log=function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function formatArgs(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r)},t.save=function save(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=load,t.useColors=function useColors(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function localstorage(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(load())}).call(this,n(66))},function(e,t){var n,r,i=e.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(n===setTimeout)return setTimeout(e,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){n=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var o,s=[],a=!1,c=-1;function cleanUpNextTick(){a&&o&&(a=!1,o.length?s=o.concat(s):c=-1,s.length&&drainQueue())}function drainQueue(){if(!a){var e=runTimeout(cleanUpNextTick);a=!0;for(var t=s.length;t;){for(o=s,s=[];++c<t;)o&&o[c].run();c=-1,t=s.length}o=null,a=!1,function runClearTimeout(e){if(r===clearTimeout)return clearTimeout(e);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new Item(e,t)),1!==s.length||a||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=noop,i.addListener=noop,i.once=noop,i.off=noop,i.removeListener=noop,i.removeAllListeners=noop,i.emit=noop,i.prependListener=noop,i.prependOnceListener=noop,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){"function"==typeof Object.create?e.exports=function inherits(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function inherits(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";function isFiniteNumber(e){return"number"==typeof e&&isFinite(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isFiniteNumber=isFiniteNumber,t.finiteNumber=function finiteNumber(e){return isFiniteNumber(e)?e:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(0),o=n(476),s=n(297),a=n(123),c=n(32),l=n(302);var u=n(302);t.isDeprecatedFrameProps=u.isDeprecatedFrameProps;var h=n(297);t.DeprecatedFrame=h.DeprecatedFrame,t.DeprecatedCoreFrameProps=h.DeprecatedCoreFrameProps,t.DeprecatedFrameProperties=h.DeprecatedFrameProperties;var d=n(123);t.BackgroundImageState=d.BackgroundImageState,t.FrameWithMotion=d.FrameWithMotion,t.FrameProps=d.FrameProps;var p=n(490);t.BaseFrameProps=p.BaseFrameProps,t.FrameLayoutProperties=p.FrameLayoutProperties,t.CSSTransformProperties=p.CSSTransformProperties,t.VisualProperties=p.VisualProperties,t.DeprecatedFrameWithEvents=o.WithEvents(s.DeprecatedFrame),t.Frame=i.forwardRef(function Frame(e,n){const i=c.useParentSize();if(l.isDeprecatedFrameProps(e)){const n=e.parentSize||c.deprecatedParentSize(i);return r.createElement(t.DeprecatedFrameWithEvents,Object.assign({},e,{parentSize:n}))}return r.createElement(a.FrameWithMotion,Object.assign({},e,{ref:n}))}),t.Frame.rect=(e,t)=>l.isDeprecatedFrameProps(e)?s.DeprecatedFrame.rect(e):a.FrameWithMotion.rect(e),t.Frame.name="Frame"},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function toObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,a=toObject(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(a[l]=n[l]);if(r){s=r(n);for(var u=0;u<s.length;u++)o.call(n,s[u])&&(a[s[u]]=n[s[u]])}}return a}},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(0),s={bottomToolbar:"off",feedback:"off",feedbackJustSendIt:"off",feedbackServiceShim:"off",forceCodeComponentDomLayout:"off",ipcPreview:"off",disablePublishing:"off",sidebarStore:"off",rulers:"on",replaceWith:"on",exportPanel:"off",sandboxCanvas:"off",webfonts:"on",fractionOnStackInsert:"off"}||{},a=Object.assign({},"undefined"!=typeof window&&window.experiments||{}),c=(()=>{try{return JSON.parse(localStorage.experiments||"{}")}catch(e){}})();let l=!1;t.didHydrate=()=>{l=!0};class Experiments{constructor(e,t){this.isActive=(n,r)=>{if(t){const e=t(n,r);if(void 0!==e)return e}return e[n]===r}}isOn(e){return this.isActive(e,"on")}}const u=[];t.withExperiments=function withExperiments(e,t){u.push(e);try{return t()}finally{u.pop()!==e&&console.warn("Something went wrong with experiment overrides")}},t.experiments=new Experiments(Object.assign({},s,a,c),function isActiveByOverrides(e,t){for(let n=u.length-1;n>=0;n--){const r=u[n];if(e in r)return r[e]===t}});const h=new Experiments(s);function useExperimentVariant(e,n){const[,r]=o.useState(!1),i=o.useRef(!1),s=(l||i.current?t.experiments:h).isActive(e,n);return o.useLayoutEffect(()=>{const o=i.current||l;i.current=!0,o||s===t.experiments.isActive(e,n)||r(!0)},[]),s}t.Experiment=function Experiment(e){var{children:t}=e,n=r(e,["children"]);const[o,s,a]=function propsToParameters(e){if("isOn"in e)return[e.isOn,"on",!0];if("isNotOn"in e)return[e.isNotOn,"on",!1];if("isActive"in e)return[e.isActive,e.variant,!0];if("isNotActive"in e)return[e.isNotActive,e.variant,!1];throw Error("invalid props")}(n);return useExperimentVariant(o,s)===a?i.createElement(i.Fragment,null,t):null},t.useExperimentVariant=useExperimentVariant,t.useExperimentIsOn=function useExperimentIsOn(e){return useExperimentVariant(e,"on")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(87),i="fillType",o="fillEnabled",s="supportsGradient";function hasFill(e){return i in e&&r.stylableNode(e)}t.hasFill=hasFill,t.hasOptionalFill=function hasOptionalFill(e){return o in e&&r.stylableNode(e)},t.supportsGradient=function supportsGradient(e){return!!r.stylableNode(e)&&(function hasSupportsGradient(e){return s in e&&r.stylableNode(e)}(e)?e.supportsGradient():hasFill(e))},t.hasActiveGradientFill=function hasActiveGradientFill(e){return"linear-gradient"===e.fillType||"radial-gradient"===e.fillType}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(33),o=n(21);t.codeComponentWithChildInsertion=function codeComponentWithChildInsertion(e){if(!o.isCodeComponentNode(e))return!1;const t=i.componentLoader.componentForIdentifier(e.codeComponentIdentifier);return!!t&&t.class&&r.withChildInsertion(t.class)},t.codeComponentChildInsertionClass=function codeComponentChildInsertionClass(e){const t=i.componentLoader.componentForIdentifier(e.codeComponentIdentifier),n=t?t.class:null;return n&&r.withChildInsertion(n)?n:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34),i=n(132),o=n(731),s=n(44),a=n(29),c=n(138),l=n(169),u=n(144),h=/<svg[^>]+stroke[^>]+>/;t.isSVGNode=function isSVGNode(e){return e instanceof SVGNode};class SVGNode extends(i.withPinsSizeRatioConstraints(r.default)){constructor(e){super(),a.setDefaults(this,o.SVGRecord,e)}updateForRect(e,t){return s.updateConstrainedFrame(e,t,this.constraints(),this.constraintsLocked)}updateForSize(e,t){return s.updateConstrainedSize(e,t,this.constraintValues())}supportsGradient(){return!h.test(this.svg)}getProps(){const e=Object.assign({},super.getProps(),c.collectStyleFromNode(this),this.newConstraintProperties(),{rotation:this.rotation,svg:this.svg,visible:this.visible,intrinsicHeight:this.intrinsicHeight||void 0,intrinsicWidth:this.intrinsicWidth||void 0});return this.__unsafeIsGroundNode()&&(e.left=0,e.top=0),l.collectFilterPropsForNode(this,e),u.collectFillPropsForNode(this,e),e}}t.default=SVGNode},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(743),o=n(29),s=n(34),a=n(168),c=n(28);t.isRootNode=function isRootNode(e){return e instanceof RootNode};class RootNode extends s.default{constructor(e){super(),this.tokens=r.OrderedMap(),o.setDefaults(this,i.RootRecord,e)}toJS(){const e=super.toJS();return e.tokensIndex=Array.from(this.tokens.keys()),e}getToken(e){return this.tokens.get(e)||null}getTokensHash(){return this.tokens.hashCode()}getAllTokens(){return this.tokens.toArray()}getTokensOfType(e){return this.tokens.toArray().filter(t=>t instanceof e)}deleteToken(e){const t=this.tokens.remove(e.id);this.tree().updateNode(this,{tokens:t}),this.walk(t=>{const n=a.removeTokenFromNode(t,e);n&&this.tree().updateNode(t,n)})}setToken(e){const t=this.tokens.set(e.id,e);this.tree().updateNode(this,{tokens:t})}moveToken(e,t){const n=Array.from(this.tokens.entries()),i=n.length;c(t<i&&t>=0,`toIndex is out of bounds: ${t} in ${i}`),c(e<i&&e>=0,`fromIndex is out of bounds: ${e} in ${i}`);const[o]=n.splice(e,1);n.splice(t,0,o),this.tree().updateNode(this,{tokens:r.OrderedMap(n)})}}t.RootNode=RootNode},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(t){o(t)}}function rejected(e){try{step(r.throw(e))}catch(t){o(t)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(132),o=n(169),s=n(748),a=n(44),c=n(1),l=n(749),u=n(138),h=n(34),d=n(29);let p;!function loadEngine(){return r(this,void 0,void 0,function*(){p=(yield Promise.resolve().then(()=>n(27))).default})}(),t.isTextNode=function isTextNode(e){return e instanceof TextNode};class TextNode extends h.default{constructor(e){super(),this.styledTextChanged=p&&p.wrapHandler(()=>{const e=this.latest();e&&e.set({})}),d.setDefaults(this,l.TextRecord,e),delete this.children}set(e,t){return super.set(e,t)}toJS(){const e=super.toJS();return delete e.aspectRatio,e}minSize(e){return c.ConstraintValues.toMinSize(this.constraintValues(),e)}size(e,t){return c.ConstraintValues.toSize(this.constraintValues(),e,null,t)}rect(e){return c.ConstraintValues.toRect(this.constraintValues(),e,null,!0)}matrix(e,t){if(t||void 0===e||(t=this.rect(e)),!t)throw Error("Could not determine frame to build matrix from");return(new WebKitCSSMatrix).translate(t.x,t.y).rotate(0,0,this.rotation)}transformMatrix(e,t){if(t||(t=this.rect(e)),!t)throw Error("Could not determine frame to build matrix from");return(new WebKitCSSMatrix).translate(.5*t.width,.5*t.height).multiply(this.matrix(e,t)).translate(-.5*t.width,-.5*t.height)}get text(){return this.styledText.text}set text(e){this.styledText=this.styledText.withUpdatedText(e)}isRotated(){return this.rotation%360!=0}constraints(){return c.ConstraintMask.quickfix({left:c.isFiniteNumber(this.left),right:c.isFiniteNumber(this.right),top:c.isFiniteNumber(this.top),bottom:c.isFiniteNumber(this.bottom),widthType:this.widthType,heightType:this.heightType,aspectRatio:null,fixedSize:this.autoSize})}constraintValues(){const e=this.constraints(),{width:t,height:n}=this.autoSize?this.styledText.calculateSize():this;return{left:e.left?this.left:null,right:e.right?this.right:null,top:e.top?this.top:null,bottom:e.bottom?this.bottom:null,widthType:e.widthType,heightType:e.heightType,width:t,height:n,aspectRatio:null,centerAnchorX:this.centerAnchorX,centerAnchorY:this.centerAnchorY}}newConstraintProperties(){return this.mutable?this.calculatedNewConstraintProperties():this.cache.newConstraintProps?this.cache.newConstraintProps:this.cache.newConstraintProps=this.calculatedNewConstraintProperties()}calculatedNewConstraintProperties(){const{width:e,height:t}=this.autoSize?this.styledText.calculateSize():this,n=i.newConstraintProperties(this);return n.width=this.autoSize?e:n.width,n.height=this.autoSize?t:n.height,n._constraints.autoSize=this.autoSize,n}updateForRect(e,t,n){let r,i={width:e.width,height:e.height};if(this.autoSize){this.rect(t).height!==i.height&&(r=this.styledText.scaledToHeight(e.height))}const o=this.constraintsLocked||void 0!==n&&n;return i=a.updateConstrainedFrame(e,t,this.constraints(),o),r?Object.assign({},i,{styledText:r}):i}updateForSize(e,t,n=!0){const r={},i=this.rect(t);if(this.autoSize&&n&&void 0!==e.height&&i.height!==e.height){const t=this.styledText.scaledToHeight(e.height),n=t.calculateSize();e.width=n.width,e.height=n.height,r.styledText=t}const o=this.constraintValues();if(this.autoSize&&this.cache.isEditable){const n={width:e.width,height:e.height};if(e.width&&"alignment"in this.styledText){const r=this.styledText.alignment()||"left";if("left"===r&&null===o.left&&(null!==o.right&&(n.right=o.right-(e.width-i.width)),t&&(n.centerAnchorX=(i.x+e.width/2)/t.width)),"right"===r&&null===o.right&&(null!==o.left&&(n.left=o.left-(e.width-i.width)),t&&(n.centerAnchorX=(i.x-(e.width-i.width)+e.width/2)/t.width)),"center"===r){const t=Math.round((e.width-i.width)/2);null!==o.left?n.left=o.left-t:null!==o.right&&(n.right=o.right-t)}}return e.height&&null===o.top&&(null!==o.bottom&&(n.bottom=o.bottom-(e.height-i.height)),t&&(n.centerAnchorY=(i.y+e.height/2)/t.height)),Object.assign({},r,n)}return Object.assign({},r,a.updateConstrainedSize(e,t,o))}getAllFonts(){return[]}getProps(){const e=this.newConstraintProperties(),t=c.calculateRect(e,this.cache.parentRect||c.ParentSizeState.Unknown),n=this.styledText.calculateSize(this.autoSize||!t?0:t.width),r=Object.assign({},super.getProps(),e,this.styledText.getProps(this.styledTextChanged),u.collectStyleFromNode(this),{rotation:this.rotation,visible:this.visible,autoSize:this.autoSize,calculatedSize:n,opacity:this.opacity,isEditable:this.cache.isEditable});return this.__unsafeIsGroundNode()&&(r.left=0,r.top=0),void 0===r.name&&this.name&&(r.name=this.name),o.collectFilterPropsForNode(this,r),s.collectShadowPropsForNode(this,r),r}}t.default=TextNode},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.convertPoint=(e,t)=>{const{x:n,y:r}=t;let i=e.m14*n+e.m24*r+0*e.m34+e.m44;return i=i||1,{x:(e.m11*n+e.m21*r+0*e.m31+e.m41)/i,y:(e.m12*n+e.m22*r+0*e.m32+e.m42)/i}},e.equals=function equals(e,t){return e===t||!(!e||!t)&&(e.isIdentity?t.isIdentity:e.m41===t.m41&&e.m42===t.m42&&e.m11===t.m11&&e.m12===t.m12&&e.m21===t.m21&&e.m22===t.m22&&(!(!e.is2D||!t.is2D)||e.m13===t.m13&&e.m14===t.m14&&e.m23===t.m23&&e.m24===t.m24&&e.m31===t.m31&&e.m32===t.m32&&e.m33===t.m33&&e.m34===t.m34&&e.m43===t.m43&&e.m44===t.m44))}}(r||(r={})),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(34),o=n(132),s=n(786),a=n(44),c=n(22),l=n(29),u=n(144),h=n(138),d=n(228),p=n(229),f=n(169),g=n(242);t.isFrameNode=function isFrameNode(e){return e instanceof FrameNode};class FrameNode extends(o.withPinsSizeRatioConstraints(i.default)){constructor(e){super(),l.setDefaults(this,s.FrameRecord,e)}updateForRect(e,t){const n=a.updateConstrainedFrame(e,t,this.constraints(),this.constraintsLocked);return e.width===this.width&&e.height===this.height||null===this.deviceType?n:Object.assign({},n,{deviceType:null})}updateForSize(e,t){const n=a.updateConstrainedSize(e,t,this.constraintValues());return null!==this.deviceType?Object.assign({},n,{deviceType:null}):n}getProps(){const e={rotate:this.rotation,overflow:this.clip?"hidden":"visible"},t=Object.assign({},super.getProps(),this.newConstraintProperties(),{_border:d.borderPropsForNode(this),visible:this.visible,style:e});this.__unsafeIsGroundNode()&&(t.left=0,t.top=0,c.isReplica(this)&&t._constraints&&(r.isFiniteNumber(t._constraints.intrinsicWidth)&&!r.isFiniteNumber(t.width)&&(t.width=t._constraints.intrinsicWidth),r.isFiniteNumber(t._constraints.intrinsicHeight)&&!r.isFiniteNumber(t.height)&&(t.height=t._constraints.intrinsicHeight)));const n=h.collectStyleFromNode(this);p.collectBoxShadowPropsForNode(this,n),f.collectFilterPropsForNode(this,n),u.collectBackgroundPropsForNode(this,n),r.collectVisualStyleFromProps(n,e),t.background=n.background;let i=!1;if(c.isMaster(this)||c.isReplica(this)){let e=!1;const n={};this.walk(t=>{if(t!==this&&t.name){e=!0;const r=g.safeName(t.name);n[g.idToReactId(t.id)]=r}}),e&&(i=-1!==Object.values(n).indexOf("name"),t._overrideForwardingDescription=n)}return void 0===t.name&&this.name&&!i&&(t.name=this.name),t}}t.default=FrameNode},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n(0),o=n(7),s=n(12),a=n(2),c=n(11),l=function(){return(l=Object.assign||function __assign(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function __rest(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}var u,h=function(e){var t=e.onRead,n=e.onRender,r=e.uncachedValues,i=void 0===r?new Set:r,s=e.useCache,a=void 0===s||s;return function(e){void 0===e&&(e={});var r=__rest(e,[]),s={},c=[],l=!1;function setValue(e,t){e.startsWith("--")&&(r.hasCSSVariable=!0);var n=s[e];s[e]=t,s[e]!==n&&(-1===c.indexOf(e)&&c.push(e),l||(l=!0,o.b.render(u.render)))}var u={get:function(e,n){return void 0===n&&(n=!1),!n&&a&&!i.has(e)&&void 0!==s[e]?s[e]:t(e,r)},set:function(e,t){if("string"==typeof e)setValue(e,t);else for(var n in e)setValue(n,e[n]);return this},render:function(e){return void 0===e&&(e=!1),(l||!0===e)&&(n(s,r,c),l=!1,c.length=0),this}};return u}},d=/([a-z])([A-Z])/g,p=function(e){return e.replace(d,"$1-$2").toLowerCase()},f=new Map,g=new Map,m=["Webkit","Moz","O","ms",""],v=m.length,y="undefined"!=typeof document,S=function(e,t){return g.set(e,p(t))},b=function(e,t){void 0===t&&(t=!1);var n=t?g:f;return n.has(e)||(y?function(e){u=u||document.createElement("div");for(var t=0;t<v;t++){var n=m[t],r=""===n,i=r?e:n+e.charAt(0).toUpperCase()+e.slice(1);(i in u.style||r)&&(f.set(e,i),S(e,(r?"":"-")+p(i)))}}(e):function(e){S(e,e)}(e)),n.get(e)||e},_=["","X","Y","Z"],C=["translate","scale","rotate","skew","transformPerspective"].reduce(function(e,t){return _.reduce(function(e,n){return e.push(t+n),e},e)},["x","y","z"]),w=C.reduce(function(e,t){return e[t]=!0,e},{});function isTransformProp(e){return!0===w[e]}function sortTransformProps(e,t){return C.indexOf(e)-C.indexOf(t)}var x=new Set(["originX","originY","originZ"]);function isTransformOriginProp(e){return x.has(e)}var P=l({},a.number,{transform:Math.round}),T={color:a.color,backgroundColor:a.color,outlineColor:a.color,fill:a.color,stroke:a.color,borderColor:a.color,borderTopColor:a.color,borderRightColor:a.color,borderBottomColor:a.color,borderLeftColor:a.color,borderWidth:a.px,borderTopWidth:a.px,borderRightWidth:a.px,borderBottomWidth:a.px,borderLeftWidth:a.px,borderRadius:a.px,radius:a.px,borderTopLeftRadius:a.px,borderTopRightRadius:a.px,borderBottomRightRadius:a.px,borderBottomLeftRadius:a.px,width:a.px,maxWidth:a.px,height:a.px,maxHeight:a.px,size:a.px,top:a.px,right:a.px,bottom:a.px,left:a.px,padding:a.px,paddingTop:a.px,paddingRight:a.px,paddingBottom:a.px,paddingLeft:a.px,margin:a.px,marginTop:a.px,marginRight:a.px,marginBottom:a.px,marginLeft:a.px,rotate:a.degrees,rotateX:a.degrees,rotateY:a.degrees,rotateZ:a.degrees,scale:a.scale,scaleX:a.scale,scaleY:a.scale,scaleZ:a.scale,skew:a.degrees,skewX:a.degrees,skewY:a.degrees,distance:a.px,translateX:a.px,translateY:a.px,translateZ:a.px,x:a.px,y:a.px,z:a.px,perspective:a.px,opacity:a.alpha,originX:a.progressPercentage,originY:a.progressPercentage,originZ:a.px,zIndex:P,fillOpacity:a.alpha,strokeOpacity:a.alpha,numOctaves:P},k=function(e){return T[e]},E=function(e,t){return t&&"number"==typeof e?t.transform(e):e},O="scrollLeft",M="scrollTop",F=new Set([O,M]),D=new Set([O,M,"transform"]),I={x:"translateX",y:"translateY",z:"translateZ"};function isCustomTemplate(e){return"function"==typeof e}function buildStyleProperty(e,t,n,r,i,o,s){void 0===t&&(t=!0),void 0===n&&(n={}),void 0===r&&(r={}),void 0===i&&(i={}),void 0===o&&(o=[]),void 0===s&&(s=!1);var a=!0,c=!1,l=!1;for(var u in e){var h=e[u],d=k(u),p=E(h,d);isTransformProp(u)?(c=!0,r[u]=p,o.push(u),a&&(d.default&&h!==d.default||!d.default&&0!==h)&&(a=!1)):isTransformOriginProp(u)?(i[u]=p,l=!0):D.has(u)&&isCustomTemplate(p)||(n[b(u,s)]=p)}return(c||"function"==typeof e.transform)&&(n.transform=function buildTransform(e,t,n,r,i){var o="",s=!1;n.sort(sortTransformProps);for(var a=n.length,c=0;c<a;c++){var l=n[c];o+=(I[l]||l)+"("+t[l]+") ",s="z"===l||s}return!s&&i?o+="translateZ(0)":o=o.trim(),isCustomTemplate(e.transform)?o=e.transform(t,o):r&&(o="none"),o}(e,r,o,a,t)),l&&(n.transformOrigin=(i.originX||"50%")+" "+(i.originY||"50%")+" "+(i.originZ||0)),n}function createStyleBuilder(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var n={},r={},i={},o=[];return function(s){return o.length=0,buildStyleProperty(s,e,n,r,i,o,t),n}}var R=h({onRead:function stylefire_es_onRead(e,t){var n=t.element,r=t.preparseOutput,i=k(e);if(isTransformProp(e))return i&&i.default||0;if(F.has(e))return n[e];var o=window.getComputedStyle(n,null).getPropertyValue(b(e,!0))||0;return r&&i&&i.test(o)&&i.parse?i.parse(o):o},onRender:function stylefire_es_onRender(e,t,n){var r=t.element,i=t.buildStyles,o=t.hasCSSVariable;if(Object.assign(r.style,i(e)),o)for(var s=n.length,a=0;a<s;a++){var c=n[a];c.startsWith("--")&&r.style.setProperty(c,e[c])}-1!==n.indexOf(O)&&(r[O]=e[O]),-1!==n.indexOf(M)&&(r[M]=e[M])},uncachedValues:F});var N=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues"]),A=function(){return{style:{}}},B=function(e,t){return a.px.transform(e*t)},L={x:0,y:0,width:0,height:0};function calcOrigin(e,t,n){return"string"==typeof e?e:a.px.transform(t+n*e)}function buildSVGAttrs(e,t,n,r,i){void 0===t&&(t=L),void 0===r&&(r=createStyleBuilder(!1,!1)),void 0===i&&(i=A());var o=e.x,s=e.y,a=(e.z,e.originX),c=void 0===a?.5:a,l=e.originY,u=void 0===l?.5:l,h=e.pathLength,d=e.pathSpacing,f=void 0===d?1:d,g=e.pathOffset,m=void 0===g?0:g,v=r(__rest(e,["x","y","z","originX","originY","pathLength","pathSpacing","pathOffset"]));for(var y in v){if("transform"===y)i.style.transform=v[y];else i[N.has(y)?y:p(y)]=v[y]}return void 0===c&&void 0===u||(i.style.transformOrigin=function calculateSVGTransformOrigin(e,t,n){return calcOrigin(t,e.x,e.width)+" "+calcOrigin(n,e.y,e.height)}(t,c,u)),void 0!==o&&(i.x=o),void 0!==s&&(i.y=s),void 0!==n&&void 0!==h&&(i["stroke-dashoffset"]=B(-m,n),i["stroke-dasharray"]=B(h,n)+" "+B(f,n)),i}function createAttrBuilder(e,t){var n=A(),r=createStyleBuilder(!1,!1);return function(i){return buildSVGAttrs(i,e,t,r,n)}}var j=h({onRead:function(e,t){var n=t.element;if(isTransformProp(e=N.has(e)?e:p(e))){var r=k(e);return r&&r.default||0}return n.getAttribute(e)},onRender:function(e,t){var n=t.element,r=(0,t.buildAttrs)(e);for(var i in r)"style"===i?Object.assign(n.style,r.style):n.setAttribute(i,r[i])}}),z=h({useCache:!1,onRead:function(e){return"scrollTop"===e?window.pageYOffset:window.pageXOffset},onRender:function(e){var t=e.scrollTop,n=void 0===t?0:t,r=e.scrollLeft,i=void 0===r?0:r;return window.scrollTo(i,n)}}),U=new WeakMap,H=function(e,t){var n,r,i,o;return e instanceof HTMLElement?n=function createCssStyler(e,t){void 0===t&&(t={});var n=t.enableHardwareAcceleration,r=__rest(t,["enableHardwareAcceleration"]);return R(l({element:e,buildStyles:createStyleBuilder(n),preparseOutput:!0},r))}(e,t):e instanceof SVGElement?(i=function(e){try{return function(e){return"function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}(e)}catch(t){return{x:0,y:0,width:0,height:0}}}(r=e),o=function(e){return"path"===e.tagName}(r)&&r.getTotalLength?r.getTotalLength():void 0,n=j({element:r,buildAttrs:createAttrBuilder(i,o)})):e===window&&(n=z(e)),Object(c.invariant)(void 0!==n,"No valid node provided. Node must be HTMLElement, SVGElement or window."),U.set(e,n),n},V=function(e,t){return U.has(e)?U.get(e):H(e,t)};var W=function stylefire_es_index(e,t){var n="string"==typeof e?document.querySelector(e):e;return V(n,t)},G=n(54),q=n(10);function useExternalRef(e){var t=e&&"function"!=typeof e?e:Object(i.useRef)(null);return Object(i.useEffect)(function(){if(e&&"function"==typeof e)return e(t.current),function(){return e(null)}},[]),t}n.d(t,"AnimatePresence",function(){return Tn}),n.d(t,"AnimationControls",function(){return De}),n.d(t,"MotionContext",function(){return Re}),n.d(t,"MotionPluginContext",function(){return He}),n.d(t,"MotionPlugins",function(){return MotionPlugins}),n.d(t,"MotionValue",function(){return $}),n.d(t,"Point",function(){return Le}),n.d(t,"UnstableSyncLayout",function(){return At}),n.d(t,"animationControls",function(){return Ie}),n.d(t,"createMotionComponent",function(){return ze}),n.d(t,"isValidMotionProp",function(){return isValidMotionProp}),n.d(t,"motion",function(){return hn}),n.d(t,"motionValue",function(){return motionValue}),n.d(t,"transform",function(){return framer_motion_es_transform}),n.d(t,"unwrapMotionValue",function(){return unwrapMotionValue}),n.d(t,"useAnimatedState",function(){return useAnimatedState}),n.d(t,"useAnimation",function(){return useAnimation}),n.d(t,"useCycle",function(){return useCycle}),n.d(t,"useDomEvent",function(){return useDomEvent}),n.d(t,"useExternalRef",function(){return useExternalRef}),n.d(t,"useGestures",function(){return useGestures}),n.d(t,"useInvertedScale",function(){return mn}),n.d(t,"useMotionValue",function(){return useMotionValue}),n.d(t,"usePanGesture",function(){return usePanGesture}),n.d(t,"useSpring",function(){return useSpring}),n.d(t,"useTapGesture",function(){return useTapGesture}),n.d(t,"useTransform",function(){return useTransform}),n.d(t,"useViewportScroll",function(){return useViewportScroll});var K=function(e){return!isNaN(parseFloat(e))},$=function(){function MotionValue(e,t){var n=this,r=void 0===t?{}:t,i=r.transformer,s=r.parent;this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.updateAndNotify=function(e,t){void 0===t&&(t=!0),n.prev=n.current,n.current=n.transformer?n.transformer(e):e,n.updateSubscribers&&n.prev!==n.current&&n.updateSubscribers.forEach(n.notifySubscriber),n.children&&n.children.forEach(n.setChild),t&&n.renderSubscribers&&n.renderSubscribers.forEach(n.notifySubscriber);var r=Object(o.c)(),i=r.delta,s=r.timestamp;n.lastUpdated!==s&&(n.timeDelta=i,n.lastUpdated=s,o.b.postRender(n.scheduleVelocityCheck))},this.notifySubscriber=function(e){e(n.current)},this.scheduleVelocityCheck=function(){return o.b.postRender(n.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==n.lastUpdated&&(n.prev=n.current)},this.setChild=function(e){return e.set(n.current)},this.parent=s,this.transformer=i,this.set(e,!1),this.canTrackVelocity=K(this.current)}return MotionValue.prototype.addChild=function(e){void 0===e&&(e={});var t=new MotionValue(this.current,Object(r.a)({parent:this},e));return this.children||(this.children=new Set),this.children.add(t),t},MotionValue.prototype.removeChild=function(e){this.children&&this.children.delete(e)},MotionValue.prototype.subscribeTo=function(e,t){var n=this,r=function(){return t(n.current)};return e.add(r),function(){return e.delete(r)}},MotionValue.prototype.onChange=function(e){return this.updateSubscribers||(this.updateSubscribers=new Set),this.subscribeTo(this.updateSubscribers,e)},MotionValue.prototype.onRenderRequest=function(e){return this.renderSubscribers||(this.renderSubscribers=new Set),this.notifySubscriber(e),this.subscribeTo(this.renderSubscribers,e)},MotionValue.prototype.attach=function(e){this.passiveEffect=e},MotionValue.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},MotionValue.prototype.get=function(){return this.current},MotionValue.prototype.getVelocity=function(){return this.canTrackVelocity?Object(s.l)(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},MotionValue.prototype.start=function(e){var t=this;return this.stop(),new Promise(function(n){t.stopAnimation=e(n)}).then(function(){return t.clearAnimation()})},MotionValue.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},MotionValue.prototype.isAnimating=function(){return!!this.stopAnimation},MotionValue.prototype.clearAnimation=function(){this.stopAnimation=null},MotionValue.prototype.destroy=function(){this.updateSubscribers&&this.updateSubscribers.clear(),this.renderSubscribers&&this.renderSubscribers.clear(),this.parent&&this.parent.removeChild(this),this.stop()},MotionValue}();function motionValue(e,t){return new $(e,t)}function useConstant(e){var t=Object(i.useRef)(null);return null===t.current&&(t.current=e()),t.current}var X,Y=function(e){return e instanceof $},J=null,Z={isOpen:function(){return null!==J},open:function(){Object(c.invariant)(!J,"Sync render session already open"),J=[]},flush:function(){Object(c.invariant)(null!==J,"No sync render session found"),J&&J.forEach(function(e){return e.render()}),J=null},push:function(e){Object(c.invariant)(null!==J,"No sync render session found"),J&&J.push(e)}},Q=h({onRead:function(){return null},onRender:function(e,t){return(0,t.onUpdate)(e)}}),ee=function(){function MotionValuesMap(){this.hasMounted=!1,this.values=new Map,this.unsubscribers=new Map}return MotionValuesMap.prototype.has=function(e){return this.values.has(e)},MotionValuesMap.prototype.set=function(e,t){this.values.set(e,t),this.hasMounted&&this.bindValueToOutput(e,t)},MotionValuesMap.prototype.get=function(e,t){var n=this.values.get(e);return void 0===n&&void 0!==t&&(n=new $(t),this.set(e,n)),n},MotionValuesMap.prototype.forEach=function(e){return this.values.forEach(e)},MotionValuesMap.prototype.bindValueToOutput=function(e,t){var n=this,r=t.onRenderRequest(function(t){return n.output&&n.output(e,t)}),i=t.onChange(function(t){n.onUpdate&&n.onUpdate.set(e,t)});this.unsubscribers.has(e)&&this.unsubscribers.get(e)(),this.unsubscribers.set(e,function(){r(),i()})},MotionValuesMap.prototype.setOnUpdate=function(e){this.onUpdate=void 0,e&&(this.onUpdate=Q({onUpdate:e}))},MotionValuesMap.prototype.setTransformTemplate=function(e){this.transformTemplate!==e&&(this.transformTemplate=e,this.updateTransformTemplate())},MotionValuesMap.prototype.getTransformTemplate=function(){return this.transformTemplate},MotionValuesMap.prototype.updateTransformTemplate=function(){this.output&&this.output("transform",this.transformTemplate)},MotionValuesMap.prototype.mount=function(e){var t=this;this.hasMounted=!0,e&&(this.output=e),this.values.forEach(function(e,n){return t.bindValueToOutput(n,e)}),this.updateTransformTemplate()},MotionValuesMap.prototype.unmount=function(){var e=this;this.values.forEach(function(t,n){var r=e.unsubscribers.get(n);r&&r()})},MotionValuesMap}(),te=new Set(["dragOriginX","dragOriginY"]),ne=function(e){var t=useConstant(function(){var t=new ee;for(var n in e)Y(e[n])&&!te.has(n)&&t.set(n,e[n]);return t});return t.setOnUpdate(e.onUpdate),t.setTransformTemplate(e.transformTemplate),t},re=Object(i.memo)(Object(i.forwardRef)(function(e,t){var n=e.values,r=e.isStatic;return Object(i.useEffect)(function(){Object(c.invariant)(t.current instanceof Element,"No `ref` found. Ensure components created with `motion.custom` forward refs using `React.forwardRef`");var e=W(t.current,{preparseOutput:!1,enableHardwareAcceleration:!r});return n.mount(function(t,n){e.set(t,n),Z.isOpen()&&Z.push(e)}),function(){return n.unmount()}},[]),null})),ie=(X=function(e){return e.get()},function(e){var t={};return e.forEach(function(e,n){return t[n]=X(e)}),t}),oe=new Set(["originX","originY","originZ"]),se=function(e){return oe.has(e)},ae=function(e,t,n){var i=ie(e),o=e.getTransformTemplate();return o&&(i.transform=t.transform?o({},t.transform):o),Object(r.a)({},t,buildStyleProperty(i,!n))},ce=function(e,t,n){void 0===t&&(t={});var r=Object(i.useRef)({}).current,o=Object(i.useRef)({}).current,s=new Set(Object.keys(r));for(var a in t){s.delete(a);var c=t[a];if(Y(c))e.set(a,c);else if(isTransformProp(a)||se(a)){if(e.has(a)){if(c!==o[a])e.get(a).set(c)}else e.set(a,motionValue(c));o[a]=c}else r[a]=c}return s.forEach(function(e){return delete r[e]}),n?n(r):r},le=function(e){return Array.isArray(e)},ue=function(e){return Boolean(e&&"object"==typeof e&&e.mix&&e.toValue)},he=function(e){return le(e)?e[e.length-1]||0:e},de=[a.number,a.px,a.percent,a.degrees,a.vw,a.vh,{test:function(e){return"auto"===e},parse:function(e){return e}}],pe=de.concat([a.color,a.complex]),fe=function(e){return function(t){return t.test(e)}},ge=function(e){return de.find(fe(e))},me=function(e){return pe.find(fe(e))},ve=function(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}},ye=function(e){return{type:"spring",stiffness:700,damping:0===e?100:35}},Se=function(){return{ease:"linear",duration:.3}},be=function(e){return{type:"keyframes",duration:.8,values:e}},_e={x:ve,y:ve,z:ve,rotate:ve,rotateX:ve,rotateY:ve,rotateZ:ve,scaleX:ye,scaleY:ye,scale:ye,opacity:Se,backgroundColor:Se,color:Se,default:ye},Ce=function(e){var t=e.to,n=e.duration;return Object(G.action)(function(e){var r=e.update,i=e.complete;r(t),n?Object(G.delay)(n).start({complete:i}):i()})},we=function(e){if(Array.isArray(e)){Object(c.invariant)(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=e[0],n=e[1],r=e[2],i=e[3];return Object(q.cubicBezier)(t,n,r,i)}return"string"==typeof e?(Object(c.invariant)(void 0!==q[e],"Invalid easing type '"+e+"'"),q[e]):e},xe=function(e){return Array.isArray(e)&&"number"!=typeof e[0]},Pe=function(e,t){return"zIndex"!==e&&(!("number"!=typeof t&&!Array.isArray(t))||!("string"!=typeof t||!a.complex.test(t)||t.startsWith("url(")))},Te=function(e){return 1e3*e},ke={tween:G.tween,spring:G.spring,keyframes:G.keyframes,inertia:G.inertia,just:Ce},Ee={tween:function(e){if(e.ease){var t=xe(e.ease)?e.ease[0]:e.ease;e.ease=we(t)}return e},keyframes:function(e){var t=e.from,n=(e.to,e.velocity,Object(r.c)(e,["from","to","velocity"]));if(n.values&&null===n.values[0]){var i=n.values.slice();i[0]=t,n.values=i}return n.ease&&(n.easings=xe(n.ease)?n.ease.map(we):we(n.ease)),n.ease=q.linear,n}},Oe=function(e,t,n){var i=n?n.delay:0;if(void 0===n||!function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection;var t=Object(r.c)(e,["when","delay","delayChildren","staggerChildren","staggerDirection"]);return Object.keys(t).length}(n))return Object(r.a)({delay:i},function(e,t){var n;return n=le(t)?be:_e[e]||_e.default,Object(r.a)({to:t},n(t))}(e,t));var o=n[e]||n.default||n;return!1===o.type?{type:"just",delay:i,to:le(t)?t[t.length-1]:t}:le(t)?Object(r.a)({values:t,duration:.8,delay:i,ease:"linear"},o,{type:"keyframes"}):Object(r.a)({type:"tween",to:t,delay:i},o)},Me=function(e,t,n,i){var o=t.get(),s=Pe(e,o),a=Pe(e,n);Object(c.warning)(s===a,"You are trying to animate "+e+' from "'+o+'" to '+n+'. "'+o+'" is not an animatable value - to enable this animation set '+o+" to a value animatable to "+n+" via the `style` property.");var l,u=Oe(e,n,i),h=u.type,d=void 0===h?"tween":h,p=Object(r.c)(u,["type"]),f=s&&a?ke[d]:Ce,g=function(e,t){return Ee[e]?Ee[e](t):t}(d,Object(r.a)({from:o,velocity:t.getVelocity()},p));return((l=g).hasOwnProperty("duration")||l.hasOwnProperty("repeatDelay"))&&(g.duration&&(g.duration=Te(g.duration)),g.repeatDelay&&(g.repeatDelay=Te(g.repeatDelay))),f(g)};function framer_motion_es_startAnimation(e,t,n,i){var o=i.delay,s=void 0===o?0:o,a=Object(r.c)(i,["delay"]);return t.start(function(r){var i,o=function(){var o=Me(e,t,n,a);i=o.start({update:function(e){return t.set(e)},complete:r})};return s?i=Object(G.delay)(Te(s)).start({complete:o}):o(),function(){i&&i.stop()}})}var Fe=function(){function ValueAnimationControls(e){var t=this,n=e.values,r=e.readValueFromSource,i=e.makeTargetAnimatable;this.variants={},this.baseTarget={},this.overrides=[],this.resolvedOverrides=[],this.activeOverrides=new Set,this.isAnimating=new Set,this.hasValue=function(e){return!t.values.has(e)},this.values=n,this.readValueFromSource=r,this.makeTargetAnimatable=i,this.values.forEach(function(e,n){return t.baseTarget[n]=e.get()})}return ValueAnimationControls.prototype.setProps=function(e){this.props=e},ValueAnimationControls.prototype.setVariants=function(e){e&&(this.variants=e)},ValueAnimationControls.prototype.setDefaultTransition=function(e){e&&(this.defaultTransition=e)},ValueAnimationControls.prototype.setValues=function(e,t){var n=this,i=void 0===t?{}:t,o=i.isActive,s=void 0===o?new Set:o,a=i.priority,c=(e.transition,e.transitionEnd),l=Object(r.c)(e,["transition","transitionEnd"]);return l=this.transformValues(Object(r.a)({},l,c)),Object.keys(l).forEach(function(e){if(!s.has(e)){s.add(e);var t=he(l[e]);if(n.values.has(e)){var r=n.values.get(e);r&&r.set(t)}else n.values.set(e,motionValue(t));a||(n.baseTarget[e]=t)}})},ValueAnimationControls.prototype.transformValues=function(e){var t=this.props.transformValues;return t?t(e):e},ValueAnimationControls.prototype.checkForNewValues=function(e){var t=Object.keys(e).filter(this.hasValue),n=t.length;if(n)for(var r=0;r<n;r++){var i=t[r],o=e[i],s=null;Array.isArray(o)&&(s=o[0]),null===s&&(s=this.readValueFromSource(i),Object(c.invariant)(null!==s,'No initial value for "'+i+'" can be inferred. Ensure an initial value for "'+i+'" is defined on the component.')),"string"==typeof s&&/^\d*\.?\d+$/.test(s)?s=parseFloat(s):!me(s)&&a.complex.test(o)&&(s=a.complex.getAnimatableNone(o)),this.values.set(i,motionValue(s)),this.baseTarget[i]=s}},ValueAnimationControls.prototype.resolveVariant=function(e){if(!e)return{target:void 0,transition:void 0,transitionEnd:void 0};var t,n;"function"==typeof e&&(e=e(this.props.custom,(t=this.values,n={},t.forEach(function(e,t){return n[t]=e.get()}),n),function(e){var t={};return e.forEach(function(e,n){return t[n]=e.getVelocity()}),t}(this.values)));var i=e.transition;return{transition:void 0===i?this.defaultTransition:i,transitionEnd:e.transitionEnd,target:Object(r.c)(e,["transition","transitionEnd"])}},ValueAnimationControls.prototype.getHighestPriority=function(){return this.activeOverrides.size?Math.max.apply(Math,Array.from(this.activeOverrides)):0},ValueAnimationControls.prototype.setOverride=function(e,t){this.overrides[t]=e,this.children&&this.children.forEach(function(n){return n.setOverride(e,t)})},ValueAnimationControls.prototype.startOverride=function(e){var t=this.overrides[e];if(t)return this.start(t,{priority:e})},ValueAnimationControls.prototype.clearOverride=function(e){var t=this;if(this.children&&this.children.forEach(function(t){return t.clearOverride(e)}),this.overrides[e]){this.activeOverrides.delete(e);var n=this.getHighestPriority();if(this.resetIsAnimating(),n)this.overrides[n]&&this.startOverride(n);var r=this.resolvedOverrides[e];if(r){var i={};for(var o in this.baseTarget)void 0!==r[o]&&(i[o]=this.baseTarget[o]);this.onStart(),this.animate(i).then(function(){return t.onComplete()})}}},ValueAnimationControls.prototype.apply=function(e){return Array.isArray(e)?this.applyVariantLabels(e):"string"==typeof e?this.applyVariantLabels([e]):void this.setValues(e)},ValueAnimationControls.prototype.applyVariantLabels=function(e){var t=this,n=new Set;e.slice().reverse().forEach(function(r){var i=t.resolveVariant(t.variants[r]),o=i.target,s=i.transitionEnd;s&&t.setValues(s,{isActive:n}),o&&t.setValues(o,{isActive:n}),t.children&&t.children.size&&t.children.forEach(function(t){return t.applyVariantLabels(e)})})},ValueAnimationControls.prototype.start=function(e,t){var n,r,i=this;return void 0===t&&(t={}),t.priority&&this.activeOverrides.add(t.priority),this.resetIsAnimating(t.priority),r=e,n=Array.isArray(r)?this.animateVariantLabels(e,t):"string"==typeof e?this.animateVariant(e,t):this.animate(e,t),this.onStart(),n.then(function(){return i.onComplete()})},ValueAnimationControls.prototype.animate=function(e,t){var n=this,i=void 0===t?{}:t,o=i.delay,s=void 0===o?0:o,a=i.priority,c=void 0===a?0:a,l=i.transitionOverride,u=this.resolveVariant(e),h=u.target,d=u.transition,p=u.transitionEnd;if(l&&(d=l),!h)return Promise.resolve();if(h=this.transformValues(h),p&&(p=this.transformValues(p)),this.checkForNewValues(h),this.makeTargetAnimatable){var f=this.makeTargetAnimatable(h,p);h=f.target,p=f.transitionEnd}c&&(this.resolvedOverrides[c]=h),this.checkForNewValues(h);var g=[];for(var m in h){var v=this.values.get(m);if(v&&h&&void 0!==h[m]){var y=h[m];c||(this.baseTarget[m]=he(y)),this.isAnimating.has(m)||(this.isAnimating.add(m),g.push(framer_motion_es_startAnimation(m,v,y,Object(r.a)({delay:s},d))))}}var S=Promise.all(g);return p?S.then(function(){n.setValues(p,{priority:c})}):S},ValueAnimationControls.prototype.animateVariantLabels=function(e,t){var n=this,r=e.slice().reverse().map(function(e){return n.animateVariant(e,t)});return Promise.all(r)},ValueAnimationControls.prototype.animateVariant=function(e,t){var n=this,r=!1,i=0,o=0,s=1,a=t&&t.priority||0,c=this.variants[e],l=c?function(){return n.animate(c,t)}:function(){return Promise.resolve()},u=this.children?function(){return n.animateChildren(e,i,o,s,a)}:function(){return Promise.resolve()};if(c&&this.children){var h=this.resolveVariant(c).transition;h&&(r=h.when||r,i=h.delayChildren||i,o=h.staggerChildren||o,s=h.staggerDirection||s)}if(r){var d="beforeChildren"===r?[l,u]:[u,l],p=d[1];return(0,d[0])().then(p)}return Promise.all([l(),u()])},ValueAnimationControls.prototype.animateChildren=function(e,t,n,r,i){if(void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i=0),!this.children)return Promise.resolve();var o=[],s=(this.children.size-1)*n,a=1===r?function(e){return e*n}:function(e){return s-e*n};return Array.from(this.children).forEach(function(n,r){var s=n.animateVariant(e,{priority:i,delay:t+a(r)});o.push(s)}),Promise.all(o)},ValueAnimationControls.prototype.onStart=function(){var e=this.props.onAnimationStart;e&&e()},ValueAnimationControls.prototype.onComplete=function(){var e=this.props.onAnimationComplete;e&&e()},ValueAnimationControls.prototype.checkOverrideIsAnimating=function(e){for(var t=this.overrides.length,n=e+1;n<t;n++){var r=this.resolvedOverrides[n];if(r)for(var i in r)this.isAnimating.add(i)}},ValueAnimationControls.prototype.resetIsAnimating=function(e){void 0===e&&(e=0),this.isAnimating.clear(),e<this.getHighestPriority()&&this.checkOverrideIsAnimating(e),this.children&&this.children.forEach(function(t){return t.resetIsAnimating(e)})},ValueAnimationControls.prototype.stop=function(){this.values.forEach(function(e){return e.stop()})},ValueAnimationControls.prototype.addChild=function(e){this.children||(this.children=new Set),this.children.add(e),this.overrides.forEach(function(t,n){t&&e.setOverride(t,n)})},ValueAnimationControls.prototype.removeChild=function(e){this.children&&this.children.delete(e)},ValueAnimationControls.prototype.resetChildren=function(){this.children&&this.children.clear()},ValueAnimationControls}();var De=function(){function AnimationControls(){this.hasMounted=!1,this.pendingAnimations=[],this.componentControls=new Set}return AnimationControls.prototype.setVariants=function(e){this.variants=e,this.componentControls.forEach(function(t){return t.setVariants(e)})},AnimationControls.prototype.setDefaultTransition=function(e){this.defaultTransition=e,this.componentControls.forEach(function(t){return t.setDefaultTransition(e)})},AnimationControls.prototype.subscribe=function(e){var t=this;return this.componentControls.add(e),this.variants&&e.setVariants(this.variants),this.defaultTransition&&e.setDefaultTransition(this.defaultTransition),function(){return t.componentControls.delete(e)}},AnimationControls.prototype.start=function(e,t){var n=this;if(this.hasMounted){var r=[];return this.componentControls.forEach(function(n){var i=n.start(e,{transitionOverride:t});r.push(i)}),Promise.all(r)}return new Promise(function(r){n.pendingAnimations.push({animation:[e,t],resolve:r})})},AnimationControls.prototype.set=function(e){return Object(c.invariant)(this.hasMounted,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),this.componentControls.forEach(function(t){return t.apply(e)})},AnimationControls.prototype.stop=function(){this.componentControls.forEach(function(e){return e.stop()})},AnimationControls.prototype.mount=function(){var e=this;this.hasMounted=!0,this.pendingAnimations.forEach(function(t){var n=t.animation,r=t.resolve;return e.start.apply(e,n).then(r)})},AnimationControls.prototype.unmount=function(){this.hasMounted=!1,this.stop()},AnimationControls}(),Ie=function(){return new De},Re=Object(i.createContext)({static:!1}),Ne=function(e){return"string"==typeof e||Array.isArray(e)},Ae=function(e){return e instanceof De},Be=function(e,t,n,r,o){void 0===r&&(r=!1);var s,a=o.initial,c=o.animate,l=o.variants,u=o.whileTap,h=o.whileHover;!1!==a||Ae(c)?"boolean"!=typeof a&&(s=a):s=c;var d=Object(i.useRef)(!1),p=l||Ne(c)||Ne(u)||Ne(h)||Ae(c),f=Ne(s)?s:e.initial,g=Ne(c)?c:e.animate,m=r?f:null,v=p&&Ne(g)?g:null,y=Object(i.useMemo)(function(){return{controls:p?t:e.controls,initial:f,animate:g,values:n,hasMounted:d}},[m,v]);return y.static=r,function useMaxTimes(e,t){void 0===t&&(t=1),Object(i.useRef)(0).current++<t&&e()}(function(){var n=s||e.initial;n&&t.apply(n)},r?1/0:1),Object(i.useEffect)(function(){d.current=!0},[]),y};function useValueAnimationControls(e,t,n){var o=t.variants,s=t.transition,a=Object(i.useContext)(Re).controls,c=useConstant(function(){return new Fe(e)});return c.resetChildren(),c.setProps(t),c.setVariants(o),c.setDefaultTransition(s),n&&a&&a.addChild(c),Object(i.useEffect)(function(){return function(){t.onAnimationComplete;var e=Object(r.c)(t,["onAnimationComplete"]);c.setProps(e),a&&a.removeChild(c)}},[]),c}var Le,je=function(e){var t=e.animate,n=e.variants,r=e.inherit;return(void 0===r||r)&&!!n&&(!t||t instanceof De)},ze=function(e){var t=e.getValueControlsConfig,n=e.loadFunctionalityComponents,o=e.renderComponent;return Object(i.forwardRef)(function MotionComponent(e,s){var a=useExternalRef(s),l=Object(i.useContext)(Re),u=l.exitProps,h=Object(r.c)(l,["exitProps"]);u&&(e=function applyExitProps(e,t){var n=t.initial,i=t.isExiting,o=t.custom,s=t.onExitComplete;return i?(Object(c.invariant)(!!e.exit,"No exit animation defined."),Object(r.a)({},e,{custom:void 0!==o?o:e.custom,animate:e.exit,onAnimationComplete:function(){s&&s(),e.onAnimationComplete&&e.onAnimationComplete()}})):!1===n?Object(r.a)({},e,{initial:n}):e}(e,u));var d=h.static||e.static||!1,p=ne(e),f=ce(p,e.style,e.transformValues),g=je(e),m=useValueAnimationControls(useConstant(function(){return t(a,p)}),e,g),v=Be(h,m,p,d,e),y=d?null:n(a,p,e,m,g),S=o(a,f,p,e,d);return Object(i.createElement)(i.Fragment,null,Object(i.createElement)(re,{ref:a,values:p,isStatic:d}),y,Object(i.createElement)(Re.Provider,{value:v},S))})},Ue=["animate","circle","clipPath","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","metadata","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tspan","use","view"];!function(e){e.subtract=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},e.relativeTo=function(e){var t;return function(n){var r=n.x,i=n.y,o=void 0!==t?t:t="string"==typeof e?document.getElementById(e):e;if(o){var s=o.getBoundingClientRect();return{x:r-s.left-window.scrollX,y:i-s.top-window.scrollY}}}}}(Le||(Le={}));var He=Object(i.createContext)({transformPagePoint:function(e){return e}});function MotionPlugins(e){var t=e.children,n=Object(r.c)(e,["children"]),o=Object(i.useContext)(He),s=Object(i.useRef)(Object(r.a)({},o)).current;for(var a in n)s[a]=n[a];return Object(i.createElement)(He.Provider,{value:s},t)}var Ve=!1;"undefined"!=typeof window&&window.addEventListener("touchmove",function(e){Ve&&e.preventDefault()},{passive:!1});var We=function(){return Ve=!0},Ge=function(){return Ve=!1};function isMouseEvent(e){return"undefined"!=typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function isTouchEvent(e){return!!e.touches}function useUnmountEffect(e){return Object(i.useEffect)(function(){return function(){return e()}},[])}function addDomEvent(e,t,n,r){if(n)return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function useDomEvent(e,t,n,r){Object(i.useEffect)(function(){var i=e.current;if(n&&i)return addDomEvent(i,t,n,r)},[e,t,n,r])}var qe={pageX:0,pageY:0};function pointFromMouse(e){var t=e.pageX,n=void 0===t?0:t,r=e.pageY;return{x:n,y:void 0===r?0:r}}var Ke=function(e,t){if(void 0===t&&(t=!1),e){var n=function(t){return e(t,function extractEventInfo(e){return{point:isTouchEvent(e)?(t=e,n=t.touches[0]||t.changedTouches[0]||qe,{x:n.pageX,y:n.pageY}):pointFromMouse(e)};var t,n}(t))};return t?function filterPrimaryPointer(e){if(e)return function(t){var n=t instanceof MouseEvent;(!n||n&&0===t.button)&&e(t)}}(n):n}},$e="undefined"!=typeof window,Xe=function(){return $e&&null===window.onpointerdown},Ye=function(){return $e&&null===window.ontouchstart},Je=function(){return $e&&null===window.onmousedown},Ze={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Qe={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function getPointerEventName(e){return Xe()?e:Ye()?Qe[e]:Je()?Ze[e]:e}function addPointerEvent(e,t,n,r){return addDomEvent(e,getPointerEventName(t),Ke(n,"pointerdown"===t),r)}function usePointerEvent(e,t,n,r){return useDomEvent(e,getPointerEventName(t),Ke(n,"pointerdown"===t),r)}function startDevicePoint(e){return e.pointHistory[0]}function lastDevicePoint(e){return e.pointHistory[e.pointHistory.length-1]}function getVelocity$1(e,t){var n=e.pointHistory;if(n.length<2)return{x:0,y:0};for(var r=n.length-1,i=null,o=lastDevicePoint(e);r>=0&&(i=n[r],!(o.timestamp-i.timestamp>Te(t)));)r--;if(!i)return{x:0,y:0};var s=(o.timestamp-i.timestamp)/1e3;if(0===s)return{x:0,y:0};var a={x:(o.x-i.x)/s,y:(o.y-i.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function usePanGesture(e,t){var n=e.onPan,a=e.onPanStart,l=e.onPanEnd,u=e.onPanSessionStart,h=n||a||l||u,d=Object(i.useRef)(null),p=Object(i.useRef)(null),f=Object(i.useRef)(null),g=Object(i.useContext)(He).transformPagePoint,m=Object(i.useRef)(null),v=Object(i.useRef)({}).current;function removePointerEvents(){m.current&&m.current(),m.current=null}function getPanInfo(e){var t=e.point,n=d.current;return{point:t,delta:Le.subtract(t,lastDevicePoint(n)),offset:Le.subtract(t,startDevicePoint(n)),velocity:getVelocity$1(n,.1)}}function transformPoint(e){return{point:g(e.point)}}function cancelPan(){removePointerEvents(),o.a.update(updatePoint),Ge()}function updatePoint(){if(!d.current||!p.current||!f.current)return Object(c.warning)(!1,"onPointerMove fired without pointer session"),void cancelPan();var e=getPanInfo(f.current),t=void 0!==d.current.startEvent,n=Object(s.d)(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,a=Object(o.c)().timestamp;d.current.pointHistory.push(Object(r.a)({},i,{timestamp:a})),t||(v.onPanStart&&v.onPanStart(p.current,e),d.current.startEvent=p.current),v.onPan&&v.onPan(p.current,e)}}function onPointerMove(e,t){p.current=e,f.current=transformPoint(t),isMouseEvent(e)&&0===e.buttons?onPointerUp(e,t):o.b.update(updatePoint,!0)}function onPointerUp(e,t){cancelPan(),d.current?(v.onPanEnd&&v.onPanEnd(e,getPanInfo(transformPoint(t))),d.current=null):Object(c.warning)(!1,"onPointerUp fired without pointer session")}v.onPanSessionStart=u,v.onPanStart=a,v.onPan=n,v.onPanEnd=l,usePointerEvent(t,"pointerdown",h&&function onPointerDown(e,t){if(!(isTouchEvent(e)&&e.touches.length>1)){var n=transformPoint(t),i=n.point,s=Object(o.c)().timestamp;d.current={target:e.target,pointHistory:[Object(r.a)({},i,{timestamp:s})]},v.onPanSessionStart&&v.onPanSessionStart(e,getPanInfo(n)),removePointerEvents();var a=addPointerEvent(window,"pointermove",onPointerMove),c=addPointerEvent(window,"pointerup",onPointerUp);m.current=function(){a&&a(),c&&c()}}}),useUnmountEffect(cancelPan)}var et=function(e,t){return!!t&&(e===t||et(e,t.parentElement))},tt=["whileHover","whileTap","whileDrag"],nt=function(e){return tt.indexOf(e)+1};function createLock(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var rt=createLock("dragHorizontal"),it=createLock("dragVertical");function getGlobalLock(e){var t=!1;if("y"===e)t=it();else if("x"===e)t=rt();else{var n=rt(),r=it();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}var ot=nt("whileTap");function useTapGesture(e,t){var n=e.onTap,r=e.onTapStart,o=e.onTapCancel,s=e.whileTap,a=e.controls,c=n||r||o||s,l=Object(i.useRef)(!1),u=Object(i.useRef)(null);function removePointerUp(){u.current&&u.current(),u.current=null}s&&a&&a.setOverride(s,ot);var h=Object(i.useRef)(null);h.current=function(e,r){var i=t.current;if(removePointerUp(),l.current&&i){l.current=!1,a&&s&&a.clearOverride(ot);var c=getGlobalLock(!0);c&&(c(),et(i,e.target)?n&&n(e,r):o&&o(e,r))}},usePointerEvent(t,"pointerdown",c?function onPointerDown(e,n){removePointerUp(),u.current=addPointerEvent(window,"pointerup",function(e,t){return h.current(e,t)}),t.current&&!l.current&&(l.current=!0,r&&r(e,n),a&&s&&a.startOverride(ot))}:void 0),useUnmountEffect(removePointerUp)}var st=nt("whileHover"),at=function(e){return function(t,n){isMouseEvent(t)&&e(t,n)}};function useGestures(e,t){usePanGesture(e,t),useTapGesture(e,t),function useHoverGesture(e,t){var n=e.whileHover,r=e.onHoverStart,i=e.onHoverEnd,o=e.controls;n&&o&&o.setOverride(n,st),usePointerEvent(t,"pointerenter",at(function(e,t){r&&r(e,t),n&&o&&o.startOverride(st)})),usePointerEvent(t,"pointerleave",at(function(e,t){i&&i(e,t),n&&o&&o.clearOverride(st)}))}(e,t)}var ct=function(e){return function(t){return e(t),null}},lt=["drag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","whileTap","whileHover","onHoverStart","onHoverEnd"],ut={key:"gestures",shouldRender:function(e){return lt.some(function(t){return e.hasOwnProperty(t)})},Component:ct(function(e){var t=e.innerRef;useGestures(Object(r.c)(e,["innerRef"]),t)})},ht=function(e){return"object"==typeof e&&e.hasOwnProperty("current")};function useMotionValue(e){return useConstant(function(){return motionValue(e)})}var dt=new Set(["INPUT","TEXTAREA","SELECT"]),pt=function(e,t){var n=e.current.getBoundingClientRect(),r=t({x:n.left,y:n.top}),i=r.x,o=r.y,s=t({x:n.width,y:n.height});return{left:i,top:o,width:s.x,height:s.y}},ft=function(e){return e?e.get():0},gt=function(e,t,n,r){Object(c.invariant)(null!==e.current&&null!==t.current,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var i=pt(e,r),o=pt(t,r),s=i.left-o.left+ft(n.x),a=i.top-o.top+ft(n.y);return{top:a,left:s,right:i.width-o.width+s,bottom:i.height-o.height+a}};function shouldDrag(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}var mt=function(e,t){var n=t.top,r=t.right,i=t.bottom,o=t.left;return"x"===e?{min:o,max:r}:{min:n,max:i}};function applyConstraints(e,t,n,r){var i=t instanceof $?t.get():t;if(!n)return i;var o=mt(e,n),s=o.min,a=o.max;return void 0!==s&&i<s?i=r?applyOverdrag(s,i,r):Math.max(s,i):void 0!==a&&i>a&&(i=r?applyOverdrag(a,i,r):Math.min(a,i)),t instanceof $&&t.set(i),i}function applyOverdrag(e,t,n){var r="number"==typeof n?n:.35;return Object(s.f)(e,t,r)}function bothAxis(e){return[e("x"),e("y")]}function useDrag(e,t,n,o){var s=e.drag,a=void 0!==s&&s,c=e.dragDirectionLock,l=void 0!==c&&c,u=e.dragPropagation,h=void 0!==u&&u,d=e.dragConstraints,p=void 0!==d&&d,f=e.dragElastic,g=void 0===f||f,m=e.dragMomentum,v=void 0===m||m,y=e._dragValueX,S=e._dragValueY,b=e._dragTransitionControls,_=e.dragOriginX,C=e.dragOriginY,w=e.dragTransition,x=e.onDirectionLock,P=e.onDragStart,T=e.onDrag,k=e.onDragEnd,E=e.onDragTransitionEnd,O=ht(p),M=Object(i.useRef)({isDragging:!1,hasDragged:!1,currentDirection:null,constraints:!1,handlers:{}}).current,F=M.handlers;F.onDragStart=P,F.onDrag=T,F.onDragEnd=k,F.onDirectionLock=x,F.onDragTransitionEnd=E;var D=Object(i.useRef)({}).current,I=useMotionValue(0),R=useMotionValue(0),N={x:_||I,y:C||R},A=Object(i.useRef)(null),B=Object(i.useContext)(He).transformPagePoint,L=Object(i.useRef)({width:0,height:0,x:0,y:0}).current,j=function(){if(ht(p)){var e=pt(p,B),n=pt(t,B),r=function(t,r){var i=D[t];if(i){if(i.isAnimating())return i.stop(),void z();var o=L[r]?(e[r]-n[r])/L[r]:1;i.set(L[t]*o)}};r("x","width"),r("y","height")}};!function useResize(e,t){Object(i.useEffect)(function(){if(e&&ht(e))return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}},[e,t])}(p,j);var z=function(e){if(e){var t=e.right,n=e.left,r=e.bottom,i=e.top;L.width=(t||0)-(n||0),L.height=(r||0)-(i||0)}D.x&&(L.x=D.x.get()),D.y&&(L.y=D.y.get())},U=function(e){return bothAxis(function(t){var n=D[t];n&&!n.isAnimating()&&applyConstraints(t,n,e,0)})};function convertPanToDrag(e){return Object(r.a)({},e,{point:{x:D.x?D.x.get():0,y:D.y?D.y.get():0}})}function updatePoint(e,t){var n=D[e];if(shouldDrag(e,a,M.currentDirection)&&n){var r=N[e].get(),i=applyConstraints(e,N[e].get()+t[e],M.constraints,g);i!==r&&(M.hasDragged=!0),n.set(i)}}function cancelDrag(){Ge(),M.isDragging=!1,!h&&A.current&&(A.current(),A.current=null)}Object(i.useEffect)(function(){if(O){var e=gt(p,t,D,B);U(e),z(e)}},[]),M.constraints=!O&&p,bothAxis(function(e){if(shouldDrag(e,a,M.currentDirection)){var t="x"===e?y:S;D[e]=t||n.get(e,0)}}),M.isDragging||!M.constraints||O||U(M.constraints),usePanGesture(a?{onPan:function onPan(e,t){if(h||A.current){var n=t.offset;if(l&&null===M.currentDirection){if(M.currentDirection=function getCurrentDirection(e,t){void 0===t&&(t=10);var n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}(n),null!==M.currentDirection){var r=F.onDirectionLock;r&&r(M.currentDirection)}}else{updatePoint("x",n),updatePoint("y",n);var i=F.onDrag;i&&i(e,convertPanToDrag(t))}}},onPanStart:function onPanStart(e,n){if(M.isDragging=!0,M.hasDragged=!1,O&&(M.constraints=gt(p,t,D,B),U(M.constraints)),bothAxis(function(e){var t=D[e];t&&(N[e].set(t.get()),t.stop())}),h||(A.current&&A.current(),A.current=getGlobalLock(a),A.current)){M.currentDirection=null;var r=F.onDragStart;r&&r(e,convertPanToDrag(n))}},onPanEnd:function onPanEnd(e,t){if(cancelDrag(),M.hasDragged){v||g?function animateDragEnd(e){var t=bothAxis(function(t){var n;if(shouldDrag(t,a,M.currentDirection)){var i=M.constraints?mt(t,M.constraints):{},s=g?200:1e6,c=g?40:1e7;return(b||o).start(((n={})[t]=0,n.transition=Object(r.a)({type:"inertia",velocity:v?e[t]:0,bounceStiffness:s,bounceDamping:c,timeConstant:750,restDelta:1},w,i),n))}});Promise.all(t).then(function(){z(M.constraints),j();var e=F.onDragTransitionEnd;e&&e()})}(t.velocity):z(M.constraints);var n=F.onDragEnd;n&&n(e,convertPanToDrag(t))}},onPanSessionStart:function onPanSessionStart(e){e.target&&!dt.has(e.target.tagName)&&(e.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur()),We(),bothAxis(function(e){var t=D[e];t&&t.stop()})}}:{},t),useUnmountEffect(function(){return M.isDragging&&cancelDrag()})}var vt={key:"drag",shouldRender:function(e){return!!e.drag},Component:ct(function(e){var t=e.innerRef,n=e.values,i=e.controls;return useDrag(Object(r.c)(e,["innerRef","values","controls"]),t,n,i)})};function isCSSVariable(e){return"string"==typeof e&&e.startsWith("var(--")}var yt=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;var St=4;function getVariableValue(e,t,n){void 0===n&&(n=1),Object(c.invariant)(n<=St,'Max CSS variable fallback depth detected in property "'+e+'". This may indicate a circular fallback dependency.');var r=function parseCSSVariable(e){var t=yt.exec(e);return t?[t[1],t[2]]:[,]}(e),i=r[0],o=r[1];if(i){var s=window.getComputedStyle(t).getPropertyValue(i);return s||(isCSSVariable(o)?getVariableValue(o,t,n+1):o)}}var bt,_t=new Set(["width","height","top","left","right","bottom","x","y"]),Ct=function(e){return _t.has(e)},wt=function(e){return Object.keys(e).some(Ct)},xt=function(e,t){e.set(t,!1),e.set(t)},Pt=function(e){return e===a.number||e===a.px};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(bt||(bt={}));var Tt=function(e,t){return parseFloat(e.split(", ")[t])},kt=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var o=i.match(/^matrix3d\((.+)\)$/);if(o)return Tt(o[1],t);var s=i.match(/^matrix\((.+)\)$/);return Tt(s[1],e)}},Et=new Set(["x","y","z"]),Ot=C.filter(function(e){return!Et.has(e)});var Mt={width:function(e){return e.width},height:function(e){return e.height},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.height,r=t.top;return parseFloat(r)+n},right:function(e,t){var n=e.width,r=t.left;return parseFloat(r)+n},x:kt(4,13),y:kt(5,14)},Ft=function(e,t,n,i){void 0===i&&(i={}),n=Object(r.a)({},n),i=Object(r.a)({},i);var o=t.current,s=W(o),l=Object.keys(n).filter(Ct),u=[],h=!1,d=l.reduce(function(t,r){var o=e.get(r);if(!o)return t;var l,d=o.get(),p=n[r],f=ge(d);if(le(p))for(var g=p.length,m=null===p[0]?1:0;m<g;m++)l?Object(c.invariant)(ge(p[m])===l,"All keyframes must be of the same type"):(l=ge(p[m]),Object(c.invariant)(l===f||Pt(f)&&Pt(l),"Keyframes must be of the same dimension as the current value"));else l=ge(p);if(f!==l)if(Pt(f)&&Pt(l)){var v=o.get();"string"==typeof v&&o.set(parseFloat(v)),"string"==typeof p?n[r]=parseFloat(p):Array.isArray(p)&&l===a.px&&(n[r]=p.map(parseFloat))}else h||(u=function removeNonTranslationalTransform(e,t){var n=[];return Ot.forEach(function(t){var r=e.get(t);void 0!==r&&(n.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),n.length&&t.render(),n}(e,s),h=!0),t.push(r),i[r]=void 0!==i[r]?i[r]:n[r],xt(o,p);return t},[]);if(d.length){var p=function(e,t,n,r,i){var o=n.getBoundingClientRect(),s=getComputedStyle(n),a=s.display,c={top:s.top,left:s.left,bottom:s.bottom,right:s.right,transform:s.transform};"none"===a&&r.set("display",e.display||"block"),r.render();var l=n.getBoundingClientRect();return i.forEach(function(n){var r=t.get(n);xt(r,Mt[n](o,c)),e[n]=Mt[n](l,s)}),e}(n,e,o,s,d);return u.length&&u.forEach(function(t){var n=t[0],r=t[1];e.get(n).set(r)}),s.render(),{target:p,transitionEnd:i}}return{target:n,transitionEnd:i}};var Dt=function(e,t){return function(n,i){var o=function resolveCSSVariables(e,t,n,i){var o=Object(r.c)(n,[]),s=t.current;if(!(s instanceof HTMLElement))return{target:o,transitionEnd:i};for(var a in i&&(i=Object(r.a)({},i)),e.forEach(function(e){var t=e.get();if(isCSSVariable(t)){var n=getVariableValue(t,s);n&&e.set(n)}}),o){var c=o[a];if(isCSSVariable(c)){var l=getVariableValue(c,s);l&&(o[a]=l,i&&void 0===i[a]&&(i[a]=c))}}return{target:o,transitionEnd:i}}(e,t,n,i);return n=o.target,i=o.transitionEnd,function unitConversion(e,t,n,r){return wt(n)?Ft(e,t,n,r):{target:n,transitionEnd:r}}(e,t,n,i)}};function useForceUpdate(){var e=Object(i.useState)(0),t=e[0],n=e[1];return Object(i.useCallback)(function(){return n(t+1)},[t])}var It,Rt,Nt=Object(i.createContext)(null),At=function(e){var t=e.children,n=useForceUpdate();return Object(i.createElement)(Nt.Provider,{value:n},t)};!function(e){e.Prepare="prepare",e.Read="read",e.Render="render"}(Rt||(Rt={}));var Bt=[Rt.Prepare,Rt.Read,Rt.Render].reduce(function(e,t){return e[t]=[],e},{}),Lt=!1;function flushCallbackList(e){for(var t=e.length,n=0;n<t;n++)e[n]();e.length=0}function flushAllJobs(){Lt&&(flushCallbackList(Bt.prepare),flushCallbackList(Bt.read),flushCallbackList(Bt.render),Lt=!1)}var jt=function(e){return function(t){t&&(Lt=!0,Bt[e].push(t))}},zt=((It={})[Rt.Prepare]=jt(Rt.Prepare),It[Rt.Read]=jt(Rt.Read),It[Rt.Render]=jt(Rt.Render),It);var Ut={duration:.8,ease:[.45,.05,.19,1]},Ht={type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10};function centerOf(e){var t=e.top,n=e.left;return{x:(n+(n+e.width))/2,y:(t+(t+e.height))/2}}var Vt={getLayout:function(e){return e.offset},measure:function(e){return{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}},Wt={getLayout:function(e){return e.boundingBox},measure:function(e){var t=e.getBoundingClientRect();return{left:t.left,top:t.top,width:t.width,height:t.height}}};function readPositionStyle(e){return window.getComputedStyle(e).position}function isSizeKey(e){return"width"===e||"height"===e}function useLayoutAnimation(e,t,n,o,s){void 0===s&&(s=!1),Object(i.useContext)(Nt);var a=e.current;if(function useLayoutSync(){return Object(i.useLayoutEffect)(flushAllJobs)}(),function isHTMLElement(e){return e instanceof HTMLElement}(a)){var c,l,u=readPositionStyle(a),h={offset:Vt.measure(a),boundingBox:Wt.measure(a)},d="";zt.prepare(function(){d=a.style.transform,a.style.transform=""}),zt.read(function(){c={offset:Vt.measure(a),boundingBox:Wt.measure(a)};var e=readPositionStyle(a);l=function getLayoutType(e,t,n){return n&&e===t?Vt:Wt}(u,e,s)}),zt.render(function(){var e=function calcDelta(e,t){var n=centerOf(e),r=centerOf(t);return{x:n.x-r.x,y:n.y-r.y,width:e.width-t.width,height:e.height-t.height}}(l.getLayout(h),l.getLayout(c));if(e.x||e.y||e.width||e.height){Z.open();var i={},u={},p=function isResolver(e){return"function"==typeof e}(o)?o({delta:e}):o;makeTransition("left","x",0,e.x),makeTransition("top","y",0,e.y),s||(makeTransition("width","scaleX",1,h.boundingBox.width/c.boundingBox.width),makeTransition("height","scaleY",1,h.boundingBox.height/c.boundingBox.height)),i.transition=u,p&&n.start(i),Z.flush()}else d&&(a.style.transform=d);function makeTransition(n,o,a,c){var h=isSizeKey(n)?n:o;if(e[h]){var d="boolean"==typeof p?Object(r.a)({},function getDefaultLayoutTransition(e){return e?Ht:Ut}(s)):p,f=t.get(o,a),g=f.getVelocity();u[o]=d[o]?Object(r.a)({},d[o]):Object(r.a)({},d),void 0===u[o].velocity&&(u[o].velocity=g||0),i[o]=a;var m=isSizeKey(n)||l!==Vt?0:f.get();f.set(c+m)}}})}}var Gt,qt={key:"layout",shouldRender:function(e){var t=e.positionTransition,n=e.layoutTransition;return Object(c.invariant)(!(t&&n),"Don't set both positionTransition and layoutTransition on the same component"),"undefined"!=typeof window&&!(!t&&!n)},Component:ct(function(e){var t=e.innerRef,n=e.controls,r=e.values,i=e.positionTransition;useLayoutAnimation(t,r,n,e.layoutTransition||i,!!i)})},Kt=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","static","positionTransition","layoutTransition","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onDirectionLock","onDragTransitionEnd","drag","dragConstraints","dragDirectionLock","dragElastic","dragMomentum","dragPropagation","dragTransition","_dragValueX","_dragValueY","_dragTransitionControls","dragOriginX","dragOriginY","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","whileHover","whileTap","onHoverEnd","onHoverStart"]);function isValidMotionProp(e){return Kt.has(e)}!function(e){e.Target="Target",e.VariantLabel="VariantLabel",e.AnimationSubscription="AnimationSubscription"}(Gt||(Gt={}));var $t=function(e,t){return void 0!==t&&(Array.isArray(e)&&Array.isArray(t)?!function shallowCompare(e,t){if(null===t)return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}(t,e):e!==t)};function targetWithoutTransition(e,t){void 0===t&&(t=!1);e.transition;var n=e.transitionEnd,i=Object(r.c)(e,["transition","transitionEnd"]);return t?Object(r.a)({},i,n):i}var Xt,Yt,Jt=function(e){var t,n=e instanceof $?e.get():e;return Array.from(new Set((t=n)?Array.isArray(t)?t:[t]:[]))},Zt=function(e){return[e.join(",")]},Qt=function(e,t){return e.join(",")!==t.join(",")};var en=((Xt={})[Gt.Target]=ct(function(e){return function useAnimateProp(e,t,n,o){var s=Object(i.useRef)(!0),a=Object(i.useRef)(null);a.current||(a.current=targetWithoutTransition(e,!0)),Object(i.useEffect)(function(){var i={},c=targetWithoutTransition(e),l=targetWithoutTransition(e,!0);for(var u in c){var h=s.current&&(!n.has(u)||n.get(u).get()!==l[u]),d=null!==l[u],p=$t(a.current[u],l[u]);d&&(p||h)&&(i[u]=c[u])}s.current=!1,a.current=Object(r.a)({},a.current,l),Object.keys(i).length&&t.start(Object(r.a)({},i,{transition:e.transition||o,transitionEnd:e.transitionEnd}))},[e])}(e.animate,e.controls,e.values,e.transition)}),Xt[Gt.VariantLabel]=ct(function(e){var t=e.animate,n=e.inherit,r=void 0===n||n,o=e.controls;return function useVariants(e,t,n,r){var o=Jt(t),s=Object(i.useContext)(Re),a=s.hasMounted&&s.hasMounted.current,c=Object(i.useRef)(!1);Object(i.useEffect)(function(){var t=!1;n?(t=!!a,o=Jt(s.animate)):t=c.current||Qt(Jt(e),o),t&&r.start(o),c.current=!0},Zt(o))}(e.initial,t,r,o)}),Xt[Gt.AnimationSubscription]=ct(function(e){return function useAnimationGroupSubscription(e,t){var n=Object(i.useMemo)(function(){return e.subscribe(t)},[e]);Object(i.useEffect)(function(){return function(){n&&n()}},[n])}(e.animate,e.controls)}),Xt),tn=function(e){return e.animate instanceof De},nn=["initial","animate","whileTap","whileHover"],rn=((Yt={})[Gt.Target]=function(e){return!(void 0===e.animate||(t=e.animate,Array.isArray(t)||"string"==typeof t)||tn(e));var t},Yt[Gt.VariantLabel]=function(e){return void 0!==e.variants||nn.some(function(t){return"string"==typeof e[t]})},Yt[Gt.AnimationSubscription]=tn,Yt),on=function(e){var t=void 0;for(var n in Gt)rn[n](e)&&(t=n);return t?en[t]:void 0};var sn=function(e,t){var n=buildSVGAttrs(ie(e));return n.style=Object(r.a)({},t,n.style),n},an=[qt,vt,ut],cn=an.length;function createDomMotionConfig(e){var t="string"==typeof e,n=t&&-1!==Ue.indexOf(e);return{renderComponent:function(o,s,a,c,l){var u=t?function stripMotionProps(e){var t={};for(var n in e)isValidMotionProp(n)||(t[n]=e[n]);return t}(c):c,h=n?sn(a,s):{style:ae(a,s,l)};return Object(i.createElement)(e,Object(r.a)({},u,{ref:o},h))},loadFunctionalityComponents:function(e,t,n,o,s){var a=[],c=on(n);c&&a.push(Object(i.createElement)(c,{key:"animation",initial:n.initial,animate:n.animate,variants:n.variants,transition:n.transition,controls:o,inherit:s,values:t}));for(var l=0;l<cn;l++){var u=an[l],h=u.shouldRender,d=u.key,p=u.Component;h(n)&&a.push(Object(i.createElement)(p,Object(r.a)({key:d},n,{values:t,controls:o,innerRef:e})))}return a},getValueControlsConfig:function(e,t){return{values:t,readValueFromSource:function(t){return W(e.current).get(t)},makeTargetAnimatable:Dt(t,e)}}}}var ln=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","webview"].reduce(function(e,t){var n=createDomMotionConfig(t);return e[t]=ze(n),e},{}),un=Ue.reduce(function(e,t){return e[t]=ze(createDomMotionConfig(t)),e},{}),hn=Object(r.a)({custom:function(e){return ze(createDomMotionConfig(e))}},ln,un);function unwrapMotionValue(e){var t=e instanceof $?e.get():e;return ue(t)?t.toValue():t}var dn=function(e){return function(e){return"object"==typeof e&&e.mix}(e)?e.mix:void 0};function framer_motion_es_transform(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!Array.isArray(e[0]),i=n?0:-1,o=e[0+i],a=e[1+i],c=e[2+i],l=e[3+i],u=Object(s.e)(a,c,Object(r.a)({mixer:dn(c[0])},l));return n?u(o):u}var pn=function(e){return"function"==typeof e},fn=function(e){return e};function useTransform(e,t,n,r){var o=Object(i.useRef)(null),s=[e],a=fn;if(pn(t))a=t;else if(Array.isArray(n)){var c=t;a=framer_motion_es_transform(c,n,r),s=[e,c.join(","),n.join(",")]}return Object(i.useMemo)(function(){return o.current&&o.current.destroy(),o.current=e.addChild({transformer:a}),o.current},s)}var gn=function(e){return e>.001?1/e:1e5},mn=function(e){var t=useMotionValue(1),n=useMotionValue(1),r=Object(i.useContext)(Re).values;return Object(c.invariant)(!(!e&&!r),"If no scale values are provided, useInvertedScale must be used within a child of another motion component."),e?(t=e.scaleX||t,n=e.scaleY||n):r&&(t=r.get("scaleX",1),n=r.get("scaleY",1)),{scaleX:useTransform(t,gn),scaleY:useTransform(n,gn)}};function useSpring(e,t){void 0===t&&(t={});var n=Object(i.useRef)(null),o=useMotionValue(Y(e)?e.get():e);return Object(i.useMemo)(function(){return o.attach(function(e,i){return n.current&&n.current.stop(),n.current=Object(G.spring)(Object(r.a)({from:o.get(),to:e,velocity:o.getVelocity()},t)).start(i),o.get()})},Object.values(t)),function useOnChange(e,t){Object(i.useEffect)(function(){return Y(e)?e.onChange(t):void 0},[e])}(e,function(e){return o.set(parseFloat(e))}),o}var vn=motionValue(0),yn=motionValue(0),Sn=motionValue(0),bn=motionValue(0),_n=function(e,t,n){n.set(t&&e?e/t:0)},Cn=!1,wn=function(){if(Cn=!0,"undefined"!=typeof window){var e=function(){var e=window.pageXOffset,t=window.pageYOffset;vn.set(e),yn.set(t),_n(e,document.body.clientWidth-window.innerWidth,Sn),_n(t,document.body.clientHeight-window.innerHeight,bn)};e(),window.addEventListener("resize",e),window.addEventListener("scroll",e,{passive:!0})}},xn={scrollX:vn,scrollY:yn,scrollXProgress:Sn,scrollYProgress:bn};function useViewportScroll(){return Cn||wn(),xn}function useAnimation(){var e=useConstant(function(){return new De});return Object(i.useEffect)(function(){return e.mount(),function(){return e.unmount()}},[]),e}function useAnimatedState(e){var t=Object(i.useState)(e),n=t[0],r=t[1],o=useConstant(function(){return{onUpdate:r}}),s=ne(o),a=useValueAnimationControls({values:s,readValueFromSource:function(e){return n[e]}},{},!1),c=useConstant(function(){return function(e){return a.start(e)}});return Object(i.useEffect)(function(){return s.mount(),function(){return s.unmount()}},[]),[n,c]}function useCycle(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Object(c.warning)(e.length>1,"useCycle syntax has changed. `useCycle([0, 1, 2])` becomes `useCycle(0, 1, 2)`");var n=Object(i.useRef)(0),r=Object(i.useState)(e[n.current]),o=r[0],a=r[1];return[o,function(t){n.current="number"!=typeof t?Object(s.m)(0,e.length,n.current+1):t,a(e[n.current])}]}var Pn=function(e){var t=e.children,n=e.exitProps,o=Object(i.useContext)(Re);return o=n?Object(r.a)({},o,{exitProps:n}):Object(r.a)({},o),Object(i.createElement)(Re.Provider,{value:o},t)};function getChildKey(e){return e.key||""}var Tn=function(e){var t=e.children,n=e.custom,r=e.initial,o=void 0===r||r,s=e.onExitComplete,a=e.exitBeforeEnter,c=useForceUpdate(),l=Object(i.useContext)(Nt)||c,u=Object(i.useRef)(!0),h=function onlyElements(e){var t=[];return i.Children.forEach(e,function(e){Object(i.isValidElement)(e)&&t.push(e)}),t}(t),d=Object(i.useRef)(h),p=Object(i.useRef)(new Map).current,f=Object(i.useRef)(new Set).current;if(function updateChildLookup(e,t){e.forEach(function(e){var n=getChildKey(e);t.set(n,e)})}(h,p),u.current)return u.current=!1,Object(i.createElement)(i.Fragment,null,h.map(function(e){return Object(i.createElement)(Pn,{key:getChildKey(e),exitProps:o?void 0:{initial:!1}},e)}));for(var g=h.slice(),m=d.current.map(getChildKey),v=h.map(getChildKey),y=m.length,S=0;S<y;S++){var b=m[S];-1===v.indexOf(b)?f.add(b):f.delete(b)}return a&&f.size&&(g=[]),f.forEach(function(e){if(-1===v.indexOf(e)){var t=p.get(e);if(t){var r=m.indexOf(e),o={custom:n,isExiting:!0,onExitComplete:function(){f.delete(e);var t=d.current.findIndex(function(t){return t.key===e});d.current.splice(t,1),f.size||(d.current=h,l(),s&&s())}};g.splice(r,0,Object(i.createElement)(Pn,{key:getChildKey(t),exitProps:o},t))}}}),g=g.map(function(e){var t=e.key;return f.has(t)?e:Object(i.createElement)(Pn,{key:getChildKey(e)},e)}),d.current=g,Object(i.createElement)(i.Fragment,null,f.size?g:g.map(function(e){return Object(i.cloneElement)(e)}))}},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e.isImageObject=function(e){return!(!e||"string"==typeof e)&&"src"in e}}(r||(r={})),t.BackgroundImage=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),i=n(15);function _imageURL(e,t,n,o,s){if(null===e)return"";if(/^\w+:/.test(e))return e;if(!o||o.target===r.RenderTarget.export||o.target===r.RenderTarget.preview||(null===t||null===n))return imageURLForSize(e,s,null);const a=i.safeWindow.devicePixelRatio||1,c=Math.max(t||0,n||0),l=Math.max(o&&o.frame.width||0,o&&o.frame.height||0);let u=null;return c*a>4096&&(u=4096),l*a<4096&&(u=2048),l*a<1024&&(u=1024),l*a<512&&(u=512),imageURLForSize(e,s,u)}function _imageScalingMethod(e,t,n,o,s,a,c="fill"){if(null===e)return"auto";if(!t)return"auto";const{frame:l,zoom:u,target:h}=t;let d=l.width,p=l.height;u>1&&(d*=u,p*=u),h!==r.RenderTarget.export&&h!==r.RenderTarget.preview&&i.safeWindow.devicePixelRatio&&(d*=i.safeWindow.devicePixelRatio,p*=i.safeWindow.devicePixelRatio);const f=s||n||0,g=a||o||0;if("fill"===c){if(d>f||p>g)return"pixelated"}else if(d>f&&p>g)return"pixelated";return"auto"}function imageURLForSize(e,t,n){if(null===e)return"";const r=0===t.length||t.endsWith("/")?"":"/";return t+r+(null===n||0===e.indexOf("node_modules")?"":`../../.cache/images/${n}/`)+e}function resolveImagePath(e,t,n){return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("file://")?e:(e.startsWith("node_modules/")&&(e="../../"+e),n===r.RenderTarget.export?`##base64-${t}${e}##`:n===r.RenderTarget.preview?`${t.replace(/\/$/,"")}/design/images/${e}`:`${t.replace(/\/$/,"")}/${e}`)}t.imageUrlForAsset=function imageUrlForAsset(e,t){const{imageBaseURL:n}=r.RenderEnvironment;let i=null,o=null;return void 0!==t&&(i={frame:{x:0,y:0,width:t=Math.max(1,t),height:t},target:r.RenderTarget.canvas,zoom:0},o=t),resolveImagePath(_imageURL(e,o,o,i,""),n,r.RenderTarget.current())},t.imageUrlForFill=function imageUrlForFill(e,t=null){const{src:n,intrinsicWidth:i,intrinsicHeight:o}=e,{imageBaseURL:s}=r.RenderEnvironment;return resolveImagePath(_imageURL(n,i||null,o||null,t,""),s,t?t.target:r.RenderTarget.canvas)},t.setImageForFill=function setImageForFill(e,t,n){const{src:i,pixelWidth:o,pixelHeight:s,intrinsicWidth:a,intrinsicHeight:c}=e,{imageBaseURL:l}=r.RenderEnvironment,u=resolveImagePath(_imageURL(i,a||null,c||null,t,""),l,t?t.target:r.RenderTarget.canvas);n.backgroundImage=`url("${u}")`,n.backgroundSize=function cssBackgroundSize(e){switch(e){case"fit":return"contain";case"stretch":return"100% 100%";case"fill":default:return"cover"}}(e.fit),n.backgroundRepeat="no-repeat",n.backgroundPosition="center",n.imageRendering=_imageScalingMethod(i,t,a||null,c||null,o||null,s||null,e.fit)},t._imageURL=_imageURL,t._imageScalingMethod=_imageScalingMethod},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReactElement=function isReactElement(e){return"string"!=typeof e&&"number"!=typeof e},t.isReactChild=function isReactChild(e){return null!=e&&"boolean"!=typeof e&&!function isEmpty(e){return!e||!Object.keys(e).length&&e.constructor===Object}(e)}},function(e,t,n){"use strict";var r=n(3),i=n(154),o=r.List,s=r.Map,a=r.OrderedSet,c=r.Record,l=a(),u=function(e){function ContentBlock(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ContentBlock),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ContentBlock,e),ContentBlock.prototype.getKey=function getKey(){return this.get("key")},ContentBlock.prototype.getType=function getType(){return this.get("type")},ContentBlock.prototype.getText=function getText(){return this.get("text")},ContentBlock.prototype.getCharacterList=function getCharacterList(){return this.get("characterList")},ContentBlock.prototype.getLength=function getLength(){return this.getText().length},ContentBlock.prototype.getDepth=function getDepth(){return this.get("depth")},ContentBlock.prototype.getData=function getData(){return this.get("data")},ContentBlock.prototype.getInlineStyleAt=function getInlineStyleAt(e){var t=this.getCharacterList().get(e);return t?t.getStyle():l},ContentBlock.prototype.getEntityAt=function getEntityAt(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},ContentBlock.prototype.findStyleRanges=function findStyleRanges(e,t){i(this.getCharacterList(),haveEqualStyle,e,t)},ContentBlock.prototype.findEntityRanges=function findEntityRanges(e,t){i(this.getCharacterList(),haveEqualEntity,e,t)},ContentBlock}(c({key:"",type:"unstyled",text:"",characterList:o(),depth:0,data:s()}));function haveEqualStyle(e,t){return e.getStyle()===t.getStyle()}function haveEqualEntity(e,t){return e.getEntity()===t.getEntity()}e.exports=u},function(e,t,n){"use strict";var r=n(13),i=55296,o=56319,s=56320,a=57343,c=/[\uD800-\uDFFF]/;function isCodeUnitInSurrogateRange(e){return i<=e&&e<=a}function hasSurrogateUnit(e){return c.test(e)}function getUTF16Length(e,t){return 1+isCodeUnitInSurrogateRange(e.charCodeAt(t))}function substr(e,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!hasSurrogateUnit(e))return e.substr(t,n);var r=e.length;if(r<=0||t>r||n<=0)return"";var i=0;if(t>0){for(;t>0&&i<r;t--)i+=getUTF16Length(e,i);if(i>=r)return""}else if(t<0){for(i=r;t<0&&0<i;t++)i-=getUTF16Length(e,i-1);i<0&&(i=0)}var o=r;if(n<r)for(o=i;n>0&&o<r;n--)o+=getUTF16Length(e,o);return e.substring(i,o)}var l={getCodePoints:function getCodePoints(e){for(var t=[],n=0;n<e.length;n+=getUTF16Length(e,n))t.push(e.codePointAt(n));return t},getUTF16Length,hasSurrogateUnit,isCodeUnitInSurrogateRange,isSurrogatePair:function isSurrogatePair(e,t){if(0<=t&&t<e.length||r(!1),t+1===e.length)return!1;var n=e.charCodeAt(t),c=e.charCodeAt(t+1);return i<=n&&n<=o&&s<=c&&c<=a},strlen:function strlen(e){if(!hasSurrogateUnit(e))return e.length;for(var t=0,n=0;n<e.length;n+=getUTF16Length(e,n))t++;return t},substring:function substring(e,t,n){(t=t||0)<0&&(t=0),(n=void 0===n?1/0:n||0)<0&&(n=0);var r=Math.abs(n-t);return substr(e,t=t<n?t:n,r)},substr};e.exports=l},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(t){o(t)}}function rejected(e){try{step(r.throw(e))}catch(t){o(t)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.wantsVerboseLogging=!1}(t.ServiceDebugging||(t.ServiceDebugging={})),function(e){let t;e.createLogger=function createLogger(t){return{log:(n,...r)=>{const i=e.customLogger||console;i&&e.wantsVerboseLogging&&i.log(t+" "+n,...r)},error:(n,...r)=>{const i=e.customLogger||console;i&&i.error(t+" "+n,...r)}}},e._isTesting=!1,e._testWithShared=function _testWithShared(n,i){return r(this,void 0,void 0,function*(){if(!e._isTesting)throw new Error("ServiceManager.isTesting must be true to use testWithShared()");if(t)throw new Error("ServiceManager.testWithShared() may not be nested");try{return t=n,yield i()}catch(r){throw r}finally{t=void 0}})},e._sharedServiceManagerIfTesting=function _sharedServiceManagerIfTesting(){if(e._isTesting){if(t)return t;throw new Error("ServiceManager.shared() may not be used while testing. Use testWithShared() for explicitness.")}}}(t.ServiceDebugging||(t.ServiceDebugging={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(21);t.stylableNode=function stylableNode(e){return!r.isCodeComponentNode(e)||e.isStylable()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fillDefaults={fillEnabled:!0,fillType:"color",fillColor:"rgba(255,255,255,1)",fillLinearGradient:void 0,fillRadialGradient:void 0,fillImage:null,fillImageResize:"fill",fillImagePixelWidth:null,fillImagePixelHeight:null},t.codeComponentFillDefaults=Object.assign({},t.fillDefaults,{fillEnabled:!1}),t.svgFillDefaults={fillType:"color",fillColor:"rgba(0,0,0,1)",fillLinearGradient:void 0,fillRadialGradient:void 0,fillImage:null,fillImageResize:"fill",fillImagePixelWidth:null,fillImagePixelHeight:null},t.pathFillDefaults={fillEnabled:!1,fillType:"color",fillColor:"rgba(0,170,255,0.5)",fillLinearGradient:void 0,fillRadialGradient:void 0,fillImage:null,fillImageResize:"fill",fillImagePixelWidth:null,fillImagePixelHeight:null},t.shapeFillDefaults={fillEnabled:!0,fillType:"color",fillColor:"#CCC",fillLinearGradient:void 0,fillRadialGradient:void 0,fillImage:null,fillImageResize:"fill",fillImagePixelWidth:null,fillImagePixelHeight:null},t.shapeContainerFillDefaults={fillEnabled:!0,fillType:"color",fillColor:"#FFF",fillLinearGradient:void 0,fillRadialGradient:void 0,fillImage:null,fillImageResize:"fill",fillImagePixelWidth:null,fillImagePixelHeight:null}},function(e,t,n){"use strict";function withShadow(e){return t.shadowsKey in e}Object.defineProperty(t,"__esModule",{value:!0}),t.hasShadow=function hasShadow(e){return withShadow(e)},t.shadowDefaults={shadows:void 0},t.shadowsKey="shadows",t.withShadow=withShadow},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(87);function withBoxShadow(e){return t.boxShadowsKey in e}t.hasBoxShadow=function hasBoxShadow(e){return withBoxShadow(e)&&r.stylableNode(e)},t.boxShadowsKey="boxShadows",t.withBoxShadow=withBoxShadow},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Unite=0]="Unite",e[e.Subtract=1]="Subtract",e[e.Intersect=2]="Intersect",e[e.Exclude=3]="Exclude",e[e.Join=4]="Join"}(r=t.PathBooleanType||(t.PathBooleanType={})),t.pathBooleanDefaults={pathBoolean:r.Unite};const i="pathBoolean";t.hasBooleanPath=function hasBooleanPath(e){return i in e},t.nameForPathBooleanType=function nameForPathBooleanType(e){switch(e){case r.Unite:return"Unite";case r.Intersect:return"Intersect";case r.Exclude:return"Exclude";case r.Subtract:return"Subtract";case r.Join:return"Join"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.scroll="framer/Scroll",e.page="framer/Page",e.stack="framer/Stack",e.all=[e.scroll,e.page,e.stack]}(t.HardCodedCodeIdentifier||(t.HardCodedCodeIdentifier={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(394);t.LinearGradient=r.LinearGradient;const i=n(782);t.RadialGradient=i.RadialGradient;const o=n(177),s=n(110);t.isGradient=function isGradient(e){return o.isLinearGradient(e)||s.isRadialGradient(e)},t.getGradient=function getGradient(e){return e&&e.fillType?"linear-gradient"===e.fillType&&e.fillLinearGradient?e.fillLinearGradient:"radial-gradient"===e.fillType&&e.fillRadialGradient?e.fillRadialGradient:null:null},t.linearGradientUpdate=function linearGradientUpdate(e,t){const n=e.fillLinearGradient||new r.LinearGradient;return new r.LinearGradient(n.merge(t))},t.radialGradientUpdate=function radialGradientUpdate(e,t){const n=e.fillRadialGradient||new i.RadialGradient;return new i.RadialGradient(n.merge(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.default=function Overlay({frame:e,border:t,backgroundColor:n,borderWidth:i,borderColor:o,borderRadius:s,opacity:a,rotation:c,oval:l,children:u,shadow:h,onDoubleClick:d,onContextMenu:p,className:f,style:g}){if(!e)return r.createElement("noscript",null);const m=Object.assign({position:"absolute",border:void 0!==t?t:`${o} ${i}px solid`,backgroundColor:n,width:`${e.width}px`,height:`${e.height}px`,borderRadius:l?"50%":s,opacity:a,transformOrigin:"0 0",transform:`translate(${e.x}px, ${e.y}px) rotate(${c?c.toFixed(4):0}deg)`,willChange:"transform",boxShadow:h?"0px 1px 2px 0px rgba(0,0,0,0.15)":void 0},g);return r.createElement("div",Object.assign({},{style:m,onDoubleClick:d,onContextMenu:p},{className:f||"Overlay"}),u)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(1),o=n(41),s=n(19);t.snappingThreshold=e=>Math.max(.5,4/e);t.snappingData=(e,t,n)=>{let i=r.Set(),a=r.Set();return e.forEach(e=>{if(void 0!==t){const n=e.width*t,r=e.height*t;if(n<12&&r<12)return}const r=n?o.PointRounding.Half:o.PointRounding.Full,{x:c,y:l}=s.roundedPoint({x:e.x,y:e.y},r),{x:u,y:h}=s.roundedPoint({x:e.x+e.width/2,y:e.y+e.height/2},r),{x:d,y:p}=s.roundedPoint({x:e.x+e.width,y:e.y+e.height},r);i=i.union([c,u,d]),a=a.union([l,h,p])}),{x:i,y:a}};const a=(e,t,n,i)=>{let o=r.Map();const s=t?n.x:n.y;let a=null,c=null;if("number"==typeof n.width&&"number"==typeof n.height){const{width:e,height:r}=n;a=t?n.x+e/2:n.y+r/2,c=t?n.x+e:n.y+r}return e.forEach(e=>{const t=Math.abs(s-e),n=Math.abs((a||0)-e),l=Math.abs((c||0)-e);let u=null;if(t<i?u=e:null!==a&&n<i?u=e-Math.abs(a-s):null!==c&&l<i&&(u=e-Math.abs(c-s)),null!==u){const t=o.get(u,r.Set());o=o.set(u,t.add(e))}}),o},c=(e,t,n)=>{return{x:a(e.x,!0,t,n),y:a(e.y,!1,t,n)}},l=(e,t)=>{let n,r=0;return e.forEach((e,i)=>{void 0!==t&&i===t||e.size>r&&(r=e.size,n=[i,e])}),n},u=(e,n)=>{if(!n)return e;const r=t.snappingData(n);return{x:e.x.union(r.x),y:e.y.union(r.y)}};t.snap=(e,n,i,o,s)=>{e=u(e,s);const a=t.snappingThreshold(n),h=((e,t)=>{return{x:l(e.x,t?t.x:void 0),y:l(e.y,t?t.y:void 0)}})(c(e,i,a),o),[d,p]=h.x?h.x:[void 0,r.Set()],[f,g]=h.y?h.y:[void 0,r.Set()];return{point:{x:d,y:f},snapLines:{x:p,y:g}}};const h=(e,t,n,r,o,s)=>{let a=null;return e.forEach(e=>{const c=s(e);if(null!==(a=i.Line.intersection(c,r)))return!o&&(!(i.Point.distance(a,n)<=t)&&void(a=null))}),a};t.snapWithConstraint=(e,n,o,s,a,l=!1)=>{e=u(e,a);const d=t.snappingThreshold(n),p=c(e,o,d),f=i.Line.isOrthogonal(s)||l,g=(e=>Math.max(.5,16/e))(n);let m=null;const v=r.Set(),y=r.Set();if(null!==(m=h(p.x.keySeq().toList(),g,o,s,f,e=>i.Line({x:e,y:0},{x:e,y:100}))))return{point:m,snapLines:{x:v.add(m.x),y}};if(null!==(m=h(p.y.keySeq().toList(),g,o,s,f,e=>i.Line({x:0,y:e},{x:100,y:e}))))return{point:m,snapLines:{x:v,y:y.add(m.y)}};const S=i.Line.perpendicular(s,o);return null===(m=i.Line.intersection(s,S))&&(m=o),{point:m,snapLines:{x:v,y}}},t.snapDistance=(e,n,r,o)=>{const s=Object.assign({},n),a=[],c=[],l=[],u=[],h=t.snappingThreshold(o),{x:d,y:p}=r,f="height"in r?r.height:0,g="width"in r?r.width:0,m=d+g,v=p+f,y={x:d,y:p,width:g,height:f};return e.siblingFrames.forEach(t=>{e.horizontalDistances.forEach((n,r)=>{let o=n.filter(e=>i.Rect.overlapVertically(y,e));if(0!==o.length&&i.Rect.overlapVertically(y,t))if(Math.abs(t.x-r-m)<h){const n={x:t.x-r,y:t.y,width:r,height:t.height};if(0===(o=o.filter(e=>!i.Rect.overlapHorizontally(e,n))).length)return;if(i.Rect.doesNotIntersect(n,e.siblingFrames)){const e=t.x-r-g;void 0!==s.x&&s.x!==e||(a.push(...o),l.push(n),s.x=e)}}else if(Math.abs(i.Rect.maxX(t)+r-d)<h){const n={x:i.Rect.maxX(t),y:t.y,width:r,height:t.height};if(0===(o=o.filter(e=>!i.Rect.overlapHorizontally(e,n))).length)return;if(i.Rect.doesNotIntersect(n,e.siblingFrames)){const e=i.Rect.maxX(t)+r;void 0!==s.x&&s.x!==e||(a.push(...o),l.push(n),s.x=e)}}}),e.verticalDistances.forEach((n,r)=>{let o=n.filter(e=>i.Rect.overlapHorizontally(y,e));if(0!==o.length&&i.Rect.overlapHorizontally(y,t))if(Math.abs(t.y-r-v)<h){const n={y:t.y-r,x:t.x,height:r,width:t.width};if(0===(o=o.filter(e=>!i.Rect.overlapVertically(e,n))).length)return;if(i.Rect.doesNotIntersect(n,e.siblingFrames)){const e=t.y-r-f;void 0!==s.y&&s.y!==e||(c.push(...o),u.push(n),s.y=e)}}else if(Math.abs(i.Rect.maxY(t)+r-p)<h){const n={y:i.Rect.maxY(t),x:t.x,height:r,width:t.width};if(0===(o=o.filter(e=>!i.Rect.overlapVertically(e,n))).length)return;if(i.Rect.doesNotIntersect(n,e.siblingFrames)){const e=i.Rect.maxY(t)+r;void 0!==s.y&&s.y!==e||(c.push(...o),u.push(n),s.y=e)}}})}),{distanceSnap:s,distanceFramesX:a,distanceFramesY:c,horizontalDistanceFrames:l,verticalDistanceFrames:u}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.RGB="rgb",e.HSL="hsl",e.HSV="hsv",e.HEX="hex",e.NAME="name"}(t.ColorFormat||(t.ColorFormat={})),function(e){e.RGB="rgb",e.RGBA="rgba",e.HSL="hsl",e.HSLA="hsla",e.HUSL="husl"}(t.ColorMixModelType||(t.ColorMixModelType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(194),i=n(117);!function(e){e.equals=function equals(e,t){return e===t||!(!e||!t)&&e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},e.atOrigin=e=>Object.assign({},e,{x:0,y:0}),e.fromTwoPoints=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),width:Math.abs(e.x-t.x),height:Math.abs(e.y-t.y)}),e.fromRect=e=>({x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}),e.multiply=(e,t)=>({x:e.x*t,y:e.y*t,width:e.width*t,height:e.height*t}),e.divide=(t,n)=>e.multiply(t,1/n),e.offset=(e,t)=>{const n="number"==typeof t.x?t.x:0,r="number"==typeof t.y?t.y:0;return Object.assign({},e,{x:e.x+n,y:e.y+r})},e.inflate=function inflate(e,t){if(0===t)return e;const n=2*t;return{x:e.x-t,y:e.y-t,width:e.width+n,height:e.height+n}},e.pixelAligned=e=>{const t=Math.round(e.x),n=Math.round(e.y),r=Math.round(e.x+e.width),i=Math.round(e.y+e.height);return{x:t,y:n,width:Math.max(r-t,0),height:Math.max(i-n,0)}},e.halfPixelAligned=e=>{const t=Math.round(2*e.x)/2,n=Math.round(2*e.y)/2,r=Math.round(2*(e.x+e.width))/2,i=Math.round(2*(e.y+e.height))/2;return{x:t,y:n,width:Math.max(r-t,1),height:Math.max(i-n,1)}},e.round=(e,t=0)=>{return{x:i.roundedNumber(e.x,t),y:i.roundedNumber(e.y,t),width:i.roundedNumber(e.width,t),height:i.roundedNumber(e.height,t)}},e.roundToOutside=e=>{const t=Math.floor(e.x),n=Math.floor(e.y),r=Math.ceil(e.x+e.width),i=Math.ceil(e.y+e.height);return{x:t,y:n,width:Math.max(r-t,0),height:Math.max(i-n,0)}},e.minX=e=>e.x,e.maxX=e=>e.x+e.width,e.minY=e=>e.y,e.maxY=e=>e.y+e.height,e.positions=t=>({minX:t.x,midX:t.x+t.width/2,maxX:e.maxX(t),minY:t.y,midY:t.y+t.height/2,maxY:e.maxY(t)}),e.center=e=>({x:e.x+e.width/2,y:e.y+e.height/2}),e.fromPoints=e=>{const t=e.map(e=>e.x),n=e.map(e=>e.y),r=Math.min(...t),i=Math.min(...n);return{x:r,y:i,width:Math.max(...t)-r,height:Math.max(...n)-i}},e.merge=(...t)=>{const n={x:Math.min(...t.map(e.minX)),y:Math.min(...t.map(e.minY))},r={x:Math.max(...t.map(e.maxX)),y:Math.max(...t.map(e.maxY))};return e.fromTwoPoints(n,r)},e.intersection=(e,t)=>{const n=Math.max(e.x,t.x),r=Math.min(e.x+e.width,t.x+t.width),i=Math.max(e.y,t.y);return{x:n,y:i,width:r-n,height:Math.min(e.y+e.height,t.y+t.height)-i}},e.points=t=>[{x:e.minX(t),y:e.minY(t)},{x:e.minX(t),y:e.maxY(t)},{x:e.maxX(t),y:e.minY(t)},{x:e.maxX(t),y:e.maxY(t)}],e.containsPoint=(t,n)=>!(n.x<e.minX(t))&&(!(n.x>e.maxX(t))&&(!(n.y<e.minY(t))&&(!(n.y>e.maxY(t))&&(!isNaN(t.x)&&!isNaN(t.y))))),e.containsRect=(t,n)=>{for(const r of e.points(n))if(!e.containsPoint(t,r))return!1;return!0},e.toCSS=e=>({display:"block",transform:`translate(${e.x}px, ${e.y}px)`,width:`${e.width}px`,height:`${e.height}px`}),e.inset=(e,t)=>({x:e.x+t,y:e.y+t,width:Math.max(0,e.width-2*t),height:Math.max(0,e.height-2*t)}),e.intersects=(t,n)=>!(n.x>=e.maxX(t)||e.maxX(n)<=t.x||n.y>=e.maxY(t)||e.maxY(n)<=t.y),e.overlapHorizontally=(t,n)=>{const r=e.maxX(t),i=e.maxX(n);return r>n.x&&i>t.x},e.overlapVertically=(t,n)=>{const r=e.maxY(t),i=e.maxY(n);return r>n.y&&i>t.y},e.doesNotIntersect=(t,n)=>void 0===n.find(n=>e.intersects(n,t)),e.isEqual=(e,t)=>{if(e&&t){const{x:n,y:r,width:i,height:o}=e;return t.x===n&&t.y===r&&t.width===i&&t.height===o}return e===t},e.cornerPoints=e=>{const t=e.x,n=e.x+e.width,r=e.y,i=e.y+e.height;return[{x:t,y:r},{x:n,y:r},{x:n,y:i},{x:t,y:i}]},e.midPoints=e=>{const t=e.x,n=e.x+e.width/2,r=e.x+e.width,i=e.y,o=e.y+e.height/2;return[{x:n,y:i},{x:r,y:o},{x:n,y:e.y+e.height},{x:t,y:o}]},e.pointDistance=(t,n)=>{let i=0,o=0;return n.x<t.x?i=t.x-n.x:n.x>e.maxX(t)&&(i=n.x-e.maxX(t)),n.y<t.y?o=t.y-n.y:n.y>e.maxY(t)&&(o=n.y-e.maxY(t)),r.Point.distance({x:i,y:o},{x:0,y:0})};const t={x:0,y:0,width:0,height:0};e.fromAny=(e,n=t)=>({x:e.x||n.x,y:e.y||n.y,width:e.width||n.width,height:e.height||n.height})}(t.Rect||(t.Rect={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInterpolatable=function isInterpolatable(e){return"function"==typeof e&&e.interpolationFor&&"function"==typeof e.interpolationFor},function(e){e.handleUndefined=function handleUndefined(e,t){return void 0===e&&(e=t),void 0===t&&(t=e),[e,t]}}(t.Interpolation||(t.Interpolation={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Google="google",e.Local="local"}(t.TypefaceSourceNames||(t.TypefaceSourceNames={}))},function(e,t,n){var r,i;!function(o,s){"use strict";void 0===(i="function"==typeof(r=function(){var e=function(){},t="undefined",n=["trace","debug","info","warn","error"];function bindMethod(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function replaceLoggingMethods(t,r){for(var i=0;i<n.length;i++){var o=n[i];this[o]=i<t?e:this.methodFactory(o,t,r)}this.log=this.debug}function defaultMethodFactory(n,r,i){return function realMethod(n){"debug"===n&&(n="log");return typeof console!==t&&(void 0!==console[n]?bindMethod(console,n):void 0!==console.log?bindMethod(console,"log"):e)}(n)||function enableLoggingWhenConsoleArrives(e,n,r){return function(){typeof console!==t&&(replaceLoggingMethods.call(this,n,r),this[e].apply(this,arguments))}}.apply(this,arguments)}function Logger(e,r,i){var o,s=this,a="loglevel";function getPersistedLevel(){var e;if(typeof window!==t){try{e=window.localStorage[a]}catch(i){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(a)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(i){}return void 0===s.levels[e]&&(e=void 0),e}}e&&(a+=":"+e),s.name=e,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=i||defaultMethodFactory,s.getLevel=function(){return o},s.setLevel=function(r,i){if("string"==typeof r&&void 0!==s.levels[r.toUpperCase()]&&(r=s.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(o=r,!1!==i&&function persistLevelIfPossible(e){var r=(n[e]||"silent").toUpperCase();if(typeof window===t)return;try{return void(window.localStorage[a]=r)}catch(i){}try{window.document.cookie=encodeURIComponent(a)+"="+r+";"}catch(i){}}(r),replaceLoggingMethods.call(s,r,e),typeof console===t&&r<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(e){getPersistedLevel()||s.setLevel(e,!1)},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var c=getPersistedLevel();null==c&&(c=null==r?"WARN":r),s.setLevel(c,!1)}var r=new Logger,i={};r.getLogger=function getLogger(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=i[e];return t||(t=i[e]=new Logger(e,r.getLevel(),r.methodFactory)),t};var o=typeof window!==t?window.log:void 0;return r.noConflict=function(){return typeof window!==t&&window.log===r&&(window.log=o),r},r.getLoggers=function getLoggers(){return i},r})?r.call(t,n,t,e):r)||(e.exports=i)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NullID=null,t.InvalidID="i-invalid";const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_";function l(){return i[Math.floor(Math.random()*i.length)]}t.randomID=function randomID(){return function f(){return r[Math.floor(Math.random()*r.length)]}()+l()+l()+l()+l()+l()+l()+l()+l()},t.nodeIDFromString=function nodeIDFromString(e){return e.startsWith("id_")&&(e=e.slice(3)),e.replace(/\\/g,"")};let o=function fallbackEscape(e){return e};window.CSS&&window.CSS.escape&&(o=window.CSS.escape),t.stringFromNodeID=function stringFromNodeID(e){return o("id_"+e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.intrinsicSizeDefaults={intrinsicWidth:null,intrinsicHeight:null};const r="intrinsicWidth";t.hasIntrinsicSize=function hasIntrinsicSize(e){return r in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.positionDefaults={x:0,y:0};const r="x";t.hasPosition=function hasPosition(e){return r in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(75),o=n(1),s=n(374),a=n(26);t.guidesDefaults={guidesX:r.Set(),guidesY:r.Set()};const c="guidesX";function hasGuides(e){return c in e}t.hasGuides=hasGuides;t.closestGuideInRange=(e,n,r)=>{const i=u(e.root,n),o=t.getValidGuideNodeAtPoint(e,n);if(!o&&!i)return null;let s=i;if(o){const t=l(e,n,o),r=u(o,t);i?r?r&&i&&(s=r.distance>i.distance?i:r):s=i:s=r}return s&&s.distance*r<3?s.guide:null},t.getValidGuideNodeAtPoint=(e,n)=>{return e.getNodesAtPoint(n).filter(n=>e.isGroundNode(n)&&t.isValidGuideNode(n))[0]||null};const l=(e,t,n)=>{const r=e.convertFrameToCanvas(n);return{x:t.x-r.x,y:t.y-r.y}},u=(e,t)=>{const{guidesX:n,guidesY:r}=e,i=h(n,t.x),o=h(r,t.y);return i&&(!o||i.distance<o.distance)?{guide:{nodeId:e.id,axis:"x",offset:i.value},distance:i.distance}:o?{guide:{nodeId:e.id,axis:"y",offset:o.value},distance:o.distance}:null},h=(e,t)=>{let n=null,r=1/0;return e.forEach(e=>{const i=d(e,t);i<r&&(r=i,n=e)}),o.isFiniteNumber(n)?{value:n,distance:r}:null},d=(e,t)=>Math.abs(e-t);t.isValidGuideNode=e=>(!a.hasRotation(e)||0===e.rotation)&&hasGuides(e),t.getGuideNode=(e,n)=>{if(!n.nodeId||n.nodeId===e.root.id)return e.root;const r=e.getNode(n.nodeId);return r&&t.isValidGuideNode(r)?r:null},t.containGuide=(e,t)=>{const n=!t.nodeId&&i.isRootNode(e);return!(t.nodeId!==e.id&&!n)&&("y"===t.axis?e.guidesY:e.guidesX).has(t.offset)},t.isGuideInFrameRect=(e,t,n)=>{if(i.isRootNode(t))return!0;const r=e.convertFrameToCanvas(t),{offset:o,axis:s}=n;return o>=0&&o<=r["x"===s?"width":"height"]},t.getGuidesKey=e=>"x"===e?"guidesX":"guidesY",t.getGuides=(e,n)=>e[t.getGuidesKey(n)],t.isEqualGuide=(e,t)=>!(!e||!t)&&s.isEqual(e,t),t.getAbsoluteOffset=(e,t,n,r)=>{return e.convertFrameToCanvas(t)[n]+r},t.getGuideAbsoluteOffset=(e,n)=>{const r=t.getGuideNode(e,n);if(!r)return null;const{axis:i,offset:o}=n;return t.getAbsoluteOffset(e,r,i,o)},t.getRelativeOffset=(e,t,n,r)=>{return r-e.convertFrameToCanvas(t)[n]},t.getOrthogonalAxis=e=>"x"===e?"y":"x"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unhandledError=function unhandledError(e){setTimeout(()=>{throw e},0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Highlight=0]="Highlight",e[e.DirectSelect=1]="DirectSelect",e[e.Select=2]="Select",e[e.Pan=3]="Pan",e[e.Zoom=4]="Zoom",e[e.ZoomSelect=5]="ZoomSelect",e[e.Move=6]="Move",e[e.Resize=7]="Resize",e[e.Rotate=8]="Rotate",e[e.LineAnchorMove=9]="LineAnchorMove",e[e.CreateFrame=10]="CreateFrame",e[e.CreateRoundedFrame=11]="CreateRoundedFrame",e[e.CreateShapeContainer=12]="CreateShapeContainer",e[e.CreateText=13]="CreateText",e[e.CreateOvalShape=14]="CreateOvalShape",e[e.CreateRectangleShape=15]="CreateRectangleShape",e[e.CreatePolygonShape=16]="CreatePolygonShape",e[e.CreateStarShape=17]="CreateStarShape",e[e.CreateStackComponent=18]="CreateStackComponent",e[e.CreateScrollComponent=19]="CreateScrollComponent",e[e.CreatePageComponent=20]="CreatePageComponent",e[e.TextEdit=21]="TextEdit",e[e.Path=22]="Path",e[e.SampleColor=23]="SampleColor",e[e.Radius=24]="Radius",e[e.Gradient=25]="Gradient",e[e.SlotConnect=26]="SlotConnect",e[e.NavigationLink=27]="NavigationLink",e[e.Comment=28]="Comment",e[e.Guide=29]="Guide",e[e.Unknown=30]="Unknown"}(t.Tools||(t.Tools={})),function(e){function actionForName(e){return`tool${e}`}e.actionForCase=function actionForCase(t){return actionForName(e[t])},e.actionForName=actionForName,e.allNames=function allNames(){return Object.keys(e).filter(e=>!Number.isNaN(parseInt(e))).map(t=>e[t]).filter(e=>"string"==typeof e)}}(t.Tools||(t.Tools={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),i=n(33),o=n(6),s=n(1),a=n(23),c=n(44),l=n(20),u=n(771),h=n(135),d=n(45),p=n(40),f=n(26),g=n(108),m=n(36),v=n(19),y=n(91),S=n(772),b=n(35),_=n(63),C=n(174),w=n(28),x=n(78),P=n(22),T=n(62),k=n(21),E=n(9),O=n(93),M=n(73),F=n(241),D=n(43),I=n(77),R=n(52),N=n(53),A=n(364);var B;!function(e){e[e.frame=0]="frame",e[e.stack=1]="stack"}(B||(B={})),function(e){function sendBackwardEnabled(e,t,n){if(t.find(P.isReplicaChild))return!1;if(!n){n=groupByParent(e.withoutDescendants(t))}return canSendNode(e,n,-1)}function sendForwardEnabled(e,t,n){if(t.find(P.isReplicaChild))return!1;if(!n){n=groupByParent(e.withoutDescendants(t))}return canSendNode(e,n,1)}function wrapSelectionWith(e,t,n){const r=e.tree;if(!wrappingEnabled(e,t))return;const i=r.sortVisually(r.withoutDescendants(t)),a=r.getParent(i[0].id),l=r.getIndex(i.slice(-1)[0]),u=i.map(e=>r.convertFrameToCanvas(e));let h=s.Rect.merge(...u);null!==a&&(h=r.convertFrameToNode(a,h)),h=s.Rect.roundToOutside(h);const d=r.newId();let p={id:d,top:h.y,left:h.x,width:h.width,height:h.height};if(null!==a){const e=r.getRect(a),t=c.guessConstrainedFrame(h,e);p=Object.assign({},p,t,{clip:!1,fillEnabled:!1})}const f=null!==a?a.id:o.NullID;if(n===B.frame){e.createFrame(f,p);const t=e.getNode(d);e.moveNode(d,f,l),i.forEach(n=>{const i=convertNodeToNewParentUpdate(r,n,a,t);e.moveNode(n.id,d),e.updateNode(n.id,i)})}else e.createStack(d,f,p,i,h),e.moveNode(d,f,l);e.setSelection([d])}function wrappingEnabled(e,t){if(!e.isDefaultToolActive())return!1;if(t.find(P.isReplicaChild))return!1;if(0===t.length)return!1;const n=e.tree,r=n.withoutDescendants(t),[i,s]=r.reduce(([e,t],i)=>{const s=!o.isVectorNode(i),a=n.getParentId(r[0]),c=n.getParentId(i);return[e&&a===c,t&&s]},[!0,!0]);return i&&s}function nodesAreClipping(e,t){return void 0!==t.find(e=>h.hasClip(e)&&e.clip)}function sizeToFitContent(e,t){sizeToFitContentEnabled(t)&&t.forEach(t=>{if(0===t.children.length)return;const n={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0},r=e.getParentRect(t,!0,!1);t.children.forEach(e=>{F.collectBoundingBox(e,n,!1)});const i=F.getRectContainingBoundingBox(n),o=t.transformMatrix(r),a=I.default.convertPoint(o,i),c=t.transformMatrix(r,s.Rect.atOrigin(i)),l=I.default.convertPoint(c,{x:0,y:0}),u=Object.assign({},s.Point.subtract(a,l),{width:i.width,height:i.height});let h;D.hasAspectRatio(t)&&(h={aspectRatio:null}),e.updateNode(t,Object.assign({},h,t.updateForRect(u,r))),t.children.forEach(t=>{const n=e.getRect(t);n.x-=i.x,n.y-=i.y,e.updateNode(t,t.updateForRect(n,i))})})}function sizeToFitContentEnabled(e){return void 0===e.find(e=>!o.isShapeContainerNode(e)||0===e.children.length)}function makeMasterEnabled(e,t){if(1!==t.length)return!1;const n=t[0];return!!P.hasTemplate(n)&&(!P.isMaster(n)&&!n.originalid)}function visibilityEnabled(e,t){return void 0!==t.find(e=>d.hasVisibility(e))}e.canReplaceWith=function canReplaceWith(e){return!P.isMaster(e)&&!P.isReplicaChild(e)&&!o.isTextNode(e)&&!o.isShapeContainerNode(e)&&b.isPinnable(e)},e.replaceWith=function replaceWith(e,t,n){if(P.isMaster(n)){const t=e.tree.get(n.id);t?e.tree.hasNode(n)||(n=t):n=A.insertExternalMasterInDocument(e,n,i.componentLoader)}n=e.cloneNode(n),e.moveNode(n.id,null);const r=e.tree.getParent(t.id)||e.tree.root,o=r.children.indexOf(t);e.tree.removeNode(t),e.moveNode(n.id,r.id,o),e.updateNode(n.id,t.constraintValues()),e.setSelection([n.id])},e.canDuplicateNodes=function canDuplicateNodes(e){return e.filter(e=>!P.isReplicaChild(e)).length>0},e.duplicateNodes=function duplicateNodes(t,n,i){const a=t.tree,c=a.withoutDescendants(a.getNodes(n)),h=c.map(e=>a.getRect(e)),d=[],p=[];if(c.forEach((s,c)=>{if(P.isReplicaChild(s))return;const f=t.cloneNode(s);if(d.push(f.id),s.isMaster)r.triggerComponentDesignInstanceEvent({});else if(s.replicaInfo){const{master:e}=s.replicaInfo,t=e&&a.getNode(e);t&&P.isExternalMaster(t)||r.triggerComponentDesignInstanceEvent({})}if(i){const n=a.getParent(f.id);if(i.node){if(l.acceptsChild(t.tree,i.node,f)){const r=n&&k.isStackComponent(n)&&k.isStackComponent(i.node),o=n&&x.isFrameNode(n)&&x.isFrameNode(i.node);if(r||o)t.moveNode(f.id,i.node.id,i.insertionIndex);else if(b.isPinnable(f)){t.moveNode(f.id,i.node.id,i.insertionIndex);const e=a.getRect(i.node),r=f.updateForSize(h[c],e);n||(r.left=0,r.top=0),t.updateNode(f.id,r)}else e.convertNodeToNewParent(t,f,n,i.node,i.insertionIndex)}}else if(e.convertNodeToNewParent(t,f,n,i.node,i.insertionIndex),k.isStackComponent(n)){const e=h[c];t.updateNode(f.id,f.updateForSize(e,null))}}if(b.isPinnable(s)&&a.getParent(s.id)===o.NullID&&!i){const e=u.suggestedConstraintsForCopiedNode(a,s,n,p);f.set(e)}}),p.length){const e=s.Rect.merge(...p);t.canvasStore.scrollToCenter(s.Rect.center(e))}d.length>0&&t.setSelection(d)},e.deleteAction=function deleteAction(e,t){if(e.tool.deleteAction)e.tool.deleteAction();else if(t){const n=t.filter(e=>!P.isReplicaChild(e));e.deleteNodes(n.map(e=>e.id))}},e.canDelete=function canDelete(e,t){return e.tool.deleteAction?!!e.tool.canDelete&&e.tool.canDelete():!!t&&t.some(e=>!P.isReplicaChild(e))},e.sendForward=function sendForward(e,t){const n=e.tree,r=groupByParent(n.withoutDescendants(t));sendForwardEnabled(n,t,r)&&sendNodes(e,r,1)},e.sendBackward=function sendBackward(e,t){const n=e.tree,r=groupByParent(n.withoutDescendants(t));sendBackwardEnabled(n,t,r)&&sendNodes(e,r,-1)},e.sendBackwardEnabled=sendBackwardEnabled,e.sendForwardEnabled=sendForwardEnabled,e.addFrame=function addFrame(e,t){wrapSelectionWith(e,t,B.frame)},e.addStack=function addStack(e,t){wrapSelectionWith(e,t,B.stack)},e.wrappingEnabled=wrappingEnabled,e.clip=function clip(e,t){const n=!nodesAreClipping(e,t);t.forEach(t=>{h.hasClip(t)&&e.updateNode(t,{clip:n})})},e.clipEnabled=function clipEnabled(e,t){return void 0!==t.find(e=>h.hasClip(e))},e.clipTitle=function clipTitle(e,t){return nodesAreClipping(e,t)?"Show Overflow":"Hide Overflow"},e.nodesAreClipping=nodesAreClipping,e.sizeToFitContent=sizeToFitContent,e.sizeToFitContentEnabled=sizeToFitContentEnabled,e.makeMasterEnabled=makeMasterEnabled,e.makeMaster=function makeMaster(e,t){if(!makeMasterEnabled(e.tree,t))return;const n=t[0];e.updateNode(n.id,{isMaster:!0,replicaInfo:null,originalid:null})},e.canResetToMasterValues=function canResetToMasterValues(e,t){for(const n of t)if(n.originalid&&P.isReplicaOrReplicaChild(n)&&T.TemplateHelper.overrideKeys(e,[n]).length>0)return!0;return!1},e.resetToMasterValues=function resetToMasterValues(e,t){for(const n of t){if(!n.originalid)continue;const t=T.TemplateHelper.getReplicaForTemplateNode(e,n);t&&T.TemplateHelper.resetOverrides(e,t,n)}},e.canDetachFromMaster=function canDetachFromMaster(e){if(0===e.length)return!1;for(const t of e)if(P.isReplica(t))return!0;return!1},e.detachFromMaster=function detachFromMaster(e,t){t.filter(P.isReplica).forEach(t=>{t.walk(t=>t.set({replicaInfo:null,originalid:null},e.tree))})},e.visibility=function visibility(e,n){if(!visibilityEnabled(e.tree,n))return;const r=t(e.tree,n),i=n.filter(d.hasVisibility);e.updateNodesDirect(i,{visible:!r}),e.setHighlight(o.NullID)},e.visibilityEnabled=visibilityEnabled;const t=(e,t)=>{return void 0===t.find(e=>d.hasVisibility(e)&&!e.visible)};function lockEnabled(e,t){return void 0!==t.find(e=>p.hasLock(e))}function nodesAreLocked(e,t){return void 0===t.find(e=>p.hasLock(e)&&!e.locked)}function removeFrameEnabled(e,t){return 0!==t.length&&(!t.find(e=>!!e.originalid)&&-1===t.map(t=>{if(!x.isFrameNode(t)&&!M.codeComponentWithChildInsertion(t)||!t.children||0===t.children.length)return!1;const n=e.getParent(t.id);if(!n)return!0;for(const r of t.children)if(!l.acceptsChild(e,n,r))return!1;return!0}).indexOf(!1))}function convertNodeToNewParentUpdate(e,t,n,r){const i=e.getRect(t);let o=e.convertPointToCanvas(t,{x:i.width/2,y:i.height/2});r&&(o=e.convertPointToNode(r,o,!0));const a=Object.assign({},i,{x:o.x-i.width/2,y:o.y-i.height/2}),c=t.updateForRect(a,r?e.getRect(r):null);return M.codeComponentWithChildInsertion(r)||(c.widthType===s.DimensionType.FractionOfFreeSpace&&(c.widthType=s.DimensionType.FixedNumber,c.width=i.width),c.heightType===s.DimensionType.FractionOfFreeSpace&&(c.heightType=s.DimensionType.FixedNumber,c.height=i.height)),f.hasRotation(t)&&(c.rotation=t.rotation-function rotationDelta(e,t,n){let r=0,i=0;t&&(r=e.totalAncestorRotation(t));n&&(i=e.totalAncestorRotation(n));return Math.round(i-r)}(e,n,r)),r&&M.codeComponentWithChildInsertion(r)&&(c.top=null,c.left=null,c.bottom=null,c.right=null),c}function convertNodeToNewParent(e,t,n,r,i=-1){const o=e.tree,s=convertNodeToNewParentUpdate(o,t,n,r);e.moveNode(t.id,r?r.id:o.root.id,i),o.updateNode(t,s)}function allSelectableNodes(e,t){if(P.isHiddenMaster(e))return;if(p.hasLock(e)&&e.locked)return;t.push(e.id);const n=e.children;if(n)for(let r=0,i=n.length;r<i;r++)allSelectableNodes(n[r],t)}function groupByParent(e){const t={};return e.forEach(e=>{const n=e.parentid?e.parentid:o.InvalidID;let r=t[n];r||(r=[],t[n]=r),r.push(e)}),t}function sendNodes(e,t,n){const r=e.tree;for(const i in t){const s=i===o.InvalidID?r.root:r.get(i);if(!s)continue;const a=t[i],c=s.children;let l=!1;for(let t=0,r=c.length;t<r;t++){const o=1===n?r-t-1:t,s=c[o];a.indexOf(s)>=0?l&&e.moveNode(s.id,i,o+n):l=!0}}}function canSendNode(e,t,n){for(const r in t){const i=r===o.InvalidID?e.root:e.get(r);if(!i)continue;const s=t[r],a=i.children;let c=!1;for(let e=0,t=a.length;e<t;e++){const r=a[1===n?t-e-1:e];if(s.indexOf(r)>=0){if(c)return!0}else c=!0}}return!1}function flattenShape(e,t,n,r){const i=e.tree;let c;c=_.BasicShape.isBasicShape(t)?_.BasicShape.path(t):t.calculatedPaths();const u=v.convertPathToParent(t,c),h=v.convertPathToCanvas(i,t,c),d=i.newId(),p=a.default.boundingBox(u),f=v.copyShapeStyle(t);if("linear-gradient"===f.fillType&&f.fillLinearGradient&&(f.fillType="linear-gradient",f.fillLinearGradient=new O.LinearGradient(f.fillLinearGradient.merge({angle:f.fillLinearGradient.angle+t.rotation}))),1===u.length){const n=a.default.offset(u[0],s.Point.reverse(p));e.createPath(t.parentid,Object.assign({id:d},n,p,f))}else{const n=[],r=new o.BooleanShapeNode(Object.assign({id:d,parentid:t.parentid,pathBoolean:y.PathBooleanType.Join},p,f));n.push(r);for(const e of u){const t=a.default.boundingBox(e),r=Object.assign({},t,s.Point.subtract(t,p)),i=a.default.offset(e,s.Point.reverse(t)),c=new o.PathNode(Object.assign({parentid:d},r,i,f));n.push(c)}e.insertNodes(n)}const g=i.getParent(t.id);if(null!==g&&l.hasChildren(g)){const n=g.children.indexOf(t);e.moveNode(d,g.id,n)}return e.deleteNode(t.id),r||e.setSelection([d]),!0===n&&e.setPathTool(),[d,h]}function ungroup(t,n){if(0===n.length)return;const r=t.tree,i=r.sortVisually(S.getNodesForNodeIDsOrNodes(n,r)),o=r.withoutDescendants(i),s=[];o.forEach(n=>{const i=r.getParent(n.id);if(l.hasChildren(n)&&n.children.length>0){const o=r.getIndex(n);l.getChildren(n).forEach((a,c)=>{const l=i,u=l?l.id:null,h=e.convertNodeToNewParentUpdate(r,a,n,l);t.moveNode(a.id,u,o+c),t.updateNode(a.id,h),s.push(a.id)}),t.deleteNode(n.id)}}),t.setSelection(s)}function canMergeGraphics(e,t){const n=S.getNodesForNodeIDsOrNodes(t,e.tree);if(n.length<2)return!1;const r=n[0];return n.every(e=>o.isShapeContainerNode(e)&&e.parentid===r.parentid&&!e.originalid)}function canJoinInGroup(e,t){if(!e.isDefaultToolActive())return!1;const n=S.getNodesForNodeIDsOrNodes(t,e.tree);return 0!==n.length&&-1===n.map(e=>o.isVectorNode(e)&&!e.originalid).indexOf(!1)}e.visibilityTitle=function visibilityTitle(e,n){return t(e,n)?"Hide":"Show"},e.lock=function lock(e,t){if(!lockEnabled(e,t))return;const n=nodesAreLocked(e,t),r=t.filter(p.hasLock);e.updateNodes(r,{locked:!n})},e.lockEnabled=lockEnabled,e.lockTitle=function lockTitle(e,t){return nodesAreLocked(0,t)?"Unlock":"Lock"},e.removeFrameTitle=function removeFrameTitle(e){return`Remove ${e.length>0&&void 0===e.find(e=>!M.codeComponentWithChildInsertion(e))?"Stack":"Frame"}${e.length>1?"s":""}`},e.removeFrame=function removeFrame(e,t){removeFrameEnabled(e.tree,t)&&ungroup(e,t)},e.removeFrameEnabled=removeFrameEnabled,e.resetToIntrinsicSize=function resetToIntrinsicSize(e,t){t.forEach(t=>{const n=e.getParentSize(t);if(null!==t.intrinsicWidth&&null!==t.intrinsicHeight){const r={width:t.intrinsicWidth,height:t.intrinsicHeight};e.updateNode(t,t.updateForSize(r,n))}})},e.convertNodeToNewParentUpdate=convertNodeToNewParentUpdate,e.convertNodeToNewParent=convertNodeToNewParent,e.selectAll=function selectAll(e,t){const n=e.tree;let r=[];if(e.tool.selectAll)e.tool.selectAll();else{if(e.shapeModeActive){const e=t.map(e=>{const t=n.getNode(e);return t?n.getAncestorOfType(t,o.ShapeContainerNode,!0):o.NullID});new Set(e).forEach(e=>{if(!e)return;const t=n.getSubtreeNodes(e.id).filter(t=>!(p.hasLock(t)&&t.locked||t.id===e.id)).map(e=>e.id);r.push(...t)})}else{const e=t.map(e=>{const t=n.getGroundFrameAncestor(e,!1);return null!==t?t.id:o.NullID});if(1===new Set(e).size&&null!==e[0]){const t=e[0];r=n.getSubtreeNodes(t).filter(e=>!(p.hasLock(e)&&e.locked||e.id===t)).map(e=>e.id)}if(0===r.length){const e=n.root.children;for(let t=0,n=e.length;t<n;t++)allSelectableNodes(e[t],r)}}e.setSelection(r)}},e.selectAllSiblings=function selectAllSiblings(e,t){const n=e.tree,r=[];t.forEach(e=>{const t=n.getNode(e);if(!t)return;const i=n.getSiblings(t,!0).map(e=>e.id);r.push(...i)}),e.setSelection(Array.from(new Set(r)))},e.selectAllChildren=function selectAllChildren(e,t){const n=e.tree,r=[];t.forEach(e=>{const t=n.getNode(e);t&&r.push(...l.getChildren(t).map(e=>e.id))}),e.setSelection(Array.from(new Set(r)))},e.reversePathDirectionEnabled=function reversePathDirectionEnabled(e){if(1!==e.length)return!1;const t=e[0];return g.hasPath(t)&&!t.originalid},e.reversePathDirection=function reversePathDirection(e,t){const n=a.default.reverse(t.pathSegments);e.updateNode(t,{pathSegments:n})},e.flattenEnabled=function flattenEnabled(e){return 0!==e.length&&void 0===e.find(e=>!(!g.hasPath(e)&&m.hasShape(e)&&!o.isShapeGroupNode(e)&&!e.originalid))},e.flattenShapes=function flattenShapes(e,t,n,r){const i=t.map(t=>flattenShape(e,t,n,r)[0]);e.setSelection(i)},e.flattenShape=flattenShape,e.canUngroup=function canUngroup(e,t){const n=S.getNodesForNodeIDsOrNodes(t,e);return 0!==n.length&&-1===n.map(e=>o.isVectorNode(e)&&!e.originalid&&l.getChildren(e).length>0).indexOf(!1)},e.ungroup=ungroup,e.canMergeGraphics=canMergeGraphics,e.mergeGraphics=function mergeGraphics(e,t){if(!canMergeGraphics(e,t))return;const n=S.getNodesForNodeIDsOrNodes(t,e.tree),r=e.tree.sortVisually(n),i=r[0];r.slice(1).forEach(t=>{t.children.forEach(n=>{convertNodeToNewParent(e,n,t,i)}),e.tree.removeNode(t)}),sizeToFitContent(e.tree,[e.tree.current(i)])},e.canJoinInGroup=canJoinInGroup,e.joinInGroup=function joinInGroup(t,n){const r=t.tree;if(w(n.length>0,"No nodes"),!canJoinInGroup(t,n))return;const i=S.getNodesForNodeIDsOrNodes(n,r),s=r.sortVisually(r.withoutDescendants(i)),a=s.slice(-1)[0],c=r.getParent(a.id),l=c?c.id:o.NullID,u=r.getIndex(a),h=r.newId();t.createShapeGroup(l,{id:h}),t.moveNode(h,l,u),s.forEach(n=>{const i=e.convertNodeToNewParentUpdate(r,n,r.getParent(n.id),c);t.moveNode(n.id,h),t.updateNode(n.id,i)}),t.setSelection([h])},e.convertSVGToShape=function convertSVGToShape(e,t){if(t.originalid)return;const n=C.getPathOperator().importSvg(t.svg,{width:t.width,height:t.height},t);if(n){n.name=t.name||t.originalFilename,n.parentid=t.parentid;const r=e.cloneNode(n),i=null===t.parentid,o=i?"rgb(255,255,255)":"transparent";e.updateNode(r.id,Object.assign({},t.constraintValues(),{rotation:t.rotation,fillEnabled:i,fillColor:o}));const s=e.tree.getParent(t.id);if(null!==s&&l.hasChildren(s)){const n=s.children.indexOf(t);e.moveNode(r.id,s.id,n)}e.deleteNode(t.id)}},e.canUpdateMasterFromInstance=function canUpdateMasterFromInstance(e,t){if(t.length>1)return!1;const n=T.TemplateHelper.getReplicaForTemplateNode(e,t[0]);if(!n)return!1;const r=T.TemplateHelper.getMaster(e,n);if(P.isHiddenMaster(r))return!1;const i=n.replicaInfo.overrides;for(let o=0,s=t.length;o<s;o++){const e=t[o];if(e.originalid){const t=i[e.originalid];if(t&&Object.keys(t).length>0)return!0}}return!1},e.updateMasterFromInstance=function updateMasterFromInstance({tree:e},t){function updatedMasterProperties(e,t){for(const n of["id","update","cache","children","mutable","parentid","originalid","isMaster","replicaInfo"])delete e[n];if(t)for(const n of["top","right","bottom","left"])delete e[n];return e}function preservedReplicaProperties(e,t){let n;if(t)for(const r of["top","right","bottom","left"])void 0!==e[r]&&((n=n||{})[r]=e[r]);return n}const n=T.TemplateHelper.getReplicaForTemplateNode(e,t[0]);if(!n)return;const r=T.TemplateHelper.getMaster(e,n);if(P.isHiddenMaster(r))return;const i=Object.assign({},n.replicaInfo.overrides),o=Object.assign({},n.replicaInfo,{overrides:i});for(let s=0,a=t.length;s<a;s++){const n=t[s];if(!n.originalid)continue;const r=e.get(n.originalid),o=updatedMasterProperties(Object.assign({},n),P.isReplica(n));r.set(o);const a=preservedReplicaProperties(i[n.originalid],P.isReplica(n));a?i[n.originalid]=a:delete i[n.originalid]}n.asMutable().replicaInfo=o},e.getCodeComponentFile=function getCodeComponentFile(e,t){if(1!==t.length)return null;const n=t[0];if(!k.isCodeComponentNode(n))return null;const r=i.componentLoader.componentForIdentifier(n.codeComponentIdentifier);return!r||r.depth>0?null:r.file},e.editCode=function editCode(t,n){let r=e.getCodeComponentFile(t,n);r&&(r.startsWith("./")&&(r=r.slice(2)),t.persistedUserDefaults.useInternalEditor?(t.toolStore.setLeftPanelContent(E.LeftPanelContent.CodeEditor),t.toolStore.setCurrentEditingFile(r),t.toolStore.putEditorCommand({name:r,useExisting:!1})):R.getIpcRenderer().send(N.OpenRelativePathExternally,`code/${r}`))},e.canGoToMaster=function canGoToMaster(e,t){const r=n(e,t);return r?P.isExternalMaster(r)?0:P.isInternalHiddenMaster(r)?2:1:0};const n=(e,t)=>{let n=null;for(let i=0,o=t.length;i<o;i++){const r=t[i],o=T.TemplateHelper.getReplicaForTemplateNode(e,r);if(o)if(n){if(n!==o.originalid)return null}else n=o.originalid}if(!n)return null;const r=e.getNode(n);return r&&P.isMaster(r)?r:null};function showNodeOnCanvas(e,t){P.isMaster(t)&&T.TemplateHelper.showMaster(e.tree,t);const n=e.tree.convertFrameToCanvas(t);e.canvasStore.scrollToCenter(s.Rect.center(n))}e.goToMaster=function goToMaster(e,t){const r=n(e.tree,t);r&&(T.TemplateHelper.showMaster(e.tree,r),e.setSelection((e=>{const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];r.originalid&&t.push(r.originalid)}return t})(t)),showNodeOnCanvas(e,r))},e.showNodeOnCanvas=showNodeOnCanvas,e.createCodeComponent=function createCodeComponent(e){e.setLeftPanelContent(E.LeftPanelContent.CodeEditor),e.setCodeFileCreationHeaderIsExpanded(!0)}}(t.ContextAction||(t.ContextAction={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.hasPath=function hasPath(e){return r.withPath(e)}},function(e,t,n){var r,i,o=function(s,a){var c=(s=s||n(775)).window,l=s.document,u=new function(){var e=/^(statics|enumerable|beans|preserve)$/,t=[],n=t.slice,r=Object.create,i=Object.getOwnPropertyDescriptor,o=Object.defineProperty,s=t.forEach||function(e,t){for(var n=0,r=this.length;n<r;n++)e.call(t,this[n],n,this)},c=Object.assign||function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e},l=function(e,t,n){if(e){var r=i(e,"length");(r&&"number"==typeof r.value?s:function(e,t){for(var n in this)this.hasOwnProperty(n)&&e.call(t,this[n],n,this)}).call(e,t,n=n||e)}return n};function inject(t,n,r,s,a){var c={};function field(e,l){"string"==typeof(l=l||(l=i(n,e))&&(l.get?l:l.value))&&"#"===l[0]&&(l=t[l.substring(1)]||l);var u,h="function"==typeof l,d=l,p=a||h&&!l.base?l&&l.get?e in t:t[e]:null;a&&p||(h&&p&&(l.base=p),h&&!1!==s&&(u=e.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(c[u[3].toLowerCase()+u[4]]=u[2]),d&&!h&&d.get&&"function"==typeof d.get&&Base.isPlainObject(d)||(d={value:d,writable:!0}),(i(t,e)||{configurable:!0}).configurable&&(d.configurable=!0,d.enumerable=null!=r?r:!u),o(t,e,d))}if(n){for(var l in n)n.hasOwnProperty(l)&&!e.test(l)&&field(l);for(var l in c){var u=c[l],h=t["set"+u],d=t["get"+u]||h&&t["is"+u];!d||!0!==s&&0!==d.length||field(l,{get:d,set:h})}}return t}function Base(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];n&&c(this,n)}return this}return inject(Base,{inject:function(e){if(e){var t=!0===e.statics?e:e.statics,n=e.beans,r=e.preserve;t!==e&&inject(this.prototype,e,e.enumerable,n,r),inject(this,t,null,n,r)}for(var i=1,o=arguments.length;i<o;i++)this.inject(arguments[i]);return this},extend:function(){for(var e,t,n,i=this,s=0,a=arguments.length;s<a&&(!e||!t);s++)n=arguments[s],e=e||n.initialize,t=t||n.prototype;return t=(e=e||function(){i.apply(this,arguments)}).prototype=t||r(this.prototype),o(t,"constructor",{value:e,writable:!0,configurable:!0}),inject(e,this),arguments.length&&this.inject.apply(e,arguments),e.base=i,e}}).inject({enumerable:!1,initialize:Base,set:Base,inject:function(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];n&&inject(this,n,n.enumerable,n.beans,n.preserve)}return this},extend:function(){var e=r(this);return e.inject.apply(e,arguments)},each:function(e,t){return l(this,e,t)},clone:function(){return new this.constructor(this)},statics:{set:c,each:l,create:r,define:o,describe:i,clone:function(e){return c(new e.constructor,e)},isPlainObject:function(e){var t=null!=e&&e.constructor;return t&&(t===Object||t===Base||"Object"===t.name)},pick:function(e,t){return e!==a?e:t},slice:function(e,t,r){return n.call(e,t,r)}}})};e.exports=u,u.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+u.each(this,function(e,t){if(!/^_/.test(t)){var n=typeof e;this.push(t+": "+("number"===n?g.instance.number(e):"string"===n?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return u.importJSON(e,this)},exportJSON:function(e){return u.exportJSON(this,e)},toJSON:function(){return u.serialize(this)},set:function(e,t){return e&&u.filter(this,e,t,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function extend(){var e=extend.base.apply(this,arguments),t=e.prototype._class;return t&&!u.exports[t]&&(u.exports[t]=e),e},equals:function(e,t){if(e===t)return!0;if(e&&e.equals)return e.equals(t);if(t&&t.equals)return t.equals(e);if(e&&t&&"object"==typeof e&&"object"==typeof t){if(Array.isArray(e)&&Array.isArray(t)){if((n=e.length)!==t.length)return!1;for(;n--;)if(!u.equals(e[n],t[n]))return!1}else{var n,r=Object.keys(e);if((n=r.length)!==Object.keys(t).length)return!1;for(;n--;){var i=r[n];if(!t.hasOwnProperty(i)||!u.equals(e[i],t[i]))return!1}}return!0}return!1},read:function(e,t,n,r){if(this===u){var i=this.peek(e,t);return e.__index++,i}var o=this.prototype,s=o._readIndex,c=t||s&&e.__index||0,l=e.length,h=e[c];if(r=r||l-c,h instanceof this||n&&n.readNull&&null==h&&r<=1)return s&&(e.__index=c+1),h&&n&&n.clone?h.clone():h;if(h=u.create(o),s&&(h.__read=!0),h=h.initialize.apply(h,c>0||c+r<l?u.slice(e,c,c+r):e)||h,s){e.__index=c+h.__read;var d=h.__filtered;d&&(e.__filtered=d,h.__filtered=a),h.__read=a}return h},peek:function(e,t){return e[e.__index=t||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,t,n,r){for(var i,o=[],s=t||0,a=r?s+r:e.length,c=s;c<a;c++)o.push(Array.isArray(i=e[c])?this.read(i,0,n):this.read(e,c,n,1));return o},readNamed:function(e,t,n,r,i){var o=this.getNamed(e,t),s=o!==a;if(s){var c=e.__filtered;c||((c=e.__filtered=u.create(e[0])).__unfiltered=e[0]),c[t]=a}var l=s?[o]:e;return this.read(l,n,r,i)},getNamed:function(e,t){var n=e[0];if(e._hasObject===a&&(e._hasObject=1===e.length&&u.isPlainObject(n)),e._hasObject)return t?n[t]:e.__filtered||n},hasNamed:function(e,t){return!!this.getNamed(e,t)},filter:function(e,t,n,r){var i;function handleKey(r){if(!(n&&r in n||i&&r in i)){var o=t[r];o!==a&&(e[r]=o)}}if(r){for(var o,s={},c=0,l=r.length;c<l;c++)(o=r[c])in t&&(handleKey(o),s[o]=!0);i=s}return Object.keys(t.__unfiltered||t).forEach(handleKey),e},isPlainValue:function(e,t){return u.isPlainObject(e)||Array.isArray(e)||t&&"string"==typeof e},serialize:function(e,t,n,r){t=t||{};var i,o=!r;if(o&&(t.formatter=new g(t.precision),r={length:0,definitions:{},references:{},add:function(e,t){var n="#"+e._id,r=this.references[n];if(!r){this.length++;var i=t.call(e),o=e._class;o&&i[0]!==o&&i.unshift(o),this.definitions[n]=i,r=this.references[n]=[n]}return r}}),e&&e._serialize){i=e._serialize(t,r);var s=e._class;!s||e._compactSerialize||!o&&n||i[0]===s||i.unshift(s)}else if(Array.isArray(e)){i=[];for(var a=0,c=e.length;a<c;a++)i[a]=u.serialize(e[a],t,n,r)}else if(u.isPlainObject(e)){i={};var l=Object.keys(e);for(a=0,c=l.length;a<c;a++){var h=l[a];i[h]=u.serialize(e[h],t,n,r)}}else i="number"==typeof e?t.formatter.number(e,t.precision):e;return o&&r.length>0?[["dictionary",r.definitions],i]:i},deserialize:function(e,t,n,r,i){var o=e,s=!n,a=s&&e&&e.length&&"dictionary"===e[0][0];if(n=n||{},Array.isArray(e)){var c=e[0],l="dictionary"===c;if(1==e.length&&/^#/.test(c))return n.dictionary[c];o=[];for(var h=(c=u.exports[c])?1:0,d=e.length;h<d;h++)o.push(u.deserialize(e[h],t,n,l,a));if(c){var p=o;t?o=t(c,p,s||i):(o=u.create(c.prototype),c.apply(o,p))}}else if(u.isPlainObject(e))for(var f in o={},r&&(n.dictionary=o),e)o[f]=u.deserialize(e[f],t,n);return a?o[1]:o},exportJSON:function(e,t){var n=u.serialize(e,t);return t&&0==t.asString?n:JSON.stringify(n)},importJSON:function(e,t){return u.deserialize("string"==typeof e?JSON.parse(e):e,function(e,n,r){var i=r&&t&&t.constructor===e,o=i?t:u.create(e.prototype);if(1===n.length&&o instanceof k&&(i||!(o instanceof O))){var s=n[0];u.isPlainObject(s)&&(s.insert=!1)}return(i?o.set:e).apply(o,n),i&&(t=null),o})},splice:function(e,t,n,r){var i=t&&t.length,o=n===a;(n=o?e.length:n)>e.length&&(n=e.length);for(var s=0;s<i;s++)t[s]._index=n+s;if(o)return e.push.apply(e,t),[];var c=[n,r];t&&c.push.apply(c,t);for(var l=e.splice.apply(e,c),u=(s=0,l.length);s<u;s++)l[s]._index=a;for(s=n+i,u=e.length;s<u;s++)e[s]._index=s;return l},capitalize:function(e){return e.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var h={on:function(e,t){if("string"!=typeof e)u.each(e,function(e,t){this.on(t,e)},this);else{var n=this._eventTypes,r=n&&n[e],i=this._callbacks=this._callbacks||{};-1===(i=i[e]=i[e]||[]).indexOf(t)&&(i.push(t),r&&r.install&&1===i.length&&r.install.call(this,e))}return this},off:function(e,t){if("string"==typeof e){var n,r=this._eventTypes,i=r&&r[e],o=this._callbacks&&this._callbacks[e];return o&&(!t||-1!==(n=o.indexOf(t))&&1===o.length?(i&&i.uninstall&&i.uninstall.call(this,e),delete this._callbacks[e]):-1!==n&&o.splice(n,1)),this}u.each(e,function(e,t){this.off(t,e)},this)},once:function(e,t){return this.on(e,function(){t.apply(this,arguments),this.off(e,t)})},emit:function(e,t){var n=this._callbacks&&this._callbacks[e];if(!n)return!1;var r=u.slice(arguments,1),i=t&&t.target&&!t.currentTarget;n=n.slice(),i&&(t.currentTarget=this);for(var o=0,s=n.length;o<s;o++)if(0==n[o].apply(this,r)){t&&t.stop&&t.stop();break}return i&&delete t.currentTarget,!0},responds:function(e){return!(!this._callbacks||!this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var t=this._eventTypes,n=this._callbacks,r=e?"install":"uninstall";if(t)for(var i in n)if(n[i].length>0){var o=t[i],s=o&&o[r];s&&s.call(this,i)}},statics:{inject:function inject(e){var t=e._events;if(t){var n={};u.each(t,function(t,r){var i="string"==typeof t,o=i?t:r,s=u.capitalize(o),a=o.substring(2).toLowerCase();n[a]=i?{}:t,o="_"+o,e["get"+s]=function(){return this[o]},e["set"+s]=function(e){var t=this[o];t&&this.off(a,t),e&&this.on(a,e),this[o]=e}}),e._eventTypes=n}return inject.base.apply(this,arguments)}}},d=u.extend({_class:"PaperScope",initialize:function PaperScope(){o=this,this.settings=new u({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=PaperScope._id++,PaperScope._scopes[this._id]=this;var e=PaperScope.prototype;if(!this.support){var t=se.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in t||"mozDash"in t,nativeBlendModes:ae.nativeModes},se.release(t)}if(!this.agent){var n=s.navigator.userAgent.toLowerCase(),r=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(n)||[])[0],i="darwin"===r?"mac":r,a=e.agent=e.browser={platform:i};i&&(a[i]=!0),n.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(e,t,n,r,i){if(!a.chrome){var o="opera"===t?r:/^(node|trident)$/.test(t)?i:n;a.version=o,a.versionNumber=parseFloat(o),t="trident"===t?"msie":t,a.name=t,a[t]=!0}}),a.chrome&&delete a.webkit,a.atom&&delete a.chrome}},version:"0.11.5-viewless",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,t){o.PaperScript.execute(e,this,t),Z.updateFocus()},install:function(e){var t=this;for(var n in u.each(["project","view","tool"],function(n){u.define(e,n,{configurable:!0,get:function(){return t[n]}})}),this)!/^_/.test(n)&&this[n]&&(e[n]=this[n])},setup:function(e){return o=this,this.project=new T(e),this},createCanvas:function(e,t){return se.getCanvas(e,t)},activate:function(){o=this},clear:function(){for(var e=this.projects,t=this.tools,n=e.length-1;n>=0;n--)e[n].remove();for(n=t.length-1;n>=0;n--)t[n].remove()},remove:function(){this.clear(),delete d._scopes[this._id]},statics:new function(){function handleAttribute(e){return e+="Attribute",function(t,n){return t[e](n)||t[e]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:handleAttribute("get"),hasAttribute:handleAttribute("has")}}}),p=u.extend(h,{initialize:function(e){this._scope=o,this._index=this._scope[this._list].push(this)-1,!e&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(u.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),g=u.extend({initialize:function(e){this.precision=u.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,t,n){return this.number(e)+(n||",")+this.number(t)},point:function(e,t){return this.number(e.x)+(t||",")+this.number(e.y)},size:function(e,t){return this.number(e.width)+(t||",")+this.number(e.height)},rectangle:function(e,t){return this.point(e,t)+(t||",")+this.size(e,t)}});g.instance=new g;var m=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],t=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],n=Math.abs,r=Math.sqrt,i=Math.pow,o=Math.log2||function(e){return Math.log(e)*Math.LOG2E};function clamp(e,t,n){return e<t?t:e>n?n:e}function getDiscriminant(e,t,r){function split(e){var t=134217729*e,n=e-t+t;return[n,e-n]}var i=t*t-e*r,o=t*t+e*r;if(3*n(i)<o){var s=split(e),a=split(t),c=split(r),l=t*t,u=e*r;i=l-u+(a[0]*a[0]-l+2*a[0]*a[1]+a[1]*a[1]-(s[0]*c[0]-u+s[0]*c[1]+s[1]*c[0]+s[1]*c[1]))}return i}function getNormalizationFactor(){var e=Math.max.apply(Math,arguments);return e&&(e<1e-8||e>1e8)?i(2,-Math.round(o(e))):0}return{EPSILON:1e-12,MACHINE_EPSILON:1.12e-16,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(r(2)-1)/3,isZero:function(e){return e>=-1e-12&&e<=1e-12},clamp,integrate:function(n,r,i,o){for(var s=e[o-2],a=t[o-2],c=.5*(i-r),l=c+r,u=0,h=o+1>>1,d=1&o?a[u++]*n(l):0;u<h;){var p=c*s[u];d+=a[u++]*(n(l+p)+n(l-p))}return c*d},findRoot:function(e,t,r,i,o,s,a){for(var c=0;c<s;c++){var l=e(r),u=l/t(r),h=r-u;if(n(u)<a){r=h;break}l>0?(o=r,r=h<=i?.5*(i+o):h):(i=r,r=h>=o?.5*(i+o):h)}return clamp(r,i,o)},solveQuadratic:function(e,t,i,o,s,a){var c,l=1/0;if(n(e)<1e-12){if(n(t)<1e-12)return n(i)<1e-12?-1:0;c=-i/t}else{var u=getDiscriminant(e,t*=-.5,i);if(u&&n(u)<1.12e-16){var h=getNormalizationFactor(n(e),n(t),n(i));h&&(u=getDiscriminant(e*=h,t*=h,i*=h))}if(u>=-1.12e-16){var d=u<0?0:r(u),p=t+(t<0?-d:d);0===p?l=-(c=i/e):(c=p/e,l=i/p)}}var f=0,g=null==s,m=s-1e-12,v=a+1e-12;return isFinite(c)&&(g||c>m&&c<v)&&(o[f++]=g?c:clamp(c,s,a)),l!==c&&isFinite(l)&&(g||l>m&&l<v)&&(o[f++]=g?l:clamp(l,s,a)),f},solveCubic:function(e,t,o,s,a,c,l){var u,h,d,p,f,g=getNormalizationFactor(n(e),n(t),n(o),n(s));function evaluate(n){var r=e*(u=n);p=(r+(h=r+t))*u+(d=h*u+o),f=d*u+s}if(g&&(e*=g,t*=g,o*=g,s*=g),n(e)<1e-12)e=t,h=o,d=s,u=1/0;else if(n(s)<1e-12)h=t,d=o,u=0;else{evaluate(-t/e/3);var v=f/e,y=i(n(v),1/3),S=v<0?-1:1,b=-p/e,_=b>0?1.324717957244746*Math.max(y,r(b)):y,C=u-S*_;if(C!==u){do{evaluate(C),C=0===p?u:u-f/p/(1+1.12e-16)}while(S*C>S*u);n(e)*u*u>n(s/u)&&(h=((d=-s/u)-o)/u)}}var w=m.solveQuadratic(e,h,d,a,c,l),x=null==c;return isFinite(u)&&(0===w||w>0&&u!==a[0]&&u!==a[1])&&(x||u>c-1e-12&&u<l+1e-12)&&(a[w++]=x?u:clamp(u,c,l)),w}}},v={_id:1,_pools:{},get:function(e){if(e){var t=this._pools[e];return t||(t=this._pools[e]={_id:1}),t._id++}return this._id++}},y=u.extend({_class:"Point",_readIndex:!0,initialize:function Point(e,t){var n=typeof e,r=this.__read,i=0;if("number"===n){var o="number"==typeof t;this._set(e,o?t:e),r&&(i=o?2:1)}else if("undefined"===n||null===e)this._set(0,0),r&&(i=null===e?1:0);else{var s="string"===n?e.split(/[\s,]+/)||[]:e;i=1,Array.isArray(s)?this._set(+s[0],+(s.length>1?s[1]:s[0])):"x"in s?this._set(s.x||0,s.y||0):"width"in s?this._set(s.width||0,s.height||0):"angle"in s?(this._set(s.length||0,0),this.setAngle(s.angle||0)):(this._set(0,0),i=0)}return r&&(this.__read=i),this},set:"#initialize",_set:function(e,t){return this.x=e,this.y=t,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new y(this.x,this.y)},toString:function(){var e=g.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var t=this._angle||0;this._set(Math.cos(t)*e,Math.sin(t)*e)}else{var n=e/this.getLength();m.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=y.read(arguments),t=this.getLength()*e.getLength();if(m.isZero(t))return NaN;var n=this.dot(e)/t;return Math.acos(n<-1?-1:n>1?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var t=this.getLength();this._set(Math.cos(e)*t,Math.sin(e)*t)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=y.read(arguments);return 180*Math.atan2(this.cross(e),this.dot(e))/Math.PI},getDistance:function(){var e=y.read(arguments),t=e.x-this.x,n=e.y-this.y,r=t*t+n*n,i=u.read(arguments);return i?r:Math.sqrt(r)},normalize:function(e){e===a&&(e=1);var t=this.getLength(),n=0!==t?e/t:0,r=new y(this.x*n,this.y*n);return n>=0&&(r._angle=this._angle),r},rotate:function(e,t){if(0===e)return this.clone();e=e*Math.PI/180;var n=t?this.subtract(t):this,r=Math.sin(e),i=Math.cos(e);return n=new y(n.x*i-n.y*r,n.x*r+n.y*i),t?n.add(t):n},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=y.read(arguments);return new y(this.x+e.x,this.y+e.y)},subtract:function(){var e=y.read(arguments);return new y(this.x-e.x,this.y-e.y)},multiply:function(){var e=y.read(arguments);return new y(this.x*e.x,this.y*e.y)},divide:function(){var e=y.read(arguments);return new y(this.x/e.x,this.y/e.y)},modulo:function(){var e=y.read(arguments);return new y(this.x%e.x,this.y%e.y)},negate:function(){return new y(-this.x,-this.y)},isInside:function(){return C.read(arguments).contains(this)},isClose:function(){var e=y.read(arguments),t=u.read(arguments);return this.getDistance(e)<=t},isCollinear:function(){var e=y.read(arguments);return y.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=y.read(arguments);return y.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=m.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=y.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=y.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=y.read(arguments),t=e.isZero()?0:this.dot(e)/e.dot(e);return new y(e.x*t,e.y*t)},statics:{min:function(){var e=y.read(arguments),t=y.read(arguments);return new y(Math.min(e.x,t.x),Math.min(e.y,t.y))},max:function(){var e=y.read(arguments),t=y.read(arguments);return new y(Math.max(e.x,t.x),Math.max(e.y,t.y))},random:function(){return new y(Math.random(),Math.random())},isCollinear:function(e,t,n,r){return Math.abs(e*r-t*n)<=1e-8*Math.sqrt((e*e+t*t)*(n*n+r*r))},isOrthogonal:function(e,t,n,r){return Math.abs(e*n+t*r)<=1e-8*Math.sqrt((e*e+t*t)*(n*n+r*r))}}},u.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new y(t(this.x),t(this.y))}},{})),S=y.extend({initialize:function Point(e,t,n,r){this._x=e,this._y=t,this._owner=n,this._setter=r},_set:function(e,t,n){return this._x=e,this._y=t,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),b=u.extend({_class:"Size",_readIndex:!0,initialize:function Size(e,t){var n=typeof e,r=this.__read,i=0;if("number"===n){var o="number"==typeof t;this._set(e,o?t:e),r&&(i=o?2:1)}else if("undefined"===n||null===e)this._set(0,0),r&&(i=null===e?1:0);else{var s="string"===n?e.split(/[\s,]+/)||[]:e;i=1,Array.isArray(s)?this._set(+s[0],+(s.length>1?s[1]:s[0])):"width"in s?this._set(s.width||0,s.height||0):"x"in s?this._set(s.x||0,s.y||0):(this._set(0,0),i=0)}return r&&(this.__read=i),this},set:"#initialize",_set:function(e,t){return this.width=e,this.height=t,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new b(this.width,this.height)},toString:function(){var e=g.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){var e=b.read(arguments);return new b(this.width+e.width,this.height+e.height)},subtract:function(){var e=b.read(arguments);return new b(this.width-e.width,this.height-e.height)},multiply:function(){var e=b.read(arguments);return new b(this.width*e.width,this.height*e.height)},divide:function(){var e=b.read(arguments);return new b(this.width/e.width,this.height/e.height)},modulo:function(){var e=b.read(arguments);return new b(this.width%e.width,this.height%e.height)},negate:function(){return new b(-this.width,-this.height)},isZero:function(){var e=m.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,t){return new b(Math.min(e.width,t.width),Math.min(e.height,t.height))},max:function(e,t){return new b(Math.max(e.width,t.width),Math.max(e.height,t.height))},random:function(){return new b(Math.random(),Math.random())}}},u.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new b(t(this.width),t(this.height))}},{})),_=b.extend({initialize:function Size(e,t,n,r){this._width=e,this._height=t,this._owner=n,this._setter=r},_set:function(e,t,n){return this._width=e,this._height=t,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),C=u.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function Rectangle(e,t,n,r){var i,o=typeof e;if("number"===o?(this._set(e,t,n,r),i=4):"undefined"===o||null===e?(this._set(0,0,0,0),i=null===e?1:0):1===arguments.length&&(Array.isArray(e)?(this._set.apply(this,e),i=1):e.x!==a||e.width!==a?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),i=1):e.from===a&&e.to===a&&(this._set(0,0,0,0),u.filter(this,e),i=1)),i===a){var s,c,l=y.readNamed(arguments,"from"),h=u.peek(arguments),d=l.x,p=l.y;if(h&&h.x!==a||u.hasNamed(arguments,"to")){var f=y.readNamed(arguments,"to");s=f.x-d,c=f.y-p,s<0&&(d=f.x,s=-s),c<0&&(p=f.y,c=-c)}else{var g=b.read(arguments);s=g.width,c=g.height}this._set(d,p,s,c),i=arguments.__index;var m=arguments.__filtered;m&&(this.__filtered=m)}return this.__read&&(this.__read=i),this},set:"#initialize",_set:function(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this},clone:function(){return new C(this.x,this.y,this.width,this.height)},equals:function(e){var t=u.isPlainValue(e)?C.read(arguments):e;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1},toString:function(){var e=g.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(e){return new(e?y:S)(this.x,this.y,this,"setPoint")},setPoint:function(){var e=y.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){return new(e?b:_)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=b.read(arguments),t=this._sx,n=this._sy,r=e.width,i=e.height;t&&(this.x+=(this.width-r)*t),n&&(this.y+=(this.height-i)*n),this.width=r,this.height=i,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var t=e-this.x;this.width-=.5===this._sx?2*t:t}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var t=e-this.y;this.height-=.5===this._sy?2*t:t}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var t=e-this.x;this.width=.5===this._sx?2*t:t}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var t=e-this.y;this.height=.5===this._sy?2*t:t}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||.5===this._sx?this.x=e-this.width/2:(this._sx&&(this.x+=2*(e-this.x)*this._sx),this.width=2*(e-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||.5===this._sy?this.y=e-this.height/2:(this._sy&&(this.y+=2*(e-this.y)*this._sy),this.height=2*(e-this.y)),this._sy=.5,this._fh=0},getCenter:function(e){return new(e?y:S)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=y.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(e){return e&&e.width!==a||4===(Array.isArray(e)?e:arguments).length?this._containsRectangle(C.read(arguments)):this._containsPoint(y.read(arguments))},_containsPoint:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t+e.width<=this.x+this.width&&n+e.height<=this.y+this.height},intersects:function(){var e=C.read(arguments),t=u.read(arguments)||0;return e.x+e.width>this.x-t&&e.y+e.height>this.y-t&&e.x<this.x+this.width+t&&e.y<this.y+this.height+t},intersect:function(){var e=C.read(arguments),t=Math.max(this.x,e.x),n=Math.max(this.y,e.y),r=Math.min(this.x+this.width,e.x+e.width),i=Math.min(this.y+this.height,e.y+e.height);return new C(t,n,r-t,i-n)},unite:function(){var e=C.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x+e.width),i=Math.max(this.y+this.height,e.y+e.height);return new C(t,n,r-t,i-n)},include:function(){var e=y.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x),i=Math.max(this.y+this.height,e.y);return new C(t,n,r-t,i-n)},expand:function(){var e=b.read(arguments),t=e.width,n=e.height;return new C(this.x-t/2,this.y-n/2,this.width+t,this.height+n)},scale:function(e,t){return this.expand(this.width*e-this.width,this.height*(t===a?e:t)-this.height)}},u.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,t){var n=e.join(""),r=/^[RL]/.test(n);t>=4&&(e[1]+=r?"Y":"X");var i=e[r?0:1],o=e[r?1:0],s="get"+i,a="get"+o,c="set"+i,l="set"+o,u="set"+n;this["get"+n]=function(e){return new(e?y:S)(this[s](),this[a](),this,u)},this[u]=function(){var e=y.read(arguments);this[c](e.x),this[l](e.y)}},{beans:!0})),w=C.extend({initialize:function Rectangle(e,t,n,r,i,o){this._set(e,t,n,r,!0),this._owner=i,this._setter=o},_set:function(e,t,n,r,i){return this._x=e,this._y=t,this._width=n,this._height=r,i||this._owner[this._setter](this),this}},new function(){var e=C.prototype;return u.each(["x","y","width","height"],function(e){var t=u.capitalize(e),n="_"+e;this["get"+t]=function(){return this[n]},this["set"+t]=function(e){this[n]=e,this._dontNotify||this._owner[this._setter](this)}},u.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){var n="set"+t;this[n]=function(){this._dontNotify=!0,e[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(e){var t=this._owner;t._changeSelection&&t._changeSelection(2,e)}}))}),x=u.extend({_class:"Matrix",initialize:function Matrix(e,t){var n=arguments.length,r=!0;if(n>=6?this._set.apply(this,arguments):1===n||2===n?e instanceof Matrix?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,t):Array.isArray(e)?this._set.apply(this,t?e.concat([t]):e):r=!1:n?r=!1:this.reset(),!r)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,t,n,r,i,o,s){return this._a=e,this._b=t,this._c=n,this._d=r,this._tx=i,this._ty=o,s||this._changed(),this},_serialize:function(e,t){return u.serialize(this.getValues(),e,!0,t)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(9))},clone:function(){return new x(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=g.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,t){var n=this._owner;return!!n&&(n.transform(null,!0,u.pick(e,!0),t),this.isIdentity())},translate:function(){var e=y.read(arguments),t=e.x,n=e.y;return this._tx+=t*this._a+n*this._c,this._ty+=t*this._b+n*this._d,this._changed(),this},scale:function(){var e=y.read(arguments),t=y.read(arguments,0,{readNull:!0});return t&&this.translate(t),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,t&&this.translate(t.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var t=y.read(arguments,1),n=t.x,r=t.y,i=Math.cos(e),o=Math.sin(e),s=n-n*i+r*o,a=r-n*o-r*i,c=this._a,l=this._b,u=this._c,h=this._d;return this._a=i*c+o*u,this._b=i*l+o*h,this._c=-o*c+i*u,this._d=-o*l+i*h,this._tx+=s*c+a*u,this._ty+=s*l+a*h,this._changed(),this},shear:function(){var e=y.read(arguments),t=y.read(arguments,0,{readNull:!0});t&&this.translate(t);var n=this._a,r=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*n,this._d+=e.x*r,t&&this.translate(t.negate()),this._changed(),this},skew:function(){var e=y.read(arguments),t=y.read(arguments,0,{readNull:!0}),n=Math.PI/180,r=new y(Math.tan(e.x*n),Math.tan(e.y*n));return this.shear(r,t)},append:function(e,t){if(e){var n=this._a,r=this._b,i=this._c,o=this._d,s=e._a,a=e._c,c=e._b,l=e._d,u=e._tx,h=e._ty;this._a=s*n+c*i,this._c=a*n+l*i,this._b=s*r+c*o,this._d=a*r+l*o,this._tx+=u*n+h*i,this._ty+=u*r+h*o,t||this._changed()}return this},prepend:function(e,t){if(e){var n=this._a,r=this._b,i=this._c,o=this._d,s=this._tx,a=this._ty,c=e._a,l=e._c,u=e._b,h=e._d,d=e._tx,p=e._ty;this._a=c*n+l*r,this._c=c*i+l*o,this._b=u*n+h*r,this._d=u*i+h*o,this._tx=c*s+l*a+d,this._ty=u*s+h*a+p,t||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,t=this._b,n=this._c,r=this._d,i=this._tx,o=this._ty,s=e*r-t*n,a=null;return s&&!isNaN(s)&&isFinite(i)&&isFinite(o)&&(this._a=r/s,this._b=-t/s,this._c=-n/s,this._d=e/s,this._tx=(n*o-r*i)/s,this._ty=(t*i-e*o)/s,a=this),a},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new x(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,t,n){return arguments.length<3?this._transformPoint(y.read(arguments)):this._transformCoordinates(e,t,n)},_transformPoint:function(e,t,n){var r=e.x,i=e.y;return t||(t=new y),t._set(r*this._a+i*this._c+this._tx,r*this._b+i*this._d+this._ty,n)},_transformCoordinates:function(e,t,n){for(var r=0,i=2*n;r<i;r+=2){var o=e[r],s=e[r+1];t[r]=o*this._a+s*this._c+this._tx,t[r+1]=o*this._b+s*this._d+this._ty}return t},_transformCorners:function(e){var t=e.x,n=e.y,r=t+e.width,i=n+e.height,o=[t,n,r,n,r,i,t,i];return this._transformCoordinates(o,o,4)},_transformBounds:function(e,t,n){for(var r=this._transformCorners(e),i=r.slice(0,2),o=i.slice(),s=2;s<8;s++){var a=r[s],c=1&s;a<i[c]?i[c]=a:a>o[c]&&(o[c]=a)}return t||(t=new C),t._set(i[0],i[1],o[0]-i[0],o[1]-i[1],n)},inverseTransform:function(){return this._inverseTransform(y.read(arguments))},_inverseTransform:function(e,t,n){var r=this._a,i=this._b,o=this._c,s=this._d,a=this._tx,c=this._ty,l=r*s-i*o,u=null;if(l&&!isNaN(l)&&isFinite(a)&&isFinite(c)){var h=e.x-this._tx,d=e.y-this._ty;t||(t=new y),u=t._set((h*s-d*o)/l,(d*r-h*i)/l,n)}return u},decompose:function(){var e,t,n,r=this._a,i=this._b,o=this._c,s=this._d,a=r*s-i*o,c=Math.sqrt,l=Math.atan2,u=180/Math.PI;if(0!==r||0!==i){var h=c(r*r+i*i);e=Math.acos(r/h)*(i>0?1:-1),t=[h,a/h],n=[l(r*o+i*s,h*h),0]}else if(0!==o||0!==s){var d=c(o*o+s*s);e=Math.asin(o/d)*(s>0?1:-1),t=[a/d,d],n=[0,l(r*o+i*s,d*d)]}else e=0,n=t=[0,0];return{translation:this.getTranslation(),rotation:e*u,scaling:new y(t),skewing:new y(n[0]*u,n[1]*u)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new y(this._tx,this._ty)},getScaling:function(){return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},u.each(["a","b","c","d","tx","ty"],function(e){var t=u.capitalize(e),n="_"+e;this["get"+t]=function(){return this[n]},this["set"+t]=function(e){this[n]=e,this._changed()}},{})),P=u.extend({_class:"Line",initialize:function Line(e,t,n,r,i){var o=!1;arguments.length>=4?(this._px=e,this._py=t,this._vx=n,this._vy=r,o=i):(this._px=e.x,this._py=e.y,this._vx=t.x,this._vy=t.y,o=n),o||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new y(this._px,this._py)},getVector:function(){return new y(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,t){return P.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,t)},getSide:function(e,t){return P.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,t)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return P.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return y.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return y.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,t,n,r,i,o,s,a,c,l){c||(n-=e,r-=t,s-=i,a-=o);var u=n*a-r*s;if(!m.isZero(u)){var h=e-i,d=t-o,p=(s*d-a*h)/u,f=(n*d-r*h)/u;if(l||-1e-12<p&&p<1+1e-12&&-1e-12<f&&f<1+1e-12)return l||(p=p<=0?0:p>=1?1:p),new y(e+p*n,t+p*r)}},getSide:function(e,t,n,r,i,o,s,a){s||(n-=e,r-=t);var c=i-e,l=c*r-(o-t)*n;return!a&&m.isZero(l)&&(l=(c*n+c*n)/(n*n+r*r))>=0&&l<=1&&(l=0),l<0?-1:l>0?1:0},getSignedDistance:function(e,t,n,r,i,o,s){return s||(n-=e,r-=t),0===n?r>0?i-e:e-i:0===r?n<0?o-t:t-o:((i-e)*r-(o-t)*n)/Math.sqrt(n*n+r*r)},getDistance:function(e,t,n,r,i,o,s){return Math.abs(P.getSignedDistance(e,t,n,r,i,o,s))}}}),T=p.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function Project(e){p.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new X(null,null,this),this._view=Z.create(this,e||se.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,t){return u.serialize(this._children,e,!0,t)},_changed:function(e,t){if(1&e){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var r=this._changes;if(r&&t){var i=this._changesById,o=t._id,s=i[o];s?s.flags|=e:r.push(i[o]={item:t,flags:e})}},clear:function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t].remove()},isEmpty:function(){return!this._children.length},remove:function remove(){return!!remove.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new O({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],t={};return this.getItems({class:D,match:function(n){var r=n._definition,i=r._id;return t[i]||(t[i]=!0,e.push(r)),!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,t=[];for(var n in e){var r=e[n],i=r._selection;1&i&&r.isInserted()?t.push(r):i||this._updateSelection(r)}return t},_updateSelection:function(e){var t=e._id,n=this._selectionItems;e._selection?n[t]!==e&&(this._selectionCount++,n[t]=e):n[t]===e&&(this._selectionCount--,delete n[t])},selectAll:function(){for(var e=this._children,t=0,n=e.length;t<n;t++)e[t].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var t in e)e[t].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(a,e)},insertLayer:function(e,t){if(t instanceof O){t._remove(!1,!0),u.splice(this._children,[t],e,0),t._setProject(this,!0);var n=t._name;n&&t.setName(n),this._changes&&t._changed(5),this._activeLayer||(this._activeLayer=t)}else t=null;return t},_insertItem:function(e,t,n){return t=this.insertLayer(e,t)||(this._activeLayer||this._insertItem(a,new O(k.NO_INSERT),!0)).insertChild(e,t),n&&t.activate&&t.activate(),t},getItems:function(e){return k._getItems(this,e)},getItem:function(e){return k._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var t=this._activeLayer;return u.importJSON(e,t&&t.isEmpty()&&t)},removeOn:function(e){var t=this._removeSets;if(t){"mouseup"===e&&(t.mousedrag=null);var n=t[e];if(n){for(var r in n){var i=n[r];for(var o in t){var s=t[o];s&&s!=n&&delete s[i._id]}i.remove()}t[e]=null}}},draw:function(e,t,n){this._updateVersion++,e.save(),t.applyToContext(e);for(var r=this._children,i=new u({offset:new y(0,0),pixelRatio:n,viewMatrix:t.isIdentity()?null:t,matrices:[new x],updateMatrix:!0}),o=0,s=r.length;o<s;o++)r[o].draw(e,i);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var a=this._selectionItems,c=this._scope.settings.handleSize,l=this._updateVersion;for(var h in a)a[h]._drawSelection(e,t,c,a,l);e.restore()}}}),k=u.extend(h,{statics:{extend:function extend(e){return e._serializeFields&&(e._serializeFields=u.set({},this.prototype._serializeFields,e._serializeFields)),extend.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new x,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return u.each(e,function(e){this._events[e]={install:function(e){this.getView()._countItemEvent(e,1)},uninstall:function(e){this.getView()._countItemEvent(e,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function Item(){},_initialize:function(e,t){var n=e&&u.isPlainObject(e),r=n&&!0===e.internal,i=this._matrix=new x,s=n&&e.project||o.project,c=o.settings;return this._id=r?null:v.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&c.applyMatrix,t&&i.translate(t),i._owner=this,this._style=new X(s._currentStyle,this,s),r||n&&0==e.insert||!c.insertItems&&(!n||!0!==e.insert)?this._setProject(s):(n&&e.parent||s)._insertItem(a,this,!0),n&&e!==k.NO_INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(e,t){var n={},r=this;function serialize(i){for(var o in i){var s=r[o];u.equals(s,"leading"===o?1.2*i.fontSize:i[o])||(n[o]=u.serialize(s,e,"data"!==o,t))}}return serialize(this._serializeFields),this instanceof E||serialize(this._style._defaults),[this._class,n]},_changed:function(e){var t=this._symbol,n=this._parent||t,r=this._project;8&e&&(this._bounds=this._position=this._decomposed=this._globalMatrix=a),n&&40&e&&k._clearBoundsCache(n),2&e&&k._clearBoundsCache(this),r&&r._changed(e,this),t&&t._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var t=this._getOwner();if(e&&t){var n=t._children,r=t._namedChildren;(r[e]=r[e]||[]).push(this),e in n||(n[e]=this)}this._name=e||a,this._changed(128)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},u.each(["locked","visible","blendMode","opacity","guide"],function(e){var t=u.capitalize(e),n="_"+e,r={locked:128,visible:137};this["get"+t]=function(){return this[n]},this["set"+t]=function(t){t!=this[n]&&(this[n]=t,this._changed(r[e]||129))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var t=this._project;t&&(t._updateSelection(this),this._changed(129))}},_changeSelection:function(e,t){var n=this._selection;this.setSelection(t?n|e:n&~e)},isSelected:function(){if(this._selectChildren)for(var e=this._children,t=0,n=e.length;t<n;t++)if(e[t].isSelected())return!0;return!!(1&this._selection)},setSelected:function(e){if(this._selectChildren)for(var t=this._children,n=0,r=t.length;n<r;n++)t[n].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,t=!!(1&this._selection);if(e&&t){for(var n=0,r=e.length;n<r;n++)if(!e[n].isFullySelected())return!1;return!0}return t},setFullySelected:function(e){var t=this._children;if(t)for(var n=0,r=t.length;n<r;n++)t[n].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024))},getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var t=this._position,n=e?y:S;if(!t){var r=this._pivot;t=this._position=r?this._matrix._transformPoint(r):this.getBounds().getCenter(!0)}return new n(t.x,t.y,this,"setPosition")},setPosition:function(){this.translate(y.read(arguments).subtract(this.getPosition(!0)))},getPivot:function(){var e=this._pivot;return e?new S(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=y.read(arguments,0,{clone:!0,readNull:!0}),this._position=a}},u.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,t){this[t]=function(t){return this.getBounds(t,e)}},{beans:!0,getBounds:function(e,t){var n=t||e instanceof x,r=u.set({},n?t:e,this._boundsOptions);r.stroke&&!this.getStrokeScaling()||(r.cacheItem=this);var i=this._getCachedBounds(n&&e,r).rect;return arguments.length?i:new w(i.x,i.y,i.width,i.height,this,"setBounds")},setBounds:function(){var e=C.read(arguments),t=this.getBounds(),n=this._matrix,r=new x,i=e.getCenter();r.translate(i),e.width==t.width&&e.height==t.height||(n.isInvertible()||(n.set(n._backup||(new x).translate(n.getTranslation())),t=this.getBounds()),r.scale(0!==t.width?e.width/t.width:0,0!==t.height?e.height/t.height:0)),i=t.getCenter(),r.translate(-i.x,-i.y),this.transform(r)},_getBounds:function(e,t){var n=this._children;return n&&n.length?(k._updateBoundsCache(this,t.cacheItem),k._getBounds(n,e,t)):new C},_getBoundsCacheKey:function(e,t){return[e.stroke?1:0,e.handle?1:0,t?1:0].join("")},_getCachedBounds:function(e,t,n){e=e&&e._orNullIfIdentity();var r=t.internal&&!n,i=t.cacheItem,o=r?null:this._matrix._orNullIfIdentity(),s=i&&(!e||e.equals(o))&&this._getBoundsCacheKey(t,r),a=this._bounds;if(k._updateBoundsCache(this._parent||this._symbol,i),s&&a&&s in a)return{rect:(d=a[s]).rect.clone(),nonscaling:d.nonscaling};var c=this._getBounds(e||o,t),l=c.rect||c,u=this._style,h=c.nonscaling||u.hasStroke()&&!u.getStrokeScaling();if(s){a||(this._bounds=a={});var d=a[s]={rect:l.clone(),nonscaling:h,internal:r}}return{rect:l,nonscaling:h}},_getStrokeMatrix:function(e,t){var n=this.getStrokeScaling()?null:t&&t.internal?this:this._parent||this._symbol&&this._symbol._item,r=n?n.getViewMatrix().invert():e;return r&&r._shiftless()},statics:{_updateBoundsCache:function(e,t){if(e&&t){var n=t._id,r=e._boundsCache=e._boundsCache||{ids:{},list:[]};r.ids[n]||(r.list.push(t),r.ids[n]=t)}},_clearBoundsCache:function(e){var t=e._boundsCache;if(t){e._bounds=e._position=e._boundsCache=a;for(var n=0,r=t.list,i=r.length;n<i;n++){var o=r[n];o!==e&&(o._bounds=o._position=a,o._boundsCache&&k._clearBoundsCache(o))}}},_getBounds:function(e,t,n){var r=1/0,i=-r,o=r,s=i,a=!1;n=n||{};for(var c=0,l=e.length;c<l;c++){var u=e[c];if(u._visible&&!u.isEmpty()){var h=u._getCachedBounds(t&&t.appended(u._matrix),n,!0),d=h.rect;r=Math.min(d.x,r),o=Math.min(d.y,o),i=Math.max(d.x+d.width,i),s=Math.max(d.y+d.height,s),h.nonscaling&&(a=!0)}}return{rect:isFinite(r)?new C(r,o,i-r,s-o):new C,nonscaling:a}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var t=this.getRotation();if(null!=t&&null!=e){var n=this._decomposed;this.rotate(e-t),n&&(n.rotation=e,this._decomposed=n)}},getScaling:function(){var e=this._decompose(),t=e&&e.scaling;return new S(t?t.x:1,t?t.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=y.read(arguments,0,{clone:!0,readNull:!0});if(e&&t&&!e.equals(t)){var n=this.getRotation(),r=this._decomposed,i=new x,o=this.getPosition(!0);i.translate(o),n&&i.rotate(n),i.scale(t.x/e.x,t.y/e.y),n&&i.rotate(-n),i.translate(o.negate()),this.transform(i),r&&(r.scaling=t,this._decomposed=r)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.initialize.apply(e,arguments)},getGlobalMatrix:function(e){var t=this._globalMatrix,n=this._project._updateVersion;if(t&&t._updateVersion!==n&&(t=null),!t){t=this._globalMatrix=this._matrix.clone();var r=this._parent;r&&t.prepend(r.getGlobalMatrix(!0)),t._updateVersion=n}return e?t:t.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,t){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var n=this._children,r=0,i=n&&n.length;r<i;r++)n[r]._setProject(e);t=!0}t&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function _installEvents(e){_installEvents.base.call(this,e);for(var t=this._children,n=0,r=t&&t.length;n<r;n++)t[n]._installEvents(e)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof O)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return u.equals(this._children,e._children)},clone:function(e){var t=new this.constructor(k.NO_INSERT),n=this._children,r=u.pick(e?e.insert:a,e===a||!0===e),i=u.pick(e?e.deep:a,!0);n&&t.copyAttributes(this),n&&!i||t.copyContent(this),n||t.copyAttributes(this),r&&t.insertAbove(this);var o=this._name,s=this._parent;if(o&&s){n=s._children;for(var c=o,l=1;n[o];)o=c+" "+l++;o!==c&&t.setName(o)}return t},copyContent:function(e){for(var t=e._children,n=0,r=t&&t.length;n<r;n++)this.addChild(t[n].clone(!1),!0)},copyAttributes:function(e,t){this.setStyle(e._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],r=0,i=n.length;r<i;r++){var o=n[r];e.hasOwnProperty(o)&&(this[o]=e[o])}t||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var s=e._data,a=e._name;this._data=s?u.clone(s):null,a&&this.setName(a)},rasterize:function(e,t){var n=this.getStrokeBounds(),r=(e||this.getView().getResolution())/72,i=n.getTopLeft().floor(),o=n.getBottomRight().ceil(),s=new b(o.subtract(i)),c=new F(k.NO_INSERT);if(!s.isZero()){var l=se.getCanvas(s.multiply(r)),h=l.getContext("2d"),d=(new x).scale(r).translate(i.negate());h.save(),d.applyToContext(h),this.draw(h,new u({matrices:[d]})),h.restore(),c.setCanvas(l)}return c.transform((new x).translate(i.add(s.divide(2))).scale(1/r)),(t===a||t)&&c.insertAbove(this),c},contains:function(){return!!this._contains(this._matrix._inverseTransform(y.read(arguments)))},_contains:function(e){var t=this._children;if(t){for(var n=t.length-1;n>=0;n--)if(t[n].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return C.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new z.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,t){return e instanceof k&&this._asPathItem().getIntersections(e._asPathItem(),null,t,!0).length>0}},new function(){function hitTest(){return this._hitTest(y.read(arguments),R.getOptions(arguments))}function hitTestAll(){var e=y.read(arguments),t=R.getOptions(arguments),n=[];return this._hitTest(e,u.set({all:n},t)),n}function hitTestChildren(e,t,n,r){var i=this._children;if(i)for(var o=i.length-1;o>=0;o--){var s=i[o],a=s!==r&&s._hitTest(e,t,n);if(a&&!t.all)return a}return null}return T.inject({hitTest,hitTestAll,_hitTest:hitTestChildren}),{hitTest,hitTestAll,_hitTestChildren:hitTestChildren}},{_hitTest:function(e,t,n){if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;var r=this._matrix,i=n?n.appended(r):this.getGlobalMatrix().prepend(this.getView()._matrix),o=Math.max(t.tolerance,1e-12),s=t._tolerancePadding=new b(z._getStrokePadding(o,r._shiftless().invert()));if(!(e=r._inverseTransform(e))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(s.multiply(2))._containsPoint(e))return null;var a,c,l=!(t.guides&&!this._guide||t.selected&&!this.isSelected()||t.type&&t.type!==u.hyphenate(this._class)||t.class&&!(this instanceof t.class)),h=t.match,d=this;function filter(e){return e&&h&&!h(e)&&(e=null),e&&t.all&&t.all.push(e),e}function checkPoint(t,n){var r=n?a["get"+n]():d.getPosition();if(e.subtract(r).divide(s).length<=1)return new R(t,d,{name:n?u.hyphenate(n):t,point:r})}var p=t.position,f=t.center,g=t.bounds;if(l&&this._parent&&(p||f||g)){if((f||g)&&(a=this.getInternalBounds()),!(c=p&&checkPoint("position")||f&&checkPoint("center","Center"))&&g)for(var m=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],v=0;v<8&&!c;v++)c=checkPoint("bounds",m[v]);c=filter(c)}return c||(c=this._hitTestChildren(e,t,i)||l&&filter(this._hitTestSelf(e,t,i,this.getStrokeScaling()?null:i._shiftless().invert()))||null),c&&c.point&&(c.point=r.transform(c.point)),c},_hitTestSelf:function(e,t){if(t.fill&&this.hasFill()&&this._contains(e))return new R("fill",this)},matches:function(e,t){var n=typeof e;if("object"===n){for(var r in e)if(e.hasOwnProperty(r)&&!this.matches(r,e[r]))return!1;return!0}if("function"===n)return e(this);if("match"===e)return t(this);var i=/^(empty|editable)$/.test(e)?this["is"+u.capitalize(e)]():"type"===e?u.hyphenate(this._class):this[e];if("class"===e){if("function"==typeof t)return this instanceof t;i=this._class}if("function"==typeof t)return!!t(i);if(t){if(t.test)return t.test(i);if(u.isPlainObject(t))return function matchObject(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],i=t[n];if(u.isPlainObject(r)&&u.isPlainObject(i)){if(!matchObject(r,i))return!1}else if(!u.equals(r,i))return!1}return!0}(t,i)}return u.equals(i,t)},getItems:function(e){return k._getItems(this,e,this._matrix)},getItem:function(e){return k._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function _getItems(e,t,n,r,i){if(!r){var o="object"==typeof t&&t,s=o&&o.overlapping,a=o&&o.inside,c=(v=s||a)&&C.read([v]);r={items:[],recursive:o&&!1!==o.recursive,inside:!!a,overlapping:!!s,rect:c,path:s&&new z.Rectangle({rectangle:c,insert:!1})},o&&(t=u.filter({},t,{recursive:!0,inside:!0,overlapping:!0}))}var l=e._children,h=r.items;n=(c=r.rect)&&(n||new x);for(var d=0,p=l&&l.length;d<p;d++){var f=l[d],g=n&&n.appended(f._matrix),m=!0;if(c){var v=f.getBounds(g);if(!c.intersects(v))continue;c.contains(v)||r.overlapping&&(v.contains(c)||r.path.intersects(f,g))||(m=!1)}if(m&&f.matches(t)&&(h.push(f),i))break;if(!1!==r.recursive&&_getItems(f,t,g,r,i),i&&h.length>0)break}return h}}},{importJSON:function(e){var t=u.importJSON(e,this);return t!==this?this.addChild(t):t},addChild:function(e){return this.insertChild(a,e)},insertChild:function(e,t){var n=t?this.insertChildren(e,[t]):null;return n&&n[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,t){var n=this._children;if(n&&t&&t.length>0){for(var r={},i=(t=u.slice(t)).length-1;i>=0;i--){var o=(l=t[i])&&l._id;!l||r[o]?t.splice(i,1):(l._remove(!1,!0),r[o]=!0)}u.splice(n,t,e,0);for(var s=this._project,a=s._changes,c=(i=0,t.length);i<c;i++){var l,h=(l=t[i])._name;l._parent=this,l._setProject(s,!0),h&&l.setName(h),a&&l._changed(5)}this._changed(11)}else t=null;return t},_insertItem:"#insertChild",_insertAt:function(e,t){var n=e&&e._getOwner(),r=e!==this&&n?this:null;return r&&(r._remove(!1,!0),n._insertItem(e._index+t,r)),r},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(a,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(a,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var t=this._children;if(t&&1===t.length){var n=t[0].reduce(e);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var e=this._getOwner();if(e){var t=e._children,n=e._namedChildren,r=this._name,i=n[r],o=i?i.indexOf(this):-1;-1!==o&&(t[r]==this&&delete t[r],i.splice(o,1),i.length?t[r]=i[0]:delete n[r])}},_remove:function(e,t){var n=this._getOwner(),r=this._project,i=this._index;return!!n&&(this._name&&this._removeNamed(),null!=i&&(r._activeLayer===this&&(r._activeLayer=this.getNextSibling()||this.getPreviousSibling()),u.splice(n._children,null,i,1)),this._installEvents(!1),e&&r._changes&&this._changed(5),t&&n._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var t=e&&e.insertBelow(this);return t&&this.remove(),t},removeChildren:function(e,t){if(!this._children)return null;e=e||0,t=u.pick(t,this._children.length);for(var n=u.splice(this._children,null,e,t-e),r=n.length-1;r>=0;r--)n[r]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,t=this._children.length;e<t;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(){var e=this._children;return!e||!e.length},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function getList(e){var t=[];do{t.unshift(e)}while(e=e._parent);return t}for(var t=getList(this),n=getList(e),r=0,i=Math.min(t.length,n.length);r<i;r++)if(t[r]!=n[r])return t[r]._index<n[r]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(e){return-1===this._getOrder(e)},isBelow:function(e){return 1===this._getOrder(e)},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var t=this;t=t._parent;)if(t===e)return!0;return!1},isAncestor:function(e){return!!e&&e.isDescendant(this)},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&e.isDescendant(t))return!0;t=t._parent}return!1}},u.each(["rotate","scale","shear","skew"],function(e){var t="rotate"===e;this[e]=function(){var n=(t?u:y).read(arguments),r=y.read(arguments,0,{readNull:!0});return this.transform((new x)[e](n,r||this.getPosition(!0)))}},{translate:function(){var e=new x;return this.transform(e.translate.apply(e,arguments))},transform:function(e,t,n,r){var i=this._matrix,o=e&&!e.isIdentity(),s=(t||this._applyMatrix)&&(!i.isIdentity()||o||t&&n&&this._children);if(!o&&!s)return this;if(o){!e.isInvertible()&&i.isInvertible()&&(i._backup=i.getValues()),i.prepend(e,!0);var a=this._style,c=a.getFillColor(!0),l=a.getStrokeColor(!0);c&&c.transform(e),l&&l.transform(e)}if(s&&(s=this._transformContent(i,n,r))){var u=this._pivot;u&&i._transformPoint(u,u,!0),i.reset(!0),r&&this._canApplyMatrix&&(this._applyMatrix=!0)}var h=this._bounds,d=this._position;(o||s)&&this._changed(9);var p=o&&h&&e.decompose();if(p&&p.skewing.isZero()&&p.rotation%90==0){for(var f in h){var g=h[f];if(g.nonscaling)delete h[f];else if(s||!g.internal){var m=g.rect;e._transformBounds(m,m)}}this._bounds=h;var v=h[this._getBoundsCacheKey(this._boundsOptions||{})];v&&(this._position=v.rect.getCenter(!0))}else o&&d&&this._pivot&&(this._position=e._transformPoint(d,d));return this},_transformContent:function(e,t,n){var r=this._children;if(r){for(var i=0,o=r.length;i<o;i++)r[i].transform(e,!0,t,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(y.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(y.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(y.read(arguments))},localToParent:function(){return this._matrix._transformPoint(y.read(arguments))},fitBounds:function(e,t){e=C.read(arguments);var n=this.getBounds(),r=n.height/n.width,i=e.height/e.width,o=(t?r>i:r<i)?e.width/n.width:e.height/n.height,s=new C(new y,new b(n.width*o,n.height*o));s.setCenter(e.getCenter()),this.setBounds(s)}}),{_setStyles:function(e,t,n){var r=this._style,i=this._matrix;if(r.hasFill()&&(e.fillStyle=r.getFillColor().toCanvasStyle(e,i)),r.hasStroke()){e.strokeStyle=r.getStrokeColor().toCanvasStyle(e,i),e.lineWidth=r.getStrokeWidth();var s=r.getStrokeJoin(),a=r.getStrokeCap(),c=r.getMiterLimit();if(s&&(e.lineJoin=s),a&&(e.lineCap=a),c&&(e.miterLimit=c),o.support.nativeDash){var l=r.getDashArray(),u=r.getDashOffset();l&&l.length&&("setLineDash"in e?(e.setLineDash(l),e.lineDashOffset=u):(e.mozDash=l,e.mozDashOffset=u))}}if(r.hasShadow()){var h=t.pixelRatio||1,d=n._shiftless().prepend((new x).scale(h,h)),p=d.transform(new y(r.getShadowBlur(),0)),f=d.transform(this.getShadowOffset());e.shadowColor=r.getShadowColor().toCanvasStyle(e),e.shadowBlur=p.getLength(),e.shadowOffsetX=f.x,e.shadowOffsetY=f.y}},draw:function(e,t,n){var r=this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var i=t.matrices,o=t.viewMatrix,s=this._matrix,a=i[i.length-1].appended(s);if(a.isInvertible()){o=o?o.appended(a):a,i.push(a),t.updateMatrix&&(a._updateVersion=r,this._globalMatrix=a);var c,l,u,h=this._blendMode,d=this._opacity,p="normal"===h,f=ae.nativeModes[h],g=p&&1===d||t.dontStart||t.clip||(f||p&&d<1)&&this._canComposite(),m=t.pixelRatio||1;if(!g){var v=this.getStrokeBounds(o);if(!v.width||!v.height)return;u=t.offset,l=t.offset=v.getTopLeft().floor(),c=e,e=se.getContext(v.getSize().ceil().add(1).multiply(m)),1!==m&&e.scale(m,m)}e.save();var y=n?n.appended(s):this._canScaleStroke&&!this.getStrokeScaling(!0)&&o,S=!g&&t.clipItem,b=!y||S;if(g?(e.globalAlpha=d,f&&(e.globalCompositeOperation=h)):b&&e.translate(-l.x,-l.y),b&&(g?s:o).applyToContext(e),S&&t.clipItem.draw(e,t.extend({clip:!0})),y){e.setTransform(m,0,0,m,0,0);var _=t.offset;_&&e.translate(-_.x,-_.y)}this._draw(e,t,o,y),e.restore(),i.pop(),t.clip&&!t.dontFinish&&e.clip(),g||(ae.process(h,e,c,d,l.subtract(u).multiply(m)),se.release(e),t.offset=u)}}},_isUpdated:function(e){var t=this._parent;if(t instanceof U)return t._isUpdated(e);var n=this._updateVersion===e;return!n&&t&&t._visible&&t._isUpdated(e)&&(this._updateVersion=e,n=!0),n},_drawSelection:function(e,t,n,r,i){var o=this._selection,s=1&o,a=2&o||s&&this._selectBounds,c=4&o;if(this._drawSelected||(s=!1),(s||a||c)&&this._isUpdated(i)){var l,u=this.getSelectedColor(!0)||(l=this.getLayer())&&l.getSelectedColor(!0),h=t.appended(this.getGlobalMatrix(!0)),d=n/2;if(e.strokeStyle=e.fillStyle=u?u.toCanvasStyle(e):"#009dec",s&&this._drawSelected(e,h,r),c){var p=this.getPosition(!0),f=p.x,g=p.y;e.beginPath(),e.arc(f,g,d,0,2*Math.PI,!0),e.stroke();for(var m=[[0,-1],[1,0],[0,1],[-1,0]],v=d,y=n+1,S=0;S<4;S++){var b=m[S],_=b[0],C=b[1];e.moveTo(f+_*v,g+C*v),e.lineTo(f+_*y,g+C*y),e.stroke()}}if(a){var w=h._transformCorners(this.getInternalBounds());e.beginPath();for(S=0;S<8;S++)e[S?"lineTo":"moveTo"](w[S],w[++S]);e.closePath(),e.stroke();for(S=0;S<8;S++)e.fillRect(w[S]-d,w[++S]-d,n,n)}}},_canComposite:function(){return!1}},u.each(["down","drag","up","move"],function(e){this["removeOn"+u.capitalize(e)]=function(){var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(e){for(var t in e)if(e[t]){var n="mouse"+t,r=this._project,i=r._removeSets=r._removeSets||{};i[n]=i[n]||{},i[n][this._id]=this}return this}})),E=k.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function Group(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function _changed(e){_changed.base.call(this,e),1026&e&&(this._clipItem=a)},_getClipItem:function(){var e=this._clipItem;if(e===a){e=null;for(var t=this._children,n=0,r=t.length;n<r;n++)if(t[n]._clipMask){e=t[n];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var t=this.getFirstChild();t&&t.setClipMask(e)},_getBounds:function _getBounds(e,t){var n=this._getClipItem();return n?n._getCachedBounds(e&&e.appended(n._matrix),u.set({},t,{stroke:!1})):_getBounds.base.call(this,e,t)},_hitTestChildren:function _hitTestChildren(e,t,n){var r=this._getClipItem();return(!r||r.contains(e))&&_hitTestChildren.base.call(this,e,t,n,r)},_draw:function(e,t){var n=t.clip,r=!n&&this._getClipItem();t=t.extend({clipItem:r,clip:!1}),n?(e.beginPath(),t.dontStart=t.dontFinish=!0):r&&r.draw(e,t.extend({clip:!0}));for(var i=this._children,o=0,s=i.length;o<s;o++){var a=i[o];a!==r&&a.draw(e,t)}}}),O=E.extend({_class:"Layer",initialize:function Layer(){E.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function isInserted(){return this._parent?isInserted.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),M=k.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function Shape(e,t){this._initialize(e,t)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&u.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new _(e.width,e.height,this,"setSize")},setSize:function(){var e=b.read(arguments);if(this._size){if(!this._size.equals(e)){var t=this._type,n=e.width,r=e.height;"rectangle"===t?this._radius.set(b.min(this._radius,e.divide(2))):"circle"===t?(n=r=(n+r)/2,this._radius=n/2):"ellipse"===t&&this._radius._set(n/2,r/2),this._size._set(n,r),this._changed(9)}}else this._size=e.clone()},getRadius:function(){var e=this._radius;return"circle"===this._type?e:new _(e.width,e.height,this,"setRadius")},setRadius:function(e){var t=this._type;if("circle"===t){if(e===this._radius)return;var n=2*e;this._radius=e,this._size._set(n,n)}else if(e=b.read(arguments),this._radius){if(this._radius.equals(e))return;if(this._radius.set(e),"rectangle"===t){n=b.max(this._size,e.multiply(2));this._size.set(n)}else"ellipse"===t&&this._size._set(2*e.width,2*e.height)}else this._radius=e.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var t=new(z[u.capitalize(this._type)])({center:new y,size:this._size,radius:this._radius,insert:!1});return t.copyAttributes(this),o.settings.applyMatrix&&t.setApplyMatrix(!0),(e===a||e)&&t.insertAbove(this),t},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,t,n,r){var i=this._style,o=i.hasFill(),s=i.hasStroke(),a=t.dontFinish||t.clip,c=!r;if(o||s||a){var l=this._type,u=this._radius,h="circle"===l;if(t.dontStart||e.beginPath(),c&&h)e.arc(0,0,u,0,2*Math.PI,!0);else{var d=h?u:u.width,p=h?u:u.height,f=this._size,g=f.width,m=f.height;if(c&&"rectangle"===l&&0===d&&0===p)e.rect(-g/2,-m/2,g,m);else{var v=g/2,y=m/2,S=.44771525016920644,b=d*S,_=p*S,C=[-v,-y+p,-v,-y+_,-v+b,-y,-v+d,-y,v-d,-y,v-b,-y,v,-y+_,v,-y+p,v,y-p,v,y-_,v-b,y,v-d,y,-v+d,y,-v+b,y,-v,y-_,-v,y-p];r&&r.transform(C,C,32),e.moveTo(C[0],C[1]),e.bezierCurveTo(C[2],C[3],C[4],C[5],C[6],C[7]),v!==d&&e.lineTo(C[8],C[9]),e.bezierCurveTo(C[10],C[11],C[12],C[13],C[14],C[15]),y!==p&&e.lineTo(C[16],C[17]),e.bezierCurveTo(C[18],C[19],C[20],C[21],C[22],C[23]),v!==d&&e.lineTo(C[24],C[25]),e.bezierCurveTo(C[26],C[27],C[28],C[29],C[30],C[31])}}e.closePath()}a||!o&&!s||(this._setStyles(e,t,n),o&&(e.fill(i.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),s&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,t){var n=new C(this._size).setCenter(0,0),r=this._style,i=t.stroke&&r.hasStroke()&&r.getStrokeWidth();return e&&(n=e._transformBounds(n)),i?n.expand(z._getStrokePadding(i,this._getStrokeMatrix(e,t))):n}},new function(){function getCornerCenter(e,t,n){var r=e._radius;if(!r.isZero())for(var i=e._size.divide(2),o=1;o<=4;o++){var s=new y(o>1&&o<4?-1:1,o>2?-1:1),a=s.multiply(i),c=a.subtract(s.multiply(r));if(new C(n?a.add(s.multiply(n)):a,c).contains(t))return{point:c,quadrant:o}}}function isOnEllipseStroke(e,t,n,r){var i=e.divide(t);return(!r||i.isInQuadrant(r))&&i.subtract(i.normalize()).multiply(t).divide(n).length<=1}return{_contains:function _contains(e){if("rectangle"===this._type){var t=getCornerCenter(this,e);return t?e.subtract(t.point).divide(this._radius).getLength()<=1:_contains.base.call(this,e)}return e.divide(this.size).getLength()<=.5},_hitTestSelf:function _hitTestSelf(e,t,n,r){var i=!1,o=this._style,s=t.stroke&&o.hasStroke(),a=t.fill&&o.hasFill();if(s||a){var c=this._type,l=this._radius,u=s?o.getStrokeWidth()/2:0,h=t._tolerancePadding.add(z._getStrokePadding(u,!o.getStrokeScaling()&&r));if("rectangle"===c){var d=h.multiply(2),p=getCornerCenter(this,e,d);if(p)i=isOnEllipseStroke(e.subtract(p.point),l,h,p.quadrant);else{var f=new C(this._size).setCenter(0,0),g=f.expand(d),m=f.expand(d.negate());i=g._containsPoint(e)&&!m._containsPoint(e)}}else i=isOnEllipseStroke(e,l,h)}return i?new R(s?"stroke":"fill",this):_hitTestSelf.base.apply(this,arguments)}}},{statics:new function(){function createShape(e,t,n,r,i){var o=new M(u.getNamed(i),t);return o._type=e,o._size=n,o._radius=r,o}return{Circle:function(){var e=y.readNamed(arguments,"center"),t=u.readNamed(arguments,"radius");return createShape("circle",e,new b(2*t),t,arguments)},Rectangle:function(){var e=C.readNamed(arguments,"rectangle"),t=b.min(b.readNamed(arguments,"radius"),e.getSize(!0).divide(2));return createShape("rectangle",e.getCenter(!0),e.getSize(!0),t,arguments)},Ellipse:function(){var e=M._readEllipse(arguments),t=e.radius;return createShape("ellipse",e.center,t.multiply(2),t,arguments)},_readEllipse:function(e){var t,n;if(u.hasNamed(e,"radius"))t=y.readNamed(e,"center"),n=b.readNamed(e,"radius");else{var r=C.readNamed(e,"rectangle");t=r.getCenter(!0),n=r.getSize(!0).divide(2)}return{center:t,radius:n}}}}}),F=k.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],initialize:function Raster(e,t){if(!this._initialize(e,t!==a&&y.read(arguments,1))){var n="string"==typeof e?l.getElementById(e):e;n?this.setImage(n):this.setSource(e)}this._size||(this._size=new b,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var t=e._image,n=e._canvas;if(t)this._setImage(t);else if(n){var r=se.getCanvas(e._size);r.getContext("2d").drawImage(n,0,0),this._setImage(r)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new _(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(){var e=b.read(arguments);if(!e.equals(this._size))if(e.width>0&&e.height>0){var t=this.getElement();this._setImage(se.getCanvas(e)),t&&this.getContext(!0).drawImage(t,0,0,e.width,e.height)}else this._canvas&&se.release(this._canvas),this._size=e.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||0===e.width&&0===e.height},getResolution:function(){var e=this._matrix,t=new y(0,0).transform(e),n=new y(1,0).transform(e).subtract(t),r=new y(0,1).transform(e).subtract(t);return new b(72/n.getLength(),72/r.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var t=this;function emit(e){var n=t.getView(),r=e&&e.type||"load";n&&t.responds(r)&&(o=n._scope,t.emit(r,new ee(e)))}this._setImage(e),this._loaded?setTimeout(emit,0):e&&J.add(e,{load:function(n){t._setImage(e),emit(n)},error:emit})},_setImage:function(e){this._canvas&&se.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new b(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(521)},getCanvas:function(){if(!this._canvas){var e=se.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch(t){se.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(513)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var t=new s.Image,n=this._crossOrigin;n&&(t.crossOrigin=n),t.src=e,this.setImage(t)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var t=this._image;t&&(t.crossOrigin=e)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=C.read(arguments),t=se.getContext(e.getSize());return t.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),t.canvas},getSubRaster:function(){var e=C.read(arguments),t=new F(k.NO_INSERT);return t._setImage(this.getSubCanvas(e)),t.translate(e.getCenter().subtract(this.getSize().divide(2))),t._matrix.prepend(this._matrix),t.insertAbove(this),t},toDataURL:function(){var e=this._image,t=e&&e.src;if(/^data:/.test(t))return t;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(e){var t=y.read(arguments,1);this.getContext(!0).drawImage(e,t.x,t.y)},getAverageColor:function(e){var t,n;if(e?e instanceof j?(n=e,t=e.getBounds()):"object"==typeof e&&("width"in e?t=new C(e):"x"in e&&(t=new C(e.x-.5,e.y-.5,1,1))):t=this.getBounds(),!t)return null;var r=Math.min(t.width,32),i=Math.min(t.height,32),o=F._sampleContext;o?o.clearRect(0,0,33,33):o=F._sampleContext=se.getContext(new b(32)),o.save();var s=(new x).scale(r/t.width,i/t.height).translate(-t.x,-t.y);s.applyToContext(o),n&&n.draw(o,new u({clip:!0,matrices:[s]})),this._matrix.applyToContext(o);var a=this.getElement(),c=this._size;a&&o.drawImage(a,-c.width/2,-c.height/2),o.restore();for(var l=o.getImageData(.5,.5,Math.ceil(r),Math.ceil(i)).data,h=[0,0,0],d=0,p=0,f=l.length;p<f;p+=4){var g=l[p+3];d+=g,g/=255,h[0]+=l[p]*g,h[1]+=l[p+1]*g,h[2]+=l[p+2]*g}for(p=0;p<3;p++)h[p]/=d;return d?q.read(h):null},getPixel:function(){var e=y.read(arguments),t=this.getContext().getImageData(e.x,e.y,1,1).data;return new q("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var e=y.read(arguments),t=q.read(arguments),n=t._convert("rgb"),r=t._alpha,i=this.getContext(!0),o=i.createImageData(1,1),s=o.data;s[0]=255*n[0],s[1]=255*n[1],s[2]=255*n[2],s[3]=null!=r?255*r:255,i.putImageData(o,e.x,e.y)},createImageData:function(){var e=b.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=C.read(arguments);return e.isEmpty()&&(e=new C(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},setImageData:function(e){var t=y.read(arguments,1);this.getContext(!0).putImageData(e,t.x,t.y)},_getBounds:function(e,t){var n=new C(this._size).setCenter(0,0);return e?e._transformBounds(n):n},_hitTestSelf:function(e){if(this._contains(e)){var t=this;return new R("pixel",t,{offset:e.add(t._size.divide(2)).round(),color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(e){var t=this.getElement();t&&(e.globalAlpha=this._opacity,e.drawImage(t,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),D=k.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function SymbolItem(e,t){this._initialize(e,t!==a&&y.read(arguments,1))||this.setDefinition(e instanceof I?e:new I(e))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,t){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(e),t)},_hitTestSelf:function(e,t,n){var r=this._definition._item._hitTest(e,t,n);return r&&(r.item=this),r},_draw:function(e,t){this._definition._item.draw(e,t)}}),I=u.extend({_class:"SymbolDefinition",initialize:function SymbolDefinition(e,t){this._id=v.get(),this.project=o.project,e&&this.setItem(e,t)},_serialize:function(e,t){return t.add(this,function(){return u.serialize([this._class,this._item],e,!1,t)})},_changed:function(e){8&e&&k._clearBoundsCache(this),1&e&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,t){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),this._item=e,e.remove(),e.setSelected(!1),t||e.setPosition(new y),e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new D(this,e)},clone:function(){return new I(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),R=u.extend({_class:"HitResult",initialize:function HitResult(e,t,n){this.type=e,this.item=t,n&&this.inject(n)},statics:{getOptions:function(e){var t=e&&u.read(e);return u.set({type:null,tolerance:o.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),N=u.extend({_class:"Segment",beans:!0,_selection:0,initialize:function Segment(e,t,n,r,i,o){var s,c,l,u,h=arguments.length;h>0&&(null==e||"object"==typeof e?1===h&&e&&"point"in e?(s=e.point,c=e.handleIn,l=e.handleOut,u=e.selection):(s=e,c=t,l=n,u=r):(s=[e,t],c=n!==a?[n,r]:null,l=i!==a?[i,o]:null)),new A(s,this,"_point"),new A(c,this,"_handleIn"),new A(l,this,"_handleOut"),u&&this.setSelection(u)},_serialize:function(e,t){var n=this._point,r=this._selection,i=r||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return r&&i.push(r),u.serialize(i,e,!0,t)},_changed:function(e){var t=this._path;if(t){var n,r=t._curves,i=this._index;r&&(e&&e!==this._point&&e!==this._handleIn||!(n=i>0?r[i-1]:t._closed?r[r.length-1]:null)||n._changed(),e&&e!==this._point&&e!==this._handleOut||!(n=r[i])||n._changed()),t._changed(25)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(y.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(y.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(y.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,t=this._handleOut;return!e.isZero()&&!t.isZero()&&e.isCollinear(t)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var t=this._selection,n=this._path;this._selection=e=e||0,n&&e!==t&&(n._updateSelection(this,t,e),n._changed(129))},_changeSelection:function(e,t){var n=this._selection;this.setSelection(t?n|e:n&~e)},isSelected:function(){return!!(7&this._selection)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==a?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,t=this._index;return e?(t>0&&!e._closed&&t===e._segments.length-1&&t--,e.getCurves()[t]||null):null},getLocation:function(){var e=this.getCurve();return e?new L(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,t,n){var r=e||{},i=r.type,o=r.factor,s=this.getPrevious(),c=this.getNext(),l=(s||this)._point,u=this._point,h=(c||this)._point,d=l.getDistance(u),p=u.getDistance(h);if(i&&"catmull-rom"!==i){if("geometric"!==i)throw new Error("Smoothing method '"+i+"' not supported.");if(s&&c){var f=l.subtract(h),g=o===a?.4:o,m=g*d/(d+p);t||this.setHandleIn(f.multiply(m)),n||this.setHandleOut(f.multiply(m-g))}}else{var v=o===a?.5:o,S=Math.pow(d,v),b=S*S,_=Math.pow(p,v),C=_*_;if(!t&&s){var w=2*C+3*_*S+b,x=3*_*(_+S);this.setHandleIn(0!==x?new y((C*l._x+w*u._x-b*h._x)/x-u._x,(C*l._y+w*u._y-b*h._y)/x-u._y):new y)}if(!n&&c){w=2*b+3*S*_+C,x=3*S*(S+_);this.setHandleOut(0!==x?new y((b*h._x+w*u._x-C*l._x)/x-u._x,(b*h._y+w*u._y-C*l._y)/x-u._y):new y)}}},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,t=this._handleOut,n=e.clone();e.set(t),t.set(n)},reversed:function(){return new N(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new N(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,t,n){var r=1-n,i=n,o=e._point,s=t._point,a=e._handleIn,c=t._handleIn,l=t._handleOut,u=e._handleOut;this._point._set(r*o._x+i*s._x,r*o._y+i*s._y,!0),this._handleIn._set(r*a._x+i*c._x,r*a._y+i*c._y,!0),this._handleOut._set(r*u._x+i*l._x,r*u._y+i*l._y,!0),this._changed()},_transformCoordinates:function(e,t,n){var r=this._point,i=n&&this._handleIn.isZero()?null:this._handleIn,o=n&&this._handleOut.isZero()?null:this._handleOut,s=r._x,a=r._y,c=2;return t[0]=s,t[1]=a,i&&(t[c++]=i._x+s,t[c++]=i._y+a),o&&(t[c++]=o._x+s,t[c++]=o._y+a),e&&(e._transformCoordinates(t,t,c/2),s=t[0],a=t[1],n?(r._x=s,r._y=a,c=2,i&&(i._x=t[c++]-s,i._y=t[c++]-a),o&&(o._x=t[c++]-s,o._y=t[c++]-a)):(i||(t[c++]=s,t[c++]=a),o||(t[c++]=s,t[c++]=a))),t}}),A=y.extend({initialize:function SegmentPoint(e,t,n){var r,i,o;if(e)if((r=e[0])!==a)i=e[1];else{var s=e;(r=s.x)===a&&(r=(s=y.read(arguments)).x),i=s.y,o=s.selected}else r=i=0;this._x=r,this._y=i,this._owner=t,t[n]=this,o&&this.setSelected(!0)},_set:function(e,t){return this._x=e,this._y=t,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=m.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),B=u.extend({_class:"Curve",beans:!0,initialize:function Curve(e,t,n,r,i,o,s,a){var c,l,u,h,d,p,f=arguments.length;3===f?(this._path=e,c=t,l=n):f?1===f?"segment1"in e?(c=new N(e.segment1),l=new N(e.segment2)):"point1"in e?(u=e.point1,d=e.handle1,p=e.handle2,h=e.point2):Array.isArray(e)&&(u=[e[0],e[1]],h=[e[6],e[7]],d=[e[2]-e[0],e[3]-e[1]],p=[e[4]-e[6],e[5]-e[7]]):2===f?(c=new N(e),l=new N(t)):4===f?(u=e,d=t,p=n,h=r):8===f&&(u=[e,t],h=[s,a],d=[n-e,r-t],p=[i-s,o-a]):(c=new N,l=new N),this._segment1=c||new N(u,null,d),this._segment2=l||new N(h,p,null)},_serialize:function(e,t){return u.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,t)},_changed:function(){this._length=this._bounds=a},clone:function(){return new B(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return B.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var t=this._segment2,n=t._handleOut;(e=t.remove())&&this._segment1._handleOut.set(n)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(y.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(y.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(y.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(y.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return B.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),t=[],n=0;n<8;n+=2)t.push(new y(e[n],e[n+1]));return t}},{getLength:function(){return null==this._length&&(this._length=B.getLength(this.getValues(),0,1)),this._length},getArea:function(){return B.getArea(this.getValues())},getLine:function(){return new P(this._segment1._point,this._segment2._point)},getPart:function(e,t){return new B(B.getPart(this.getValues(),e,t))},getPartLength:function(e,t){return B.getLength(this.getValues(),e,t)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,t){var n=null;if(e>=1e-8&&e<=1-1e-8){var r=B.subdivide(this.getValues(),e),i=r[0],o=r[1],s=t||this.hasHandles(),a=this._segment1,c=this._segment2,l=this._path;s&&(a._handleOut._set(i[2]-i[0],i[3]-i[1]),c._handleIn._set(o[4]-o[6],o[5]-o[7]));var u=i[6],h=i[7],d=new N(new y(u,h),s&&new y(i[4]-u,i[5]-h),s&&new y(o[2]-u,o[3]-h));l?(l.insert(a._index+1,d),n=this.getNext()):(this._segment2=d,this._changed(),n=new B(d,c))}return n},splitAt:function(e){var t=this._path;return t?t.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,t){return this.divideAtTime(e===a?.5:t?e:this.getTimeAt(e))},split:function(e,t){return this.splitAtTime(e===a?.5:t?e:this.getTimeAt(e))},reversed:function(){return new B(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,t,n,r){var i=e._point,o=e._handleOut,s=t._handleIn,a=t._point,c=i.x,l=i.y,u=a.x,h=a.y,d=r?[c,l,c,l,u,h,u,h]:[c,l,c+o._x,l+o._y,u+s._x,h+s._y,u,h];return n&&n._transformCoordinates(d,d,4),d},subdivide:function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],c=e[5],l=e[6],u=e[7];t===a&&(t=.5);var h=1-t,d=h*n+t*i,p=h*r+t*o,f=h*i+t*s,g=h*o+t*c,m=h*s+t*l,v=h*c+t*u,y=h*d+t*f,S=h*p+t*g,b=h*f+t*m,_=h*g+t*v,C=h*y+t*b,w=h*S+t*_;return[[n,r,d,p,y,S,C,w],[C,w,b,_,m,v,l,u]]},getMonoCurves:function(e,t){var n=[],r=t?0:1,i=e[r+0],o=e[r+2],s=e[r+4],a=e[r+6];if(i>=o==o>=s&&o>=s==s>=a||B.isStraight(e))n.push(e);else{var c=3*(o-s)-i+a,l=2*(i+s)-4*o,u=o-i,h=[],d=m.solveQuadratic(c,l,u,h,1e-8,1-1e-8);if(d){h.sort();var p=h[0],f=B.subdivide(e,p);n.push(f[0]),d>1&&(p=(h[1]-p)/(1-p),f=B.subdivide(f[1],p),n.push(f[0])),n.push(f[1])}else n.push(e)}return n},solveCubic:function(e,t,n,r,i,o){var s=e[t],a=e[t+2],c=e[t+4],l=e[t+6],u=0;if(!(s<n&&l<n&&a<n&&c<n||s>n&&l>n&&a>n&&c>n)){var h=3*(a-s),d=3*(c-a)-h,p=l-s-h-d;u=m.solveCubic(p,d,h,s-n,r,i,o)}return u},getTimeOf:function(e,t){var n=new y(e[0],e[1]),r=new y(e[6],e[7]);if(null===(t.isClose(n,1e-12)?0:t.isClose(r,1e-12)?1:null))for(var i=[t.x,t.y],o=[],s=0;s<2;s++)for(var a=B.solveCubic(e,s,i[s],o,0,1),c=0;c<a;c++){var l=o[c];if(t.isClose(B.getPoint(e,l),1e-7))return l}return t.isClose(n,1e-7)?0:t.isClose(r,1e-7)?1:null},getNearestTime:function(e,t){if(B.isStraight(e)){var n=e[0],r=e[1],i=e[6]-n,o=e[7]-r,s=i*i+o*o;if(0===s)return 0;var a=((t.x-n)*i+(t.y-r)*o)/s;return a<1e-12?0:a>.999999999999?1:B.getTimeOf(e,new y(n+a*i,r+a*o))}var c=1/0,l=0;function refine(n){if(n>=0&&n<=1){var r=t.getDistance(B.getPoint(e,n),!0);if(r<c)return c=r,l=n,!0}}for(var u=0;u<=100;u++)refine(u/100);for(var h=.005;h>1e-8;)refine(l-h)||refine(l+h)||(h/=2);return l},getPart:function(e,t,n){var r=t>n;if(r){var i=t;t=n,n=i}return t>0&&(e=B.subdivide(e,t)[1]),n<1&&(e=B.subdivide(e,(n-t)/(1-t))[0]),r?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],u=3*i-2*n-c,h=3*o-2*r-l,d=3*s-2*c-n,p=3*a-2*l-r;return Math.max(u*u,d*d)+Math.max(h*h,p*p)<=16*t*t},getArea:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],c=e[7];return 3*((c-n)*(r+o)-(a-t)*(i+s)+i*(t-o)-r*(n-s)+c*(o+t/3)-a*(s+n/3))/20},getBounds:function(e){for(var t=e.slice(0,2),n=t.slice(),r=[0,0],i=0;i<2;i++)B._addBounds(e[i],e[i+2],e[i+4],e[i+6],i,0,t,n,r);return new C(t[0],t[1],n[0]-t[0],n[1]-t[1])},_addBounds:function(e,t,n,r,i,o,s,a,c){function add(e,t){var n=e-t,r=e+t;n<s[i]&&(s[i]=n),r>a[i]&&(a[i]=r)}o/=2;var l=s[i]-o,u=a[i]+o;if(e<l||t<l||n<l||r<l||e>u||t>u||n>u||r>u)if(t<e!=t<r&&n<e!=n<r)add(e,o),add(r,o);else{var h=3*(t-n)-e+r,d=2*(e+n)-4*t,p=t-e,f=m.solveQuadratic(h,d,p,c);add(r,0);for(var g=0;g<f;g++){var v=c[g],y=1-v;1e-8<=v&&v<=1-1e-8&&add(y*y*y*e+3*y*y*v*t+3*y*v*v*n+v*v*v*r,o)}}}}},u.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var t=this._bounds[e];return t||(t=this._bounds[e]=z[e]([this._segment1,this._segment2],!1,this._path)),t.clone()}},{}),u.each({isStraight:function(e,t,n,r){if(t.isZero()&&n.isZero())return!0;var i=r.subtract(e);if(i.isZero())return!1;if(i.isCollinear(t)&&i.isCollinear(n)){var o=new P(e,r);if(o.getDistance(e.add(t))<1e-7&&o.getDistance(r.add(n))<1e-7){var s=i.dot(i),a=i.dot(t)/s,c=i.dot(n)/s;return a>=0&&a<=1&&c<=0&&c>=-1}}return!1},isLinear:function(e,t,n,r){var i=r.subtract(e).divide(3);return t.equals(i)&&n.negate().equals(i)}},function(e,t){this[t]=function(t){var n=this._segment1,r=this._segment2;return e(n._point,n._handleOut,r._handleIn,r._point,t)},this.statics[t]=function(t,n){var r=t[0],i=t[1],o=t[6],s=t[7];return e(new y(r,i),new y(t[2]-r,t[3]-i),new y(t[4]-o,t[5]-s),new y(o,s),n)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,t){return this.getLocationAtTime(t?e:this.getTimeAt(e))},getLocationAtTime:function(e){return null!=e&&e>=0&&e<=1?new L(this,e):null},getTimeAt:function(e,t){return B.getTimeAt(this.getValues(),e,t)},getParameterAt:"#getTimeAt",getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(y.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return B.getTimeOf(this.getValues(),y.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=y.read(arguments),t=this.getValues(),n=B.getNearestTime(t,e),r=B.getPoint(t,n);return new L(this,n,r,null,e.getDistance(r))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e?e.getPoint():e}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return u.each(e,function(e){this[e+"At"]=function(t,n){var r=this.getValues();return B[e](r,n?t:B.getTimeAt(r,t))},this[e+"AtTime"]=function(t){return B[e](this.getValues(),t)}},{statics:{_evaluateMethods:e}})},new function(){function getLengthIntegrand(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],c=e[7],l=9*(r-o)+3*(a-t),u=6*(t+o)-12*r,h=3*(r-t),d=9*(i-s)+3*(c-n),p=6*(n+s)-12*i,f=3*(i-n);return function(e){var t=(l*e+u)*e+h,n=(d*e+p)*e+f;return Math.sqrt(t*t+n*n)}}function getIterations(e,t){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(t-e))))}function evaluate(e,t,n,r){if(null==t||t<0||t>1)return null;var i=e[0],o=e[1],s=e[2],a=e[3],c=e[4],l=e[5],u=e[6],h=e[7],d=m.isZero;d(s-i)&&d(a-o)&&(s=i,a=o),d(c-u)&&d(l-h)&&(c=u,l=h);var p,f,g=3*(s-i),v=3*(c-s)-g,S=u-i-g-v,b=3*(a-o),_=3*(l-a)-b,C=h-o-b-_;if(0===n)p=0===t?i:1===t?u:((S*t+v)*t+g)*t+i,f=0===t?o:1===t?h:((C*t+_)*t+b)*t+o;else{if(t<1e-8?(p=g,f=b):t>1-1e-8?(p=3*(u-c),f=3*(h-l)):(p=(3*S*t+2*v)*t+g,f=(3*C*t+2*_)*t+b),r){0===p&&0===f&&(t<1e-8||t>1-1e-8)&&(p=c-s,f=l-a);var w=Math.sqrt(p*p+f*f);w&&(p/=w,f/=w)}if(3===n){c=6*S*t+2*v,l=6*C*t+2*_;var x=Math.pow(p*p+f*f,1.5);p=0!==x?(p*l-f*c)/x:0,f=0}}return 2===n?new y(f,-p):new y(p,f)}return{statics:{classify:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],c=e[6],l=e[7],u=r*(n-l)+i*(c-t)+t*l-n*c,h=3*(o*(i-n)+s*(t-r)+r*n-i*t),d=h-u,p=d-u+(t*(l-s)+n*(o-c)+c*s-l*o),f=Math.sqrt(p*p+d*d+h*h),g=0!==f?1/f:0,v=m.isZero;function type(e,t,n){var r=t!==a,i=r&&t>0&&t<1,o=r&&n>0&&n<1;return!r||(i||o)&&("loop"!==e||i&&o)||(e="arch",i=o=!1),{type:e,roots:i||o?i&&o?t<n?[t,n]:[n,t]:[i?t:n]:null}}if(d*=g,h*=g,v(p*=g))return v(d)?type(v(h)?"line":"quadratic"):type("serpentine",h/(3*d));var y=3*d*d-4*p*h;if(v(y))return type("cusp",d/(2*p));var S=y>0?Math.sqrt(y/3):Math.sqrt(-y),b=2*p;return type(y>0?"serpentine":"loop",(d+S)/b,(d-S)/b)},getLength:function(e,t,n,r){if(t===a&&(t=0),n===a&&(n=1),B.isStraight(e)){var i=e;n<1&&(i=B.subdivide(i,n)[0],t/=n),t>0&&(i=B.subdivide(i,t)[1]);var o=i[6]-i[0],s=i[7]-i[1];return Math.sqrt(o*o+s*s)}return m.integrate(r||getLengthIntegrand(e),t,n,getIterations(t,n))},getTimeAt:function(e,t,n){if(n===a&&(n=t<0?1:0),0===t)return n;var r=Math.abs,i=t>0,o=i?n:0,s=i?1:n,c=getLengthIntegrand(e),l=B.getLength(e,o,s,c),u=r(t)-l;if(r(u)<1e-12)return i?s:o;if(u>1e-12)return null;var h=t/l,d=0;return m.findRoot(function f(e){return d+=m.integrate(c,n,e,getIterations(n,e)),n=e,d-t},c,n+h,o,s,32,1e-12)},getPoint:function(e,t){return evaluate(e,t,0,!1)},getTangent:function(e,t){return evaluate(e,t,1,!0)},getWeightedTangent:function(e,t){return evaluate(e,t,1,!1)},getNormal:function(e,t){return evaluate(e,t,2,!0)},getWeightedNormal:function(e,t){return evaluate(e,t,2,!1)},getCurvature:function(e,t){return evaluate(e,t,3,!1).x},getPeaks:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=3*r-t-3*o+e[6],c=3*t-6*r+3*o,l=-3*t+3*r,u=3*i-n-3*s+e[7],h=3*n-6*i+3*s,d=-3*n+3*i,p=[];return m.solveCubic(9*(a*a+u*u),9*(a*c+h*u),2*(c*c+h*h)+3*(l*a+d*u),l*c+h*d,p,1e-8,1-1e-8),p.sort()}}}},new function(){function addLocation(e,t,n,r,i,o,s){var a=!s&&n.getPrevious()===i,c=!s&&n!==i&&n.getNext()===i;if(null!==r&&r>=(a?1e-8:0)&&r<=(c?1-1e-8:1)&&null!==o&&o>=(c?1e-8:0)&&o<=(a?1-1e-8:1)){var l=new L(n,r,null,s),u=new L(i,o,null,s);l._intersection=u,u._intersection=l,t&&!t(l)||L.insert(e,l,!0)}}function clipConvexHull(e,t,n,r){return e[0][1]<n?clipConvexHullPart(e,!0,n):t[0][1]>r?clipConvexHullPart(t,!1,r):e[0][0]}function clipConvexHullPart(e,t,n){for(var r=e[0][0],i=e[0][1],o=1,s=e.length;o<s;o++){var a=e[o][0],c=e[o][1];if(t?c>=n:c<=n)return c===n?a:r+(n-i)*(a-r)/(c-i);r=a,i=c}return null}function getCurveLineIntersections(e,t,n,r,i){var o=m.isZero;if(o(r)&&o(i)){var s=B.getTimeOf(e,new y(t,n));return null===s?[]:[s]}for(var a=Math.atan2(-i,r),c=Math.sin(a),l=Math.cos(a),u=[],h=[],d=0;d<8;d+=2){var p=e[d]-t,f=e[d+1]-n;u.push(p*l-f*c,p*c+f*l)}return B.solveCubic(u,1,0,h,0,1),h}function getCurveIntersections(e,t,n,r,i,o){var s=Math.min,a=Math.max;if(a(e[0],e[2],e[4],e[6])+1e-12>s(t[0],t[2],t[4],t[6])&&s(e[0],e[2],e[4],e[6])-1e-12<a(t[0],t[2],t[4],t[6])&&a(e[1],e[3],e[5],e[7])+1e-12>s(t[1],t[3],t[5],t[7])&&s(e[1],e[3],e[5],e[7])-1e-12<a(t[1],t[3],t[5],t[7])){var c=getOverlaps(e,t);if(c)for(var l=0;l<2;l++){var u=c[l];addLocation(i,o,n,u[0],r,u[1],!0)}else{var h=B.isStraight(e),d=B.isStraight(t),p=h&&d,f=h&&!d,g=i.length;if((p?function addLineIntersection(e,t,n,r,i,o){var s=P.intersect(e[0],e[1],e[6],e[7],t[0],t[1],t[6],t[7]);s&&addLocation(i,o,n,B.getTimeOf(e,s),r,B.getTimeOf(t,s))}:h||d?function addCurveLineIntersections(e,t,n,r,i,o,s){for(var a=t[0],c=t[1],l=getCurveLineIntersections(e,a,c,t[6]-a,t[7]-c),u=0,h=l.length;u<h;u++){var d=l[u],p=B.getPoint(e,d),f=B.getTimeOf(t,p);null!==f&&addLocation(i,o,s?r:n,s?f:d,s?n:r,s?d:f)}}:function addCurveIntersections(e,t,n,r,i,o,s,a,c,l,u,h,d){if(++c>=4096||++a>=40)return c;var p,f,g=t[0],m=t[1],v=t[6],y=t[7],S=P.getSignedDistance,b=S(g,m,v,y,t[2],t[3]),_=S(g,m,v,y,t[4],t[5]),C=b*_>0?.75:4/9,w=C*Math.min(0,b,_),x=C*Math.max(0,b,_),T=S(g,m,v,y,e[0],e[1]),k=S(g,m,v,y,e[2],e[3]),E=S(g,m,v,y,e[4],e[5]),O=S(g,m,v,y,e[6],e[7]),M=function getConvexHull(e,t,n,r){var i,o=[0,e],s=[1/3,t],a=[2/3,n],c=[1,r],l=t-(2*e+r)/3,u=n-(e+2*r)/3;if(l*u<0)i=[[o,s,c],[o,a,c]];else{var h=l/u;i=[h>=2?[o,s,c]:h<=.5?[o,a,c]:[o,s,a,c],[o,c]]}return(l||u)<0?i.reverse():i}(T,k,E,O),F=M[0],D=M[1];if(0===b&&0===_&&0===T&&0===k&&0===E&&0===O||null==(p=clipConvexHull(F,D,w,x))||null==(f=clipConvexHull(F.reverse(),D.reverse(),w,x)))return c;var I=l+(u-l)*p,R=l+(u-l)*f;if(Math.max(d-h,R-I)<1e-9){var N=(I+R)/2,A=(h+d)/2;addLocation(i,o,s?r:n,s?A:N,s?n:r,s?N:A)}else if(e=B.getPart(e,p,f),f-p>.8)if(R-I>d-h)N=(I+R)/2,c=addCurveIntersections(t,(L=B.subdivide(e,.5))[0],r,n,i,o,!s,a,c,h,d,I,N),c=addCurveIntersections(t,L[1],r,n,i,o,!s,a,c,h,d,N,R);else{var L;A=(h+d)/2,c=addCurveIntersections((L=B.subdivide(t,.5))[0],e,r,n,i,o,!s,a,c,h,A,I,R),c=addCurveIntersections(L[1],e,r,n,i,o,!s,a,c,A,d,I,R)}else c=d-h>=1e-9?addCurveIntersections(t,e,r,n,i,o,!s,a,c,h,d,I,R):addCurveIntersections(e,t,n,r,i,o,s,a,c,I,R,h,d);return c})(f?t:e,f?e:t,f?r:n,f?n:r,i,o,f,0,0,0,1,0,1),!p||i.length===g)for(l=0;l<4;l++){var m=l>>1,v=1&l,S=6*m,b=6*v,_=new y(e[S],e[S+1]),C=new y(t[b],t[b+1]);_.isClose(C,1e-12)&&addLocation(i,o,n,m,r,v)}}}return i}function getLoopIntersection(e,t,n,r){var i=B.classify(e);if("loop"===i.type){var o=i.roots;addLocation(n,r,t,o[0],t,o[1])}return n}function getOverlaps(e,t){function getSquaredLineLength(e){var t=e[6]-e[0],n=e[7]-e[1];return t*t+n*n}var n=Math.abs,r=P.getDistance,i=B.isStraight(e),o=B.isStraight(t),s=i&&o,a=getSquaredLineLength(e)<getSquaredLineLength(t),c=a?t:e,l=a?e:t,u=c[0],h=c[1],d=c[6]-u,p=c[7]-h;if(r(u,h,d,p,l[0],l[1],!0)<1e-7&&r(u,h,d,p,l[6],l[7],!0)<1e-7)!s&&r(u,h,d,p,c[2],c[3],!0)<1e-7&&r(u,h,d,p,c[4],c[5],!0)<1e-7&&r(u,h,d,p,l[2],l[3],!0)<1e-7&&r(u,h,d,p,l[4],l[5],!0)<1e-7&&(i=o=s=!0);else if(s)return null;if(i^o)return null;for(var f=[e,t],g=[],m=0;m<4&&g.length<2;m++){var v=1&m,S=1^v,b=m>>1,_=B.getTimeOf(f[v],new y(f[S][b?6:0],f[S][b?7:1]));if(null!=_){var C=v?[b,_]:[_,b];(!g.length||n(C[0]-g[0][0])>1e-8&&n(C[1]-g[0][1])>1e-8)&&g.push(C)}if(m>2&&!g.length)break}if(2!==g.length)g=null;else if(!s){var w=B.getPart(e,g[0][0],g[1][0]),x=B.getPart(t,g[0][1],g[1][1]);(n(x[2]-w[2])>1e-7||n(x[3]-w[3])>1e-7||n(x[4]-w[4])>1e-7||n(x[5]-w[5])>1e-7)&&(g=null)}return g}return{getIntersections:function(e){var t=this.getValues(),n=e&&e!==this&&e.getValues();return n?getCurveIntersections(t,n,this,e,[]):getLoopIntersection(t,this,[])},statics:{getOverlaps,getIntersections:function getIntersections(e,t,n,r,i,o){var s=!t;s&&(t=e);for(var a,c,l=e.length,u=t.length,h=[],d=[],p=0;p<u;p++)h[p]=t[p].getValues(i);for(p=0;p<l;p++){var f=e[p],g=s?h[p]:f.getValues(r),m=f.getPath();m!==c&&(c=m,a=[],d.push(a)),s&&getLoopIntersection(g,f,a,n);for(var v=s?p+1:0;v<u;v++){if(o&&a.length)return a;getCurveIntersections(g,h[v],f,t[v],a,n)}}a=[],p=0;for(var y=d.length;p<y;p++)a.push.apply(a,d[p]);return a},getCurveLineIntersections}}}),L=u.extend({_class:"CurveLocation",initialize:function CurveLocation(e,t,n,r,i){if(t>=.99999999){var o=e.getNext();o&&(t=0,e=o)}this._setCurve(e),this._time=t,this._point=n||e.getPointAtTime(t),this._overlap=r,this._distance=i,this._intersection=this._next=this._previous=null},_setCurve:function(e){var t=e._path;this._path=t,this._version=t?t._version:0,this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){this._setCurve(e.getCurve()),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var t=this.getCurve(),n=this.getTime();0===n?e=t._segment1:1===n?e=t._segment2:null!=n&&(e=t.getPartLength(0,n)<t.getPartLength(n,1)?t._segment1:t._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,t=this;function trySegment(e){var n=e&&e.getCurve();if(n&&null!=(t._time=n.getTimeOf(t._point)))return t._setCurve(n),n}return e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||trySegment(this._segment)||trySegment(this._segment1)||trySegment(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),t=this._time;return e&&null==t?this._time=e.getTimeOf(this._point):t},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(null==e){e=0;var t=this.getPath(),n=this.getIndex();if(t&&null!=n)for(var r=t.getCurves(),i=0;i<n;i++)e+=r[i].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(null==e){var t=this.getCurve(),n=this.getTime();this._curveOffset=e=null!=n&&t&&t.getPartLength(0,n)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),t=e&&e.divideAtTime(this.getTime());return t&&this._setSegment(t._segment1),t},split:function(){var e=this.getCurve(),t=e._path,n=e&&e.splitAtTime(this.getTime());return n&&this._setSegment(t.getLastSegment()),n},equals:function(e,t){var n=this===e;if(!n&&e instanceof L){var r=this.getCurve(),i=e.getCurve(),o=r._path;if(o===i._path){var s=Math.abs,a=s(this.getOffset()-e.getOffset()),c=!t&&this._intersection,l=!t&&e._intersection;n=(a<1e-7||o&&s(o.getLength()-a)<1e-7)&&(!c&&!l||c&&l&&c.equals(l,!0))}}return n},toString:function(){var e=[],t=this.getPoint(),n=g.instance;t&&e.push("point: "+t);var r=this.getIndex();null!=r&&e.push("index: "+r);var i=this.getTime();return null!=i&&e.push("time: "+n.number(i)),null!=this._distance&&e.push("distance: "+n.number(this._distance)),"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var t=this.getCurve(),n=e.getCurve();return!(t.isStraight()&&n.isStraight()&&t.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var t=this.getTime(),n=e.getTime(),r=t>=1e-8&&t<=1-1e-8,i=n>=1e-8&&n<=1-1e-8;if(r&&i)return!this.isTouching();var o=this.getCurve(),s=t<1e-8?o.getPrevious():o,a=e.getCurve(),c=n<1e-8?a.getPrevious():a;if(t>1-1e-8&&(o=o.getNext()),n>1-1e-8&&(a=a.getNext()),!(s&&o&&c&&a))return!1;var l=[];function addOffsets(e,t){var n=e.getValues(),r=B.classify(n).roots||B.getPeaks(n),i=r.length,o=t&&i>1?r[i-1]:i>0?r[0]:.5;l.push(B.getLength(n,t?o:0,t?1:o)/2)}function isInRange(e,t,n){return t<n?e>t&&e<n:e>t||e<n}r||(addOffsets(s,!0),addOffsets(o,!1)),i||(addOffsets(c,!0),addOffsets(a,!1));var u=this.getPoint(),h=Math.min.apply(Math,l),d=r?o.getTangentAtTime(t):o.getPointAt(h).subtract(u),p=r?d.negate():s.getPointAt(-h).subtract(u),f=i?a.getTangentAtTime(n):a.getPointAt(h).subtract(u),g=i?f.negate():c.getPointAt(-h).subtract(u),m=p.getAngle(),v=d.getAngle(),y=g.getAngle(),S=f.getAngle();return!!(r?isInRange(m,y,S)^isInRange(v,y,S)&&isInRange(m,S,y)^isInRange(v,S,y):isInRange(y,m,v)^isInRange(S,m,v)&&isInRange(y,v,m)^isInRange(S,v,m))},hasOverlap:function(){return!!this._overlap}},u.each(B._evaluateMethods,function(e){var t=e+"At";this[e]=function(){var e=this.getCurve(),n=this.getTime();return null!=n&&e&&e[t](n,!0)}},{preserve:!0}),new function(){function insert(e,t,n){var r=e.length,i=0,o=r-1;function search(n,i){for(var o=n+i;o>=-1&&o<=r;o+=i){var s=e[(o%r+r)%r];if(!t.getPoint().isClose(s.getPoint(),1e-7))break;if(t.equals(s))return s}return null}for(;i<=o;){var s,a=i+o>>>1,c=e[a];if(n&&(s=t.equals(c)?c:search(a,-1)||search(a,1)))return t._overlap&&(s._overlap=s._intersection._overlap=!0),s;var l=t.getPath(),u=c.getPath();(l!==u?l._id-u._id:t.getIndex()+t.getTime()-(c.getIndex()+c.getTime()))<0?o=a-1:i=a+1}return e.splice(i,0,t),t}return{statics:{insert,expand:function(e){for(var t=e.slice(),n=e.length-1;n>=0;n--)insert(t,e[n]._intersection,!1);return t}}}}),j=k.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function PathItem(){},statics:{create:function(e){var t,n,r;if(u.isPlainObject(e)?(n=e.segments,t=e.pathData):Array.isArray(e)?n=e:"string"==typeof e&&(t=e),n){var i=n[0];r=i&&Array.isArray(i[0])}else t&&(r=(t.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(t));return new(r?U:z)(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var t,n,r,i=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),o=!1,s=new y,a=new y;function getCoord(e,n){var r=+t[e];return o&&(r+=s[n]),r}function getPoint(e){return new y(getCoord(e,"x"),getCoord(e+1,"y"))}this.clear();for(var c=0,l=i&&i.length;c<l;c++){var u=i[c],h=u[0],d=h.toLowerCase(),p=(t=u.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&t.length;switch(o=h===d,"z"!==n||/[mz]/.test(d)||this.moveTo(s),d){case"m":case"l":for(var f="m"===d,g=0;g<p;g+=2)this[f?"moveTo":"lineTo"](s=getPoint(g)),f&&(a=s,f=!1);r=s;break;case"h":case"v":var m="h"===d?"x":"y";s=s.clone();for(g=0;g<p;g++)s[m]=getCoord(g,m),this.lineTo(s);r=s;break;case"c":for(g=0;g<p;g+=6)this.cubicCurveTo(getPoint(g),r=getPoint(g+2),s=getPoint(g+4));break;case"s":for(g=0;g<p;g+=4)this.cubicCurveTo(/[cs]/.test(n)?s.multiply(2).subtract(r):s,r=getPoint(g),s=getPoint(g+2)),n=d;break;case"q":for(g=0;g<p;g+=4)this.quadraticCurveTo(r=getPoint(g),s=getPoint(g+2));break;case"t":for(g=0;g<p;g+=2)this.quadraticCurveTo(r=/[qt]/.test(n)?s.multiply(2).subtract(r):s,s=getPoint(g)),n=d;break;case"a":for(g=0;g<p;g+=7)this.arcTo(s=getPoint(g+5),new b(+t[g],+t[g+1]),+t[g+2],+t[g+4],+t[g+3]);break;case"z":this.closePath(1e-12),s=a}n=d}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var t=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return t.onPath||!!("evenodd"===this.getFillRule()?1&t.windingL||1&t.windingR:t.winding)},getIntersections:function(e,t,n,r){var i=this===e||!e,o=this._matrix._orNullIfIdentity(),s=i?o:(n||e._matrix)._orNullIfIdentity();return i||this.getBounds(o).intersects(e.getBounds(s),1e-12)?B.getIntersections(this.getCurves(),!i&&e.getCurves(),t,o,s,r):[]},getCrossings:function(e){return this.getIntersections(e,function(e){return e.hasOverlap()||e.isCrossing()})},getNearestLocation:function(){for(var e=y.read(arguments),t=this.getCurves(),n=1/0,r=null,i=0,o=t.length;i<o;i++){var s=t[i].getNearestLocation(e);s._distance<n&&(n=s._distance,r=s)}return r},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e?e.getPoint():e},interpolate:function(e,t,n){var r=!this._children,i=r?"_segments":"_children",o=e[i],s=t[i],a=this[i];if(!o||!s||o.length!==s.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+t);var c=a.length,l=s.length;if(c<l)for(var u=r?N:z,h=c;h<l;h++)this.add(new u);else c>l&&this[r?"removeSegments":"removeChildren"](l,c);for(h=0;h<l;h++)a[h].interpolate(o[h],s[h],n);r&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var t=!1;if(e){var n=this._children||[this],r=e._children?e._children.slice():[e],i=n.length,o=r.length,s=[],a=0;t=!0;for(var c=i-1;c>=0&&t;c--){var l=n[c];t=!1;for(var u=o-1;u>=0&&!t;u--)l.compare(r[u])&&(s[u]||(s[u]=!0,a++),t=!0)}t=t&&a===o}return t}}),z=j.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function Path(e){this._closed=!1,this._segments=[],this._version=0;var t=Array.isArray(e)?"object"==typeof e[0]?e:arguments:!e||e.size!==a||e.x===a&&e.point===a?null:arguments;t&&t.length>0?this.setSegments(t):(this._curves=a,this._segmentSelection=0,t||"string"!=typeof e||(this.setPathData(e),e=null)),this._initialize(!t&&e)},_equals:function(e){return this._closed===e._closed&&u.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function _changed(e){if(_changed.base.call(this,e),8&e){if(this._length=this._area=a,16&e)this._version++;else if(this._curves)for(var t=0,n=this._curves.length;t<n;t++)this._curves[t]._changed()}else 32&e&&(this._bounds=a)},getStyle:function(){var e=this._parent;return(e instanceof U?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var t=this.isFullySelected(),n=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=a,n){var r=e[n-1];"boolean"==typeof r&&(this.setClosed(r),n--),this._add(N.readList(e,0,{},n))}t&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,t=this._segments;if(!e){var n=this._countCurves();e=this._curves=new Array(n);for(var r=0;r<n;r++)e[r]=new B(this,t[r],t[r+1]||t[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var t=this._curves.length=this._countCurves();e&&(this._curves[t-1]=new B(this,this._segments[t-1],this._segments[0]))}this._changed(25)}}},{beans:!0,getPathData:function(e,t){var n,r,i,o,s,a,c,l,u=this._segments,h=u.length,d=new g(t),p=new Array(6),f=!0,m=[];function addSegment(t,u){if(t._transformCoordinates(e,p),n=p[0],r=p[1],f)m.push("M"+d.pair(n,r)),f=!1;else if(s=p[2],a=p[3],s===n&&a===r&&c===i&&l===o){if(!u){var h=n-i,g=r-o;m.push(0===h?"v"+d.number(g):0===g?"h"+d.number(h):"l"+d.pair(h,g))}}else m.push("c"+d.pair(c-i,l-o)+" "+d.pair(s-i,a-o)+" "+d.pair(n-i,r-o));i=n,o=r,c=p[4],l=p[5]}if(!h)return"";for(var v=0;v<h;v++)addSegment(u[v]);return this._closed&&h>0&&(addSegment(u[0],!0),m.push("z")),m.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var t=this._segments,n=new Array(6),r=0,i=t.length;r<i;r++)t[r]._transformCoordinates(e,n,!0);return!0},_add:function(e,t){for(var n=this._segments,r=this._curves,i=e.length,o=null==t,s=(t=o?n.length:t,0);s<i;s++){var a=e[s];a._path&&(a=e[s]=a.clone()),a._path=this,a._index=t+s,a._selection&&this._updateSelection(a,0,a._selection)}if(o)n.push.apply(n,e);else{n.splice.apply(n,[t,0].concat(e));s=t+i;for(var c=n.length;s<c;s++)n[s]._index=s}if(r){var l=this._countCurves(),u=t>0&&t+i-1===l?t-1:t,h=u,d=Math.min(u+i,l);e._curves&&(r.splice.apply(r,[u,0].concat(e._curves)),h+=e._curves.length);for(s=h;s<d;s++)r.splice(s,0,new B(this,null,null));this._adjustCurves(u,d)}return this._changed(25),e},_adjustCurves:function(e,t){for(var n,r=this._segments,i=this._curves,o=e;o<t;o++)(n=i[o])._path=this,n._segment1=r[o],n._segment2=r[o+1]||r[0],n._changed();(n=i[this._closed&&!e?r.length-1:e-1])&&(n._segment2=r[e]||r[0],n._changed()),(n=i[t])&&(n._segment1=r[t],n._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){return arguments.length>1&&"number"!=typeof e?this._add(N.readList(arguments)):this._add([N.read(arguments)])[0]},insert:function(e,t){return arguments.length>2&&"number"!=typeof t?this._add(N.readList(arguments,1),e):this._add([N.read(arguments,1)],e)[0]},addSegment:function(){return this._add([N.read(arguments)])[0]},insertSegment:function(e){return this._add([N.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(N.readList(e))},insertSegments:function(e,t){return this._add(N.readList(t),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,t,n){e=e||0,t=u.pick(t,this._segments.length);var r=this._segments,i=this._curves,o=r.length,s=r.splice(e,t-e),a=s.length;if(!a)return s;for(var c=0;c<a;c++){var l=s[c];l._selection&&this._updateSelection(l,l._selection,0),l._index=l._path=null}c=e;for(var h=r.length;c<h;c++)r[c]._index=c;if(i){var d=e>0&&t===o+(this._closed?1:0)?e-1:e;for(c=(i=i.splice(d,a)).length-1;c>=0;c--)i[c]._path=null;n&&(s._curves=i.slice(1)),this._adjustCurves(d,d)}return this._changed(25),s},clear:"#removeSegments",hasHandles:function(){for(var e=this._segments,t=0,n=e.length;t<n;t++)if(e[t].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,t=0,n=e.length;t<n;t++)e[t].clearHandles()},getLength:function(){if(null==this._length){for(var e=this.getCurves(),t=0,n=0,r=e.length;n<r;n++)t+=e[n].getLength();this._length=t}return this._length},getArea:function(){var e=this._area;if(null==e){var t=this._segments,n=this._closed;e=0;for(var r=0,i=t.length;r<i;r++){var o=r+1===i;e+=B.getArea(B.getValues(t[r],t[o?0:r+1],null,o&&!n))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===7*e},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function setSelection(e){1&e||this._selectSegments(!1),setSelection.base.call(this,e)},_selectSegments:function(e){var t=this._segments,n=t.length,r=e?7:0;this._segmentSelection=r*n;for(var i=0;i<n;i++)t[i]._selection=r},_updateSelection:function(e,t,n){e._selection=n,(this._segmentSelection+=n-t)>0&&this.setSelected(!0)},divideAt:function(e){var t,n=this.getLocationAt(e);return n&&(t=n.getCurve().divideAt(n.getCurveOffset()))?t._segment1:null},splitAt:function(e){var t=this.getLocationAt(e),n=t&&t.index,r=t&&t.time;r>1-1e-8&&(n++,r=0);var i=this.getCurves();if(n>=0&&n<i.length){r>=1e-8&&i[n++].divideAtTime(r);var o,s=this.removeSegments(n,this._segments.length,!0);return this._closed?(this.setClosed(!1),o=this):((o=new z(k.NO_INSERT)).insertAbove(this),o.copyAttributes(this)),o._add(s,0),this.addSegment(s[0]),o}return null},split:function(e,t){var n,r=t===a?e:(n=this.getCurves()[e])&&n.getLocationAtTime(t);return null!=r?this.splitAt(r):null},join:function(e,t){var n=t||0;if(e&&e!==this){var r=e._segments,i=this.getLastSegment(),o=e.getLastSegment();if(!o)return this;i&&i._point.isClose(o._point,n)&&e.reverse();var s=e.getFirstSegment();if(i&&i._point.isClose(s._point,n))i.setHandleOut(s._handleOut),this._add(r.slice(1));else{var a=this.getFirstSegment();a&&a._point.isClose(s._point,n)&&e.reverse(),o=e.getLastSegment(),a&&a._point.isClose(o._point,n)?(a.setHandleIn(o._handleIn),this._add(r.slice(0,r.length-1),0)):this._add(r.slice())}e._closed&&this._add([r[0]]),e.remove()}var c=this.getFirstSegment(),l=this.getLastSegment();return c!==l&&c._point.isClose(l._point,n)&&(c.setHandleIn(l._handleIn),l.remove(),this.setClosed(!0)),this},reduce:function(e){for(var t=this.getCurves(),n=e&&e.simplify,r=n?1e-7:0,i=t.length-1;i>=0;i--){var o=t[i];!o.hasHandles()&&(!o.hasLength(r)||n&&o.isCollinear(o.getNext()))&&o.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,t=this._segments.length;e<t;e++){var n=this._segments[e],r=n._handleIn;n._handleIn=n._handleOut,n._handleOut=r,n._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var t=new H(this,e||.25,256,!0).parts,n=t.length,r=[],i=0;i<n;i++)r.push(new N(t[i].curve.slice(0,2)));!this._closed&&n>0&&r.push(new N(t[n-1].curve.slice(6))),this.setSegments(r)},simplify:function(e){var t=new V(this).fit(e||2.5);return t&&this.setSegments(t),!!t},smooth:function(e){var t=this,n=e||{},r=n.type||"asymmetric",i=this._segments,o=i.length,s=this._closed;function getIndex(e,n){var r=e&&e.index;if(null!=r){var i=e.path;if(i&&i!==t)throw new Error(e._class+" "+r+" of "+i+" is not part of "+t);n&&e instanceof B&&r++}else r="number"==typeof e?e:n;return Math.min(r<0&&s?r%o:r<0?r+o:r,o-1)}var c=s&&n.from===a&&n.to===a,l=getIndex(n.from,0),u=getIndex(n.to,o-1);if(l>u)if(s)l-=o;else{var h=l;l=u,u=h}if(/^(?:asymmetric|continuous)$/.test(r)){var d="asymmetric"===r,p=Math.min,f=u-l+1,g=f-1,m=c?p(f,4):1,v=m,y=m,S=[];if(s||(v=p(1,l),y=p(1,o-u-1)),(g+=v+y)<=1)return;for(var b=0,_=l-v;b<=g;b++,_++)S[b]=i[(_<0?_+o:_)%o]._point;var C=S[0]._x+2*S[1]._x,w=S[0]._y+2*S[1]._y,x=2,P=g-1,T=[C],k=[w],E=[x],O=[],M=[];for(b=1;b<g;b++){var F=b<P,D=F?4:d?2:7,I=F?4:d?3:8,R=F?2:d?0:1,N=(F?1:d?1:2)/x;x=E[b]=D-N,C=T[b]=I*S[b]._x+R*S[b+1]._x-N*C,w=k[b]=I*S[b]._y+R*S[b+1]._y-N*w}O[P]=T[P]/E[P],M[P]=k[P]/E[P];for(b=g-2;b>=0;b--)O[b]=(T[b]-O[b+1])/E[b],M[b]=(k[b]-M[b+1])/E[b];O[g]=(3*S[g]._x-O[P])/2,M[g]=(3*S[g]._y-M[P])/2;b=v;var A=g-y;for(_=l;b<=A;b++,_++){var L=i[_<0?_+o:_],j=L._point,z=O[b]-j._x,U=M[b]-j._y;(c||b<A)&&L.setHandleOut(z,U),(c||b>v)&&L.setHandleIn(-z,-U)}}else for(b=l;b<=u;b++)i[b<0?b+o:b].smooth(n,!c&&b===l,!c&&b===u)},toShape:function(e){if(!this._closed)return null;var t,n,r,i,o=this._segments;function isCollinear(e,t){var n=o[e],r=n.getNext(),i=o[t],s=i.getNext();return n._handleOut.isZero()&&r._handleIn.isZero()&&i._handleOut.isZero()&&s._handleIn.isZero()&&r._point.subtract(n._point).isCollinear(s._point.subtract(i._point))}function isArc(e){var t=o[e],n=t.getNext(),r=t._handleOut,i=n._handleIn;if(r.isOrthogonal(i)){var s=t._point,a=n._point,c=new P(s,r,!0).intersect(new P(a,i,!0),!0);return c&&m.isZero(r.getLength()/c.subtract(s).getLength()-.5522847498307936)&&m.isZero(i.getLength()/c.subtract(a).getLength()-.5522847498307936)}return!1}function getDistance(e,t){return o[e]._point.getDistance(o[t]._point)}if(!this.hasHandles()&&4===o.length&&isCollinear(0,2)&&isCollinear(1,3)&&function isOrthogonal(e){var t=o[e],n=t.getPrevious(),r=t.getNext();return n._handleOut.isZero()&&t._handleIn.isZero()&&t._handleOut.isZero()&&r._handleIn.isZero()&&t._point.subtract(n._point).isOrthogonal(r._point.subtract(t._point))}(1)?(t=M.Rectangle,n=new b(getDistance(0,3),getDistance(0,1)),i=o[1]._point.add(o[2]._point).divide(2)):8===o.length&&isArc(0)&&isArc(2)&&isArc(4)&&isArc(6)&&isCollinear(1,5)&&isCollinear(3,7)?(t=M.Rectangle,r=(n=new b(getDistance(1,6),getDistance(0,3))).subtract(new b(getDistance(0,7),getDistance(1,2))).divide(2),i=o[3]._point.add(o[4]._point).divide(2)):4===o.length&&isArc(0)&&isArc(1)&&isArc(2)&&isArc(3)&&(m.isZero(getDistance(0,2)-getDistance(1,3))?(t=M.Circle,r=getDistance(0,2)/2):(t=M.Ellipse,r=new b(getDistance(2,0)/2,getDistance(3,1)/2)),i=o[1]._point),t){var s=this.getPosition(!0),c=new t({center:s,size:n,radius:r,insert:!1});return c.copyAttributes(this,!0),c._matrix.prepend(this._matrix),c.rotate(i.subtract(s).getAngle()+90),(e===a||e)&&c.insertAbove(this),c}return null},toPath:"#clone",compare:function compare(e){if(!e||e instanceof U)return compare.base.call(this,e);var t=this.getCurves(),n=e.getCurves(),r=t.length,i=n.length;if(!r||!i)return r==i;for(var o,s,a=t[0].getValues(),c=[],l=0,u=0,h=0;h<i;h++){var d=n[h].getValues();if(c.push(d),g=B.getOverlaps(a,d)){o=!h&&g[0][0]>0?i-1:h,s=g[0][1];break}}var p,f=Math.abs;for(d=c[o];a&&d;){var g;if(g=B.getOverlaps(a,d))if(f(g[0][0]-u)<1e-8){1===(u=g[1][0])&&(a=++l<r?t[l].getValues():null,u=0);var m=g[0][1];if(f(m-s)<1e-8){if(p||(p=[o,m]),1===(s=g[1][1])&&(++o>=i&&(o=0),d=c[o]||n[o].getValues(),s=0),!a)return p[0]===o&&p[1]===s;continue}}break}return!1},_hitTestSelf:function(e,t,n,r){var i,o,s,a,c,l,u=this,h=this.getStyle(),d=this._segments,p=d.length,f=this._closed,g=t._tolerancePadding,m=g,v=t.stroke&&h.hasStroke(),y=t.fill&&h.hasFill(),S=t.curves,b=v?h.getStrokeWidth()/2:y&&t.tolerance>0||S?0:null;function isCloseEnough(t,n){return e.subtract(t).divide(n).length<=1}function checkSegmentPoint(e,n,r){if(!t.selected||n.isSelected()){var i=e._point;if(n!==i&&(n=n.add(i)),isCloseEnough(n,m))return new R(r,u,{segment:e,point:n})}}function checkSegmentPoints(e,n){return(n||t.segments)&&checkSegmentPoint(e,e._point,"segment")||!n&&t.handles&&(checkSegmentPoint(e,e._handleIn,"handle-in")||checkSegmentPoint(e,e._handleOut,"handle-out"))}function addToArea(e){a.add(e)}function checkSegmentStroke(t){var n,c=f||t._index>0&&t._index<p-1;return"round"===(c?i:o)?isCloseEnough(t._point,m):(a=new z({internal:!0,closed:!0}),c?t.isSmooth()||z._addBevelJoin(t,i,b,s,null,r,addToArea,!0):"square"===o&&z._addSquareCap(t,o,b,null,r,addToArea,!0),a.isEmpty()?void 0:a.contains(e)||(n=a.getNearestLocation(e))&&isCloseEnough(n.getPoint(),g))}if(null!==b&&(b>0?(i=h.getStrokeJoin(),o=h.getStrokeCap(),s=h.getMiterLimit(),m=m.add(z._getStrokePadding(b,r))):i=o="round"),!t.ends||t.segments||f){if(t.segments||t.handles)for(var _=0;_<p;_++)if(l=checkSegmentPoints(d[_]))return l}else if(l=checkSegmentPoints(d[0],!0)||checkSegmentPoints(d[p-1],!0))return l;if(null!==b){if(c=this.getNearestLocation(e)){var C=c.getTime();0===C||1===C&&p>1?checkSegmentStroke(c.getSegment())||(c=null):isCloseEnough(c.getPoint(),m)||(c=null)}if(!c&&"miter"===i&&p>1)for(_=0;_<p;_++){var w=d[_];if(e.getDistance(w._point)<=s*b&&checkSegmentStroke(w)){c=w.getLocation();break}}}return!c&&y&&this._contains(e)||c&&!v&&!S?new R("fill",this):c?new R(v?"stroke":"curve",this,{location:c,point:c.getPoint()}):null}},u.each(B._evaluateMethods,function(e){this[e+"At"]=function(t){var n=this.getLocationAt(t);return n&&n[e]()}},{beans:!1,getLocationOf:function(){for(var e=y.read(arguments),t=this.getCurves(),n=0,r=t.length;n<r;n++){var i=t[n].getLocationOf(e);if(i)return i}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if("number"==typeof e){for(var t=this.getCurves(),n=0,r=0,i=t.length;r<i;r++){var o=n,s=t[r];if((n+=s.getLength())>e)return s.getLocationAt(e-o)}if(t.length>0&&e<=this.getLength())return new L(t[t.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null}}),new function(){function drawSegments(e,t,n){var r,i,o,s,a,c,l,u,h=t._segments,d=h.length,p=new Array(6),f=!0;function drawSegment(t){if(n)t._transformCoordinates(n,p),r=p[0],i=p[1];else{var h=t._point;r=h._x,i=h._y}if(f)e.moveTo(r,i),f=!1;else{if(n)a=p[2],c=p[3];else{var d=t._handleIn;a=r+d._x,c=i+d._y}a===r&&c===i&&l===o&&u===s?e.lineTo(r,i):e.bezierCurveTo(l,u,a,c,r,i)}if(o=r,s=i,n)l=p[4],u=p[5];else{d=t._handleOut;l=o+d._x,u=s+d._y}}for(var g=0;g<d;g++)drawSegment(h[g]);t._closed&&d>0&&drawSegment(h[0])}return{_draw:function(e,t,n,r){var i=t.dontStart,s=t.dontFinish||t.clip,a=this.getStyle(),c=a.hasFill(),l=a.hasStroke(),u=a.getDashArray(),h=!o.support.nativeDash&&l&&u&&u.length;function getOffset(e){return u[(e%h+h)%h]}if(i||e.beginPath(),(c||l&&!h||s)&&(drawSegments(e,this,r),this._closed&&e.closePath()),!s&&(c||l)&&(this._setStyles(e,t,n),c&&(e.fill(a.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),l)){if(h){i||e.beginPath();var d,p=new H(this,.25,32,!1,r),f=p.length,g=-a.getDashOffset(),m=0;for(g%=f;g>0;)g-=getOffset(m--)+getOffset(m--);for(;g<f;)d=g+getOffset(m++),(g>0||d>0)&&p.drawPart(e,Math.max(g,0),Math.max(d,0)),g=d+getOffset(m++)}e.stroke()}},_drawSelected:function(e,t){e.beginPath(),drawSegments(e,this,t),e.stroke(),function drawHandles(e,t,n,r){var i,o,s=r/2,a=new Array(6);function drawHandle(t){var n=a[t],r=a[t+1];i==n&&o==r||(e.beginPath(),e.moveTo(i,o),e.lineTo(n,r),e.stroke(),e.beginPath(),e.arc(n,r,s,0,2*Math.PI,!0),e.fill())}for(var c=0,l=t.length;c<l;c++){var u=t[c],h=u._selection;if(u._transformCoordinates(n,a),i=a[0],o=a[1],2&h&&drawHandle(2),4&h&&drawHandle(4),e.fillRect(i-s,o-s,r,r),!(1&h)){var d=e.fillStyle;e.fillStyle="#ffffff",e.fillRect(i-s+1,o-s+1,r-2,r-2),e.fillStyle=d}}}(e,this._segments,t,o.settings.handleSize)}}},new function(){function getCurrentSegment(e){var t=e._segments;if(!t.length)throw new Error("Use a moveTo() command first");return t[t.length-1]}return{moveTo:function(){var e=this._segments;1===e.length&&this.removeSegment(0),e.length||this._add([new N(y.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new N(y.read(arguments))])},cubicCurveTo:function(){var e=y.read(arguments),t=y.read(arguments),n=y.read(arguments),r=getCurrentSegment(this);r.setHandleOut(e.subtract(r._point)),this._add([new N(n,t.subtract(n))])},quadraticCurveTo:function(){var e=y.read(arguments),t=y.read(arguments),n=getCurrentSegment(this)._point;this.cubicCurveTo(e.add(n.subtract(e).multiply(1/3)),e.add(t.subtract(e).multiply(1/3)),t)},curveTo:function(){var e=y.read(arguments),t=y.read(arguments),n=u.pick(u.read(arguments),.5),r=1-n,i=getCurrentSegment(this)._point,o=e.subtract(i.multiply(r*r)).subtract(t.multiply(n*n)).divide(2*n*r);if(o.isNaN())throw new Error("Cannot put a curve through points with parameter = "+n);this.quadraticCurveTo(o,t)},arcTo:function(){var e,t,n,r,i=Math.abs,o=Math.sqrt,s=getCurrentSegment(this),a=s._point,c=y.read(arguments),l=u.peek(arguments);if("boolean"==typeof(g=u.pick(l,!0)))var h=(S=a.add(c).divide(2)).add(S.subtract(a).rotate(g?-90:90));else if(u.remain(arguments)<=2)h=c,c=y.read(arguments);else{var d=b.read(arguments),p=m.isZero;if(p(d.width)||p(d.height))return this.lineTo(c);var f=u.read(arguments),g=!!u.read(arguments),v=!!u.read(arguments),S=a.add(c).divide(2),_=(q=a.subtract(S).rotate(-f)).x,C=q.y,w=i(d.width),T=i(d.height),k=w*w,E=T*T,O=_*_,M=C*C,F=o(O/k+M/E);if(F>1&&(k=(w*=F)*w,E=(T*=F)*T),i(F=(k*E-k*M-E*O)/(k*M+E*O))<1e-12&&(F=0),F<0)throw new Error("Cannot create an arc with the given arguments");e=new y(w*C/T,-T*_/w).multiply((v===g?-1:1)*o(F)).rotate(f).add(S),t=(n=(r=(new x).translate(e).rotate(f).scale(w,T))._inverseTransform(a)).getDirectedAngle(r._inverseTransform(c)),!g&&t>0?t-=360:g&&t<0&&(t+=360)}if(h){var D=new P(a.add(h).divide(2),h.subtract(a).rotate(90),!0),I=new P(h.add(c).divide(2),c.subtract(h).rotate(90),!0),R=new P(a,c),A=R.getSide(h);if(!(e=D.intersect(I,!0))){if(!A)return this.lineTo(c);throw new Error("Cannot create an arc with the given arguments")}t=(n=a.subtract(e)).getDirectedAngle(c.subtract(e));var B=R.getSide(e);0===B?t=A*i(t):A===B&&(t+=t<0?360:-360)}for(var L=1e-7,j=i(t),z=j>=360?4:Math.ceil((j-L)/90),U=t/z,H=U*Math.PI/360,V=4/3*Math.sin(H)/(1+Math.cos(H)),W=[],G=0;G<=z;G++){var q=c,K=null;if(G<z&&(K=n.rotate(90).multiply(V),r?(q=r._transformPoint(n),K=r._transformPoint(n.add(K)).subtract(q)):q=e.add(n)),G){var $=n.rotate(-90).multiply(V);r&&($=r._transformPoint(n.add($)).subtract(q)),W.push(new N(q,$,K))}else s.setHandleOut(K);n=n.rotate(U)}this._add(W)},lineBy:function(){var e=y.read(arguments),t=getCurrentSegment(this)._point;this.lineTo(t.add(e))},curveBy:function(){var e=y.read(arguments),t=y.read(arguments),n=u.read(arguments),r=getCurrentSegment(this)._point;this.curveTo(r.add(e),r.add(t),n)},cubicCurveBy:function(){var e=y.read(arguments),t=y.read(arguments),n=y.read(arguments),r=getCurrentSegment(this)._point;this.cubicCurveTo(r.add(e),r.add(t),r.add(n))},quadraticCurveBy:function(){var e=y.read(arguments),t=y.read(arguments),n=getCurrentSegment(this)._point;this.quadraticCurveTo(n.add(e),n.add(t))},arcBy:function(){var e=getCurrentSegment(this)._point,t=e.add(y.read(arguments)),n=u.pick(u.peek(arguments),!0);"boolean"==typeof n?this.arcTo(t,n):this.arcTo(t,e.add(y.read(arguments)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(e,t){var n=t.handle?"getHandleBounds":t.stroke?"getStrokeBounds":"getBounds";return z[n](this._segments,this._closed,this,e,t)},statics:{getBounds:function(e,t,n,r,i,o){var s=e[0];if(!s)return new C;var a=new Array(6),c=s._transformCoordinates(r,new Array(6)),l=c.slice(0,2),u=l.slice(),h=new Array(2);function processSegment(e){e._transformCoordinates(r,a);for(var t=0;t<2;t++)B._addBounds(c[t],c[t+4],a[t+2],a[t],t,o?o[t]:0,l,u,h);var n=c;c=a,a=n}for(var d=1,p=e.length;d<p;d++)processSegment(e[d]);return t&&processSegment(s),new C(l[0],l[1],u[0]-l[0],u[1]-l[1])},getStrokeBounds:function(e,t,n,r,i){var o=n.getStyle(),s=o.hasStroke(),a=o.getStrokeWidth(),c=s&&n._getStrokeMatrix(r,i),l=s&&z._getStrokePadding(a,c),u=z.getBounds(e,t,n,r,i,l);if(!s)return u;var h=a/2,d=o.getStrokeJoin(),p=o.getStrokeCap(),f=o.getMiterLimit(),g=new C(new b(l));function addPoint(e){u=u.include(e)}function addRound(e){u=u.unite(g.setCenter(e._point.transform(r)))}function addJoin(e,t){"round"===t||e.isSmooth()?addRound(e):z._addBevelJoin(e,t,h,f,r,c,addPoint)}function addCap(e,t){"round"===t?addRound(e):z._addSquareCap(e,t,h,r,c,addPoint)}for(var m=e.length-(t?0:1),v=1;v<m;v++)addJoin(e[v],d);return t?addJoin(e[0],d):m>0&&(addCap(e[0],p),addCap(e[e.length-1],p)),u},_getStrokePadding:function(e,t){if(!t)return[e,e];var n=new y(e,0).transform(t),r=new y(0,e).transform(t),i=n.getAngleInRadians(),o=n.getLength(),s=r.getLength(),a=Math.sin(i),c=Math.cos(i),l=Math.tan(i),u=Math.atan2(s*l,o),h=Math.atan2(s,l*o);return[Math.abs(o*Math.cos(u)*c+s*Math.sin(u)*a),Math.abs(s*Math.sin(h)*c+o*Math.cos(h)*a)]},_addBevelJoin:function(e,t,n,r,i,o,s,a){var c=e.getCurve(),l=c.getPrevious(),u=c.getPoint1().transform(i),h=l.getNormalAtTime(1).multiply(n).transform(o),d=c.getNormalAtTime(0).multiply(n).transform(o);if(h.getDirectedAngle(d)<0&&(h=h.negate(),d=d.negate()),a&&s(u),s(u.add(h)),"miter"===t){var p=new P(u.add(h),new y(-h.y,h.x),!0).intersect(new P(u.add(d),new y(-d.y,d.x),!0),!0);p&&u.getDistance(p)<=r*n&&s(p)}s(u.add(d))},_addSquareCap:function(e,t,n,r,i,o,s){var a=e._point.transform(r),c=e.getLocation(),l=c.getNormal().multiply(0===c.getTime()?n:-n).transform(i);"square"===t&&(s&&(o(a.subtract(l)),o(a.add(l))),a=a.add(l.rotate(-90))),o(a.add(l)),o(a.subtract(l))},getHandleBounds:function(e,t,n,r,i){var o,s,a=n.getStyle();if(i.stroke&&a.hasStroke()){var c=n._getStrokeMatrix(r,i),l=a.getStrokeWidth()/2,u=l;"miter"===a.getStrokeJoin()&&(u=l*a.getMiterLimit()),"square"===a.getStrokeCap()&&(u=Math.max(u,l*Math.SQRT2)),o=z._getStrokePadding(l,c),s=z._getStrokePadding(u,c)}for(var h=new Array(6),d=1/0,p=-d,f=d,g=p,m=0,v=e.length;m<v;m++){e[m]._transformCoordinates(r,h);for(var y=0;y<6;y+=2){var S=y?o:s,b=S?S[0]:0,_=S?S[1]:0,w=h[y],x=h[y+1],P=w-b,T=w+b,k=x-_,E=x+_;P<d&&(d=P),T>p&&(p=T),k<f&&(f=k),E>g&&(g=E)}}return new C(d,f,p-d,g-f)}}});z.inject({statics:new function(){var e=.5522847498307936,t=[new N([-1,0],[0,e],[0,-e]),new N([0,-1],[-e,0],[e,0]),new N([1,0],[0,-e],[0,e]),new N([0,1],[e,0],[-e,0])];function createPath(e,t,n){var r=u.getNamed(n),i=new z(r&&0==r.insert&&k.NO_INSERT);return i._add(e),i._closed=t,i.set(r,{insert:!0})}function createEllipse(e,n,r){for(var i=new Array(4),o=0;o<4;o++){var s=t[o];i[o]=new N(s._point.multiply(n).add(e),s._handleIn.multiply(n),s._handleOut.multiply(n))}return createPath(i,!0,r)}return{Line:function(){return createPath([new N(y.readNamed(arguments,"from")),new N(y.readNamed(arguments,"to"))],!1,arguments)},Circle:function(){var e=y.readNamed(arguments,"center"),t=u.readNamed(arguments,"radius");return createEllipse(e,new b(t),arguments)},Rectangle:function(){var t,n=C.readNamed(arguments,"rectangle"),r=b.readNamed(arguments,"radius",0,{readNull:!0}),i=n.getBottomLeft(!0),o=n.getTopLeft(!0),s=n.getTopRight(!0),a=n.getBottomRight(!0);if(!r||r.isZero())t=[new N(i),new N(o),new N(s),new N(a)];else{var c=(r=b.min(r,n.getSize(!0).divide(2))).width,l=r.height,u=c*e,h=l*e;t=[new N(i.add(c,0),null,[-u,0]),new N(i.subtract(0,l),[0,h]),new N(o.add(0,l),null,[0,-h]),new N(o.add(c,0),[-u,0],null),new N(s.subtract(c,0),null,[u,0]),new N(s.add(0,l),[0,-h],null),new N(a.subtract(0,l),null,[0,h]),new N(a.subtract(c,0),[u,0])]}return createPath(t,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var e=M._readEllipse(arguments);return createEllipse(e.center,e.radius,arguments)},Oval:"#Ellipse",Arc:function(){var e=y.readNamed(arguments,"from"),t=y.readNamed(arguments,"through"),n=y.readNamed(arguments,"to"),r=u.getNamed(arguments),i=new z(r&&0==r.insert&&k.NO_INSERT);return i.moveTo(e),i.arcTo(t,n),i.set(r)},RegularPolygon:function(){for(var e=y.readNamed(arguments,"center"),t=u.readNamed(arguments,"sides"),n=u.readNamed(arguments,"radius"),r=360/t,i=t%3==0,o=new y(0,i?-n:n),s=i?-1:.5,a=new Array(t),c=0;c<t;c++)a[c]=new N(e.add(o.rotate((c+s)*r)));return createPath(a,!0,arguments)},Star:function(){for(var e=y.readNamed(arguments,"center"),t=2*u.readNamed(arguments,"points"),n=u.readNamed(arguments,"radius1"),r=u.readNamed(arguments,"radius2"),i=360/t,o=new y(0,-1),s=new Array(t),a=0;a<t;a++)s[a]=new N(e.add(o.rotate(i*a).multiply(a%2?r:n)));return createPath(s,!0,arguments)}}}});var U=j.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function CompoundPath(e){this._children=[],this._namedChildren={},this._initialize(e)||("string"==typeof e?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function insertChildren(e,t){var n=t,r=n[0];r&&"number"==typeof r[0]&&(n=[n]);for(var i=t.length-1;i>=0;i--){var o=n[i];n!==t||o instanceof z||(n=u.slice(n)),Array.isArray(o)?n[i]=new z({segments:o,insert:!1}):o instanceof U&&(n.splice.apply(n,[i,1].concat(o.removeChildren())),o.remove())}return insertChildren.base.call(this,e,n)},reduce:function reduce(e){for(var t=this._children,n=t.length-1;n>=0;n--){var r;(r=t[n].reduce(e)).isEmpty()&&r.remove()}return t.length?reduce.base.call(this):((r=new z(k.NO_INSERT)).copyAttributes(this),r.insertAbove(this),this.remove(),r)},isClosed:function(){for(var e=this._children,t=0,n=e.length;t<n;t++)if(!e[t]._closed)return!1;return!0},setClosed:function(e){for(var t=this._children,n=0,r=t.length;n<r;n++)t[n].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,t=[],n=0,r=e.length;n<r;n++)t.push.apply(t,e[n].getCurves());return t},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,t=0,n=0,r=e.length;n<r;n++)t+=e[n].getArea();return t},getLength:function(){for(var e=this._children,t=0,n=0,r=e.length;n<r;n++)t+=e[n].getLength();return t},getPathData:function(e,t){for(var n=this._children,r=[],i=0,o=n.length;i<o;i++){var s=n[i],a=s._matrix;r.push(s.getPathData(e&&!a.isIdentity()?e.appended(a):e,t))}return r.join("")},_hitTestChildren:function _hitTestChildren(e,t,n){return _hitTestChildren.base.call(this,e,t.class===z||"path"===t.type?t:u.set({},t,{fill:!1}),n)},_draw:function(e,t,n,r){var i=this._children;if(i.length){t=t.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var o=0,s=i.length;o<s;o++)i[o].draw(e,t,r);if(!t.clip){this._setStyles(e,t,n);var a=this._style;a.hasFill()&&(e.fill(a.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),a.hasStroke()&&e.stroke()}}},_drawSelected:function(e,t,n){for(var r=this._children,i=0,o=r.length;i<o;i++){var s=r[i],a=s._matrix;n[s._id]||s._drawSelected(e,a.isIdentity()?t:t.appended(a))}}},new function(){function getCurrentPath(e,t){var n=e._children;if(t&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return u.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var t=getCurrentPath(this,!0);t[e].apply(t,arguments)}},{moveTo:function(){var e=getCurrentPath(this),t=e&&e.isEmpty()?e:new z(k.NO_INSERT);t!==e&&this.addChild(t),t.moveTo.apply(t,arguments)},moveBy:function(){var e=getCurrentPath(this,!0),t=e&&e.getLastSegment(),n=y.read(arguments);this.moveTo(t?n.add(t._point):n)},closePath:function(e){getCurrentPath(this,!0).closePath(e)}})},u.each(["reverse","flatten","simplify","smooth"],function(e){this[e]=function(t){for(var n,r=this._children,i=0,o=r.length;i<o;i++)n=r[i][e](t)||n;return n}},{}));j.inject(new function(){var e=Math.min,t=Math.max,n=Math.abs,r={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function preparePath(e,t){var n=e.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);return t?n.resolveCrossings().reorient("nonzero"===n.getFillRule(),!0):n}function createResult(e,t,n,r,i){var o=new U(k.NO_INSERT);return o.addChildren(e,!0),o=o.reduce({simplify:t}),i&&0==i.insert||o.insertAbove(r&&n.isSibling(r)&&n.getIndex()<r.getIndex()?r:n),o.copyAttributes(n,!0),o}function traceBoolean(e,t,n,i){if(i&&(0==i.trace||i.stroke)&&/^(subtract|intersect)$/.test(n))return splitBoolean(e,t,n);var o=preparePath(e,!0),s=t&&e!==t&&preparePath(t,!0),a=r[n];a[n]=!0,s&&(a.subtract||a.exclude)^s.isClockwise()^o.isClockwise()&&s.reverse();var c,l=divideLocations(L.expand(o.getCrossings(s))),u=o._children||[o],h=s&&(s._children||[s]),d=[],p=[];function collect(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];d.push.apply(d,r._segments),p.push.apply(p,r.getCurves()),r._overlapsOnly=!0}}if(l.length){collect(u),h&&collect(h);for(var f=0,g=l.length;f<g;f++)propagateWinding(l[f]._segment,o,s,p,a);for(f=0,g=d.length;f<g;f++){var m=d[f],v=m._intersection;m._winding||propagateWinding(m,o,s,p,a),v&&v._overlap||(m._path._overlapsOnly=!1)}c=tracePaths(d,a)}else c=reorientPaths(h?u.concat(h):u.slice(),function(e){return!!a[e]});return createResult(c,!0,e,t,i)}function splitBoolean(e,t,n){var r=preparePath(e),i=preparePath(t),o=r.getCrossings(i),s="subtract"===n,a="divide"===n,c={},l=[];function addPath(e){if(!c[e._id]&&(a||i.contains(e.getPointAt(e.getLength()/2))^s))return l.unshift(e),c[e._id]=!0}for(var u=o.length-1;u>=0;u--){var h=o[u].split();h&&(addPath(h)&&h.getFirstSegment().setHandleIn(0,0),r.getLastSegment().setHandleOut(0,0))}return addPath(r),createResult(l,!1,e,t)}function linkIntersections(e,t){for(var n=e;n;){if(n===t)return;n=n._previous}for(;e._next&&e._next!==t;)e=e._next;if(!e._next){for(;t._previous;)t=t._previous;e._next=t,t._previous=e}}function clearCurveHandles(e){for(var t=e.length-1;t>=0;t--)e[t].clearHandles()}function reorientPaths(e,t,r){var i=e&&e.length;if(i){var o=u.each(e,function(e,t){this[e._id]={container:null,winding:e.isClockwise()?1:-1,index:t}},{}),s=e.slice().sort(function(e,t){return n(t.getArea())-n(e.getArea())}),a=s[0];null==r&&(r=a.isClockwise());for(var c=0;c<i;c++){for(var l=s[c],h=o[l._id],d=l.getInteriorPoint(),p=0,f=c-1;f>=0;f--){var g=s[f];if(g.contains(d)){var m=o[g._id];p=m.winding,h.winding+=p,h.container=m.exclude?m.container:g;break}}if(t(h.winding)===t(p))h.exclude=!0,e[h.index]=null;else{var v=h.container;l.setClockwise(v?!v.isClockwise():r)}}}return e}function divideLocations(e,t,n){var r,i,o,s=t&&[],a=!1,c=n||[],l=n&&{};function getId(e){return e._path._id+"."+e._segment1._index}for(var u=(n&&n.length)-1;u>=0;u--){(h=n[u])._path&&(l[getId(h)]=!0)}for(u=e.length-1;u>=0;u--){var h,d,p=e[u],f=p._time,g=f,m=t&&!t(p);if((h=p._curve)&&(h!==i?(a=!h.hasHandles()||l&&l[getId(h)],r=[],o=null,i=h):o>=1e-8&&(f/=o)),m)r&&r.push(p);else{if(t&&s.unshift(p),o=g,f<1e-8)d=h._segment1;else if(f>1-1e-8)d=h._segment2;else{var v=h.divideAtTime(f,!0);a&&c.push(h,v),d=v._segment1;for(var y=r.length-1;y>=0;y--){var S=r[y];S._time=(S._time-f)/(1-f)}}p._setSegment(d);var b=d._intersection,_=p._intersection;if(b){linkIntersections(b,_);for(var C=b;C;)linkIntersections(C._intersection,b),C=C._next}else d._intersection=_}}return n||clearCurveHandles(c),s||e}function getWinding(r,i,o,s,a){var c,l,u=o?1:0,h=1^u,d=[r.x,r.y],p=d[u],f=d[h],g=1e-6,m=p-1e-9,v=p+1e-9,y=0,S=0,b=0,_=0,C=!1,w=!1,x=1,P=[];function addWinding(n){var l=n[h+0],d=n[h+6];if(!(f<e(l,d)||f>t(l,d))){var y=n[u+0],S=n[u+2],w=n[u+4],T=n[u+6];if(l!==d){var k=f===l?0:f===d?1:m>t(y,S,w,T)||v<e(y,S,w,T)?1:B.solveCubic(n,h,f,P,0,1)>0?P[0]:1,E=0===k?y:1===k?T:B.getPoint(n,k)[o?"y":"x"],O=l>d?1:-1,M=c[h]>c[h+6]?1:-1,F=c[u+6];return f!==l?(E<m?b+=O:E>v?_+=O:C=!0,E>p-g&&E<p+g&&(x/=2)):(O!==M?y<m?b+=O:y>v&&(_+=O):y!=F&&(F<v&&E>v?(_+=O,C=!0):F>m&&E<m&&(b+=O,C=!0)),x=0),c=n,!a&&E>m&&E<v&&0===B.getTangent(n,k)[o?"x":"y"]&&getWinding(r,i,!o,s,!0)}(y<v&&T>m||T<v&&y>m)&&(C=!0)}}function handleCurve(n){var r=n[h+0],i=n[h+2],s=n[h+4],a=n[h+6];if(f<=t(r,i,s,a)&&f>=e(r,i,s,a))for(var c,l=n[u+0],d=n[u+2],p=n[u+4],g=n[u+6],y=m>t(l,d,p,g)||v<e(l,d,p,g)?[n]:B.getMonoCurves(n,o),S=0,b=y.length;S<b;S++)if(c=addWinding(y[S]))return c}for(var T=0,k=i.length;T<k;T++){var E,O=i[T],M=O._path,F=O.getValues();if(!(T&&i[T-1]._path===M||(c=null,M._closed||(l=B.getValues(M.getLastCurve().getSegment2(),O.getSegment1(),null,!s))[h]!==l[h+6]&&(c=l),c))){c=F;for(var D=M.getLastCurve();D&&D!==O;){var I=D.getValues();if(I[h]!==I[h+6]){c=I;break}D=D.getPrevious()}}if(E=handleCurve(F))return E;if(T+1===k||i[T+1]._path!==M){if(l&&(E=handleCurve(l)))return E;!C||b||_||(b=_=M.isClockwise(s)^o?1:-1),y+=b,S+=_,b=_=0,C&&(w=!0,C=!1),l=null}}return y=n(y),S=n(S),{winding:t(y,S),windingL:y,windingR:S,quality:x,onPath:w}}function propagateWinding(e,t,r,i,o){var s=[],a=e,c=0;do{var l=(y=e.getCurve()).getLength();s.push({segment:e,curve:y,length:l}),c+=l,e=e.getNext()}while(e&&!e._intersection&&e!==a);for(var u=[.5,.25,.75],h={winding:0,quality:-1},d=0;d<u.length&&h.quality<.5;d++){l=c*u[d];for(var p=0,f=s.length;p<f;p++){var g=s[p],v=g.length;if(l<=v){var y,S=(y=g.curve)._path,b=S._parent,_=b instanceof U?b:S,C=m.clamp(y.getTimeAt(l),1e-8,1-1e-8),w=y.getPointAtTime(C),x=n(y.getTangentAtTime(C).y)<Math.SQRT1_2,P=o.subtract&&r&&(_===t&&r._getWinding(w,x,!0).winding||_===r&&!t._getWinding(w,x,!0).winding)?{winding:0,quality:1}:getWinding(w,i,x,!0);P.quality>h.quality&&(h=P);break}l-=v}}for(p=s.length-1;p>=0;p--)s[p].segment._winding=h}function tracePaths(e,t){var n,r=[];function isValid(e){var n;return!(!e||e._visited||t&&(!t[(n=e._winding||{}).winding]||t.unite&&2===n.winding&&n.windingL&&n.windingR))}function isStart(e){if(e)for(var t=0,r=n.length;t<r;t++)if(e===n[t])return!0;return!1}function visitPath(e){for(var t=e._segments,n=0,r=t.length;n<r;n++)t[n]._visited=!0}function getCrossingSegments(e,t){var r=e._intersection,i=r,o=[];function collect(r,i){for(;r&&r!==i;){var s=r._segment,a=s&&s._path;if(a){var c=s.getNext()||a.getFirstSegment(),l=c._intersection;s!==e&&(isStart(s)||isStart(c)||c&&isValid(s)&&(isValid(c)||l&&isValid(l._segment)))&&o.push(s),t&&n.push(s)}r=r._next}}if(t&&(n=[e]),r){for(collect(r);r&&r._prev;)r=r._prev;collect(r,i)}return o}e.sort(function(e,t){var n=e._intersection,r=t._intersection,i=!(!n||!n._overlap),o=!(!r||!r._overlap),s=e._path,a=t._path;return i^o?i?1:-1:!n^!r?n?1:-1:s!==a?s._id-a._id:e._index-t._index});for(var i=0,o=e.length;i<o;i++){var s,a,c,l=e[i],u=isValid(l),h=null,d=!1,p=!0,f=[];if(u&&l._path._overlapsOnly){var g=l._path,m=l._intersection._segment._path;g.compare(m)&&(g.getArea()&&r.push(g.clone(!1)),visitPath(g),visitPath(m),u=!1)}for(;u;){var v=!h,y=getCrossingSegments(l,v),S=y.shift(),b=!(d=!v&&(isStart(l)||isStart(S)))&&S;if(v&&(h=new z(k.NO_INSERT),s=null),d){(l.isFirst()||l.isLast())&&(p=l._path._closed),l._visited=!0;break}if(b&&s&&(f.push(s),s=null),s||(b&&y.push(l),s={start:h._segments.length,crossings:y,visited:a=[],handleIn:c}),b&&(l=S),!isValid(l)){h.removeSegments(s.start);for(var _=0,C=a.length;_<C;_++)a[_]._visited=!1;a.length=0;do{(l=s&&s.crossings.shift())&&l._path||(l=null,(s=f.pop())&&(a=s.visited,c=s.handleIn))}while(s&&!isValid(l));if(!l)break}var w=l.getNext();h.add(new N(l._point,c,w&&l._handleOut)),l._visited=!0,a.push(l),l=w||l._path.getFirstSegment(),c=w&&w._handleIn}d&&(p&&(h.getFirstSegment().setHandleIn(c),h.setClosed(p)),0!==h.getArea()&&r.push(h))}return r}return{_getWinding:function(e,t,n){return getWinding(e,this.getCurves(),t,n)},unite:function(e,t){return traceBoolean(this,e,"unite",t)},intersect:function(e,t){return traceBoolean(this,e,"intersect",t)},subtract:function(e,t){return traceBoolean(this,e,"subtract",t)},exclude:function(e,t){return traceBoolean(this,e,"exclude",t)},divide:function(e,t){return t&&(0==t.trace||t.stroke)?splitBoolean(this,e,"divide"):createResult([this.subtract(e,t),this.intersect(e,t)],!0,this,e,t)},resolveCrossings:function(){var e=this._children,t=e||[this];function hasOverlap(e,t){var n=e&&e._intersection;return n&&n._overlap&&n._path===t}var n=!1,r=!1,i=this.getIntersections(null,function(e){return e.hasOverlap()&&(n=!0)||e.isCrossing()&&(r=!0)}),o=n&&r&&[];if(i=L.expand(i),n)for(var s=divideLocations(i,function(e){return e.hasOverlap()},o),a=s.length-1;a>=0;a--){var c=s[a],l=c._path,h=c._segment,d=h.getPrevious(),p=h.getNext();hasOverlap(d,l)&&hasOverlap(p,l)&&(h.remove(),d._handleOut._set(0,0),p._handleIn._set(0,0),d===h||d.getCurve().hasLength()||(p._handleIn.set(d._handleIn),d.remove()))}r&&(divideLocations(i,n&&function(e){var t=e.getCurve(),n=e.getSegment(),r=e._intersection,i=r._curve,o=r._segment;if(t&&i&&t._path&&i._path)return!0;n&&(n._intersection=null),o&&(o._intersection=null)},o),o&&clearCurveHandles(o),t=tracePaths(u.each(t,function(e){this.push.apply(this,e._segments)},[])));var f,g=t.length;return g>1&&e?(t!==e&&this.setChildren(t),f=this):1!==g||e||(t[0]!==this&&this.setSegments(t[0].removeSegments()),f=this),f||((f=new U(k.NO_INSERT)).addChildren(t),(f=f.reduce()).copyAttributes(this),this.replaceWith(f)),f},reorient:function(e,t){var n=this._children;return n&&n.length?this.setChildren(reorientPaths(this.removeChildren(),function(t){return!!(e?t:1&t)},t)):t!==a&&this.setClockwise(t),this},getInteriorPoint:function(){var n=this.getBounds().getCenter(!0);if(!this.contains(n)){for(var r=this.getCurves(),i=n.y,o=[],s=[],a=0,c=r.length;a<c;a++){var l=r[a].getValues(),u=l[1],h=l[3],d=l[5],p=l[7];if(i>=e(u,h,d,p)&&i<=t(u,h,d,p))for(var f=B.getMonoCurves(l),g=0,m=f.length;g<m;g++){var v=f[g],y=v[1],S=v[7];if(y!==S&&(i>=y&&i<=S||i>=S&&i<=y)){var b=i===y?v[0]:i===S?v[6]:1===B.solveCubic(v,1,i,s,0,1)?B.getPoint(v,s[0]).x:(v[0]+v[6])/2;o.push(b)}}}o.length>1&&(o.sort(function(e,t){return e-t}),n.x=(o[0]+o[1])/2)}return n}}});var H=u.extend({_class:"PathFlattener",initialize:function(e,t,n,r,i){var o,s=[],a=[],c=0,l=1/(n||32),u=e._segments,h=u[0];function addCurve(e,n){var o=B.getValues(e,n,i);s.push(o),function computeParts(e,n,i,o){if(!(o-i>l)||r&&B.isStraight(e)||B.isFlatEnough(e,t||.25)){var s=e[6]-e[0],u=e[7]-e[1],h=Math.sqrt(s*s+u*u);h>0&&(c+=h,a.push({offset:c,curve:e,index:n,time:o}))}else{var d=B.subdivide(e,.5),p=(i+o)/2;computeParts(d[0],n,i,p),computeParts(d[1],n,p,o)}}(o,e._index,0,1)}for(var d=1,p=u.length;d<p;d++)addCurve(h,o=u[d]),h=o;e._closed&&addCurve(o,u[0]),this.curves=s,this.parts=a,this.length=c,this.index=0},_get:function(e){for(var t,n=this.parts,r=n.length,i=this.index;t=i,i&&!(n[--i].offset<e););for(;t<r;t++){var o=n[t];if(o.offset>=e){this.index=t;var s=n[t-1],a=s&&s.index===o.index?s.time:0,c=s?s.offset:0;return{index:o.index,time:a+(o.time-a)*(e-c)/(o.offset-c)}}}return{index:n[r-1].index,time:1}},drawPart:function(e,t,n){for(var r=this._get(t),i=this._get(n),o=r.index,s=i.index;o<=s;o++){var a=B.getPart(this.curves[o],o===r.index?r.time:0,o===i.index?i.time:1);o===r.index&&e.moveTo(a[0],a[1]),e.bezierCurveTo.apply(e,a.slice(2))}}},u.each(B._evaluateMethods,function(e){this[e+"At"]=function(t){var n=this._get(t);return B[e](this.curves[n.index],n.time)}},{})),V=u.extend({initialize:function(e){for(var t,n=this.points=[],r=e._segments,i=e._closed,o=0,s=r.length;o<s;o++){var a=r[o].point;t&&t.equals(a)||n.push(t=a.clone())}i&&(n.unshift(n[n.length-1]),n.push(n[1])),this.closed=i},fit:function(e){var t=this.points,n=t.length,r=null;return n>0&&(r=[new N(t[0])],n>1&&(this.fitCubic(r,e,0,n-1,t[1].subtract(t[0]),t[n-2].subtract(t[n-1])),this.closed&&(r.shift(),r.pop()))),r},fitCubic:function(e,t,n,r,i,o){var s=this.points;if(r-n!=1){for(var a,c=this.chordLengthParameterize(n,r),l=Math.max(t,t*t),u=!0,h=0;h<=4;h++){var d=this.generateBezier(n,r,c,i,o),p=this.findMaxError(n,r,d,c);if(p.error<t&&u)return void this.addCurve(e,d);if(a=p.index,p.error>=l)break;u=this.reparameterize(n,r,c,d),l=p.error}var f=s[a-1].subtract(s[a+1]);this.fitCubic(e,t,n,a,i,f),this.fitCubic(e,t,a,r,f.negate(),o)}else{var g=s[n],m=s[r],v=g.getDistance(m)/3;this.addCurve(e,[g,g.add(i.normalize(v)),m.add(o.normalize(v)),m])}},addCurve:function(e,t){e[e.length-1].setHandleOut(t[1].subtract(t[0])),e.push(new N(t[3],t[2].subtract(t[3])))},generateBezier:function(e,t,n,r,i){for(var o=Math.abs,s=this.points,a=s[e],c=s[t],l=[[0,0],[0,0]],u=[0,0],h=0,d=t-e+1;h<d;h++){var p=n[h],f=1-p,g=3*p*f,m=f*f*f,v=g*f,y=g*p,S=p*p*p,b=r.normalize(v),_=i.normalize(y),C=s[e+h].subtract(a.multiply(m+v)).subtract(c.multiply(y+S));l[0][0]+=b.dot(b),l[0][1]+=b.dot(_),l[1][0]=l[0][1],l[1][1]+=_.dot(_),u[0]+=b.dot(C),u[1]+=_.dot(C)}var w,x,P=l[0][0]*l[1][1]-l[1][0]*l[0][1];if(o(P)>1e-12){var T=l[0][0]*u[1]-l[1][0]*u[0];w=(u[0]*l[1][1]-u[1]*l[0][1])/P,x=T/P}else{var k=l[0][0]+l[0][1],E=l[1][0]+l[1][1];w=x=o(k)>1e-12?u[0]/k:o(E)>1e-12?u[1]/E:0}var O,M,F=c.getDistance(a),D=1e-12*F;if(w<D||x<D)w=x=F/3;else{var I=c.subtract(a);O=r.normalize(w),M=i.normalize(x),O.dot(I)-M.dot(I)>F*F&&(w=x=F/3,O=M=null)}return[a,a.add(O||r.normalize(w)),c.add(M||i.normalize(x)),c]},reparameterize:function(e,t,n,r){for(var i=e;i<=t;i++)n[i-e]=this.findRoot(r,this.points[i],n[i-e]);i=1;for(var o=n.length;i<o;i++)if(n[i]<=n[i-1])return!1;return!0},findRoot:function(e,t,n){for(var r=[],i=[],o=0;o<=2;o++)r[o]=e[o+1].subtract(e[o]).multiply(3);for(o=0;o<=1;o++)i[o]=r[o+1].subtract(r[o]).multiply(2);var s=this.evaluate(3,e,n),a=this.evaluate(2,r,n),c=this.evaluate(1,i,n),l=s.subtract(t),u=a.dot(a)+l.dot(c);return m.isZero(u)?n:n-l.dot(a)/u},evaluate:function(e,t,n){for(var r=t.slice(),i=1;i<=e;i++)for(var o=0;o<=e-i;o++)r[o]=r[o].multiply(1-n).add(r[o+1].multiply(n));return r[0]},chordLengthParameterize:function(e,t){for(var n=[0],r=e+1;r<=t;r++)n[r-e]=n[r-e-1]+this.points[r].getDistance(this.points[r-1]);r=1;for(var i=t-e;r<=i;r++)n[r]/=n[i];return n},findMaxError:function(e,t,n,r){for(var i=Math.floor((t-e+1)/2),o=0,s=e+1;s<t;s++){var a=this.evaluate(3,n,r[s-e]).subtract(this.points[s]),c=a.x*a.x+a.y*a.y;c>=o&&(o=c,i=s)}return{error:o,index:i}}}),W=k.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function TextItem(e){this._content="",this._lines=[];var t=e&&u.isPlainObject(e)&&e.x===a&&e.y===a;this._initialize(t&&e,!t&&y.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),G=W.extend({_class:"PointText",initialize:function PointText(){W.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new S(e.x,e.y,this,"setPoint")},setPoint:function(){var e=y.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,t,n){if(this._content){this._setStyles(e,t,n);var r=this._lines,i=this._style,o=i.hasFill(),s=i.hasStroke(),a=i.getLeading(),c=e.shadowColor;e.font=i.getFontStyle(),e.textAlign=i.getJustification();for(var l=0,u=r.length;l<u;l++){e.shadowColor=c;var h=r[l];o&&(e.fillText(h,0,0),e.shadowColor="rgba(0,0,0,0)"),s&&e.strokeText(h,0,0),e.translate(0,a)}}},_getBounds:function(e,t){var n=this._style,r=this._lines,i=r.length,o=n.getJustification(),s=n.getLeading(),a=this.getView().getTextWidth(n.getFontStyle(),r),c=0;"left"!==o&&(c-=a/("center"===o?2:1));var l=new C(c,i?-.75*s:0,a,i*s);return e?e._transformBounds(l,l):l}}),q=u.extend(new function(){var e,t={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},n={},r={};function fromCSS(t){var n,i=t.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);if(i){n=[0,0,0];for(var o=0;o<3;o++){var s=i[o+1];n[o]=parseInt(1==s.length?s+s:s,16)/255}}else if(i=t.match(/^rgba?\((.*)\)$/)){o=0;for(var a=(n=i[1].split(",")).length;o<a;o++){s=+n[o];n[o]=o<3?s/255:s}}else if(c){var l=r[t];if(!l){e||((e=se.getContext(1,1)).globalCompositeOperation="copy"),e.fillStyle="black",e.clearRect(0,0,1,1),e.fillStyle=t,e.fillRect(0,0,1,1);var u=e.getImageData(0,0,1,1).data;l=r[t]=[u[0]/255,u[1]/255,u[2]/255],u[3]<255&&l.push(u[3]/255)}n=l.slice()}else n=[0,0,0];return n}var i=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],o={"rgb-hsb":function(e,t,n){var r=Math.max(e,t,n),i=r-Math.min(e,t,n);return[0===i?0:60*(r==e?(t-n)/i+(t<n?6:0):r==t?(n-e)/i+2:(e-t)/i+4),0===r?0:i/r,r]},"hsb-rgb":function(e,t,n){var r,o=(e=(e/60%6+6)%6)-(r=Math.floor(e)),s=[n,n*(1-t),n*(1-t*o),n*(1-t*(1-o))];return[s[(r=i[r])[0]],s[r[1]],s[r[2]]]},"rgb-hsl":function(e,t,n){var r=Math.max(e,t,n),i=Math.min(e,t,n),o=r-i,s=0===o,a=(r+i)/2;return[s?0:60*(r==e?(t-n)/o+(t<n?6:0):r==t?(n-e)/o+2:(e-t)/o+4),s?0:a<.5?o/(r+i):o/(2-r-i),a]},"hsl-rgb":function(e,t,n){if(0===t)return[n,n,n];for(var r=[(e=(e/360%1+1)%1)+1/3,e,e-1/3],i=n<.5?n*(1+t):n+t-n*t,o=2*n-i,s=[],a=0;a<3;a++){var c=r[a];c<0&&(c+=1),c>1&&(c-=1),s[a]=6*c<1?o+6*(i-o)*c:2*c<1?i:3*c<2?o+(i-o)*(2/3-c)*6:o}return s},"rgb-gray":function(e,t,n){return[.2989*e+.587*t+.114*n]},"gray-rgb":function(e){return[e,e,e]},"gray-hsb":function(e){return[0,0,e]},"gray-hsl":function(e){return[0,0,e]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return u.each(t,function(e,r){n[r]=[],u.each(e,function(e,i){var o=u.capitalize(e),s=/^(hue|saturation)$/.test(e),a=n[r][i]="gradient"===e?function(e){var t=this._components[0];return t!==(e=K.read(Array.isArray(e)?e:arguments,0,{readNull:!0}))&&(t&&t._removeOwner(this),e&&e._addOwner(this)),e}:"gradient"===r?function(){return y.read(arguments,0,{readNull:"highlight"===e,clone:!0})}:function(e){return null==e||isNaN(e)?0:e};this["get"+o]=function(){return this._type===r||s&&/^hs[bl]$/.test(this._type)?this._components[i]:this._convert(r)[i]},this["set"+o]=function(e){this._type===r||s&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(r),this._properties=t[r],this._type=r),this._components[i]=a.call(this,e),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function Color(e){var r,i,o,s,a=arguments,c=this.__read,l=0;Array.isArray(e)&&(e=(a=e)[0]);var h=null!=e&&typeof e;if("string"===h&&e in t&&(r=e,e=a[1],Array.isArray(e)?(i=e,o=a[2]):(c&&(l=1),a=u.slice(a,1),h=typeof e)),!i){if(s="number"===h?a:"object"===h&&null!=e.length?e:null){r||(r=s.length>=3?"rgb":"gray");var d=t[r].length;o=s[d],c&&(l+=s===arguments?d+(null!=o?1:0):1),s.length>d&&(s=u.slice(s,0,d))}else if("string"===h)r="rgb",4===(i=fromCSS(e)).length&&(o=i[3],i.length--);else if("object"===h)if(e.constructor===Color){if(r=e._type,i=e._components.slice(),o=e._alpha,"gradient"===r)for(var p=1,f=i.length;p<f;p++){var g=i[p];g&&(i[p]=g.clone())}}else if(e.constructor===K)r="gradient",s=a;else{var m=t[r="hue"in e?"lightness"in e?"hsl":"hsb":"gradient"in e||"stops"in e||"radial"in e?"gradient":"gray"in e?"gray":"rgb"],v=n[r];this._components=i=[];for(p=0,f=m.length;p<f;p++){null==(y=e[m[p]])&&!p&&"gradient"===r&&"stops"in e&&(y={stops:e.stops,radial:e.radial}),null!=(y=v[p].call(this,y))&&(i[p]=y)}o=e.alpha}c&&r&&(l=1)}if(this._type=r||"rgb",!i){this._components=i=[];for(p=0,f=(v=n[this._type]).length;p<f;p++){var y;null!=(y=v[p].call(this,s&&s[p]))&&(i[p]=y)}}return this._components=i,this._properties=t[this._type],this._alpha=o,c&&(this.__read=l),this},set:"#initialize",_serialize:function(e,t){var n=this.getComponents();return u.serialize(/^(gray|rgb)$/.test(this._type)?n:[this._type].concat(n),e,!0,t)},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65)},_convert:function(e){var t;return this._type===e?this._components.slice():(t=o[this._type+"-"+e])?t.apply(this,this._components):o["rgb-"+e].apply(this,o[this._type+"-rgb"].apply(this,this._components))},convert:function(e){return new q(e,this._convert(e),this._alpha)},getType:function(){return this._type},setType:function(e){this._components=this._convert(e),this._properties=t[e],this._type=e},getComponents:function(){var e=this._components.slice();return null!=this._alpha&&e.push(this._alpha),e},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(e){this._alpha=null==e?null:Math.min(Math.max(e,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(e){var t=u.isPlainValue(e,!0)?q.read(arguments):e;return t===this||t&&this._class===t._class&&this._type===t._type&&this.getAlpha()===t.getAlpha()&&u.equals(this._components,t._components)||!1},toString:function(){for(var e=this._properties,t=[],n="gradient"===this._type,r=g.instance,i=0,o=e.length;i<o;i++){var s=this._components[i];null!=s&&t.push(e[i]+": "+(n?s:r.number(s)))}return null!=this._alpha&&t.push("alpha: "+r.number(this._alpha)),"{ "+t.join(", ")+" }"},toCSS:function(e){var t=this._convert("rgb"),n=e||null==this._alpha?1:this._alpha;function convert(e){return Math.round(255*(e<0?0:e>1?1:e))}return t=[convert(t[0]),convert(t[1]),convert(t[2])],n<1&&t.push(n<0?0:n),e?"#"+((1<<24)+(t[0]<<16)+(t[1]<<8)+t[2]).toString(16).slice(1):(4==t.length?"rgba(":"rgb(")+t.join(",")+")"},toCanvasStyle:function(e,t){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var n,r=this._components,i=r[0],o=i._stops,s=r[1],a=r[2],c=r[3],l=t&&t.inverted();if(l&&(s=l._transformPoint(s),a=l._transformPoint(a),c&&(c=l._transformPoint(c))),i._radial){var u=a.getDistance(s);if(c){var h=c.subtract(s);h.getLength()>u&&(c=s.add(h.normalize(u-.1)))}var d=c||s;n=e.createRadialGradient(d.x,d.y,0,s.x,s.y,u)}else n=e.createLinearGradient(s.x,s.y,a.x,a.y);for(var p=0,f=o.length;p<f;p++){var g=o[p],m=g._offset;n.addColorStop(null==m?p/(f-1):m,g._color.toCanvasStyle())}return this._canvasStyle=n},transform:function(e){if("gradient"===this._type){for(var t=this._components,n=1,r=t.length;n<r;n++){var i=t[n];e._transformPoint(i,i,!0)}this._changed()}},statics:{_types:t,random:function(){var e=Math.random;return new q(e(),e(),e())}}})},new function(){return u.each({add:function(e,t){return e+t},subtract:function(e,t){return e-t},multiply:function(e,t){return e*t},divide:function(e,t){return e/t}},function(e,t){this[t]=function(t){t=q.read(arguments);for(var n=this._type,r=this._components,i=t._convert(n),o=0,s=r.length;o<s;o++)i[o]=e(r[o],i[o]);return new q(n,i,null!=this._alpha?e(this._alpha,t.getAlpha()):null)}},{})}),K=u.extend({_class:"Gradient",initialize:function Gradient(e,t){this._id=v.get(),e&&u.isPlainObject(e)&&(this.set(e),e=t=null),null==this._stops&&this.setStops(e||["white","black"]),null==this._radial&&this.setRadial("string"==typeof t&&"radial"===t||t||!1)},_serialize:function(e,t){return t.add(this,function(){return u.serialize([this._stops,this._radial],e,!0,t)})},_changed:function(){for(var e=0,t=this._owners&&this._owners.length;e<t;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var t=this._owners?this._owners.indexOf(e):-1;-1!=t&&(this._owners.splice(t,1),this._owners.length||(this._owners=a))},clone:function(){for(var e=[],t=0,n=this._stops.length;t<n;t++)e[t]=this._stops[t].clone();return new K(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var t=this._stops;if(t)for(var n=0,r=t.length;n<r;n++)t[n]._owner=a;for(n=0,r=(t=this._stops=$.readList(e,0,{clone:!0})).length;n<r;n++)t[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var t=this._stops,n=e._stops,r=t.length;if(r===n.length){for(var i=0;i<r;i++)if(!t[i].equals(n[i]))return!1;return!0}}return!1}}),$=u.extend({_class:"GradientStop",initialize:function GradientStop(e,t){var n=e,r=t;"object"==typeof e&&t===a&&(Array.isArray(e)&&"number"!=typeof e[0]?(n=e[0],r=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(n=e.color,r=e.offset||e.rampPoint||0)),this.setColor(n),this.setOffset(r)},clone:function(){return new $(this._color.clone(),this._offset)},_serialize:function(e,t){var n=this._color,r=this._offset;return u.serialize(null==r?[n]:[n,r],e,!0,t)},_changed:function(){this._owner&&this._owner._changed(65)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){var e=q.read(arguments,0,{clone:!0});e&&(e._owner=this),this._color=e,this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),X=u.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new y,selectedColor:null},t=u.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),n=u.set({},t,{fillColor:new q}),r={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},i={beans:!0},s={_class:"Style",beans:!0,initialize:function Style(r,i,s){this._values={},this._owner=i,this._project=i&&i._project||s||o.project,this._defaults=!i||i instanceof E?t:i instanceof W?n:e,r&&this.set(r)}};return u.each(t,function(e,t){var n=/Color$/.test(t),o="shadowOffset"===t,c=u.capitalize(t),l=r[t],h="set"+c,d="get"+c;s[h]=function(e){var r=this._owner,i=r&&r._children;if(i&&i.length>0&&!(r instanceof U))for(var o=0,s=i.length;o<s;o++)i[o]._style[h](e);else if(t in this._defaults){var c=this._values[t];c!==e&&(n&&(c&&c._owner!==a&&(c._owner=a),e&&e.constructor===q&&(e._owner&&(e=e.clone()),e._owner=r)),this._values[t]=e,r&&r._changed(l||65))}},s[d]=function(e){var r,i=this._owner,s=i&&i._children;if(t in this._defaults&&(!s||!s.length||e||i instanceof U))if((r=this._values[t])===a)(r=this._defaults[t])&&r.clone&&(r=r.clone());else{var c=n?q:o?y:null;!c||r&&r.constructor===c||(this._values[t]=r=c.read([r],0,{readNull:!0,clone:!0}),r&&n&&(r._owner=i))}else if(s)for(var l=0,h=s.length;l<h;l++){var p=s[l]._style[d]();if(l){if(!u.equals(r,p))return a}else r=p}return r},i[d]=function(e){return this._style[d](e)},i[h]=function(e){this._style[h](e)}}),u.each({Font:"FontFamily",WindingRule:"FillRule"},function(e,t){var n="get"+t,r="set"+t;s[n]=i[n]="#get"+e,s[r]=i[r]="#set"+e}),k.inject(i),s},{set:function(e){var t=e instanceof X,n=t?e._values:e;if(n)for(var r in n)if(r in this._defaults){var i=n[r];this[r]=i&&t&&i.clone?i.clone():i}},equals:function(e){function compare(e,t,n){var r=e._values,i=t._values,o=t._defaults;for(var s in r){var c=r[s],l=i[s];if(!(n&&s in i||u.equals(c,l===a?o[s]:l)))return!1}return!0}return e===this||e&&this._class===e._class&&compare(this,e)&&compare(e,this,!0)||!1},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function getLeading(){var e=getLeading.base.call(this),t=this.getFontSize();return/pt|em|%|px/.test(t)&&(t=this.getView().getPixelSize(t)),null!=e?e:1.2*t}}),Y=new function(){function handlePrefix(e,t,n,r){for(var i=["","webkit","moz","Moz","ms","o"],o=t[0].toUpperCase()+t.substring(1),s=0;s<6;s++){var a=i[s],c=a?a+o:t;if(c in e){if(!n)return e[c];e[c]=r;break}}}return{getStyles:function(e){var t=e&&9!==e.nodeType?e.ownerDocument:e,n=t&&t.defaultView;return n&&n.getComputedStyle(e,"")},getBounds:function(e,t){var n,r=e.ownerDocument,i=r.body,o=r.documentElement;try{n=e.getBoundingClientRect()}catch(l){n={left:0,top:0,width:0,height:0}}var s=n.left-(o.clientLeft||i.clientLeft||0),a=n.top-(o.clientTop||i.clientTop||0);if(!t){var c=r.defaultView;s+=c.pageXOffset||o.scrollLeft||i.scrollLeft,a+=c.pageYOffset||o.scrollTop||i.scrollTop}return new C(s,a,n.width,n.height)},getViewportBounds:function(e){var t=e.ownerDocument,n=t.defaultView,r=t.documentElement;return new C(0,0,n.innerWidth||r.clientWidth,n.innerHeight||r.clientHeight)},getOffset:function(e,t){return Y.getBounds(e,t).getPoint()},getSize:function(e){return Y.getBounds(e,!0).getSize()},isInvisible:function(e){return Y.getSize(e).equals(new b(0,0))},isInView:function(e){return!Y.isInvisible(e)&&Y.getViewportBounds(e).intersects(Y.getBounds(e,!0))},isInserted:function(e){return l.body.contains(e)},getPrefixed:function(e,t){return e&&handlePrefix(e,t)},setPrefixed:function(e,t,n){if("object"==typeof t)for(var r in t)handlePrefix(e,r,!0,t[r]);else handlePrefix(e,t,!0,n)}}},J={add:function(e,t){if(e)for(var n in t)for(var r=t[n],i=n.split(/[\s,]+/g),o=0,s=i.length;o<s;o++)e.addEventListener(i[o],r,!1)},remove:function(e,t){if(e)for(var n in t)for(var r=t[n],i=n.split(/[\s,]+/g),o=0,s=i.length;o<s;o++)e.removeEventListener(i[o],r,!1)},getPoint:function(e){var t=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new y(t.pageX||t.clientX+l.documentElement.scrollLeft,t.pageY||t.clientY+l.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,t){return J.getPoint(e).subtract(Y.getOffset(t||J.getTarget(e)))}};J.requestAnimationFrame=new function(){var e,t=Y.getPrefixed(c,"requestAnimationFrame"),n=!1,r=[];function handleCallbacks(){var e=r;r=[];for(var i=0,o=e.length;i<o;i++)e[i]();(n=t&&r.length)&&t(handleCallbacks)}return function(i){r.push(i),t?n||(t(handleCallbacks),n=!0):e||(e=setInterval(handleCallbacks,1e3/60))}};var Z=u.extend(h,{_class:"View",initialize:function View(e,t){function getSize(e){return t[e]||parseInt(t.getAttribute(e),10)}function getCanvasSize(){var e=Y.getSize(t);return e.isNaN()||e.isZero()?new b(getSize("width"),getSize("height")):e}var n;if(c&&t){this._id=t.getAttribute("id"),null==this._id&&t.setAttribute("id",this._id="view-"+View._id++),J.add(t,this._viewEvents);if(Y.setPrefixed(t.style,{userDrag:"none",userSelect:"none",touchCallout:"none",contentZooming:"none",tapHighlightColor:"rgba(0,0,0,0)"}),d.hasAttribute(t,"resize")){var r=this;J.add(c,this._windowEvents={resize:function(){r.setViewSize(getCanvasSize())}})}if(n=getCanvasSize(),d.hasAttribute(t,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var i=this._stats.domElement,s=i.style,a=Y.getOffset(t);s.position="absolute",s.left=a.x+"px",s.top=a.y+"px",l.body.appendChild(i)}}else n=new b(t),t=null;this._project=e,this._scope=e._scope,this._element=t,this._pixelRatio||(this._pixelRatio=c&&c.devicePixelRatio||1),this._setElementSize(n.width,n.height),this._viewSize=n,View._views.push(this),View._viewsById[this._id]=this,(this._matrix=new x)._owner=this,View._focused||(View._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!o.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Z._focused===this&&(Z._focused=null),Z._views.splice(Z._views.indexOf(this),1),delete Z._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),J.remove(this._element,this._viewEvents),J.remove(l,this._docEvents),J.remove(c,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:u.each(k._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){this._autoUpdate=e,e&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;J.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var t=e._element;Y.getPrefixed(l,"hidden")&&"true"!==d.getAttribute(t,"keepalive")||!Y.isInView(t)||e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){o=this._scope;var e=Date.now()/1e3,t=this._last?e-this._last:0;this._last=e,this.emit("frame",new u({delta:t,time:this._time+=t,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,t){var n=this._frameItems;t?(n[e._id]={item:e,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[e._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var t in this._frameItems){var n=this._frameItems[t];n.item.emit("frame",new u(e,{time:n.time+=e.delta,count:n.count++}))}},_changed:function(){this._project._changed(2049),this._bounds=this._decomposed=a},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var e=this._viewSize;return new _(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=b.read(arguments),t=e.subtract(this._viewSize);t.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:t}),this._autoUpdate&&this.update())},_setElementSize:function(e,t){var n=this._element;n&&(n.width!==e&&(n.width=e),n.height!==t&&(n.height=t))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new C(new y,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Y.isInView(this._element)},isInserted:function(){return Y.isInserted(this._element)},getPixelSize:function(e){var t,n=this._element;if(n){var r=n.parentNode,i=l.createElement("div");i.style.fontSize=e,r.appendChild(i),t=parseFloat(Y.getStyles(i).fontSize),r.removeChild(i)}else t=parseFloat(t);return t},getTextWidth:function(e,t){return 0}},u.each(["rotate","scale","shear","skew"],function(e){var t="rotate"===e;this[e]=function(){var n=(t?u:y).read(arguments),r=y.read(arguments,0,{readNull:!0});return this.transform((new x)[e](n,r||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new x;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=y.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose(),t=e&&e.scaling;return t?(t.x+t.y)/2:0},setZoom:function(e){this.transform((new x).scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){var e=this._decompose();return e&&e.rotation},setRotation:function(e){var t=this.getRotation();null!=t&&null!=e&&this.rotate(e-t)},getScaling:function(){var e=this._decompose(),t=e&&e.scaling;return t?new S(t.x,t.y,this,"setScaling"):a},setScaling:function(){var e=this.getScaling(),t=y.read(arguments,0,{clone:!0,readNull:!0});e&&t&&this.scale(t.x/e.x,t.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.initialize.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(y.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(y.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(y.read(arguments))},getEventPoint:function(e){return this.viewToProject(J.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,t){return l&&"string"==typeof t&&(t=l.getElementById(t)),new(c?Q:Z)(e,t)}}},new function(){if(c){var e,t,n,r,i,s=!1,a=!1,u=c.navigator;u.pointerEnabled||u.msPointerEnabled?(n="pointerdown MSPointerDown",r="pointermove MSPointerMove",i="pointerup pointercancel MSPointerUp MSPointerCancel"):(n="touchstart",r="touchmove",i="touchend touchcancel","ontouchstart"in c&&u.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(n+=" mousedown",r+=" mousemove",i+=" mouseup"));var h={},d={mouseout:function(e){var t=Z._focused,n=J.getRelatedTarget(e);if(t&&(!n||"HTML"===n.nodeName)){var r=J.getOffset(e,t._element),i=r.x,o=Math.abs,s=o(i),a=s-(1<<25);r.x=o(a)<s?a*(i<0?-1:1):i,handleMouseMove(t,e,t.viewToProject(r))}},scroll:updateFocus};h[n]=function(e){var t=Z._focused=getView(e);s||(s=!0,t._handleMouseEvent("mousedown",e))},d[r]=function(n){var r=Z._focused;if(!a){var i=getView(n);i?r!==i&&(r&&handleMouseMove(r,n),e||(e=r),r=Z._focused=t=i):t&&t===r&&(e&&!e.isInserted()&&(e=null),r=Z._focused=e,e=null,updateFocus())}r&&handleMouseMove(r,n)},d[n]=function(){a=!0},d[i]=function(e){var t=Z._focused;t&&s&&t._handleMouseEvent("mouseup",e),a=s=!1},J.add(l,d),J.add(c,{load:updateFocus});var p,f,g,m,v,y,S,b,_=!1,C=!1,w={doubleclick:"click",mousedrag:"mousemove"},x=!1,P={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:h,_docEvents:d,_handleMouseEvent:function(e,t,n){var r=this._itemEvents,i=r.native[e],o="mousemove"===e,a=this._scope.tool,c=this;function responds(e){return r.virtual[e]||c.responds(e)||a&&a.responds(e)}o&&s&&responds("mousedrag")&&(e="mousedrag"),n||(n=this.getEventPoint(t));var l=this.getBounds().contains(n),u=i&&l&&c._project.hitTest(n,{tolerance:0,fill:!0,stroke:!0}),h=u&&u.item||null,d=!1,w={};if(w[e.substr(5)]=!0,i&&h!==m&&(m&&emitMouseEvent(m,null,"mouseleave",t,n),h&&emitMouseEvent(h,null,"mouseenter",t,n),m=h),x^l&&(emitMouseEvent(this,null,l?"mouseenter":"mouseleave",t,n),l?this:null,d=!0),!l&&!w.drag||n.equals(f)||(emitMouseEvents(this,h,o?e:"mousemove",t,n,f),d=!0),x=l,w.down&&l||w.up&&p){if(emitMouseEvents(this,h,e,t,n,p),w.down){if(b=h===y&&Date.now()-S<300,g=y=h,!C&&h){for(var P=h;P&&!P.responds("mousedrag");)P=P._parent;P&&(v=h)}p=n}else w.up&&(C||h!==g||(S=Date.now(),emitMouseEvents(this,h,b?"doubleclick":"click",t,n,p),b=!1),g=v=null);x=!1,d=!0}f=n,d&&a&&(_=a._handleMouseEvent(e,t,n,w)||_),(_&&!w.move||w.down&&responds("mouseup"))&&t.preventDefault()},_handleKeyEvent:function(e,t,n,r){var i,s=this._scope,a=s.tool;function emit(a){a.responds(e)&&(o=s,a.emit(e,i=i||new te(e,t,n,r)))}this.isVisible()&&(emit(this),a&&a.responds(e)&&emit(a))},_countItemEvent:function(e,t){var n=this._itemEvents,r=n.native,i=n.virtual;for(var o in P)r[o]=(r[o]||0)+(P[o][e]||0)*t;i[e]=(i[e]||0)+t},statics:{updateFocus}}}function getView(e){var t=J.getTarget(e);return t.getAttribute&&Z._viewsById[t.getAttribute("id")]}function updateFocus(){var e=Z._focused;if(!e||!e.isVisible())for(var n=0,r=Z._views.length;n<r;n++)if((e=Z._views[n]).isVisible()){Z._focused=t=e;break}}function handleMouseMove(e,t,n){e._handleMouseEvent("mousemove",t,n)}function emitMouseEvent(e,t,n,r,i,o,s){var a,c=!1;function emit(e,n){if(e.responds(n)){if(a||(a=new re(n,r,i,t||e,o?i.subtract(o):null)),e.emit(n,a)&&(_=!0,a.prevented&&(C=!0),a.stopped))return c=!0}else{var s=w[n];if(s)return emit(e,s)}}for(;e&&e!==s&&!emit(e,n);)e=e._parent;return c}function emitMouseEvents(e,t,n,r,i,o){return e._project.removeOn(n),C=_=!1,v&&emitMouseEvent(v,null,n,r,i,o)||t&&t!==v&&!t.isDescendant(v)&&emitMouseEvent(t,null,n,r,i,o,v)||emitMouseEvent(e,v||t||e,n,r,i,o)}}),Q=Z.extend({_class:"CanvasView",initialize:function CanvasView(e,t){if(!(t instanceof c.HTMLCanvasElement)){var n=b.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+u.slice(arguments,1));t=se.getCanvas(n)}var r=this._context=t.getContext("2d");if(r.save(),this._pixelRatio=1,!/^off|false$/.test(d.getAttribute(t,"hidpi"))){var i=c.devicePixelRatio||1,o=Y.getPrefixed(r,"backingStorePixelRatio")||1;this._pixelRatio=i/o}Z.call(this,e,t),this._needsUpdate=!0},remove:function remove(){return this._context.restore(),remove.base.call(this)},_setElementSize:function _setElementSize(e,t){var n=this._pixelRatio;if(_setElementSize.base.call(this,e*n,t*n),1!==n){var r=this._element,i=this._context;if(!d.hasAttribute(r,"resize")){var o=r.style;o.width=e+"px",o.height=t+"px"}i.restore(),i.save(),i.scale(n,n)}},getPixelSize:function getPixelSize(e){var t,n=o.agent;if(n&&n.firefox)t=getPixelSize.base.call(this,e);else{var r=this._context,i=r.font;r.font=e+" serif",t=parseFloat(r.font),r.font=i}return t},getTextWidth:function(e,t){var n=this._context,r=n.font,i=0;n.font=e;for(var o=0,s=t.length;o<s;o++)i=Math.max(i,n.measureText(t[o]).width);return n.font=r,i},update:function(){if(!this._needsUpdate)return!1;var e=this._project,t=this._context,n=this._viewSize;return t.clearRect(0,0,n.width+1,n.height+1),e&&e.draw(t,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),ee=u.extend({_class:"Event",initialize:function Event(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return ne.modifiers}}),te=ee.extend({_class:"KeyEvent",initialize:function KeyEvent(e,t,n,r){this.type=e,this.event=t,this.key=n,this.character=r},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),ne=new function(){var e,t,n={"\t":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},r={tab:"\t",space:" ",enter:"\r"},i={},s={},h=new u({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var e=o&&o.agent;return e&&e.mac?this.meta:this.control}}});function getKey(e){var t=e.key||e.keyIdentifier;return t=/^U\+/.test(t)?String.fromCharCode(parseInt(t.substr(2),16)):/^Arrow[A-Z]/.test(t)?t.substr(5):"Unidentified"===t||t===a?String.fromCharCode(e.keyCode):t,n[t]||(t.length>1?u.hyphenate(t):t.toLowerCase())}function handleKey(t,n,r,a){var c,l=Z._focused;if(i[n]=t,t?s[n]=r:delete s[n],n.length>1&&(c=u.camelize(n))in h){h[c]=t;var d=o&&o.agent;if("meta"===c&&d&&d.mac)if(t)e={};else{for(var p in e)p in s&&handleKey(!1,p,e[p],a);e=null}}else t&&e&&(e[n]=r);l&&l._handleKeyEvent(t?"keydown":"keyup",a,n,r)}return J.add(l,{keydown:function(e){var n=getKey(e),i=o&&o.agent;n.length>1||i&&i.chrome&&(e.altKey||i.mac&&e.metaKey||!i.mac&&e.ctrlKey)?handleKey(!0,n,r[n]||(n.length>1?"":n),e):t=n},keypress:function(e){if(t){var n=getKey(e),r=e.charCode,i=r>=32?String.fromCharCode(r):n.length>1?"":n;n!==t&&(n=i.toLowerCase()),handleKey(!0,n,i,e),t=null}},keyup:function(e){var t=getKey(e);t in s&&handleKey(!1,t,s[t],e)}}),J.add(c,{blur:function(e){for(var t in s)handleKey(!1,t,s[t],e)}}),{modifiers:h,isDown:function(e){return!!i[e]}}},re=ee.extend({_class:"MouseEvent",initialize:function MouseEvent(e,t,n,r,i){this.type=e,this.event=t,this.point=n,this.target=r,this.delta=i},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),ie=ee.extend({_class:"ToolEvent",_item:null,initialize:function ToolEvent(e,t,n){this.tool=e,this.type=t,this.event=n},_choosePoint:function(e,t){return e||(t?t.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var t=e.item,n=t._parent;/^(Group|CompoundPath)$/.test(n._class);)t=n,n=n._parent;this._item=t}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),oe=(p.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function Tool(e){p.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,null!=e&&null!=this._maxDistance&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,null!=this._minDistance&&null!=e&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,t,n,r){o=this._scope,r.drag&&!this.responds(e)&&(e="mousemove");var i=r.move||r.drag,s=this.responds(e),a=this.minDistance,c=this.maxDistance,l=!1,u=this;function update(e,t){var o=n,s=i?u._point:u._downPoint||o;if(i){if(u._moveCount&&o.equals(s))return!1;if(s&&(null!=e||null!=t)){var a=o.subtract(s),c=a.getLength();if(c<(e||0))return!1;t&&(o=s.add(a.normalize(Math.min(c,t))))}u._moveCount++}return u._point=o,u._lastPoint=s||o,r.down&&(u._moveCount=-1,u._downPoint=o,u._downCount++),!0}function emit(){s&&(l=u.emit(e,new ie(u,e,t))||l)}if(r.down)update(),emit();else if(r.up)update(null,c),emit();else if(s)for(;update(a,c);)emit();return l}}),{request:function(e){var t=new s.XMLHttpRequest;return t.open((e.method||"get").toUpperCase(),e.url,u.pick(e.async,!0)),e.mimeType&&t.overrideMimeType(e.mimeType),t.onload=function(){var n=t.status;0===n||200===n?e.onLoad&&e.onLoad.call(t,t.responseText):t.onerror()},t.onerror=function(){var n=t.status,r='Could not load "'+e.url+'" (Status: '+n+")";if(!e.onError)throw new Error(r);e.onError(r,n)},t.send(null)}}),se={canvases:[],getCanvas:function(e,t){if(!c)return null;var n,r=!0;"object"==typeof e&&(t=e.height,e=e.width),this.canvases.length?n=this.canvases.pop():(n=l.createElement("canvas"),r=!1);var i=n.getContext("2d");if(!i)throw new Error("Canvas "+n+" is unable to provide a 2D context.");return n.width===e&&n.height===t?r&&i.clearRect(0,0,e+1,t+1):(n.width=e,n.height=t),i.save(),n},getContext:function(e,t){var n=this.getCanvas(e,t);return n?n.getContext("2d"):null},release:function(e){var t=e&&e.canvas?e.canvas:e;t&&t.getContext&&(t.getContext("2d").restore(),this.canvases.push(t))}},ae=new function(){var e,t,n,r,i,o,s,a,c,l,h,d=Math.min,p=Math.max,f=Math.abs;function getLum(e,t,n){return.2989*e+.587*t+.114*n}function setLum(e,t,n,r){var i=r-getLum(e,t,n),o=(r=getLum(c=e+i,l=t+i,h=n+i),d(c,l,h)),s=p(c,l,h);if(o<0){var a=r-o;c=r+(c-r)*r/a,l=r+(l-r)*r/a,h=r+(h-r)*r/a}if(s>255){var u=255-r,f=s-r;c=r+(c-r)*u/f,l=r+(l-r)*u/f,h=r+(h-r)*u/f}}function getSat(e,t,n){return p(e,t,n)-d(e,t,n)}function setSat(e,t,n,r){var i,o=[e,t,n],s=p(e,t,n),a=d(e,t,n);i=0===d(a=a===e?0:a===t?1:2,s=s===e?0:s===t?1:2)?1===p(a,s)?2:1:0,o[s]>o[a]?(o[i]=(o[i]-o[a])*r/(o[s]-o[a]),o[s]=r):o[i]=o[s]=0,o[a]=0,c=o[0],l=o[1],h=o[2]}var g={multiply:function(){c=i*e/255,l=o*t/255,h=s*n/255},screen:function(){c=i+e-i*e/255,l=o+t-o*t/255,h=s+n-s*n/255},overlay:function(){c=i<128?2*i*e/255:255-2*(255-i)*(255-e)/255,l=o<128?2*o*t/255:255-2*(255-o)*(255-t)/255,h=s<128?2*s*n/255:255-2*(255-s)*(255-n)/255},"soft-light":function(){var r=e*i/255;c=r+i*(255-(255-i)*(255-e)/255-r)/255,l=(r=t*o/255)+o*(255-(255-o)*(255-t)/255-r)/255,h=(r=n*s/255)+s*(255-(255-s)*(255-n)/255-r)/255},"hard-light":function(){c=e<128?2*e*i/255:255-2*(255-e)*(255-i)/255,l=t<128?2*t*o/255:255-2*(255-t)*(255-o)/255,h=n<128?2*n*s/255:255-2*(255-n)*(255-s)/255},"color-dodge":function(){c=0===i?0:255===e?255:d(255,255*i/(255-e)),l=0===o?0:255===t?255:d(255,255*o/(255-t)),h=0===s?0:255===n?255:d(255,255*s/(255-n))},"color-burn":function(){c=255===i?255:0===e?0:p(0,255-255*(255-i)/e),l=255===o?255:0===t?0:p(0,255-255*(255-o)/t),h=255===s?255:0===n?0:p(0,255-255*(255-s)/n)},darken:function(){c=i<e?i:e,l=o<t?o:t,h=s<n?s:n},lighten:function(){c=i>e?i:e,l=o>t?o:t,h=s>n?s:n},difference:function(){(c=i-e)<0&&(c=-c),(l=o-t)<0&&(l=-l),(h=s-n)<0&&(h=-h)},exclusion:function(){c=i+e*(255-i-i)/255,l=o+t*(255-o-o)/255,h=s+n*(255-s-s)/255},hue:function(){setSat(e,t,n,getSat(i,o,s)),setLum(c,l,h,getLum(i,o,s))},saturation:function(){setSat(i,o,s,getSat(e,t,n)),setLum(c,l,h,getLum(i,o,s))},luminosity:function(){setLum(i,o,s,getLum(e,t,n))},color:function(){setLum(e,t,n,getLum(i,o,s))},add:function(){c=d(i+e,255),l=d(o+t,255),h=d(s+n,255)},subtract:function(){c=p(i-e,0),l=p(o-t,0),h=p(s-n,0)},average:function(){c=(i+e)/2,l=(o+t)/2,h=(s+n)/2},negation:function(){c=255-f(255-e-i),l=255-f(255-t-o),h=255-f(255-n-s)}},m=this.nativeModes=u.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(e){this[e]=!0},{}),v=se.getContext(1,1);v&&(u.each(g,function(e,t){var n="darken"===t,r=!1;v.save();try{v.fillStyle=n?"#300":"#a00",v.fillRect(0,0,1,1),v.globalCompositeOperation=t,v.globalCompositeOperation===t&&(v.fillStyle=n?"#a00":"#300",v.fillRect(0,0,1,1),r=v.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(i){}v.restore(),m[t]=r}),se.release(v)),this.process=function(u,d,p,f,v){var y=d.canvas,S="normal"===u;if(S||m[u])p.save(),p.setTransform(1,0,0,1,0,0),p.globalAlpha=f,S||(p.globalCompositeOperation=u),p.drawImage(y,v.x,v.y),p.restore();else{var b=g[u];if(!b)return;for(var _=p.getImageData(v.x,v.y,y.width,y.height),C=_.data,w=d.getImageData(0,0,y.width,y.height).data,x=0,P=C.length;x<P;x+=4){e=w[x],i=C[x],t=w[x+1],o=C[x+1],n=w[x+2],s=C[x+2],r=w[x+3],a=C[x+3],b();var T=r*f/255,k=1-T;C[x]=T*c+k*i,C[x+1]=T*l+k*o,C[x+2]=T*h+k*s,C[x+3]=r*f+k*a}p.putImageData(_,v.x,v.y)}}},ce=new function(){var e="http://www.w3.org/2000/svg",t="http://www.w3.org/2000/xmlns",n="http://www.w3.org/1999/xlink",r={href:n,xlink:t,xmlns:t+"/","xmlns:xlink":t+"/"};function set(e,t,n){for(var i in t){var o=t[i],s=r[i];"number"==typeof o&&n&&(o=n.number(o)),s?e.setAttributeNS(s,i,o):e.setAttribute(i,o)}return e}return{svg:e,xmlns:t,xlink:n,create:function create(t,n,r){return set(l.createElementNS(e,t),n,r)},get:function get(e,t){var n=r[t],i=n?e.getAttributeNS(n,t):e.getAttribute(t);return"null"===i?null:i},set}},le=u.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,t){return!t&&(e instanceof j||e instanceof M||e instanceof W)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,t){var n=u.capitalize(t),r=e[2];this[t]={type:e[1],property:t,attribute:e[0],toSVG:r,fromSVG:r&&u.each(r,function(e,t){this[e]=t},{}),exportFilter:e[3],get:"get"+n,set:"set"+n}},{});return new function(){var e;function getTransform(t,n,r){var i=new u,o=t.getTranslation();if(n){var s=(t=t._shiftless())._inverseTransform(o);i[r?"cx":"x"]=s.x,i[r?"cy":"y"]=s.y,o=null}if(!t.isIdentity()){var a=t.decompose();if(a){var c=[],l=a.rotation,h=a.scaling,d=a.skewing;o&&!o.isZero()&&c.push("translate("+e.point(o)+")"),l&&c.push("rotate("+e.number(l)+")"),m.isZero(h.x-1)&&m.isZero(h.y-1)||c.push("scale("+e.point(h)+")"),d.x&&c.push("skewX("+e.number(d.x)+")"),d.y&&c.push("skewY("+e.number(d.y)+")"),i.transform=c.join(" ")}else i.transform="matrix("+t.getValues().join(",")+")"}return i}function exportGroup(t,n){for(var r=getTransform(t._matrix),i=t._children,o=ce.create("g",r,e),s=0,a=i.length;s<a;s++){var c=i[s],l=exportSVG(c,n);if(l)if(c.isClipMask()){var u=ce.create("clipPath");u.appendChild(l),setDefinition(c,u,"clip"),ce.set(o,{"clip-path":"url(#"+u.id+")"})}else o.appendChild(l)}return o}function exportShape(t){var n=t._type,r=t._radius,i=getTransform(t._matrix,!0,"rectangle"!==n);if("rectangle"===n){n="rect";var o=t._size,s=o.width,a=o.height;i.x-=s/2,i.y-=a/2,i.width=s,i.height=a,r.isZero()&&(r=null)}return r&&("circle"===n?i.r=r:(i.rx=r.width,i.ry=r.height)),ce.create(n,i,e)}var t,n={Group:exportGroup,Layer:exportGroup,Raster:function exportRaster(t,n){var r=getTransform(t._matrix,!0),i=t.getSize(),o=t.getImage();return r.x-=i.width/2,r.y-=i.height/2,r.width=i.width,r.height=i.height,r.href=0==n.embedImages&&o&&o.src||t.toDataURL(),ce.create("image",r,e)},Path:function exportPath(t,n){var r=n.matchShapes;if(r){var i=t.toShape(!1);if(i)return exportShape(i)}var o,s=t._segments,a=s.length,c=getTransform(t._matrix);if(r&&a>=2&&!t.hasHandles())if(a>2){o=t._closed?"polygon":"polyline";for(var l=[],u=0;u<a;u++)l.push(e.point(s[u]._point));c.points=l.join(" ")}else{o="line";var h=s[0]._point,d=s[1]._point;c.set({x1:h.x,y1:h.y,x2:d.x,y2:d.y})}else o="path",c.d=t.getPathData(null,n.precision);return ce.create(o,c,e)},Shape:exportShape,CompoundPath:function exportCompoundPath(t,n){var r=getTransform(t._matrix),i=t.getPathData(null,n.precision);return i&&(r.d=i),ce.create("path",r,e)},SymbolItem:function exportSymbolItem(t,n){var r=getTransform(t._matrix,!0),i=t._definition,o=getDefinition(i,"symbol"),s=i._item,a=s.getBounds();return o||((o=ce.create("symbol",{viewBox:e.rectangle(a)})).appendChild(exportSVG(s,n)),setDefinition(i,o,"symbol")),r.href="#"+o.id,r.x+=a.x,r.y+=a.y,r.width=a.width,r.height=a.height,r.overflow="visible",ce.create("use",r,e)},PointText:function exportText(t){var n=ce.create("text",getTransform(t._matrix,!0),e);return n.textContent=t._content,n}};function applyStyle(t,n,r){var i={},o=!r&&t.getParent(),s=[];return null!=t._name&&(i.id=t._name),u.each(le,function(n){var r=n.get,a=n.type,c=t[r]();if(n.exportFilter?n.exportFilter(t,c):!o||!u.equals(o[r](),c)){if("color"===a&&null!=c){var l=c.getAlpha();l<1&&(i[n.attribute+"-opacity"]=l)}"style"===a?s.push(n.attribute+": "+c):i[n.attribute]=null==c?"none":"color"===a?c.gradient?function exportGradient(t){var n=getDefinition(t,"color");if(!n){var r,i=t.getGradient(),o=i._radial,s=t.getOrigin(),a=t.getDestination();if(o){r={cx:s.x,cy:s.y,r:s.getDistance(a)};var c=t.getHighlight();c&&(r.fx=c.x,r.fy=c.y)}else r={x1:s.x,y1:s.y,x2:a.x,y2:a.y};r.gradientUnits="userSpaceOnUse",n=ce.create((o?"radial":"linear")+"Gradient",r,e);for(var l=i._stops,u=0,h=l.length;u<h;u++){var d=l[u],p=d._color,f=p.getAlpha(),g=d._offset;r={offset:null==g?u/(h-1):g},p&&(r["stop-color"]=p.toCSS(!0)),f<1&&(r["stop-opacity"]=f),n.appendChild(ce.create("stop",r,e))}setDefinition(t,n,"color")}return"url(#"+n.id+")"}(c):c.toCSS(!0):"array"===a?c.join(","):"lookup"===a?n.toSVG[c]:c}}),s.length&&(i.style=s.join(";")),1===i.opacity&&delete i.opacity,t._visible||(i.visibility="hidden"),ce.set(n,i,e)}function getDefinition(e,n){return t||(t={ids:{},svgs:{}}),e&&t.svgs[n+"-"+(e._id||e.__id||(e.__id=v.get("svg")))]}function setDefinition(e,n,r){t||getDefinition();var i=t.ids[r]=(t.ids[r]||0)+1;n.id=r+"-"+i,t.svgs[r+"-"+(e._id||e.__id)]=n}function exportDefinitions(e,n){var r=e,i=null;if(t){for(var o in r="svg"===e.nodeName.toLowerCase()&&e,t.svgs)i||(r||(r=ce.create("svg")).appendChild(e),i=r.insertBefore(ce.create("defs"),r.firstChild)),i.appendChild(t.svgs[o]);t=null}return n.asString?(new s.XMLSerializer).serializeToString(r):r}function exportSVG(e,t,r){var i=n[e._class],o=i&&i(e,t);if(o){var s=t.onExport;s&&(o=s(e,o,t)||o);var a=JSON.stringify(e._data);a&&"{}"!==a&&"null"!==a&&o.setAttribute("data-paper-data",a)}return o&&applyStyle(e,o,r)}function setOptions(t){return t||(t={}),e=new g(t.precision),t}k.inject({exportSVG:function(e){return exportDefinitions(exportSVG(this,e=setOptions(e),!0),e)}}),T.inject({exportSVG:function(t){t=setOptions(t);var n=this._children,r=this.getView(),i=u.pick(t.bounds,"view"),o=t.matrix||"view"===i&&r._matrix,s=o&&x.read([o]),a="view"===i?new C([0,0],r.getViewSize()):"content"===i?k._getBounds(n,s,{stroke:!0}).rect:C.read([i],0,{readNull:!0}),c={version:"1.1",xmlns:ce.svg,"xmlns:xlink":ce.xlink};a&&(c.width=a.width,c.height=a.height,(a.x||a.y)&&(c.viewBox=e.rectangle(a)));var l=ce.create("svg",c,e),h=l;s&&!s.isIdentity()&&(h=l.appendChild(ce.create("g",getTransform(s),e)));for(var d=0,p=n.length;d<p;d++)h.appendChild(exportSVG(n[d],t,!0));return exportDefinitions(l,t)}})},new function(){var e,t={};function getValue(t,n,r,i,o){var s=ce.get(t,n),a=null==s?i?null:r?"":0:r?s:parseFloat(s);return/%\s*$/.test(s)?a/100*(o?1:e[/x|^width/.test(n)?"width":"height"]):a}function getPoint(e,t,n,r,i){return t=getValue(e,t||"x",!1,r,i),n=getValue(e,n||"y",!1,r,i),!r||null!=t&&null!=n?new y(t,n):null}function getSize(e,t,n,r,i){return t=getValue(e,t||"width",!1,r,i),n=getValue(e,n||"height",!1,r,i),!r||null!=t&&null!=n?new b(t,n):null}function convertValue(e,t,n){return"none"===e?null:"number"===t?parseFloat(e):"array"===t?e?e.split(/[\s,]+/g).map(parseFloat):[]:"color"===t?getDefinition(e)||e:"lookup"===t?n[e]:e}function importGroup(e,t,n,r){var i=e.childNodes,o="clippath"===t,s="defs"===t,a=new E,c=a._project,l=c._currentStyle,u=[];if(o||s||(a=applyAttributes(a,e,r),c._currentStyle=a._style.clone()),r)for(var h=e.querySelectorAll("defs"),d=0,p=h.length;d<p;d++)importNode(h[d],n,!1);for(d=0,p=i.length;d<p;d++){var f,g=i[d];1!==g.nodeType||/^defs$/i.test(g.nodeName)||!(f=importNode(g,n,!1))||f instanceof I||u.push(f)}return a.addChildren(u),o&&(a=applyAttributes(a.reduce(),e,r)),c._currentStyle=l,(o||s)&&(a.remove(),a=null),a}function importPoly(e,t){for(var n=e.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),r=[],i=0,o=n.length;i<o;i+=2)r.push(new y(parseFloat(n[i]),parseFloat(n[i+1])));var s=new z(r);return"polygon"===t&&s.closePath(),s}function importGradient(e,n){var r,i=(getValue(e,"href",!0)||"").substring(1),o="radialgradient"===n;if(i)(r=t[i].getGradient())._radial^o&&((r=r.clone())._radial=o);else{for(var s=e.childNodes,a=[],c=0,l=s.length;c<l;c++){var u=s[c];1===u.nodeType&&a.push(applyAttributes(new $,u))}r=new K(a,o)}var h,d,p,f="userSpaceOnUse"!==getValue(e,"gradientUnits",!0);return o?(d=(h=getPoint(e,"cx","cy",!1,f)).add(getValue(e,"r",!1,!1,f),0),p=getPoint(e,"fx","fy",!0,f)):(h=getPoint(e,"x1","y1",!1,f),d=getPoint(e,"x2","y2",!1,f)),applyAttributes(new q(r,h,d,p),e)._scaleToBounds=f,null}var n={"#document":function(e,t,n,r){for(var i=e.childNodes,o=0,s=i.length;o<s;o++){var a=i[o];if(1===a.nodeType)return importNode(a,n,r)}},g:importGroup,svg:importGroup,clippath:importGroup,polygon:importPoly,polyline:importPoly,path:function importPath(e){return j.create(e.getAttribute("d"))},lineargradient:importGradient,radialgradient:importGradient,image:function(e){var t=new F(getValue(e,"href",!0));return t.on("load",function(){var t=getSize(e);this.setSize(t);var n=this._matrix._transformPoint(getPoint(e).add(t.divide(2)));this.translate(n)}),t},symbol:function(e,t,n,r){return new I(importGroup(e,t,n,r),!0)},defs:importGroup,use:function(e){var n=(getValue(e,"href",!0)||"").substring(1),r=t[n],i=getPoint(e);return r?r instanceof I?r.place(i):r.clone().translate(i):null},circle:function(e){return new M.Circle(getPoint(e,"cx","cy"),getValue(e,"r"))},ellipse:function(e){return new M.Ellipse({center:getPoint(e,"cx","cy"),radius:getSize(e,"rx","ry")})},rect:function(e){return new M.Rectangle(new C(getPoint(e),getSize(e)),getSize(e,"rx","ry"))},line:function(e){return new z.Line(getPoint(e,"x1","y1"),getPoint(e,"x2","y2"))},text:function(e){var t=new G(getPoint(e).add(getPoint(e,"dx","dy")));return t.setContent(e.textContent.trim()||""),t}};function applyTransform(e,t,n,r){if(e.transform){for(var i=(r.getAttribute(n)||"").split(/\)\s*/g),o=new x,s=0,a=i.length;s<a;s++){var c=i[s];if(!c)break;for(var l=c.split(/\(\s*/),u=l[0],h=l[1].split(/[\s,]+/g),d=0,p=h.length;d<p;d++)h[d]=parseFloat(h[d]);switch(u){case"matrix":o.append(new x(h[0],h[1],h[2],h[3],h[4],h[5]));break;case"rotate":o.rotate(h[0],h[1],h[2]);break;case"translate":o.translate(h[0],h[1]);break;case"scale":o.scale(h);break;case"skewX":o.skew(h[0],0);break;case"skewY":o.skew(0,h[0])}}e.transform(o)}}function applyOpacity(e,t,n){var r="fill-opacity"===n?"getFillColor":"getStrokeColor",i=e[r]&&e[r]();i&&i.setAlpha(parseFloat(t))}var r=u.set(u.each(le,function(e){this[e.attribute]=function(t,n){if(t[e.set]&&(t[e.set](convertValue(n,e.type,e.fromSVG)),"color"===e.type)){var r=t[e.get]();if(r&&r._scaleToBounds){var i=t.getBounds();r.transform((new x).translate(i.getPoint()).scale(i.getSize()))}}}},{}),{id:function(e,n){t[n]=e,e.setName&&e.setName(n)},"clip-path":function(e,t){var n=getDefinition(t);if(n){if((n=n.clone()).setClipMask(!0),!(e instanceof E))return new E(n,e);e.insertChild(0,n)}},gradientTransform:applyTransform,transform:applyTransform,"fill-opacity":applyOpacity,"stroke-opacity":applyOpacity,visibility:function(e,t){e.setVisible&&e.setVisible("visible"===t)},display:function(e,t){e.setVisible&&e.setVisible(null!==t)},"stop-color":function(e,t){e.setColor&&e.setColor(t)},"stop-opacity":function(e,t){e._color&&e._color.setAlpha(parseFloat(t))},offset:function(e,t){if(e.setOffset){var n=t.match(/(.*)%$/);e.setOffset(n?n[1]/100:parseFloat(t))}},viewBox:function(e,t,n,r,i){var o,s=new C(convertValue(t,"array")),a=getSize(r,null,null,!0);if(e instanceof E){var c=a?a.divide(s.getSize()):1,l=(new x).scale(c).translate(s.getPoint().negate());o=e}else e instanceof I&&(a&&s.setSize(a),o=e._item);if(o){if("visible"!==getAttribute(r,"overflow",i)){var u=new M.Rectangle(s);u.setClipMask(!0),o.addChild(u)}l&&o.transform(l)}}});function getAttribute(e,t,n){var r=e.attributes[t],i=r&&r.value;if(!i){var o=u.camelize(t);(i=e.style[o])||n.node[o]===n.parent[o]||(i=n.node[o])}return i?"none"===i?null:i:a}function applyAttributes(e,t,n){if(t.style){var i=t.parentNode,o={node:Y.getStyles(t)||{},parent:!n&&!/^defs$/i.test(i.tagName)&&Y.getStyles(i)||{}};u.each(r,function(n,r){var i=getAttribute(t,r,o);e=i!==a&&n(e,i,r,t,o)||e})}return e}function getDefinition(e){var n=e&&e.match(/\((?:["'#]*)([^"')]+)/),r=n&&n[1],i=r&&t[c?r.replace(c.location.href.split("#")[0]+"#",""):r];return i&&i._scaleToBounds&&((i=i.clone())._scaleToBounds=!0),i}function importNode(r,i,s){var a,c,h,d=r.nodeName.toLowerCase(),p="#document"!==d,f=l.body,g=o.getView();if(s&&p){if(g)e=g.getSize();else{var m=i.size||{};e={width:m.width||1,height:m.height||1}}e=getSize(r,null,null,!0)||e,a=ce.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),c=r.parentNode,h=r.nextSibling,a.appendChild(r),f.appendChild(a)}var v=o.settings,y=v.applyMatrix,S=v.insertItems;v.applyMatrix=!1,v.insertItems=!1;var b=n[d],_=b&&b(r,d,i,s)||null;if(v.insertItems=S,v.applyMatrix=y,_){!p||_ instanceof E||(_=applyAttributes(_,r,s));var C=i.onImport,w=p&&r.getAttribute("data-paper-data");C&&(_=C(r,_,i)||_),i.expandShapes&&_ instanceof M&&(_.remove(),_=_.toPath()),w&&(_._data=JSON.parse(w))}return a&&(f.removeChild(a),c&&(h?c.insertBefore(r,h):c.appendChild(r))),s&&(t={},_&&u.pick(i.applyMatrix,y)&&_.matrix.apply(!0,!0)),_}function importSVG(e,t,n){if(!e)return null;t="function"==typeof t?{onLoad:t}:t||{};var r=o,i=null;function onLoad(c){try{var l="object"==typeof c?c:(new s.DOMParser).parseFromString(c,"image/svg+xml");if(!l.nodeName)throw l=null,new Error("Unsupported SVG source: "+e);o=r,i=importNode(l,t,!0),t&&!1===t.insert||n._insertItem(a,i);var u=t.onLoad;u&&u(i,c)}catch(h){onError(h)}}function onError(e,n){var r=t.onError;if(!r)throw new Error(e);r(e,n)}if("string"!=typeof e||/^.*</.test(e)){if("undefined"!=typeof File&&e instanceof File){var c=new FileReader;return c.onload=function(){onLoad(c.result)},c.onerror=function(){onError(c.error)},c.readAsText(e)}onLoad(e)}else{var u=l.getElementById(e);u?onLoad(u):oe.request({url:e,async:!0,onLoad,onError})}return i}k.inject({importSVG:function(e,t){return importSVG(e,t,this)}}),T.inject({importSVG:function(e,t){return this.activate(),importSVG(e,t,this)}})},(o=new(d.inject(u.exports,{Base:u,Numerical:m,Key:ne,DomEvent:J,DomElement:Y,document:l,window:c,Symbol:I,PlacedSymbol:D}))).agent.node&&n(776)(o),(i="function"==typeof(r=o)?r.call(t,n,t,e):r)===a||(e.exports=i),o}.call(this,"object"==typeof self?self:null)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(783),o=n(51),s=n(139),a=n(64);t.isRadialGradient=function isRadialGradient(e){return e instanceof RadialGradient};class RadialGradient extends i.RadialGradientRecord{toJS(){let e=this.__js;return e||((e=super.toJS()).__class=this.constructor.name,this.stops.some(e=>o.isTokenCSSVariable(e.value))&&(e.alpha=1),this.__js=e)}toJSON(){return this.toJS()}toCSS(){const e=this.__css;return e||(this.__css=r.RadialGradient.toCSS(this.toJS()))}equals(e){return this.widthFactor===e.widthFactor&&this.heightFactor===e.heightFactor&&this.centerAnchorX===e.centerAnchorX&&this.centerAnchorY===e.centerAnchorY&&this.equalColors(e)}equalColors(e){return this.alpha===e.alpha&&this.stops.count()===e.stops.count()&&this.stops.every((t,n)=>{const i=e.stops.get(n);return(t.value===i.value||r.ConvertColor.equals(t.value,i.value))&&t.position===i.position})}tokenVariables(){const e=[];return this.stops.forEach(t=>{o.isTokenCSSVariable(t.value)&&e.push(t.value)}),e}removeTokenVariables(e){let t=!1;const n=this.stops.map(n=>{const r=s.findValueForTokenCSSVariable(n.value,e);return r?(t=!0,new a.GradientColorStop(n.merge({value:r}))):n});if(t)return new RadialGradient(Object.assign({},this.toJS(),{stops:n}))}}t.RadialGradient=RadialGradient},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withFrameForShape=function withFrameForShape(e){return class extends e{rect(e){return{x:this.x,y:this.y,width:this.width,height:this.height}}matrix(e,t){const n={x:this.x,y:this.y};return t&&(n.x=t.x,n.y=t.y),(new WebKitCSSMatrix).translate(n.x,n.y).rotate(0,0,this.rotation)}transformMatrix(e,t){const n={width:this.width,height:this.height};return t&&(n.width=t.width,n.height=t.height),(new WebKitCSSMatrix).translate(.5*n.width,.5*n.height).multiply(this.matrix(e,t)).translate(-.5*n.width,-.5*n.height)}isRotated(){return this.rotation%360!=0}updateForRect(e,t){return e}updateForSize(e,t){return e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(34),o=n(1),s=n(23),a=n(392),c=n(229),l=n(144),u=n(393);t.withBaseShapeTraits=function withBaseShapeTraits(e){return class extends i.default{isEmptyGroup(){if(!(this instanceof r.ShapeGroupNode||this instanceof r.BooleanShapeNode))return!1;const e=this.children;for(let t=0,n=e.length;t<n;t++)if(!e[t].isEmptyGroup())return!1;return!0}preCommit(e){u.wrapInShapeContainer(this,e)}getProps(){const e=super.getProps();if(!r.isVectorNode(this))return e;if(!this.visible)return e;const t=1!==this.opacity?this.opacity:void 0,n=this.cache.latest?this.cache.latest.tree:null,u=n?n.getParent(this.id):null;let h=!1;u instanceof i.default&&(h=r.isVectorNode(u));const d=!!n&&n.isRootVectorNode(this),p=r.stringFromNodeID(this.id);let f=void 0;f=this.name?this.name:a.defaultName(this);const g=this.calculatedPaths(),m=s.default.isClosed(g)&&"inside"===this.strokeAlignment&&1===this.strokeEnabled&&!!this.strokeWidth,v=1===this.strokeEnabled&&this.strokeWidth?this.strokeColor:"transparent",y=v?o.ConvertColor.getAlpha(v):0,S=p,b=`${p}_clip`,_=1===this.strokeEnabled;let C;_&&this.strokeWidth&&(C=this.strokeWidth,m&&(C*=2));const w={opacity:t,isRootVectorNode:d,calculatedPath:g,insideStroke:m,shapeId:S,strokeEnabled:_,strokeClipId:b,strokeWidth:C,rect:{x:this.x,y:this.y,width:this.width,height:this.height},frame:this.rect(),strokeAlpha:y,key:p,name:f,rotation:this.rotation,lineCap:this.lineCap,lineJoin:this.lineJoin,strokeColor:this.strokeColor,id:this.id,strokeDashArray:this.strokeDashArray,strokeDashOffset:this.strokeDashOffset,strokeMiterLimit:this.strokeMiterLimit};return c.collectBoxShadowPropsForNode(this,w),l.collectFillPropsForNode(this,w),Object.assign(e,w),e}}}},function(e,t,n){function Emitter(e){if(e)return function mixin(e){for(var t in Emitter.prototype)e[t]=Emitter.prototype[t];return e}(e)}e.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Emitter.prototype.once=function(e,t){function on(){this.off(e,on),t.apply(this,arguments)}return on.fn=t,this.on(e,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},Emitter.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},Emitter.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Emitter.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){(function(e){var r,i=n(864),o=n(423),s=n(865),a=n(866),c=n(867);e&&e.ArrayBuffer&&(r=n(868));var l="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),u="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),h=l||u;t.protocol=3;var d=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=i(d),f={type:"error",data:"parser error"},g=n(869);function map(e,t,n){for(var r=new Array(e.length),i=a(e.length,n),o=function(e,n,i){t(n,function(t,n){r[e]=n,i(t,r)})},s=0;s<e.length;s++)o(s,e[s],i)}t.encodePacket=function(n,r,i,o){"function"==typeof r&&(o=r,r=!1),"function"==typeof i&&(o=i,i=null);var s=void 0===n.data?void 0:n.data.buffer||n.data;if(e.ArrayBuffer&&s instanceof ArrayBuffer)return function encodeArrayBuffer(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),s=new Uint8Array(1+i.byteLength);s[0]=d[e.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return r(s.buffer)}(n,r,o);if(g&&s instanceof e.Blob)return function encodeBlob(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(h)return function encodeBlobAsArrayBuffer(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){e.data=i.result,t.encodePacket(e,n,!0,r)},i.readAsArrayBuffer(e.data)}(e,n,r);var i=new Uint8Array(1);i[0]=d[e.type];var o=new g([i.buffer,e.data]);return r(o)}(n,r,o);if(s&&s.base64)return function encodeBase64Object(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}(n,o);var a=d[n.type];return void 0!==n.data&&(a+=i?c.encode(String(n.data),{strict:!1}):String(n.data)),o(""+a)},t.encodeBase64Packet=function(n,r){var i,o="b"+t.packets[n.type];if(g&&n.data instanceof e.Blob){var s=new FileReader;return s.onload=function(){var e=s.result.split(",")[1];r(o+e)},s.readAsDataURL(n.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(u){for(var a=new Uint8Array(n.data),c=new Array(a.length),l=0;l<a.length;l++)c[l]=a[l];i=String.fromCharCode.apply(null,c)}return o+=e.btoa(i),r(o)},t.decodePacket=function(e,n,r){if(void 0===e)return f;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=function tryDecode(e){try{e=c.decode(e,{strict:!1})}catch(t){return!1}return e}(e)))return f;var i=e.charAt(0);return Number(i)==i&&p[i]?e.length>1?{type:p[i],data:e.substring(1)}:{type:p[i]}:f}i=new Uint8Array(e)[0];var o=s(e,1);return g&&"blob"===n&&(o=new g([o])),{type:p[i],data:o}},t.decodeBase64Packet=function(e,t){var n=p[e.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}};var i=r.decode(e.substr(1));return"blob"===t&&g&&(i=new g([i])),{type:n,data:i}},t.encodePayload=function(e,n,r){"function"==typeof n&&(r=n,n=null);var i=o(e);if(n&&i)return g&&!h?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");map(e,function encodeOne(e,r){t.encodePacket(e,!!i&&n,!1,function(e){r(null,function setLengthHeader(e){return e.length+":"+e}(e))})},function(e,t){return r(t.join(""))})},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var i;if("function"==typeof n&&(r=n,n=null),""===e)return r(f,0,1);for(var o,s,a="",c=0,l=e.length;c<l;c++){var u=e.charAt(c);if(":"===u){if(""===a||a!=(o=Number(a)))return r(f,0,1);if(a!=(s=e.substr(c+1,o)).length)return r(f,0,1);if(s.length){if(i=t.decodePacket(s,n,!1),f.type===i.type&&f.data===i.data)return r(f,0,1);if(!1===r(i,c+o,l))return}c+=o,a=""}else a+=u}return""!==a?r(f,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));map(e,function encodeOne(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})},function(e,t){var r=t.reduce(function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2},0),i=new Uint8Array(r),o=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),s=0;s<e.length;s++)r[s]=e.charCodeAt(s);n=r.buffer}i[o++]=t?0:1;var a=n.byteLength.toString();for(s=0;s<a.length;s++)i[o++]=parseInt(a[s]);i[o++]=255;for(r=new Uint8Array(n),s=0;s<r.length;s++)i[o++]=r[s]}),n(i.buffer)})},t.encodePayloadAsBlob=function(e,n){map(e,function encodeOne(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),s=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)s[i]=parseInt(o[i]);if(s[o.length]=255,g){var a=new g([t.buffer,s.buffer,e]);n(null,a)}})},function(e,t){return n(new g(t))})},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var i=e,o=[];i.byteLength>0;){for(var a=new Uint8Array(i),c=0===a[0],l="",u=1;255!==a[u];u++){if(l.length>310)return r(f,0,1);l+=a[u]}i=s(i,2+l.length),l=parseInt(l);var h=s(i,0,l);if(c)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(g){var d=new Uint8Array(h);h="";for(u=0;u<d.length;u++)h+=String.fromCharCode(d[u])}o.push(h),i=s(i,l)}var p=o.length;o.forEach(function(e,i){r(t.decodePacket(e,n,!0),i,p)})}}).call(this,n(8))},function(e,t,n){"use strict";var r=n(190),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=Duplex;var o=n(148);o.inherits=n(67);var s=n(433),a=n(437);o.inherits(Duplex,s);for(var c=i(a.prototype),l=0;l<c.length;l++){var u=c[l];Duplex.prototype[u]||(Duplex.prototype[u]=a.prototype[u])}function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||r(onEndNT,this)}function onEndNT(e){e.end()}Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),Duplex.prototype._destroy=function(e,t){this.push(null),this.end(),r(t,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(68),o=n(117),s=n(37),a=n(97),c=n(266),l=n(16),u=n(267),h=16,d=1048576;function shadowBufferResultion(e,t,n){let r=!1;if(n===l.RenderTarget.export||n===l.RenderTarget.preview)return{scaled:r};let i=e.width*t,o=e.height*t;for(;i*o>d;)r=!0,(i/=2)<32&&(i=32),(o/=2)<32&&(o=32);return{string:`${Math.ceil(i)} ${Math.ceil(o)}`,scaled:r}}function outerShadowElements(e,t,n){const i=e.add("_outer_shadow"+n),o=i.add("offset").id,s=i.add("blur").id,a=i.add("matrix").id;return{filterElements:r.createElement(p,{key:i.id+"-filters",shadow:t,blurId:s,offsetId:o,matrixId:a}),mergeElement:r.createElement("feMergeNode",{key:i.id+"-merge",in:a})}}t.shadowsAsFilter=function shadowsAsFilter(e){const t=[];if(e&&e.length){const n=e.map(e=>`drop-shadow(${e.x}px ${e.y}px ${e.blur}px ${e.color})`);t.push(...n)}return t},t.collectTextShadowsForProps=function collectTextShadowsForProps(e,t){const n=e.shadows.map(e=>`${e.x}px ${e.y}px ${e.blur}px ${e.color}`).join(", ");n&&(t.textShadow=n)},t.collectBoxShadowsForProps=function collectBoxShadowsForProps(e,t){if(!e.shadows||0===e.shadows.length)return;const n=e.shadows.map(e=>c.BoxShadow.toCSS(e)).join(", ");n&&(t.boxShadow=n)},t.shadowForShape=function shadowForShape(e,t,n,o,s,c,u,d,p,f){const g=[];let m=null,v=null,y=!1;if(f!==l.RenderTarget.export&&f!==l.RenderTarget.preview&&p>=h)return{definition:g,outsetElement:m,insetElement:v,needsStrokeClip:y};const S=[],b=[];for(let r=0,i=e.length;r<i;r++){const t=e[r];t.inset?b.push(t):S.push(t)}if(S.length>0){S.reverse();const e=n.add("_shadow_out"),l=a.Rect.atOrigin(t),h=[l];for(let t=0,n=S.length;t<n;t++){const e=localShadowFrame(S[t],l,!0);null!==e&&h.push(e)}let v=0;const y=[],b=[];for(let t=0,r=S.length;t<r;t++){const e=S[t],r=outerShadowElements(n,e,t);v=Math.max(v,e.blur),y.push(r.filterElements),b.push(r.mergeElement)}let _=c;i.isFiniteNumber(_)||(_=0);let C=d.strokeMiterlimit;i.isFiniteNumber(C)||(C=4);let w=a.Rect.merge(...h);const x=shadowBufferResultion(w=a.Rect.inflate(w,1.1*(_*C/2+v)),p,f),P=t.width+(c?c/2:.1),T=t.height+(c?c/2:.1),k=w.x/P*100,E=w.y/T*100,O=w.width/P*100,M=w.height/T*100;g.push(r.createElement("filter",{key:e.id,id:e.id,x:`${k.toFixed(1)}%`,y:`${E.toFixed(1)}%`,width:`${O.toFixed(1)}%`,height:`${M.toFixed(1)}%`,filterUnits:"objectBoundingBox",filterRes:x.string},y,S.length>1?r.createElement("feMerge",null,b):null)),m=r.createElement("g",{filter:e.urlLink},r.createElement("use",Object.assign({},d,{fill:"black",fillOpacity:o<=0?0:1,stroke:"black",strokeOpacity:s<=0?0:1,strokeWidth:s>0?c:0,xlinkHref:n.link,clipPath:u.urlLink})))}if(b.length){b.reverse();const e=n.add("_shadow_inside"),i=a.Rect.atOrigin(t),o=[i];for(let t=0,n=b.length;t<n;t++){const e=localShadowFrame(b[t],i,!0);null!==e&&o.push(e)}const s=a.Rect.merge(...o),l=shadowBufferResultion(s,p,f);y=y||l.scaled;const h=t.width+(c?c/2:.1),d=t.height+(c?c/2:.1),m=s.x/h*100,S=s.y/d*100,_=s.width/h*100,C=s.height/d*100,w=[],x=[];for(let t=0,r=b.length;t<r;t++){const e=innerShadowElements(n,b[t],t);w.push(e.filterElements),x.push(e.mergeElement)}let P;g.push(r.createElement("filter",{key:e.id,id:e.id,x:`${m.toFixed(1)}%`,y:`${S.toFixed(1)}%`,width:`${_.toFixed(1)}%`,height:`${C.toFixed(1)}%`,filterUnits:"objectBoundingBox",filterRes:l.string},w,b.length>1?r.createElement("feMerge",null,x):null)),y&&(P=u.urlLink),v=r.createElement("use",{fill:"black",fillOpacity:"1",filter:e.urlLink,xlinkHref:n.link,clipPath:P})}return{definition:g,outsetElement:m,insetElement:v,needsStrokeClip:y}};const p=e=>{const t=r.useContext(u.CustomPropertiesContext),{shadow:n,blurId:i,offsetId:a,matrixId:c}=e;let l=n.color;const h=t(l);h&&(l=h);const d=s.ConvertColor.toRgb(l),p=`0 0 0 0 ${o.roundedNumberString(d.r/255,3)}   0 0 0 0 ${o.roundedNumberString(d.g/255,3)}   0 0 0 0 ${o.roundedNumberString(d.b/255,3)}  0 0 0 ${d.a} 0`;return r.createElement(r.Fragment,null,r.createElement("feOffset",{dx:n.x,dy:n.y,in:"SourceAlpha",result:a}),r.createElement("feGaussianBlur",{stdDeviation:n.blur/2,in:a,result:i}),r.createElement("feColorMatrix",{colorInterpolationFilters:"sRGB",values:p,type:"matrix",in:i,result:c}))};function innerShadowElements(e,t,n){const i=e.add("_inside_shadow"+n),o=i.add("blur").id,s=i.add("offset").id,a=i.add("composite").id,c=i.add("matrix").id;return{filterElements:r.createElement(f,{key:i.id+"-filters",shadow:t,blurId:o,offsetId:s,compositeId:a,matrixId:c}),mergeElement:r.createElement("feMergeNode",{key:i.id+"-merge",in:c})}}const f=e=>{const t=r.useContext(u.CustomPropertiesContext),{shadow:n,blurId:i,offsetId:o,compositeId:a,matrixId:c}=e;let l=n.color;const h=t(l);h&&(l=h);const d=s.ConvertColor.toRgb(l),p=`0 0 0 0 ${d.r/255}   0 0 0 0 ${d.g/255}   0 0 0 0 ${d.b/255}  0 0 0 ${d.a} 0`;return r.createElement(r.Fragment,null,r.createElement("feGaussianBlur",{stdDeviation:n.blur/2,in:"SourceAlpha",result:i}),r.createElement("feOffset",{dx:n.x,dy:n.y,in:i,result:o}),r.createElement("feComposite",{in:o,in2:"SourceAlpha",operator:"arithmetic",k2:"-1",k3:"1",result:a}),r.createElement("feColorMatrix",{colorInterpolationFilters:"sRGB",values:p,type:"matrix",in:a,result:c}))};function localShadowFrame(e,t,n){let r,i,o,s,a=e.blur;if(c.BoxShadow.is(e)&&!0!==n){if(e.inset)return null;a+=e.spread}return!0===n?(r=-Math.abs(e.x)-a,i=Math.abs(e.x)+t.width+a,o=-Math.abs(e.y)-a,s=Math.abs(e.y)+t.height+a):(r=e.x-a,i=e.x+t.width+a,o=e.y-a,s=e.y+t.height+a),i<=r||s<=o?null:{x:r,y:o,width:i-r,height:s-o}}t.localShadowFrame=localShadowFrame},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.roundedNumber=function roundedNumber(e,t){const n=Math.round(Math.abs(t)),r=Math.pow(10,n);return Math.round(e*r)/r},t.roundedNumberString=function roundedNumberString(e,t){const n=e.toFixed(t);return 0===t?n:n.replace(/\.?0+$/,"")},t.roundWithOffset=function roundWithOffset(e,t){return 0===t?Math.round(e):((t-=0|t)<0&&(t=1-t),Math.round(e-t)+t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(272);t.LinearGradient=r.LinearGradient,t.LinearGradientBase=r.LinearGradientBase;const i=n(276);t.RadialGradient=i.RadialGradient,t.RadialGradientBase=i.RadialGradientBase},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(281);!function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(467)),t.componentLoader={componentForIdentifier:e=>null,componentsForPackage:e=>[],componentIdentifiers:()=>[],errorForIdentifier:e=>null,forEachComponent:e=>{},forEachDesignComponents:e=>{},localPackageIdentifier:()=>r.localPackageFallbackIdentifier,packageDisplayName:e=>{},packageIdentifiers:()=>[],tokensForPackage:e=>({}),packageFileNames:e=>[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(477),i=n(478);let o=1/60;class Loop extends i.EventEmitter{constructor(e=!1){super(),this._started=!1,this._frame=0,this._frameTasks=[],this.tick=()=>{this._started&&(r.raf(this.tick),this.emit("update",this._frame,o),this.emit("render",this._frame,o),this._processFrameTasks(),this._frame++)},e&&this.start()}addFrameTask(e){this._frameTasks.push(e)}_processFrameTasks(){const e=this._frameTasks,t=e.length;if(0!==t){for(let n=0;n<t;n++)e[n]();e.length=0}}static set TimeStep(e){o=e}static get TimeStep(){return o}start(){return this._started?this:(this._frame=0,this._started=!0,r.raf(this.tick),this)}stop(){return this._started=!1,this}get frame(){return this._frame}get time(){return this._frame*o}}t.Loop=Loop,t.MainLoop=new Loop},function(e,t,n){"use strict";var r=n(482),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function getStatics(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function hoistNonReactStatics(e,t,n){if("string"!=typeof t){if(p){var r=d(t);r&&r!==p&&hoistNonReactStatics(e,r,n)}var i=l(t);u&&(i=i.concat(u(t)));for(var s=getStatics(e),a=getStatics(t),f=0;f<i.length;++f){var g=i[f];if(!(o[g]||n&&n[g]||a&&a[g]||s&&s[g])){var m=h(t,g);try{c(e,g,m)}catch(v){}}}return e}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(197),i=n(24);function ObservableObject(e={},t=!1,n=!0){const i={};i[s]={makeAnimatables:t,observeAnimatables:n,observers:new r.Observers,transactions:new Set};const a=new Proxy(i,o);return Object.assign(a,e),a}t.ObservableObject=ObservableObject,function(e){e.addObserver=function addObserver(e,t){return e[s].observers.add(t)}}(ObservableObject||(ObservableObject={})),t.ObservableObject=ObservableObject;const o=new class ObservableObjectProxyHandler{constructor(){this.set=(e,t,n,r)=>{if(t===s)return!1;const o=e[s];let a,c;if(c=i.isAnimatable(n)?(a=n).get():n,o.makeAnimatables&&"function"!=typeof n&&"object"!=typeof n&&!a&&(a=i.Animatable(n)),o.observeAnimatables&&a){const e=o.transactions;a.onUpdate({update:(t,n)=>{n&&e.add(n),o.observers.notify({value:r},n)},finish:t=>{e.delete(t)&&o.observers.finishTransaction(t)}})}let l=!1,u=!0;if(void 0!==e[t]){i.isAnimatable(e[t])?(u=e[t].get()!==c,e[t].set(c)):(u=e[t]!==c,e[t]=c);const n=null!==c&&"object"==typeof c;(Array.isArray(c)||n)&&(u=!0),l=!0}else a&&(n=a),l=Reflect.set(e,t,n);return u&&o.observers.notify({value:r}),l},this.get=(e,t,n)=>{if(t===s)return e[t];const r=Reflect.get(e,t,n);return"function"==typeof r?r.bind(n):r}}deleteProperty(e,t){const n=Reflect.deleteProperty(e,t);return e[s].observers.notify({value:e}),n}ownKeys(e){const t=Reflect.ownKeys(e),n=t.indexOf(s);return-1!==n&&t.splice(n,1),t}getOwnPropertyDescriptor(e,t){if(t!==s)return Reflect.getOwnPropertyDescriptor(e,t)}},s=Symbol("private")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(0),o=n(79),s=(n(15),n(905)),a=n(48),c=n(153),l=n(300),u=n(81),h=n(82),d=n(486),p=n(488),f=n(32),g=n(301),m=n(16),v=n(124);function unwrapFrameProps(e){const{left:t,top:n,bottom:r,right:i,width:s,height:a,center:c,_constraints:l,size:u}=e;return{top:o.unwrapMotionValue(n),left:o.unwrapMotionValue(t),bottom:o.unwrapMotionValue(r),right:o.unwrapMotionValue(i),width:o.unwrapMotionValue(s),height:o.unwrapMotionValue(a),size:o.unwrapMotionValue(u),center:c,_constraints:l}}function useStyleAndRect(e,n){v.injectComponentCSSRules();const{style:o,_initialStyle:s,size:c}=e,p=unwrapFrameProps(e),g=f.useConstraints(p),y=function useBackgroundImage(e,t,n){let r;u.BackgroundImage.isImageObject(e.background)&&(r=e.background);const o=e.background&&r?r.src:null,[s,a]=i.useState({shouldCheckImageAvailability:!0,currentBackgroundImageSrc:null});if(!r)return{};const c={};if(o){if(null===t)return h.setImageForFill(e.background,null,c),c;const n=s.currentBackgroundImageSrc!==o;n!==s.shouldCheckImageAvailability&&a({currentBackgroundImageSrc:o,shouldCheckImageAvailability:n})}return l.collectBackgroundImageFromProps(e,t,c,s.shouldCheckImageAvailability,t=>{const{background:r}=e;if(!r||!u.BackgroundImage.isImageObject(r))return;const i=new Image;i.src=h.imageUrlForFill(r,t),i.onerror=()=>{n&&n.current&&(n.current.style.backgroundImage=h.imageUrlForFill(r))}}),c}(e,g||t.defaultFrameRect,n),S={display:"block",flexShrink:0,userSelect:"none",backgroundColor:void 0===e.background?"rgba(0, 170, 255, 0.3)":void 0};(function hasEvents(e){for(const t in e)if("drag"===t||t.startsWith("while")||"function"==typeof e[t]&&t.startsWith("on"))return!0;return!1})(e)||(S.pointerEvents="none");const b=r.Children.count(e.children)>0&&r.Children.map(e.children,e=>"string"==typeof e||"number"==typeof e).every(e=>!!e)&&{display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},_=d.getStyleForFrameProps(e);void 0===c&&(d.hasLeftAndRight(_)||(S.width=t.defaultFrameRect.width),d.hasTopAndBottom(_)||(S.height=t.defaultFrameRect.height));let C={};g&&f.constraintsEnabled(p)&&(C={left:g.x,top:g.y,width:g.width,height:g.height,right:void 0,bottom:void 0},m.RenderTarget.current()===m.RenderTarget.canvas&&(C=Object.assign({},C,{left:0,top:0,x:0===g.x?"0px":g.x,y:0===g.y?"0px":g.y}))),Object.assign(S,y,b,s,_,C,o),a.Layer.applyWillChange({props:e},S);let w=S;return S.transform||(w=Object.assign({x:0,y:0},S)),[w,g]}t.unwrapFrameProps=unwrapFrameProps,t.defaultFrameRect={x:0,y:0,width:200,height:200};const y=new Set(["width","height","opacity","overflow","radius","background","color","x","y","z","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","skew","skewX","skewY","originX","originY","originZ"]);t.FrameWithMotion=Object.assign(i.forwardRef(function FrameWithMotion(e,t){const{visible:n=!0}=e;return n?r.createElement(S,Object.assign({},e,{ref:t})):null}),{rect:(e,t)=>f.calculateRect(unwrapFrameProps(e),t||f.ParentSizeState.Unknown)});const S=i.forwardRef((e,t)=>{const{_border:n,style:i,name:a,center:l,border:u}=e,{props:h,children:d}=g.processOverrideForwarding(e),m=function getMotionProps(e){const t={};for(const n in e)(o.isValidMotionProp(n)||s.default(n))&&!y.has(n)&&(t[n]=e[n]);return t}(h),v=o.useExternalRef(t),[S,b]=useStyleAndRect(h,v);!l||b&&f.constraintsEnabled(unwrapFrameProps(h))||(m.transformTemplate=(e,t)=>!0===l?`translate(-50%, -50%) ${t}`:"x"===l?`translateX(-50%) ${t}`:"y"===l?`translateY(-50%) ${t}`:t);const _={"data-framer-component-type":"Frame"};void 0!==a&&(_["data-framer-name"]=a);const C=b?{width:b.width,height:b.height}:f.ParentSizeState.Disabled,w=f.useProvideParentSize(r.createElement(r.Fragment,null,d,r.createElement(c.Border,Object.assign({},n,{border:u}))),C);return r.createElement(o.motion.div,Object.assign({},_,m,{style:S,ref:v,transformValues:p.transformValues}),w)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(489),i=n(16);t.injectComponentCSSRules=()=>{r.add('\n\n[data-framer-component-type] {\n    position: absolute;\n}\n\n\n[data-framer-component-type="Text"] {\n    cursor: default;\n}\n\n\n[data-framer-component-type="Stack"] > *,\n[data-framer-component-type="Stack"] > [data-framer-component-type],\n[data-framer-stack-gap] > *,\n[data-framer-stack-gap] > [data-framer-component-type] {\n    position: relative;\n}\n\n[data-framer-stack-gap] > * {\n    margin-top: calc(var(--stack-gap-y) / 2);\n    margin-bottom: calc(var(--stack-gap-y) / 2);\n    margin-right: calc(var(--stack-gap-x) / 2);\n    margin-left: calc(var(--stack-gap-x) / 2);\n}\n\n/* This should take the language direction into account */\n[data-framer-stack-direction-reverse="false"]\n[data-framer-stack-gap]\n> *:first-child,\n[data-framer-stack-direction-reverse="true"]\n[data-framer-stack-gap]\n> *:last-child {\n    margin-top: 0;\n    margin-left: 0;\n}\n\n/* This should take the language direction into account */\n[data-framer-stack-direction-reverse="false"]\n[data-framer-stack-gap]\n> *:last-child,\n[data-framer-stack-direction-reverse="true"]\n[data-framer-stack-gap]\n> *:first-child {\n    margin-right: 0;\n    margin-bottom: 0;\n}\n\n\nNavigationContainer\n[data-framer-component-type="NavigationContainer"] > *,\n[data-framer-component-type="NavigationContainer"] > [data-framer-component-type] {\n    position: relative;\n}\n\n'),r.add(i.RenderTarget.current()===i.RenderTarget.preview?' [data-framer-component-type="Frame"] * { pointer-events: auto; } ':"")}},function(e,t,n){"use strict";var r=n(493),i=n(126),o=n(42),s=n(509),a=n(84),c=n(206),l=n(209),u=n(310),h=n(510),d=n(312),p=n(156),f=n(31),g=n(308),m=n(14),v=n(216),y=n(327),S=n(127),b=n(570),_={Editor:h,EditorBlock:d,EditorState:m,CompositeDecorator:s,Entity:p,EntityInstance:g,BlockMapBuilder:i,CharacterMetadata:o,ContentBlock:a,ContentState:c,SelectionState:S,AtomicBlockUtils:r,KeyBindingUtil:v,Modifier:f,RichUtils:y,DefaultDraftBlockRenderMap:l,DefaultDraftInlineStyle:u,convertFromHTML:n(325),convertFromRaw:n(573),convertToRaw:b,genKey:n(49),getDefaultKeyBinding:n(328),getVisibleSelectionRect:n(577)};e.exports=_},function(e,t,n){"use strict";var r=n(3).OrderedMap,i={createFromArray:function createFromArray(e){return r(e.map(function(e){return[e.getKey(),e]}))}};e.exports=i},function(e,t,n){"use strict";var r=function(e){function SelectionState(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SelectionState),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(SelectionState,e),SelectionState.prototype.serialize=function serialize(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},SelectionState.prototype.getAnchorKey=function getAnchorKey(){return this.get("anchorKey")},SelectionState.prototype.getAnchorOffset=function getAnchorOffset(){return this.get("anchorOffset")},SelectionState.prototype.getFocusKey=function getFocusKey(){return this.get("focusKey")},SelectionState.prototype.getFocusOffset=function getFocusOffset(){return this.get("focusOffset")},SelectionState.prototype.getIsBackward=function getIsBackward(){return this.get("isBackward")},SelectionState.prototype.getHasFocus=function getHasFocus(){return this.get("hasFocus")},SelectionState.prototype.hasEdgeWithin=function hasEdgeWithin(e,t,n){var r=this.getAnchorKey(),i=this.getFocusKey();if(r===i&&r===e){var o=this.getStartOffset();return t<=this.getEndOffset()&&o<=n}if(e!==r&&e!==i)return!1;var s=e===r?this.getAnchorOffset():this.getFocusOffset();return t<=s&&n>=s},SelectionState.prototype.isCollapsed=function isCollapsed(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},SelectionState.prototype.getStartKey=function getStartKey(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},SelectionState.prototype.getStartOffset=function getStartOffset(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},SelectionState.prototype.getEndKey=function getEndKey(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},SelectionState.prototype.getEndOffset=function getEndOffset(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},SelectionState.createEmpty=function createEmpty(e){return new SelectionState({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})},SelectionState}((0,n(3).Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1}));e.exports=r},function(e,t,n){"use strict";function replace(e){return e.replace(/\//g,"-")}e.exports=function cx(e){return"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}).map(replace).join(" "):Array.prototype.map.call(arguments,replace).join(" ")}},function(e,t,n){"use strict";var r=n(31);e.exports=function removeTextWithStrategy(e,t,n){var i=e.getSelection(),o=e.getCurrentContent(),s=i;if(i.isCollapsed()){if("forward"===n){if(e.isSelectionAtEndOfContent())return o}else if(e.isSelectionAtStartOfContent())return o;if((s=t(e))===i)return o}return r.removeRange(o,s,n)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(t){o(t)}}function rejected(e){try{step(r.throw(e))}catch(t){o(t)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(362);var o,s,a,c,l,u,h,d,p,f,g,m,v,y,S,b,_,C;!function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(362)),function(e){e.on=function on(t){const n=i.ServiceManager.shared();return{expect:()=>n.expect(e.service,t),discover:i=>r(this,void 0,void 0,function*(){return n.discover(e.service,t,i)}),register:i=>r(this,void 0,void 0,function*(){return n.register({channel:t,service:e.service,implementation:i})})}},e.unregister=function unregister(e){return r(this,void 0,void 0,function*(){i.ServiceManager.shared().unregister(e)})}}(o=t.Beep||(t.Beep={})),function(e){e.on=function on(t){const n=i.ServiceManager.shared();return{expect:()=>n.expect(e.service,t),discover:i=>r(this,void 0,void 0,function*(){return n.discover(e.service,t,i)}),register:i=>r(this,void 0,void 0,function*(){return n.register({channel:t,service:e.service,implementation:i})})}},e.unregister=function unregister(e){return r(this,void 0,void 0,function*(){i.ServiceManager.shared().unregister(e)})}}(s=t.Clipboard||(t.Clipboard={})),function(e){e.on=function on(t){const n=i.ServiceManager.shared();return{expect:()=>n.expect(e.service,t),discover:i=>r(this,void 0,void 0,function*(){return n.discover(e.service,t,i)}),register:i=>r(this,void 0,void 0,function*(){return n.register({channel:t,service:e.service,implementation:i})})}},e.unregister=function unregister(e){return r(this,void 0,void 0,function*(){i.ServiceManager.shared().unregister(e)})}}(a=t.ColorSampler||(t.ColorSampler={})),function(e){e.on=function on(t){const n=i.ServiceManager.shared();return{expect:()=>n.expect(e.service,t),discover:i=>r(this,void 0,void 0,function*(){return n.discover(e.service,t,i)}),register:i=>r(this,void 0,void 0,function*(){return n.register({channel:t,service:e.service,implementation:i})})}},e.unregister=function unregister(e){return r(this,void 0,void 0,function*(){i.ServiceManager.shared().unregister(e)})}}(c=t.FeedbackService||(t.FeedbackService={})),function(e){e.on=function on(t){const n=i.ServiceManager.shared();return{expect:()=>n.expect(e.service,t),discover:i=>r(this,void 0,void 0,function*(){return n.discover(e.service,t,i)}),register:i=>r(this,void 0,void 0,function*(){return n.register({channel:t,service:e.service,implementation:i})})}},e.unregister=function unregister(e){return r(this,void 0,void 0,function*(){i.ServiceManager.shared().unregister(e)})}}(l=t.FeedbackDocument||(t.FeedbackDocument={})),function(e){e.on=function on(t){const n=i.ServiceManager.shared();return{expect:()=>n.expect(e.service,t),discover:i=>r(this,void 0,void 0,function*(){return n.discover(e.service,t,i)}),register:i=>r(this,void 0,void 0,function*(){return n.register({channel:t,service:e.service,implementation:i})})}},e.unregister=function unregister(e){return r(this,void 0,void 0,function*(){i.ServiceManager.shared().unregister(e)})}}(u=t.GestureEventTarget||(t.GestureEventTarget={})),function(e){e.on=function on(t){const n=i.ServiceManager.shared();return{expect:()=>n.expect(e.service,t),discover:i=>r(this,void 0,void 0,function*(){return n.discover(e.service,t,i)}),register:i=>r(this,void 0,void 0,function*(){return n.register({channel:t,service:e.service,implementation:i})})}},e.unregister=function unregister(e){return r(this,void 0,void 0,function*(){i.ServiceManager.shared().unregister(e)})}}(h=t.MenuActionTarget||(t.MenuActionTarget={})),function(e){e.on=function on(t){const n=i.ServiceManager.shared();return{expect:()=>n.expect(e.service,t),discover:i=>r(this,void 0,void 0,function*(){return n.discover(e.service,t,i)}),register:i=>r(this,void 0,void 0,function*(){return n.register({channel:t,service:e.service,implementation:i})})}},e.unregister=function unregister(e){return r(this,void 0,void 0,function*(){i.ServiceManager.shared().unregister(e)})}}(d=t.ContextMenuPresenter||(t.ContextMenuPresenter={})),function(e){e.on=function on(t){const n=i.ServiceManager.shared();return{expect:()=>n.expect(e.service,t),discover:i=>r(this,void 0,void 0,function*(){return n.discover(e.service,t,i)}),register:i=>r(this,void 0,void 0,function*(){return n.register({channel:t,service:e.service,implementation:i})})}},e.unregister=function unregister(e){return r(this,void 0,void 0,function*(){i.ServiceManager.shared().unregister(e)})}}(p=t.PreviewDocument||(t.PreviewDocument={})),function(e){e.on=function on(t){const n=i.ServiceManager.shared();return{expect:()=>n.expect(e.service,t),discover:i=>r(this,void 0,void 0,function*(){return n.discover(e.service,t,i)}),register:i=>r(this,void 0,void 0,function*(){return n.register({channel:t,service:e.service,implementation:i})})}},e.unregister=function unregister(e){return r(this,void 0,void 0,function*(){i.ServiceManager.shared().unregister(e)})}}(f=t.PreviewFrame||(t.PreviewFrame={})),function(e){e.on=function on(t){const n=i.ServiceManager.shared();return{expect:()=>n.expect(e.service,t),discover:i=>r(this,void 0,void 0,function*(){return n.discover(e.service,t,i)}),register:i=>r(this,void 0,void 0,function*(){return n.register({channel:t,service:e.service,implementation:i})})}},e.unregister=function unregister(e){return r(this,void 0,void 0,function*(){i.ServiceManager.shared().unregister(e)})}}(g=t.ProjectPackage||(t.ProjectPackage={})),function(e){e.on=function on(t){const n=i.ServiceManager.shared();return{expect:()=>n.expect(e.service,t),discover:i=>r(this,void 0,void 0,function*(){return n.discover(e.service,t,i)}),register:i=>r(this,void 0,void 0,function*(){return n.register({channel:t,service:e.service,implementation:i})})}},e.unregister=function unregister(e){return r(this,void 0,void 0,function*(){i.ServiceManager.shared().unregister(e)})}}(m=t.ProjectState||(t.ProjectState={})),function(e){e.on=function on(t){const n=i.ServiceManager.shared();return{expect:()=>n.expect(e.service,t),discover:i=>r(this,void 0,void 0,function*(){return n.discover(e.service,t,i)}),register:i=>r(this,void 0,void 0,function*(){return n.register({channel:t,service:e.service,implementation:i})})}},e.unregister=function unregister(e){return r(this,void 0,void 0,function*(){i.ServiceManager.shared().unregister(e)})}}(v=t.PublicStoreClient||(t.PublicStoreClient={})),function(e){e.on=function on(t){const n=i.ServiceManager.shared();return{expect:()=>n.expect(e.service,t),discover:i=>r(this,void 0,void 0,function*(){return n.discover(e.service,t,i)}),register:i=>r(this,void 0,void 0,function*(){return n.register({channel:t,service:e.service,implementation:i})})}},e.unregister=function unregister(e){return r(this,void 0,void 0,function*(){i.ServiceManager.shared().unregister(e)})}}(y=t.PrivateStoreClient||(t.PrivateStoreClient={})),function(e){e.on=function on(t){const n=i.ServiceManager.shared();return{expect:()=>n.expect(e.service,t),discover:i=>r(this,void 0,void 0,function*(){return n.discover(e.service,t,i)}),register:i=>r(this,void 0,void 0,function*(){return n.register({channel:t,service:e.service,implementation:i})})}},e.unregister=function unregister(e){return r(this,void 0,void 0,function*(){i.ServiceManager.shared().unregister(e)})}}(S=t.TutorialDocument||(t.TutorialDocument={})),function(e){e.on=function on(t){const n=i.ServiceManager.shared();return{expect:()=>n.expect(e.service,t),discover:i=>r(this,void 0,void 0,function*(){return n.discover(e.service,t,i)}),register:i=>r(this,void 0,void 0,function*(){return n.register({channel:t,service:e.service,implementation:i})})}},e.unregister=function unregister(e){return r(this,void 0,void 0,function*(){i.ServiceManager.shared().unregister(e)})}}(b=t.TutorialFrame||(t.TutorialFrame={})),function(e){e.on=function on(t){const n=i.ServiceManager.shared();return{expect:()=>n.expect(e.service,t),discover:i=>r(this,void 0,void 0,function*(){return n.discover(e.service,t,i)}),register:i=>r(this,void 0,void 0,function*(){return n.register({channel:t,service:e.service,implementation:i})})}},e.unregister=function unregister(e){return r(this,void 0,void 0,function*(){i.ServiceManager.shared().unregister(e)})}}(_=t.ZzzTestingBeep||(t.ZzzTestingBeep={})),function(e){e.on=function on(t){const n=i.ServiceManager.shared();return{expect:()=>n.expect(e.service,t),discover:i=>r(this,void 0,void 0,function*(){return n.discover(e.service,t,i)}),register:i=>r(this,void 0,void 0,function*(){return n.register({channel:t,service:e.service,implementation:i})})}},e.unregister=function unregister(e){return r(this,void 0,void 0,function*(){i.ServiceManager.shared().unregister(e)})}}(C=t.ZzzTestingStreams||(t.ZzzTestingStreams={})),function(e){let t,n,w,x,P,T,k,E,O,M,F,D,I,R,N,A,B,L;!function(e){const t={id:"__Beep__",fingerprint:"61a1004615dc1e33269b7165105b3499",methods:{beep:{}},newOutgoingWrapper:e=>new OutgoingWrapper(e)};o.service=t||o.service;class OutgoingWrapper{constructor(e){this.helper=e}beep(){return r(this,void 0,void 0,function*(){yield this.helper({method:"beep",argument:void 0})})}}}(t=e.BeepHelper||(e.BeepHelper={})),function(e){const t={id:"__Clipboard__",fingerprint:"5b99817461711d11d54dcfffa9dffa31",methods:{write:{},read:{}},newOutgoingWrapper:e=>new OutgoingWrapper(e)};s.service=t||s.service;class OutgoingWrapper{constructor(e){this.helper=e}write(e){return r(this,void 0,void 0,function*(){yield this.helper({method:"write",argument:e})})}read(e){return r(this,void 0,void 0,function*(){return this.helper({method:"read",argument:e})})}}}(n=e.ClipboardHelper||(e.ClipboardHelper={})),function(e){const t={id:"__ColorSampler__",fingerprint:"47e58950414de7a0679a8b7847789793",methods:{sampleColor:{}},newOutgoingWrapper:e=>new OutgoingWrapper(e)};a.service=t||a.service;class OutgoingWrapper{constructor(e){this.helper=e}sampleColor(){return r(this,void 0,void 0,function*(){return this.helper({method:"sampleColor",argument:void 0})})}}}(w=e.ColorSamplerHelper||(e.ColorSamplerHelper={})),function(e){const t={id:"__FeedbackService__",fingerprint:"11a73fd6bda757a0781a5f91ac88c94f",methods:{getSessionIdentity:{},getThreads:{},createThread:{},updateThread:{},createComment:{},updateComment:{},deleteComment:{},markAsSeen:{}},newOutgoingWrapper:e=>new OutgoingWrapper(e)};c.service=t||c.service;class OutgoingWrapper{constructor(e){this.helper=e}getSessionIdentity(){return r(this,void 0,void 0,function*(){return this.helper({method:"getSessionIdentity",argument:void 0})})}getThreads(e){return r(this,void 0,void 0,function*(){return this.helper({method:"getThreads",argument:e})})}createThread(e){return r(this,void 0,void 0,function*(){return this.helper({method:"createThread",argument:e})})}updateThread(e){return r(this,void 0,void 0,function*(){return this.helper({method:"updateThread",argument:e})})}createComment(e){return r(this,void 0,void 0,function*(){return this.helper({method:"createComment",argument:e})})}updateComment(e){return r(this,void 0,void 0,function*(){return this.helper({method:"updateComment",argument:e})})}deleteComment(e){return r(this,void 0,void 0,function*(){return this.helper({method:"deleteComment",argument:e})})}markAsSeen(e){return r(this,void 0,void 0,function*(){return this.helper({method:"markAsSeen",argument:e})})}}}(x=e.FeedbackServiceHelper||(e.FeedbackServiceHelper={})),function(e){const t={id:"__FeedbackDocument__",fingerprint:"66340a6f00264f599ff1be4100384bc7",methods:{toggleFeedback:{},openThread:{},feedbackStateStream:{}},newOutgoingWrapper:e=>new OutgoingWrapper(e)};l.service=t||l.service;class OutgoingWrapper{constructor(e){this.helper=e}toggleFeedback(e){return r(this,void 0,void 0,function*(){yield this.helper({method:"toggleFeedback",argument:e})})}openThread(e){return r(this,void 0,void 0,function*(){yield this.helper({method:"openThread",argument:e})})}feedbackStateStream(){return new i.ServiceRuntimePrivate.StreamReader("feedbackStateStream",this.helper)}}}(P=e.FeedbackDocumentHelper||(e.FeedbackDocumentHelper={})),function(e){const t={id:"__GestureEventTarget__",fingerprint:"eea70ddc08f14b4c6d18b1989490f536",methods:{dispatchMagnificationEvent:{}},newOutgoingWrapper:e=>new OutgoingWrapper(e)};u.service=t||u.service;class OutgoingWrapper{constructor(e){this.helper=e}dispatchMagnificationEvent(e){return r(this,void 0,void 0,function*(){yield this.helper({method:"dispatchMagnificationEvent",argument:e})})}}}(T=e.GestureEventTargetHelper||(e.GestureEventTargetHelper={})),function(e){const t={id:"__MenuActionTarget__",fingerprint:"c4db8a6e44e670207d8e4fa156aa7438",methods:{validate:{},dispatch:{}},newOutgoingWrapper:e=>new OutgoingWrapper(e)};h.service=t||h.service;class OutgoingWrapper{constructor(e){this.helper=e}validate(e){return r(this,void 0,void 0,function*(){return this.helper({method:"validate",argument:e})})}dispatch(e){return r(this,void 0,void 0,function*(){return this.helper({method:"dispatch",argument:e})})}}}(k=e.MenuActionTargetHelper||(e.MenuActionTargetHelper={})),function(e){const t={id:"__ContextMenuPresenter__",fingerprint:"a93df917284e037b101c5c2e51738ad7",methods:{showContextMenu:{}},newOutgoingWrapper:e=>new OutgoingWrapper(e)};d.service=t||d.service;class OutgoingWrapper{constructor(e){this.helper=e}showContextMenu(e){return r(this,void 0,void 0,function*(){return this.helper({method:"showContextMenu",argument:e})})}}}(E=e.ContextMenuPresenterHelper||(e.ContextMenuPresenterHelper={})),function(e){const t={id:"__PreviewDocument__",fingerprint:"51efe1176f3fce3f563bacf46b7a8f38",methods:{toggleConsole:{},reload:{},previewStateStream:{}},newOutgoingWrapper:e=>new OutgoingWrapper(e)};p.service=t||p.service;class OutgoingWrapper{constructor(e){this.helper=e}toggleConsole(e){return r(this,void 0,void 0,function*(){yield this.helper({method:"toggleConsole",argument:e})})}reload(){return r(this,void 0,void 0,function*(){yield this.helper({method:"reload",argument:void 0})})}previewStateStream(){return new i.ServiceRuntimePrivate.StreamReader("previewStateStream",this.helper)}}}(O=e.PreviewDocumentHelper||(e.PreviewDocumentHelper={})),function(e){const t={id:"__PreviewFrame__",fingerprint:"6c16a1967c8b3219075f274377088943",methods:{load:{},toggleSelectionLock:{},triggerPreviewRemoteEvent:{},scriptUpdateStream:{},previewUpdateStream:{},canvasUpdateStream:{}},newOutgoingWrapper:e=>new OutgoingWrapper(e)};f.service=t||f.service;class OutgoingWrapper{constructor(e){this.helper=e}load(e){return r(this,void 0,void 0,function*(){return this.helper({method:"load",argument:e})})}toggleSelectionLock(e){return r(this,void 0,void 0,function*(){yield this.helper({method:"toggleSelectionLock",argument:e})})}triggerPreviewRemoteEvent(e){return r(this,void 0,void 0,function*(){yield this.helper({method:"triggerPreviewRemoteEvent",argument:e})})}scriptUpdateStream(){return new i.ServiceRuntimePrivate.StreamReader("scriptUpdateStream",this.helper)}previewUpdateStream(){return new i.ServiceRuntimePrivate.StreamReader("previewUpdateStream",this.helper)}canvasUpdateStream(){return new i.ServiceRuntimePrivate.StreamReader("canvasUpdateStream",this.helper)}}}(M=e.PreviewFrameHelper||(e.PreviewFrameHelper={})),function(e){const t={id:"__ProjectPackage__",fingerprint:"aaddaff12be3185d4c3117740d28aef8",methods:{uploadDesignAsset:{},uploadReadme:{},fetchReadme:{},fetchPackageJson:{},addPackageDependency:{},publishPackage:{}},newOutgoingWrapper:e=>new OutgoingWrapper(e)};g.service=t||g.service;class OutgoingWrapper{constructor(e){this.helper=e}uploadDesignAsset(e){return r(this,void 0,void 0,function*(){yield this.helper({method:"uploadDesignAsset",argument:e})})}uploadReadme(e){return r(this,void 0,void 0,function*(){yield this.helper({method:"uploadReadme",argument:e})})}fetchReadme(){return r(this,void 0,void 0,function*(){return this.helper({method:"fetchReadme",argument:void 0})})}fetchPackageJson(){return r(this,void 0,void 0,function*(){return this.helper({method:"fetchPackageJson",argument:void 0})})}addPackageDependency(e){return r(this,void 0,void 0,function*(){yield this.helper({method:"addPackageDependency",argument:e})})}publishPackage(e){return r(this,void 0,void 0,function*(){yield this.helper({method:"publishPackage",argument:e})})}}}(F=e.ProjectPackageHelper||(e.ProjectPackageHelper={})),function(e){const t={id:"__ProjectState__",fingerprint:"048e40fab7630eb58796ffaad82cf292",methods:{assetChangeStream:{},stateStream:{}},newOutgoingWrapper:e=>new OutgoingWrapper(e)};m.service=t||m.service;class OutgoingWrapper{constructor(e){this.helper=e}assetChangeStream(){return new i.ServiceRuntimePrivate.StreamReader("assetChangeStream",this.helper)}stateStream(){return new i.ServiceRuntimePrivate.StreamReader("stateStream",this.helper)}}}(D=e.ProjectStateHelper||(e.ProjectStateHelper={})),function(e){const t={id:"__PublicStoreClient__",fingerprint:"eecb1c9368e65d23d2cbbce93b66cff3",methods:{findByName:{},containsPackage:{},toggleFavorite:{},fetchRecents:{},fetchPackagesBySection:{},fetchPackagesByPublisher:{},fetchPackagesByPopularity:{},fetchFeaturedPackages:{},search:{},getPublishStatus:{},fetchPreflight:{},removePackage:{},fetchMeta:{}},newOutgoingWrapper:e=>new OutgoingWrapper(e)};v.service=t||v.service;class OutgoingWrapper{constructor(e){this.helper=e}findByName(e){return r(this,void 0,void 0,function*(){return this.helper({method:"findByName",argument:e})})}containsPackage(e){return r(this,void 0,void 0,function*(){return this.helper({method:"containsPackage",argument:e})})}toggleFavorite(e){return r(this,void 0,void 0,function*(){return this.helper({method:"toggleFavorite",argument:e})})}fetchRecents(e){return r(this,void 0,void 0,function*(){return this.helper({method:"fetchRecents",argument:e})})}fetchPackagesBySection(e){return r(this,void 0,void 0,function*(){return this.helper({method:"fetchPackagesBySection",argument:e})})}fetchPackagesByPublisher(e){return r(this,void 0,void 0,function*(){return this.helper({method:"fetchPackagesByPublisher",argument:e})})}fetchPackagesByPopularity(e){return r(this,void 0,void 0,function*(){return this.helper({method:"fetchPackagesByPopularity",argument:e})})}fetchFeaturedPackages(e){return r(this,void 0,void 0,function*(){return this.helper({method:"fetchFeaturedPackages",argument:e})})}search(e){return r(this,void 0,void 0,function*(){return this.helper({method:"search",argument:e})})}getPublishStatus(e){return r(this,void 0,void 0,function*(){return this.helper({method:"getPublishStatus",argument:e})})}fetchPreflight(e){return r(this,void 0,void 0,function*(){return this.helper({method:"fetchPreflight",argument:e})})}removePackage(e){return r(this,void 0,void 0,function*(){yield this.helper({method:"removePackage",argument:e})})}fetchMeta(e){return r(this,void 0,void 0,function*(){return this.helper({method:"fetchMeta",argument:e})})}}}(I=e.PublicStoreClientHelper||(e.PublicStoreClientHelper={})),function(e){const t={id:"__PrivateStoreClient__",fingerprint:"a762c30223d99fe2062dceb634663456",methods:{findByName:{},containsPackage:{},toggleFavorite:{},fetchRecents:{},fetchPackagesBySection:{},fetchPackagesByPublisher:{},fetchPackagesByPopularity:{},fetchFeaturedPackages:{},search:{},getPublishStatus:{},fetchPreflight:{},removePackage:{},fetchMeta:{}},newOutgoingWrapper:e=>new OutgoingWrapper(e)};y.service=t||y.service;class OutgoingWrapper{constructor(e){this.helper=e}findByName(e){return r(this,void 0,void 0,function*(){return this.helper({method:"findByName",argument:e})})}containsPackage(e){return r(this,void 0,void 0,function*(){return this.helper({method:"containsPackage",argument:e})})}toggleFavorite(e){return r(this,void 0,void 0,function*(){return this.helper({method:"toggleFavorite",argument:e})})}fetchRecents(e){return r(this,void 0,void 0,function*(){return this.helper({method:"fetchRecents",argument:e})})}fetchPackagesBySection(e){return r(this,void 0,void 0,function*(){return this.helper({method:"fetchPackagesBySection",argument:e})})}fetchPackagesByPublisher(e){return r(this,void 0,void 0,function*(){return this.helper({method:"fetchPackagesByPublisher",argument:e})})}fetchPackagesByPopularity(e){return r(this,void 0,void 0,function*(){return this.helper({method:"fetchPackagesByPopularity",argument:e})})}fetchFeaturedPackages(e){return r(this,void 0,void 0,function*(){return this.helper({method:"fetchFeaturedPackages",argument:e})})}search(e){return r(this,void 0,void 0,function*(){return this.helper({method:"search",argument:e})})}getPublishStatus(e){return r(this,void 0,void 0,function*(){return this.helper({method:"getPublishStatus",argument:e})})}fetchPreflight(e){return r(this,void 0,void 0,function*(){return this.helper({method:"fetchPreflight",argument:e})})}removePackage(e){return r(this,void 0,void 0,function*(){yield this.helper({method:"removePackage",argument:e})})}fetchMeta(e){return r(this,void 0,void 0,function*(){return this.helper({method:"fetchMeta",argument:e})})}}}(R=e.PrivateStoreClientHelper||(e.PrivateStoreClientHelper={})),function(e){const t={id:"__TutorialDocument__",fingerprint:"35e1fd18f1a36a4a8ca53ab493af5cee",methods:{requestTutorialContent:{},doTutorialStep:{}},newOutgoingWrapper:e=>new OutgoingWrapper(e)};S.service=t||S.service;class OutgoingWrapper{constructor(e){this.helper=e}requestTutorialContent(){return r(this,void 0,void 0,function*(){yield this.helper({method:"requestTutorialContent",argument:void 0})})}doTutorialStep(e){return r(this,void 0,void 0,function*(){yield this.helper({method:"doTutorialStep",argument:e})})}}}(N=e.TutorialDocumentHelper||(e.TutorialDocumentHelper={})),function(e){const t={id:"__TutorialFrame__",fingerprint:"03110c1e38622c13e0c14d82fbe18ee2",methods:{presentTutorialContent:{}},newOutgoingWrapper:e=>new OutgoingWrapper(e)};b.service=t||b.service;class OutgoingWrapper{constructor(e){this.helper=e}presentTutorialContent(e){return r(this,void 0,void 0,function*(){yield this.helper({method:"presentTutorialContent",argument:e})})}}}(A=e.TutorialFrameHelper||(e.TutorialFrameHelper={})),function(e){const t={id:"__ZzzTestingBeep__",fingerprint:"61a1004615dc1e33269b7165105b3499",methods:{beep:{}},newOutgoingWrapper:e=>new OutgoingWrapper(e)};_.service=t||_.service;class OutgoingWrapper{constructor(e){this.helper=e}beep(){return r(this,void 0,void 0,function*(){yield this.helper({method:"beep",argument:void 0})})}}}(B=e.ZzzTestingBeepHelper||(e.ZzzTestingBeepHelper={})),function(e){const t={id:"__ZzzTestingStreams__",fingerprint:"87c8ebbbf12f755a6ab06cd27aeb016a",methods:{forceDiscovery:{},beepStream:{}},newOutgoingWrapper:e=>new OutgoingWrapper(e)};C.service=t||C.service;class OutgoingWrapper{constructor(e){this.helper=e}forceDiscovery(){return r(this,void 0,void 0,function*(){yield this.helper({method:"forceDiscovery",argument:void 0})})}beepStream(){return new i.ServiceRuntimePrivate.StreamReader("beepStream",this.helper)}}}(L=e.ZzzTestingStreamsHelper||(e.ZzzTestingStreamsHelper={}))}(t.ServiceRuntime||(t.ServiceRuntime={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){let t;!function(e){e.Request="request",e.Response="response",e.Error="error"}(t=e.MessageType||(e.MessageType={})),e.isMessage=function isMessage(t){return"object"==typeof t&&(t.type===e.MessageType.Request||t.type===e.MessageType.Response||t.type===e.MessageType.Error)}}(t.ServiceChannel||(t.ServiceChannel={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(34),o=n(26),s=n(22);function nullToUndefined(e){if(null!==e)return e}function newConstraintProperties(e){if(e.cache.newConstraintProps)return e.cache.newConstraintProps;const t=e.constraints(),{left:n,right:i,top:o,bottom:a,centerAnchorX:c,centerAnchorY:l,width:u,height:h}=e,d={_constraints:{enabled:!0}};if(d.width=sizeValue(u,t.widthType),d.height=sizeValue(h,t.heightType),e.cache.parentDirected)return e.cache.newConstraintProps=d;if(r.isFiniteNumber(t.aspectRatio)||s.isMaster(e)||s.isReplica(e)){const n=e.cache.parentRect,i=e.rect(n);d._constraints.intrinsicWidth=i.width,d._constraints.intrinsicHeight=i.height,t.widthType===r.DimensionType.FixedNumber&&(d.width=i.width),t.heightType===r.DimensionType.FixedNumber&&(d.height=i.height)}return d.left=t.left?nullToUndefined(n):void 0,d.right=t.right?nullToUndefined(i):void 0,d.top=t.top?nullToUndefined(o):void 0,d.bottom=t.bottom?nullToUndefined(a):void 0,t.left&&t.right&&(d.width=void 0),t.top&&t.bottom&&(d.height=void 0),t.left||t.right||(d.center="x",d.left=`${100*c}%`),t.top||t.bottom||(d.center="y",d.top=`${100*l}%`),t.left||t.right||t.top||t.bottom||(d.center=!0),e.cache.newConstraintProps=d}function sizeValue(e,t){switch(t){case r.DimensionType.FixedNumber:return e;case r.DimensionType.Percentage:return`${100*e}%`;case r.DimensionType.FractionOfFreeSpace:return`${e}fr`;case r.DimensionType.Auto:return"auto"}}t.newConstraintProperties=newConstraintProperties,t.withPinsSizeRatioConstraints=function withPinsSizeRatioConstraints(e){return class extends i.default{constraintProperties(){if(this.cache.constraintProps)return this.cache.constraintProps;const e=this.constraints();return this.cache.constraintProps={left:e.left?this.left:null,right:e.right?this.right:null,top:e.top?this.top:null,bottom:e.bottom?this.bottom:null,width:sizeValue(this.width,e.widthType),height:sizeValue(this.height,e.heightType),aspectRatio:e.aspectRatio,centerX:`${100*this.centerAnchorX}%`,centerY:`${100*this.centerAnchorY}%`,parentSize:null}}newConstraintProperties(){return newConstraintProperties(this)}constraints(){return this.cache.parentDirected?r.ConstraintMask.quickfix({left:!1,right:!1,top:!1,bottom:!1,widthType:this.widthType,heightType:this.heightType,aspectRatio:this.aspectRatio,fixedSize:!1}):r.ConstraintMask.quickfix({left:r.isFiniteNumber(this.left),right:r.isFiniteNumber(this.right),top:r.isFiniteNumber(this.top),bottom:r.isFiniteNumber(this.bottom),widthType:this.widthType,heightType:this.heightType,aspectRatio:this.aspectRatio,fixedSize:!1})}constraintValues(){const e=this.constraints();return{left:e.left?this.left:null,right:e.right?this.right:null,top:e.top?this.top:null,bottom:e.bottom?this.bottom:null,widthType:this.widthType,heightType:this.heightType,width:this.width,height:this.height,aspectRatio:this.aspectRatio,centerAnchorX:this.centerAnchorX,centerAnchorY:this.centerAnchorY}}minSize(e){return r.ConstraintValues.toMinSize(this.constraintValues(),e)}size(e,t,n=!0){const{parentDirectedRect:i}=this.cache;return i&&n?{width:i.width,height:i.height}:r.ConstraintValues.toSize(this.constraintValues(),e,null,t)}rect(e){return this.cache.parentDirectedRect?Object.assign({},this.cache.parentDirectedRect):r.ConstraintValues.toRect(this.constraintValues(),e,null,!0)}matrix(e,t){if(t||void 0===e||(t=this.rect(e)),!t)throw Error("Could not determine frame to build matrix from");return(new WebKitCSSMatrix).translate(t.x,t.y).rotate(0,0,o.hasRotation(this)?this.rotation:0)}transformMatrix(e,t){if(t||(t=this.rect(e)),!t)throw Error("Could not determine frame to build matrix from");return(new WebKitCSSMatrix).translate(.5*t.width,.5*t.height).multiply(this.matrix(e,t)).translate(-.5*t.width,-.5*t.height)}isRotated(){return!!o.hasRotation(this)&&this.rotation%360!=0}}},t.sizeValue=sizeValue},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(87);t.borderDefaults={borderEnabled:void 0,borderWidth:void 0,borderColor:void 0,borderStyle:void 0},t.hasBorder=e=>"borderEnabled"in e&&r.stylableNode(e)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boxShadowDefaults={boxShadows:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clipDefaults={clip:!0};const r=n(87),i="clip";function hasClip(e){return i in e&&r.stylableNode(e)}t.hasClip=hasClip,t.reduceClip=function reduceClip(e,t){hasClip(e)&&(void 0===t.clip?t.clip=e.clip:null!==t.clip&&t.clip!==e.clip&&(t.clip=null))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(87);t.filterDefaults={brightnessEnabled:void 0,brightness:void 0,contrastEnabled:void 0,contrast:void 0,grayScaleEnabled:void 0,grayscale:void 0,hueRotateEnabled:void 0,hueRotate:void 0,invertEnabled:void 0,invert:void 0,saturateEnabled:void 0,saturate:void 0,sepiaEnabled:void 0,sepia:void 0,blurEnabled:void 0,blur:void 0,blurType:void 0};const i="brightness";t.withFilters=function withFilters(e){return i in e&&r.stylableNode(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.previewSettingsDefaults={previewSettings:null};const r="previewSettings";t.hasPreviewSettings=function hasPreviewSettings(e){return r in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(231),o=n(230),s=n(136),a=n(58),c=n(59),l=n(21),u=n(140),h=n(51),d=n(168),p=n(242),f=["tabSize","whiteSpace"];function getCSSInfoForNode(e,t,n){const r=getCSSForNode(e,t),i=[];for(const o of Object.keys(r).sort((e,t)=>e.localeCompare(t))){const e=r[o];if(e&&-1===f.indexOf(o)){const t="CSS"===n?camelCaseToCSS(o):o,r=typeof e,s=addQuotesIfReactString(valueToCSS(e),n);i.push({type:r,prop:t,value:s})}}return i}function getCSSForNode(e,t){const n=t.getProps(),o=Object.assign({},n.style);return r.collectVisualStyleFromProps(n,o),n._border&&r.styles.collectBorder(n._border,o),i.collectTextStyleForNode(t,o),l.isCodeComponentNode(t)&&t.collectCSS(o),function migrateCSS(e,t){const n={};for(const r of Object.keys(t)){const{key:i,value:o}=migrateCSSKeyAndValue(r,t[r]);n[i]=o,h.isTokenCSSVariable(o)&&(n[i]=migrateCSSVariable(e,o))}return n}(e,o)}function camelCaseToCSS(e){let t="";for(const n of e)n.toUpperCase()===n?t+=`-${n.toLowerCase()}`:t+=n;return t}function valueToCSS(e){return"string"==typeof e?e.replace(/\b(rgb|hsv|hsl)a?\([^)]+\)/,e=>{const t=r.ConvertColor.toHexOrRgbaString(e);return t||e}):e}function migrateCSSVariable(e,t){const n=h.tokenIdFromCSSVariable(t);if(!n)return t;const r=d.findTokenNode(n,e);return r?`var(--${p.safeName(r.name)}, ${r.value})`:t}function migrateCSSKeyAndValue(e,t){if("rotate"===e)return{key:"transform",value:`rotate(${t}deg)`};if("WebkitTextFillColor"===e)return{key:"color",value:t};if("lineHeight"===e&&"string"==typeof t){const n=parseFloat(t);if(r.isFiniteNumber(n))return{key:e,value:n}}return{key:e,value:t}}function addQuotesIfReactString(e,t){return"React CSS"!==t?e:"string"!=typeof e?e:e.includes('"')?`\`${e}\``:`"${e}"`}t.collectStyleFromNode=function collectStyleFromNode(e){const t={};return o.withBlending(e)&&"normal"!==e.blendingMode&&(t.blendingMode=e.blendingMode),r.withOpacity(e)&&(t.opacity=e.opacity),a.withRadius(e)&&(t.radius=e.radius),a.withRelativeRadius(e)&&e.radiusIsRelative&&(t.radius=`${e.radius}%`),c.withRadiusPerCorner(e)&&e.radiusPerCorner&&(t.radius={topLeft:e.radiusTopLeft,topRight:e.radiusTopRight,bottomLeft:e.radiusBottomLeft,bottomRight:e.radiusBottomRight}),s.withFilters(e)&&1===e.blurEnabled&&("layer"===e.blurType?t.blur=e.blur:t.backgroundBlur=e.blur),t},t.copyCSSForNodeEnabled=function copyCSSForNodeEnabled(e){return!(null===e||u.isVectorNode(e)||l.isCodeComponentNode(e)&&!e.isStylable())},t.getCSSTextForNode=function getCSSTextForNode(e,t,n="CSS"){return getCSSInfoForNode(e,t,n).map(e=>`${e.prop}: ${e.value}`).join("\n")},t.getCSSInfoForNode=getCSSInfoForNode,t.getCSSForNode=getCSSForNode},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(51);t.findValueForTokenCSSVariable=function findValueForTokenCSSVariable(e,t){if(!r.isTokenCSSVariable(e))return;const n=r.tokenIdFromCSSVariable(e);return n?t[n]:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(232),i=n(253),o=n(175),s=n(254),a=n(255),c=n(256),l=n(257),u=n(78),h=n(186),d=n(74),p=n(76),f=n(75),g=n(21);function isDrawableNode(e){return e&&(e instanceof u.default||e instanceof h.default||e instanceof d.default||e instanceof p.default||e instanceof g.default||isVectorNode(e))}function isVectorNode(e){return e&&(e instanceof r.default||e instanceof i.default||e instanceof o.default||e instanceof s.default||e instanceof a.default||e instanceof c.default||e instanceof l.default)}t.isTreeNode=function isTreeNode(e){return isDrawableNode(e)||e instanceof f.RootNode},t.isDrawableNode=isDrawableNode,t.isVectorNode=isVectorNode,t.isVectorNodeList=function isVectorNodeList(e){return-1===e.map(isVectorNode).indexOf(!1)}},function(e,t,n){"use strict";function findIndex(e,t,n){return n?e.findIndex(e=>n(e,t)):e.indexOf(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.intersection=(e,t,n)=>{const r=[];for(const i of e){-1!==findIndex(t,i,n)&&r.push(i)}return r},t.union=(e,t,n)=>{if(!n)return Array.from(new Set([...e,...t]));const r=[...e];for(const i of t){-1===findIndex(r,i,n)&&r.push(i)}return r},t.without=(e,t,n)=>e.filter(e=>{return-1===findIndex(t,e,n)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(53),i=n(52),o=n(71);var s;!function(e){e[e.Top=0]="Top",e[e.Bottom=1]="Bottom",e[e.Overlay=2]="Overlay"}(s=t.TutorialPlacement||(t.TutorialPlacement={}));t.layout=new class CurrentLayout{constructor(){this.chromeMarginTop="var(--framerInternalUI-chromeMarginTop)",this.chromeMarginRight="var(--framerInternalUI-chromeMarginRight)",this.chromeMarginLeft="var(--framerInternalUI-chromeMarginLeft)",this.chromeMarginBottom="var(--framerInternalUI-chromeMarginBottom)",this.canvasMarginTop="var(--framerInternalUI-canvasMarginTop)",this.tabContentWidth="var(--framerInternalUI-tabContentWidth)",this.toolbarWidth=45,this.layerPanelPreviewHeight=80,this.canvasRight=220,this.propertyPanelWidth=221,this.statusBarHeight=0,this.shapeBarHeight=37,this.rulerWidth=20,this.rulerTickLength=5,this.rulerMaskWidth=40,this._chromeIsVisible=!0,this.minWidth=this.defaultTabContentWidth,this._targetTabContentWidth=window.UserDefaultsTabContentWidth||this.defaultTabContentWidth,this._constrainedTabContentWidth=0,this._tutorialPlacement=s.Top,this._tutorialHeight=0,this._shapeModeActive=!1,this.handleWindowResize=()=>{this.setTabContentWidth(this._targetTabContentWidth)},this.canvasRectStyle={position:"absolute",top:this.canvasMarginTop,left:this.chromeMarginLeft,right:this.chromeMarginRight,bottom:this.chromeMarginBottom}}get chromeIsVisible(){return this._chromeIsVisible}set chromeIsVisible(e){e!==this._chromeIsVisible&&(this._chromeIsVisible=e,this.updateLayoutStyleElement(this.styleElement))}get defaultTabContentWidth(){return 220}get maxWidth(){return Math.min(2*this.defaultTabContentWidth,Math.floor(.27*document.body.clientWidth))}constrainedTabContentWidth(e){return Math.min(Math.max(this.minWidth,e),this.maxWidth)}get currentTabContentWidth(){return this.constrainedTabContentWidth(this._targetTabContentWidth)}get tabOverlapOnCanvas(){return this.chromeIsVisible?this.constrainedTabContentWidth(this._targetTabContentWidth):0}setTabContentWidth(e){this._targetTabContentWidth=e;const t=this.constrainedTabContentWidth(e);t!==this._constrainedTabContentWidth&&(this._constrainedTabContentWidth=t,this.updateLayoutStyleElement(this.styleElement))}get currentChromeMarginTop(){return this._tutorialPlacement===s.Top?this.tutorialHeight:0}get currentChromeMarginRight(){return this.chromeIsVisible?this.propertyPanelWidth:0}get currentChromeMarginLeft(){return this.chromeIsVisible?this.toolbarWidth+this.tabOverlapOnCanvas:0}get currentChromeMarginBottom(){return this._tutorialPlacement===s.Bottom?this.tutorialHeight:this.statusBarHeight}get currentCanvasMarginTop(){const e=this.chromeIsVisible&&this._shapeModeActive&&!o.experiments.isOn("bottomToolbar")?this.shapeBarHeight:0;return this.currentChromeMarginTop+e}get showsStatusBar(){return this._tutorialPlacement!==s.Bottom}get tutorialHeight(){return this._tutorialHeight}get tutorialContainerStyle(){return{position:"fixed",top:"var(--framerInternalUI-tutorialTop)",bottom:"var(--framerInternalUI-tutorialBottom)",left:0,right:0,zIndex:1e5,overflow:"hidden"}}setTutorialLayout(e,t){this._tutorialPlacement=e,this._tutorialHeight=t,this.updateLayoutStyleElement(this.styleElement)}saveToUserDefaults(){i.getIpcRenderer().send(r.TabContentWidthChanged,{value:this._constrainedTabContentWidth})}updateLayoutStyleElement(e){this.styleElement=e,e&&(e.innerHTML=this.cssText())}get shapeModeActive(){return this._shapeModeActive}set shapeModeActive(e){this._shapeModeActive=e,this.updateLayoutStyleElement(this.styleElement)}cssText(){const e=this._tutorialPlacement;let t="0",n="100%";return e===s.Bottom?(n=this.showsStatusBar?`${this.statusBarHeight}px`:"0px",t=`calc(100% - ${this.tutorialHeight}px - ${n})`):e===s.Overlay?(t="0",n="0"):(t="0",n=`calc(100% - ${this.tutorialHeight}px)`),`:root { --framerInternalUI-tabContentWidth: ${Math.max(1,this.tabOverlapOnCanvas)}px; --framerInternalUI-chromeMarginTop: ${this.currentChromeMarginTop}px; --framerInternalUI-chromeMarginRight: ${this.currentChromeMarginRight}px;  --framerInternalUI-chromeMarginLeft: ${this.currentChromeMarginLeft}px;  --framerInternalUI-chromeMarginBottom: ${this.currentChromeMarginBottom}px; --framerInternalUI-tutorialTop: ${t}; --framerInternalUI-tutorialBottom: ${n};\n        --framerInternalUI-canvasMarginTop: ${this.currentCanvasMarginTop}px;}`}},window.addEventListener("resize",t.layout.handleWindowResize)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(237);var i;!function(e){let t;!function(e){e[e.escape=27]="escape"}(t=e.Key||(e.Key={})),e.isKey=(e,t)=>e.keyCode===t,e.isLeftMouseClick=e=>{const t=r.isWindows()?e.metaKey:e.ctrlKey;return(0===e.button||1==(1&e.buttons))&&!t},e.isMiddleMouseClick=e=>1===e.button||4==(4&e.buttons),e.isLeftMouseButtonDown=e=>"which"in e?1===e.which:1===e.buttons}(i||(i={})),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(72),i=n(36),o=n(1),s=n(102),a=n(51),c=new Map;function background(e){if("linear-gradient"===e.fillType&&e.fillLinearGradient)return e.fillLinearGradient.toJS();if("radial-gradient"===e.fillType&&e.fillRadialGradient)return e.fillRadialGradient.toJS();if("image"===e.fillType&&e.fillImage){let t,n,r,i;return s.hasIntrinsicSize(e)&&(o.isFiniteNumber(e.intrinsicWidth)&&(t=e.intrinsicWidth),o.isFiniteNumber(e.intrinsicHeight)&&(n=e.intrinsicHeight)),o.isFiniteNumber(e.fillImagePixelWidth)&&(r=e.fillImagePixelWidth),o.isFiniteNumber(e.fillImagePixelHeight)&&(i=e.fillImagePixelHeight),{src:e.fillImage,pixelWidth:r,pixelHeight:i,intrinsicWidth:t,intrinsicHeight:n,fit:e.fillImageResize}}return e.fillColor?function cachedColor(e){return a.isTokenCSSVariable(e)?e:o.memoize(1e3,c,e,()=>o.Color(e))}(e.fillColor):void 0}t.collectBackgroundPropsForNode=function collectBackgroundPropsForNode(e,t){i.hasShape(e)||(!r.hasOptionalFill(e)||e.fillEnabled?r.hasFill(e)&&(t.background=background(e)):t.background=null)},t.collectFillPropsForNode=function collectFillPropsForNode(e,t){!r.hasOptionalFill(e)||e.fillEnabled?r.hasFill(e)&&(t.fill=background(e)):t.fill=null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function mouseDidMove(e,t){if(e&&t){const{x:n,y:r}=e,i=t.x,o=t.y;return i!==n||o!==r}return e!==t}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";(function(e){var r=n(884),i=n(885),o=n(146);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer.prototype:(null===e&&(e=new Buffer(t)),e.length=t),e}function Buffer(e,t,n){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,n)}function from(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function fromArrayBuffer(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);Buffer.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer.prototype:e=fromArrayLike(e,t);return e}(e,t,n,r):"string"==typeof t?function fromString(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!Buffer.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|byteLength(t,n),i=(e=createBuffer(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function fromObject(e,t){if(Buffer.isBuffer(t)){var n=0|checked(t.length);return 0===(e=createBuffer(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function isnan(e){return e!=e}(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&o(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function fromArrayLike(e,t){var n=t.length<0?0:0|checked(t.length);e=createBuffer(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return base64ToBytes(e).length;default:if(r)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),r=!0}}function slowToString(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,n);case"utf8":case"utf-8":return utf8Slice(this,t,n);case"ascii":return asciiSlice(this,t,n);case"latin1":case"binary":return latin1Slice(this,t,n);case"base64":return base64Slice(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function swap(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function bidirectionalIndexOf(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=Buffer.from(t,r)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,n,r,i);if("number"==typeof t)return t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):arrayIndexOf(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,n,r,i){var o,s=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function read(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(read(e,o)===read(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var u=!0,h=0;h<c;h++)if(read(e,o+h)!==read(t,h)){u=!1;break}if(u)return o}return-1}function hexWrite(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function utf8Write(e,t,n,r){return blitBuffer(utf8ToBytes(t,e.length-n),e,n,r)}function asciiWrite(e,t,n,r){return blitBuffer(function asciiToBytes(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function latin1Write(e,t,n,r){return asciiWrite(e,t,n,r)}function base64Write(e,t,n,r){return blitBuffer(base64ToBytes(t),e,n,r)}function ucs2Write(e,t,n,r){return blitBuffer(function utf16leToBytes(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function base64Slice(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function utf8Slice(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,c,l,u=e[i],h=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=n)switch(d){case 1:u<128&&(h=u);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(h=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(h=l);break;case 4:o=e[i+1],a=e[i+2],c=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&c)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&c)>65535&&l<1114112&&(h=l)}null===h?(h=65533,d=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=d}return function decodeCodePointsArray(e){var t=e.length;if(t<=s)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=s));return n}(r)}t.Buffer=Buffer,t.SlowBuffer=function SlowBuffer(e){+e!=e&&(e=0);return Buffer.alloc(+e)},t.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,n){return from(null,e,t,n)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(e,t,n){return function alloc(e,t,n,r){return assertSize(t),t<=0?createBuffer(e,t):void 0!==n?"string"==typeof r?createBuffer(e,t).fill(n,r):createBuffer(e,t).fill(n):createBuffer(e,t)}(null,e,t,n)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=function isBuffer(e){return!(null==e||!e._isBuffer)},Buffer.compare=function compare(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},Buffer.isEncoding=function isEncoding(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=Buffer.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!Buffer.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function swap32(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function swap64(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function toString(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function inspect(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function compare(e,t,n,r,i){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n),u=0;u<a;++u)if(c[u]!==l[u]){o=c[u],s=l[u];break}return o<s?-1:s<o?1:0},Buffer.prototype.includes=function includes(e,t,n){return-1!==this.indexOf(e,t,n)},Buffer.prototype.indexOf=function indexOf(e,t,n){return bidirectionalIndexOf(this,e,t,n,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(e,t,n){return bidirectionalIndexOf(this,e,t,n,!1)},Buffer.prototype.write=function write(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return hexWrite(this,e,t,n);case"utf8":case"utf-8":return utf8Write(this,e,t,n);case"ascii":return asciiWrite(this,e,t,n);case"latin1":case"binary":return latin1Write(this,e,t,n);case"base64":return base64Write(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var s=4096;function asciiSlice(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function latin1Slice(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function hexSlice(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=toHex(e[o]);return i}function utf16leSlice(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function checkOffset(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,n,r,i,o){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function objectWriteUInt32(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function checkIEEE754(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function writeFloat(e,t,n,r,o){return o||checkIEEE754(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function writeDouble(e,t,n,r,o){return o||checkIEEE754(e,0,n,8),i.write(e,t,n,r,52,8),n+8}Buffer.prototype.slice=function slice(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),Buffer.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=Buffer.prototype;else{var i=t-e;n=new Buffer(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},Buffer.prototype.readUIntLE=function readUIntLE(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},Buffer.prototype.readUIntBE=function readUIntBE(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},Buffer.prototype.readUInt8=function readUInt8(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function readUInt16LE(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function readIntLE(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},Buffer.prototype.readIntBE=function readIntBE(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},Buffer.prototype.readInt8=function readInt8(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function readInt16LE(e,t){t||checkOffset(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt16BE=function readInt16BE(e,t){t||checkOffset(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt32LE=function readInt32LE(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function readFloatLE(e,t){return t||checkOffset(e,4,this.length),i.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(e,t){return t||checkOffset(e,4,this.length),i.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(e,t){return t||checkOffset(e,8,this.length),i.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(e,t){return t||checkOffset(e,8,this.length),i.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(e,t,n,r){(e=+e,t|=0,n|=0,r)||checkInt(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},Buffer.prototype.writeUIntBE=function writeUIntBE(e,t,n,r){(e=+e,t|=0,n|=0,r)||checkInt(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},Buffer.prototype.writeUInt8=function writeUInt8(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function writeIntLE(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);checkInt(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},Buffer.prototype.writeIntBE=function writeIntBE(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);checkInt(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},Buffer.prototype.writeInt8=function writeInt8(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function writeInt16LE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function writeInt16BE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function writeInt32LE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function writeInt32BE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function writeFloatLE(e,t,n){return writeFloat(this,e,t,!0,n)},Buffer.prototype.writeFloatBE=function writeFloatBE(e,t,n){return writeFloat(this,e,t,!1,n)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(e,t,n){return writeDouble(this,e,t,!0,n)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(e,t,n){return writeDouble(this,e,t,!1,n)},Buffer.prototype.copy=function copy(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},Buffer.prototype.fill=function fill(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Buffer.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=Buffer.isBuffer(e)?e:utf8ToBytes(new Buffer(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var a=/[^+\/0-9A-Za-z-_]/g;function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function base64ToBytes(e){return r.toByteArray(function base64clean(e){if((e=function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(a,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function blitBuffer(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(8))},function(e,t,n){(function(e){function objectToString(e){return Object.prototype.toString.call(e)}t.isArray=function isArray(e){return Array.isArray?Array.isArray(e):"[object Array]"===objectToString(e)},t.isBoolean=function isBoolean(e){return"boolean"==typeof e},t.isNull=function isNull(e){return null===e},t.isNullOrUndefined=function isNullOrUndefined(e){return null==e},t.isNumber=function isNumber(e){return"number"==typeof e},t.isString=function isString(e){return"string"==typeof e},t.isSymbol=function isSymbol(e){return"symbol"==typeof e},t.isUndefined=function isUndefined(e){return void 0===e},t.isRegExp=function isRegExp(e){return"[object RegExp]"===objectToString(e)},t.isObject=function isObject(e){return"object"==typeof e&&null!==e},t.isDate=function isDate(e){return"[object Date]"===objectToString(e)},t.isError=function isError(e){return"[object Error]"===objectToString(e)||e instanceof Error},t.isFunction=function isFunction(e){return"function"==typeof e},t.isPrimitive=function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(147).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(118),i=n(37),o=n(195);t.elementPropertiesForLinearGradient=function elementPropertiesForLinearGradient(e,t){return{id:`id${t}g${r.LinearGradient.hash(e)}`,angle:e.angle-90,stops:o.gradientColorStops(e).map(t=>({color:t.value,alpha:i.ConvertColor.getAlpha(t.value)*e.alpha,position:t.position}))}},t.elementPropertiesForRadialGradient=function elementPropertiesForRadialGradient(e,t){return{id:`id${t}g${r.RadialGradient.hash(e)}`,widthFactor:e.widthFactor,heightFactor:e.heightFactor,centerAnchorX:e.centerAnchorX,centerAnchorY:e.centerAnchorY,stops:o.gradientColorStops(e).map(t=>({color:t.value,alpha:i.ConvertColor.getAlpha(t.value)*e.alpha,position:t.position}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(79);t.isMotionValue=e=>e instanceof r.MotionValue},function(e,t,n){"use strict";function Size(e,t){return{width:e,height:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.Size=Size,function(e){e.equals=(e,t)=>e===t||!(!e||!t)&&(e.width===t.width&&e.height===t.height),e.update=(e,t,n=!1)=>{let{width:r,height:i}=e;const o=r/i;return r=void 0!==t.width?t.width:r,i=void 0!==t.height?t.height:i,n&&(void 0===t.width&&void 0!==t.height&&(r=t.height*o),void 0!==t.width&&void 0===t.height&&0!==o&&(i=t.width/o)),{width:r,height:i}},e.subtract=function subtract(e,t){return{width:Math.max(0,e.width-t.width),height:Math.max(0,e.height-t.height)}},e.zero=e(0,0),e.isZero=function(t){return t===e.zero||0===t.width&&0===t.height},e.defaultIfZero=function(t,n,r){return e.isZero(r)?e(t,n):r}}(Size||(Size={})),t.Size=Size},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(97),i=n(68),o=n(24),s=n(83);var a,c;function valueToDimensionType(e){if("string"==typeof e){const t=e.trim();if("auto"===t)return a.Auto;if(t.endsWith("fr"))return a.FractionOfFreeSpace;if(t.endsWith("%"))return a.Percentage}return a.FixedNumber}function sizeAfterApplyingDefaultsAndAspectRatio(e,t,n){let r=i.isFiniteNumber(e)?e:100,o=i.isFiniteNumber(t)?t:100;return i.isFiniteNumber(n.aspectRatio)&&(i.isFiniteNumber(n.left)&&i.isFiniteNumber(n.right)?o=r/n.aspectRatio:i.isFiniteNumber(n.top)&&i.isFiniteNumber(n.bottom)?r=o*n.aspectRatio:n.widthType!==a.FixedNumber?o=r/n.aspectRatio:r=o*n.aspectRatio),{width:r,height:o}}function pinnedOffset(e,t){return i.isFiniteNumber(e)&&i.isFiniteNumber(t)?e+t:null}t.constraintDefaults={left:null,right:null,top:null,bottom:null,centerX:"50%",centerY:"50%",aspectRatio:null,parentSize:null,width:100,height:100},function(e){e[e.FixedNumber=0]="FixedNumber",e[e.Percentage=1]="Percentage",e[e.Auto=2]="Auto",e[e.FractionOfFreeSpace=3]="FractionOfFreeSpace"}(a=t.DimensionType||(t.DimensionType={})),t.isConstraintSupportingChild=function isConstraintSupportingChild(e){return!(!s.isReactChild(e)||!s.isReactElement(e))},t.isConstraintSupportingClass=function isConstraintSupportingClass(e){return null!=e&&!0===e.supportsConstraints},function(e){e.quickfix=e=>(e.fixedSize&&(e.widthType=a.FixedNumber,e.heightType=a.FixedNumber,e.aspectRatio=null),i.isFiniteNumber(e.aspectRatio)&&((e.left&&e.right||e.top&&e.bottom)&&(e.widthType=a.FixedNumber,e.heightType=a.FixedNumber),e.left&&e.right&&e.top&&e.bottom&&(e.bottom=!1),e.widthType!==a.FixedNumber&&e.heightType!==a.FixedNumber&&(e.heightType=a.FixedNumber)),e.left&&e.right&&(e.widthType=a.FixedNumber,e.fixedSize&&(e.right=!1)),e.top&&e.bottom&&(e.heightType=a.FixedNumber,e.fixedSize&&(e.bottom=!1)),e)}(c=t.ConstraintMask||(t.ConstraintMask={})),t.valueToDimensionType=valueToDimensionType,function(e){e.fromProperties=e=>{const{left:t,right:n,top:r,bottom:s,width:l,height:u,centerX:h,centerY:d,aspectRatio:p,autoSize:f}=e,g=c.quickfix({left:i.isFiniteNumber(t)||o.isAnimatable(t),right:i.isFiniteNumber(n)||o.isAnimatable(n),top:i.isFiniteNumber(r)||o.isAnimatable(r),bottom:i.isFiniteNumber(s)||o.isAnimatable(s),widthType:valueToDimensionType(l),heightType:valueToDimensionType(u),aspectRatio:p||null,fixedSize:!0===f});let m=null,v=null,y=a.FixedNumber,S=a.FixedNumber;if(g.widthType!==a.FixedNumber&&"string"==typeof l){const e=parseFloat(l);l.endsWith("fr")?(y=a.FractionOfFreeSpace,m=e):"auto"===l?y=a.Auto:(y=a.Percentage,m=e/100)}else void 0!==l&&"string"!=typeof l&&(m=o.Animatable.getNumber(l));if(g.heightType!==a.FixedNumber&&"string"==typeof u){const e=parseFloat(u);u.endsWith("fr")?(S=a.FractionOfFreeSpace,v=e):"auto"===u?S=a.Auto:(S=a.Percentage,v=parseFloat(u)/100)}else void 0!==u&&"string"!=typeof u&&(v=o.Animatable.getNumber(u));let b=.5,_=.5;return h&&(b=parseFloat(h)/100),d&&(_=parseFloat(d)/100),{left:g.left?o.Animatable.getNumber(t):null,right:g.right?o.Animatable.getNumber(n):null,top:g.top?o.Animatable.getNumber(r):null,bottom:g.bottom?o.Animatable.getNumber(s):null,widthType:y,heightType:S,width:m,height:v,aspectRatio:g.aspectRatio||null,centerAnchorX:b,centerAnchorY:_}},e.toMinSize=(e,t,n=null)=>{let r=null,o=null;const s=t?t.width:null,c=t?t.height:null,l=pinnedOffset(e.left,e.right);if(s&&i.isFiniteNumber(l))r=s-l;else if(n&&e.widthType===a.Auto)r=n.width;else if(i.isFiniteNumber(e.width))switch(e.widthType){case a.FixedNumber:r=e.width;break;case a.FractionOfFreeSpace:r=0;break;case a.Percentage:s&&(r=s*e.width)}const u=pinnedOffset(e.top,e.bottom);if(c&&i.isFiniteNumber(u))o=c-u;else if(n&&e.heightType===a.Auto)o=n.height;else if(i.isFiniteNumber(e.height))switch(e.heightType){case a.FixedNumber:o=e.height;break;case a.FractionOfFreeSpace:o=0;break;case a.Percentage:c&&(o=c*e.height)}return sizeAfterApplyingDefaultsAndAspectRatio(r,o,e)},e.toSize=(e,t,n,r)=>{let s=null,c=null;const l=t?o.Animatable.getNumber(t.width):null,u=t?o.Animatable.getNumber(t.height):null,h=pinnedOffset(e.left,e.right);if(l&&i.isFiniteNumber(h))s=l-h;else if(n&&e.widthType===a.Auto)s=n.width;else if(i.isFiniteNumber(e.width))switch(e.widthType){case a.FixedNumber:s=e.width;break;case a.FractionOfFreeSpace:s=r?r.freeSpaceInParent.width/r.freeSpaceUnitDivisor.width*e.width:0;break;case a.Percentage:l&&(s=l*e.width)}const d=pinnedOffset(e.top,e.bottom);if(u&&i.isFiniteNumber(d))c=u-d;else if(n&&e.heightType===a.Auto)c=n.height;else if(i.isFiniteNumber(e.height))switch(e.heightType){case a.FixedNumber:c=e.height;break;case a.FractionOfFreeSpace:c=r?r.freeSpaceInParent.height/r.freeSpaceUnitDivisor.height*e.height:0;break;case a.Percentage:u&&(c=u*e.height)}return sizeAfterApplyingDefaultsAndAspectRatio(s,c,e)},e.toRect=(e,t,n=null,s=!1,c=null)=>{let l=e.left||0,u=e.top||0,h=null,d=null;const p=t?o.Animatable.getNumber(t.width):null,f=t?o.Animatable.getNumber(t.height):null,g=pinnedOffset(e.left,e.right);if(p&&i.isFiniteNumber(g))h=p-g;else if(n&&e.widthType===a.Auto)h=n.width;else if(i.isFiniteNumber(e.width))switch(e.widthType){case a.FixedNumber:h=e.width;break;case a.FractionOfFreeSpace:h=c?c.freeSpaceInParent.width/c.freeSpaceUnitDivisor.width*e.width:0;break;case a.Percentage:p&&(h=p*e.width)}const m=pinnedOffset(e.top,e.bottom);if(f&&i.isFiniteNumber(m))d=f-m;else if(n&&e.heightType===a.Auto)d=n.height;else if(i.isFiniteNumber(e.height))switch(e.heightType){case a.FixedNumber:d=e.height;break;case a.FractionOfFreeSpace:d=c?c.freeSpaceInParent.height/c.freeSpaceUnitDivisor.height*e.height:0;break;case a.Percentage:f&&(d=f*e.height)}const v=sizeAfterApplyingDefaultsAndAspectRatio(h,d,e);h=v.width,d=v.height,null!==e.left?l=e.left:p&&null!==e.right?l=p-e.right-h:p&&(l=e.centerAnchorX*p-h/2),null!==e.top?u=e.top:f&&null!==e.bottom?u=f-e.bottom-d:f&&(u=e.centerAnchorY*f-d/2);const y={x:l,y:u,width:h,height:d};return s?r.Rect.pixelAligned(y):y}}(t.ConstraintValues||(t.ConstraintValues={})),t.getMergedConstraintsProps=function getMergedConstraintsProps(e,t){const n={};return e.constraints?n.constraints=Object.assign({},e.constraints,t):Object.assign(n,t),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(79);function collectBorderStyleForProps(e,t){const{borderWidth:n,borderStyle:r,borderColor:i}=e;if(!n)return;let o,s,a,c;"number"==typeof n?o=s=a=c=n:(o=n.top||0,s=n.bottom||0,a=n.left||0,c=n.right||0),0===o&&0===s&&0===a&&0===c||(o!==s||o!==a||o!==c?(t.borderStyle=e.borderStyle,t.borderColor=e.borderColor,t.borderTopWidth=`${o}px`,t.borderBottomWidth=`${s}px`,t.borderLeftWidth=`${a}px`,t.borderRightWidth=`${c}px`):t.border=`${o}px ${r} ${i}`)}t.collectBorderStyleForProps=collectBorderStyleForProps,t.Border=function Border(e){if(!e.borderWidth)return null;const t={position:"absolute",left:0,right:0,top:0,bottom:0,borderRadius:"inherit",pointerEvents:"none"};return e.border?(t.border=e.border,r.createElement(i.motion.div,{style:t})):(collectBorderStyleForProps(e,t),r.createElement("div",{style:t}))}},function(e,t,n){"use strict";e.exports=function findRangesImmutable(e,t,n,r){if(e.size){var i=0;e.reduce(function(e,o,s){return t(e,o)||(n(e)&&r(i,s),i=s),o}),n(e.last())&&r(i,e.count())}}},function(e,t,n){"use strict";var r=n(49),i=n(305);e.exports=function getContentStateFragment(e,t){var n=t.getStartKey(),o=t.getStartOffset(),s=t.getEndKey(),a=t.getEndOffset(),c=i(e,t).getBlockMap(),l=c.keySeq(),u=l.indexOf(n),h=l.indexOf(s)+1;return c.slice(u,h).map(function(e,t){var i=r(),c=e.getText(),l=e.getCharacterList();return n===s?e.merge({key:i,text:c.slice(o,a),characterList:l.slice(o,a)}):t===n?e.merge({key:i,text:c.slice(o),characterList:l.slice(o)}):t===s?e.merge({key:i,text:c.slice(0,a),characterList:l.slice(0,a)}):e.set("key",i)}).toOrderedMap()}},function(e,t,n){"use strict";var r=n(70)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(308),o=n(3),s=n(13),a=(0,o.Map)(),c=0;function logWarning(e,t){console.warn("WARNING: "+e+' will be deprecated soon!\nPlease use "'+t+'" instead.')}var l={getLastCreatedEntityKey:function getLastCreatedEntityKey(){return logWarning("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),l.__getLastCreatedEntityKey()},create:function create(e,t,n){return logWarning("DraftEntity.create","contentState.createEntity"),l.__create(e,t,n)},add:function add(e){return logWarning("DraftEntity.add","contentState.addEntity"),l.__add(e)},get:function get(e){return logWarning("DraftEntity.get","contentState.getEntity"),l.__get(e)},mergeData:function mergeData(e,t){return logWarning("DraftEntity.mergeData","contentState.mergeEntityData"),l.__mergeData(e,t)},replaceData:function replaceData(e,t){return logWarning("DraftEntity.replaceData","contentState.replaceEntityData"),l.__replaceData(e,t)},__getLastCreatedEntityKey:function __getLastCreatedEntityKey(){return""+c},__create:function __create(e,t,n){return l.__add(new i({type:e,mutability:t,data:n||{}}))},__add:function __add(e){var t=""+ ++c;return a=a.set(t,e),t},__get:function __get(e){var t=a.get(e);return t||s(!1),t},__mergeData:function __mergeData(e,t){var n=l.__get(e),i=r({},n.getData(),t),o=n.set("data",i);return a=a.set(e,o),o},__replaceData:function __replaceData(e,t){var n=l.__get(e).set("data",t);return a=a.set(e,n),n}};e.exports=l},function(e,t,n){"use strict";var r={encode:function encode(e,t,n){return e+"-"+t+"-"+n},decode:function decode(e){var t=e.split("-"),n=t[0],r=t[1],i=t[2];return{blockKey:n,decoratorKey:parseInt(r,10),leafKey:parseInt(i,10)}}};e.exports=r},function(e,t,n){"use strict";e.exports=function isEventHandled(e){return"handled"===e||!0===e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(69),o=n(339),s=n(590),a=n(83),c=n(124),l=n(591);t.NavigationContext=r.createContext(l.navigatorMock),t.NavigationConsumer=t.NavigationContext.Consumer;t.Navigation=class Navigation extends r.Component{constructor(){super(...arguments),this.stack=[],this.overlayStack=[],this.stackItemID=0,this.state={current:-1,previous:-1,currentOverlay:-1,previousOverlay:-1},this.goBack=()=>{-1===this.state.currentOverlay?0!==this.state.current&&this.state&&this.setState({current:this.state.current-1,previous:this.state.current}):this.setState({currentOverlay:-1,previousOverlay:this.state.currentOverlay})}}componentDidMount(){0===this.stack.length&&this.transition(this.props.children,o.TransitionDefaults.Instant),c.injectComponentCSSRules()}componentWillReceiveProps(e){this.stack[0].component=e.children}getStackState(e){const{current:t,previous:n,currentOverlay:r,previousOverlay:i}=this.state;return e.overCurrentContext?{current:r,previous:i,stack:this.overlayStack}:{current:t,previous:n,stack:this.stack}}newStackItem(e,t){return this.stackItemID++,{key:`stack-${this.stackItemID}`,component:e,transition:t}}transition(e,t,n){const r=Object.assign({},t,n),i=!!r.overCurrentContext,o=this.getStackState({overCurrentContext:i}),s=o.stack[o.current];if(s&&s.component===e)return;const a=this.newStackItem(e,r);i?(this.overlayStack=[a],this.setState({currentOverlay:Math.max(0,Math.min(this.state.currentOverlay+1,this.overlayStack.length-1)),previousOverlay:this.state.currentOverlay})):(this.stack=this.stack.slice(0,o.current+1),this.stack.push(a),this.setState({current:Math.min(this.state.current+1,this.stack.length-1),previous:this.state.current,currentOverlay:-1,previousOverlay:this.state.currentOverlay}))}instant(e){this.transition(e,o.TransitionDefaults.Instant)}fade(e,t){this.transition(e,o.TransitionDefaults.Fade,t)}push(e,t){this.transition(e,o.pushTransition(t),t)}modal(e,t){this.transition(e,o.TransitionDefaults.Modal,t)}overlay(e,t){this.transition(e,o.overlayTransition(t),t)}flip(e,t){this.transition(e,o.flipTransition(t),t)}customTransition(e,t){this.transition(e,t)}render(){const e=this.getStackState({overCurrentContext:!1}),n=this.getStackState({overCurrentContext:!0}),o=function activeOverlayItem(e){let t,n;return-1!==e.current?t=e.stack[e.current]:n=e.stack[e.previous],{currentOverlayItem:t,previousOverlayItem:n}}(n);return r.createElement(i.FrameWithMotion,{top:0,left:0,width:"100%",height:"100%",position:"relative",style:Object.assign({overflow:"hidden",background:"unset"},this.props.style)},r.createElement(t.NavigationContext.Provider,{value:this},r.createElement(s.NavigationContainer,{position:void 0,initialProps:{},instant:!1,transitionProps:transitionPropsForStackWrapper(o),animation:animationForStackWrapper(o),backfaceVisible:backfaceVisibleForStackWrapper(o),visible:!0,hideAfterTransition:!1,backdropColor:void 0,onTapBackdrop:void 0},this.stack.map((t,n)=>r.createElement(s.NavigationContainer,{key:t.key,position:t.transition.position,initialProps:initialPropsForContainer(n,e),transitionProps:transitionPropsForContainer(n,e),instant:isInstantContainerTransition(n,e),animation:animationPropsForContainer(n,e),visible:containerIsVisible(n,e),hideAfterTransition:containerShouldHideAfterTransition(n,e),backfaceVisible:getBackfaceVisible(n,e),backdropColor:void 0,onTapBackdrop:void 0},containerContent(t)))),this.overlayStack.map((e,t)=>{const i=containerShouldHideAfterTransition(t,n);return r.createElement(s.NavigationContainer,{key:e.key,position:e.transition.position,initialProps:initialPropsForContainer(t,n),transitionProps:transitionPropsForContainer(t,n),instant:isInstantContainerTransition(t,n),animation:animationPropsForContainer(t,n),visible:containerIsVisible(t,n),hideAfterTransition:i,backdropColor:backdropColorForTransition(e.transition),backfaceVisible:getBackfaceVisible(t,n),onTapBackdrop:backdropTapAction(e.transition,i,this.goBack)},containerContent(e))})))}};const u={stiffness:500,damping:50,restDelta:1,type:"spring"};function transitionPropsForStackWrapper({currentOverlayItem:e}){return e&&e.transition.exit}function animationForStackWrapper({currentOverlayItem:e,previousOverlayItem:t}){return e&&e.transition.animation?e.transition.animation:t&&t.transition.animation?t.transition.animation:u}function backfaceVisibleForStackWrapper({currentOverlayItem:e,previousOverlayItem:t}){return e?e.transition.backfaceVisible:t&&t.transition.backfaceVisible}function backdropColorForTransition(e){return e.backdropColor?e.backdropColor:e.overCurrentContext?"rgba(4,4,15,.4)":void 0}function getBackfaceVisible(e,t){const{current:n,stack:r}=t;if(e===n){const t=r[e];return!t||!t.transition||t.transition.backfaceVisible}if(e<n){const t=r[e+1];return!t||!t.transition||t.transition.backfaceVisible}{const t=r[e];return!t||!t.transition||t.transition.backfaceVisible}}function initialPropsForContainer(e,t){const n=t.stack[e];if(n)return n.transition.enter}function transitionPropsForContainer(e,t){const{current:n,stack:r}=t;if(e!==n)if(e<n){const t=r[e+1];if(t&&t.transition)return t.transition.exit}else{const t=r[e];if(t&&t.transition)return t.transition.enter}}function animationPropsForContainer(e,t){const{previous:n,stack:r}=t,i=n>t.current?t.previous:t.current;if(e<i){const t=r[e+1];if(t&&t.transition.animation)return t.transition.animation}else if(e!==i){const t=r[e];if(t&&t.transition.animation)return t.transition.animation}else{const t=r[e];if(t.transition.animation)return t.transition.animation}return u}function isInstantContainerTransition(e,t){const{current:n,previous:r}=t;return e!==r&&e!==n||n===r}function containerIsVisible(e,t){const{current:n,previous:r,stack:i}=t;if(e>n&&e>r)return!1;if(e===n||e===r)return!0;const o=i[e];return o&&!0===o.transition.overCurrentContext}function containerShouldHideAfterTransition(e,t){const{current:n,previous:r,stack:i}=t;if(e!==r)return!1;if(e>n)return!0;{const e=i[n];return!e||!0!==e.transition.overCurrentContext}}function containerContent(e){return r.Children.map(e.component,t=>{if(!a.isReactChild(t)||!a.isReactElement(t)||!t.props)return t;const n={},{position:i}=e.transition,o=!i||void 0!==i.left&&void 0!==i.right,s=!i||void 0!==i.top&&void 0!==i.bottom;return o&&"width"in t.props&&(n.width="100%"),s&&"height"in t.props&&(n.height="100%"),r.cloneElement(t,n)})}function backdropTapAction(e,t,n){if(!t&&!1!==e.goBackOnTapOutside)return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(16),o=n(69);t.EmptyState=function EmptyState({title:e="Connect to content",children:t,size:n,hide:s,showArrow:l=!0,insideUserCodeComponent:u=!1}){const{target:h}=i.RenderEnvironment,d=r.Children.count(t),p=n.width,f=n.height;if(u&&0===d)return r.createElement(o.FrameWithMotion,{width:p,height:f,"data-name":"placeholder"});if(h!==i.RenderTarget.canvas)return null;if(s)return null;if(0!==d)return null;const g=void 0!==f&&f>=24,m=l&&g&&void 0!==p&&p>=34,v=g&&(!l||m);return r.createElement(o.FrameWithMotion,{key:"empty-state",className:"framerInternalUI-canvasPlaceholder",top:0,left:0,width:p,height:f,style:{display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"1",padding:"0 10px"}},v&&r.createElement(a,null,e),m&&r.createElement(c,null))};const s="var(--framerInternalCanvas-canvasPlaceholderContentScaleFactor, 1)",a=({children:e})=>r.createElement("span",{style:{flex:"auto",whiteSpace:"nowrap",overflow:"hidden",textAlign:"center",WebkitMaskImage:`linear-gradient(90deg, black, black calc(100% - 12px * ${s}), transparent)`}},e),c=()=>{return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:14,height:7,viewBox:"0 0 14 7",style:{width:14,opacity:.9,transform:`scale(${s})`,transformOrigin:"100% 50%",marginTop:1}},r.createElement("g",{transform:"translate(0.5 0.5)"},r.createElement("path",{d:"M 0 3 L 12 3",fill:"transparent",stroke:"currentColor",strokeLinecap:"butt"}),r.createElement("path",{d:"M 9 0 L 12 3 L 9 6",fill:"transparent",stroke:"currentColor",strokeLinecap:"butt"})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(162);class ServiceError extends Error{constructor(){super(...arguments),this.code=ServiceError.Code.badResponse}}t.ServiceError=ServiceError,function(e){let t;!function(e){e[e.serviceNotFound=404]="serviceNotFound",e[e.serviceRequiresUpgrade=426]="serviceRequiresUpgrade",e[e.implementation=500]="implementation",e[e.timedOut=504]="timedOut",e[e.badRequest=400]="badRequest",e[e.badResponse=422]="badResponse"}(t=e.Code||(e.Code={}));class ServiceNotFound extends e{constructor(){super(...arguments),this.code=t.serviceNotFound}}e.ServiceNotFound=ServiceNotFound;class ServiceRequiresUpgrade extends e{constructor(){super(...arguments),this.code=t.serviceRequiresUpgrade}}e.ServiceRequiresUpgrade=ServiceRequiresUpgrade;class Implementation extends e{constructor(){super(...arguments),this.code=t.implementation}}e.Implementation=Implementation;class TimedOut extends e{constructor(){super(...arguments),this.code=t.timedOut}}e.TimedOut=TimedOut;class BadRequest extends e{constructor(){super(...arguments),this.code=t.badRequest}}e.BadRequest=BadRequest,e.BadResponse=e,e.fromMessageBody=function fromMessageBody(t){let n;t&&"string"==typeof t.message&&(n=t.message);try{if(!t)return new e.BadResponse(n);const o=t.code;switch(o){case e.Code.serviceNotFound:return new ServiceNotFound(n);case e.Code.serviceRequiresUpgrade:return new ServiceRequiresUpgrade(n);case e.Code.implementation:return new Implementation(n);case e.Code.timedOut:return new TimedOut(n);case e.Code.badRequest:return new BadRequest(n);case e.Code.badResponse:return new e.BadResponse(n);default:r.assertNever(o)}}catch(i){}return new e.BadResponse(n)},e.toMessageBody=function toMessageBody(t){if(t instanceof e)return{code:t.code,message:t.message};let n;return"string"==typeof t?n=t:t&&"string"==typeof t.message&&(n=t.message),{code:e.Code.implementation,message:n}}}(ServiceError=t.ServiceError||(t.ServiceError={}))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(t){o(t)}}function rejected(e){try{step(r.throw(e))}catch(t){o(t)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(161),o=n(86);!function(e){const t=Math.random;function generateUniqueId(){return`${t()}`}function newResolvablePromise(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});return n.resolve=e,n.reject=t,n}e.generateUniqueId=generateUniqueId,e.newResolvablePromise=newResolvablePromise;e.StreamReader=class StreamReader{constructor(e,t){this.method=e,this.helper=t,this.read=e=>r(this,void 0,void 0,function*(){const t=this[Symbol.asyncIterator](),{iteration:n}=this;if(!n)throw new i.ServiceError.BadRequest("Cannot start reading stream");return this.iterate(t,e),Promise.race([n.isDonePromise,n.isCancelledPromise])}),this.cancel=()=>r(this,void 0,void 0,function*(){const{iteration:e}=this;if(!e)throw new i.ServiceError.BadRequest("Cannot cancel a stream before reading it");e.isCancelledPromise.resolve()})}iterate(e,t){e.next().then(n=>r(this,void 0,void 0,function*(){n.done||(yield t(n.value),this.iterate(e,t))}))}[Symbol.asyncIterator](e){if(this.iteration)throw new i.ServiceError.BadRequest("ServiceStream instances can only be read once. If multiple AsyncIterators or read() calls are required, create a new stream for each by calling the associated service method. To broadcast events with an observer pattern, consider using a client-specific EventEmitter or similar.");const t=this.iteration={isDonePromise:newResolvablePromise(),isCancelledPromise:newResolvablePromise()},n={done:!0,value:void 0},r=generateUniqueId(),s=o.ServiceDebugging.createLogger(`🏄‍ [${r}]`);return{next:()=>{const i=this.helper({method:this.method,argument:e,stream:{id:r,method:"next"}}).then(e=>!function isIteratorResult(e){return!!e&&(!0===e.done||!1===e.done&&void 0!==e.value)}(e)?(s.log("StreamReader.next received an invalid iterator result for next()",e),Promise.resolve(n)):Promise.resolve(e));return Promise.race([i.then(e=>(e.done&&t.isDonePromise.resolve(),e)),t.isCancelledPromise.then(e=>n)])}}}}}(t.ServiceRuntimePrivate||(t.ServiceRuntimePrivate={})),t.assertNever=function assertNever(e,t){throw t||new Error("Unexpected object: "+e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commonValue=function commonValue(e){const t=e.length;if(0===t)return null;const n=e[0];for(let r=1;r<t;r++)if(n!==e[r])return null;return n},t.commonPropertyValue=function commonPropertyValue(e,t){const n=e.length;if(0===n)return null;const r=e[0][t];for(let i=1;i<n;i++)if(r!==e[i][t])return null;return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codeOverrideDefaults={codeOverrideEnabled:!1,codeOverrideIdentifier:void 0,codeOverrideFile:void 0,codeOverrideName:void 0};const r="codeOverrideIdentifier";function hasCodeOverride(e){return r in e}t.hasCodeOverride=hasCodeOverride,t.reduceOverride=function reduceOverride(e,t){if(hasCodeOverride(e)){if(e.codeOverrideFile&&-1===t.codeOverrideFiles.indexOf(e.codeOverrideFile)&&t.codeOverrideFiles.push(e.codeOverrideFile),void 0===t.codeOverrideEnabled)return t.codeOverrideEnabled=e.codeOverrideEnabled,t.codeOverrideIdentifier=e.codeOverrideIdentifier,void(t.codeOverrideName=e.codeOverrideName);null!==t.codeOverrideEnabled&&e.codeOverrideEnabled!==t.codeOverrideEnabled&&(t.codeOverrideEnabled=null),null!==t.codeOverrideIdentifier&&e.codeOverrideIdentifier!==t.codeOverrideIdentifier&&(t.codeOverrideIdentifier=null),null!==t.codeOverrideName&&e.codeOverrideName!==t.codeOverrideName&&(t.codeOverrideName=null)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withDeviceDefaults={deviceType:null};const r="deviceType";t.hasDevice=function hasDevice(e){return r in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){let t;!function(e){e[e.enabled=1]="enabled",e[e.disabledHidden=0]="disabledHidden",e[e.disabledVisible=-1]="disabledVisible"}(t=e.Enabled||(e.Enabled={})),e.enabled=t.enabled,e.disabledHidden=t.disabledHidden,e.disabledVisible=t.disabledVisible,e.isEnabled=function isEnabled(e){return e===t.enabled},e.isDisabledHidden=function isDisabledHidden(e){return e===t.disabledHidden},e.isDisabledVisible=function isDisabledVisible(e){return e===t.disabledVisible},e.nonOptional=function nonOptional(e){return void 0===e?t.disabledHidden:e},e.isEnabledState=function isEnabledState(e){switch(e){case t.enabled:case t.disabledHidden:case t.disabledVisible:return!0;default:return!1}}}(t.Property||(t.Property={}))},function(e,t,n){var r=n(737),i=n(738);e.exports=function v4(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(1),o=n(33),s=n(51),a=n(34),c=n(744),l=n(21),u=n(139);function getTokenMap(e,t,n=o.componentLoader){const r={},i=getTokenByPackageIdMap(e,t,n);for(const o in i)Object.assign(r,i[o]);return r}function getTokenByPackageIdMap(e,t,n=o.componentLoader){const r={},s=t?e=>e instanceof t:()=>!0;e.root.getAllTokens().filter(s).forEach(e=>{r[i.localPackageFallbackIdentifier]||(r[i.localPackageFallbackIdentifier]={}),r[i.localPackageFallbackIdentifier][e.id]=e});const c=n.packageIdentifiers();for(const i of c){const e=n.tokensForPackage(i);if(!e)continue;const t=Object.values(e).map(e=>a.canvasNodeFromValue(e,null,[]));for(const n of t)n&&(r[i]||(r[i]={}),r[i][n.id]=n)}return r}function removeTokensFromNode(e,t){let n;const i={};return t.forEach(e=>i[e.id]=e.value),Object.entries(e).forEach(([e,t])=>{if("children"===e)return;let o,s=!1;if(r.List.isList(t)&&(t=Array.from(t),s=!0),Array.isArray(t)){const e=[];let n=!1;t.forEach((t,r)=>{const o=replacePropertyToken(String(r),t,i);o&&(n=!0),e.push(o||t)}),n&&(o=e)}else o=replacePropertyToken(e,t,i);void 0!==o&&(n||(n={}),s&&(o=r.List(o)),n[e]=o)}),n}function replacePropertyToken(e,t,n){if("codeComponentProps"===e)return function removeTokenFromCodeComponentProps(e,t){let n;return Object.keys(e).forEach(r=>{const i=e[r];if(Array.isArray(i)){let o=!1;const s=[];i.forEach(e=>{const n=u.findValueForTokenCSSVariable(e,t);n?(o=!0,s.push(n)):s.push(e)}),o&&((n=n||Object.assign({},e))[r]=s)}else if(s.isTokenCSSVariable(i)){const o=u.findValueForTokenCSSVariable(i,t);if(!o)return;(n=n||Object.assign({},e))[r]=o}}),n}(t,n);if(c.hasTokenVariables(t)){const e=t.removeTokenVariables(n);if(e)return e}const r=u.findValueForTokenCSSVariable(t,n);return r||void 0}t.findTokenNode=function findTokenNode(e,t,n=o.componentLoader){const r=t.root.getToken(e);if(r)return r;const i=n.packageIdentifiers();for(const o of i){const t=n.tokensForPackage(o);if(!t)continue;const r=t[e],i=[],s=a.canvasNodeFromValue(r,null,i);if(i.length)throw new Error(`Unable to parse TokenNode: \n${i.join("\n")}`);if(s)return s}return null},t.getTokenCSSProperties=function getTokenCSSProperties(e,t=o.componentLoader){const n={};e.root.getAllTokens().forEach(e=>{e.value&&(n[s.tokenToCSSCustomProperty(e)]=e.value)});const r=t.packageIdentifiers();for(const i of r){const e=t.tokensForPackage(i);if(e)for(const t of Object.values(e))n[s.tokenToCSSCustomProperty(t)]=t.value}return n},t.getTokenMap=getTokenMap,t.getTokenByPackageIdMap=getTokenByPackageIdMap,t.removeTokenFromNode=function removeTokenFromNode(e,t){return removeTokensFromNode(e,[t])},t.removeAllTokensFromNodeTree=function removeAllTokensFromNodeTree(e,t){const n=e.cloneWithIds(),r=Object.values(getTokenMap(t));return n.walk(e=>Object.assign(e,removeTokensFromNode(e,r))),n},t.removeTokensFromNode=removeTokensFromNode,t.nodeContainsToken=function nodeContainsToken(e){return!(!l.isCodeComponentNode(e)||!function objectContainsToken(e){if(!function isObject(e){return"object"==typeof e&&null!==e}(e))return!1;const t=Object.keys(e);for(const n of t){const t=e[n];if(s.isTokenCSSVariable(t))return!0;if(objectContainsToken(t))return!0}return!1}(e.codeComponentProps))||Object.keys(e).some(t=>{if("children"===t)return!1;const n=e[t];return!(!function isList(e){return r.List.isList(e)}(n)||!n.some(e=>s.isTokenCSSVariable(n)||c.hasTokenVariables(e)&&e.tokenVariables().length>0))||(!!(c.hasTokenVariables(n)&&n.tokenVariables().length>0)||s.isTokenCSSVariable(n))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(369),i=n(90),o=n(89),s=n(745),a=n(747);t.collectFilterPropsForNode=function collectFilterPropsForNode(e,t){1===e.brightnessEnabled&&(t.brightness=e.brightness),1===e.contrastEnabled&&(t.contrast=e.contrast),1===e.grayScaleEnabled&&(t.grayscale=e.grayscale),1===e.hueRotateEnabled&&(t.hueRotate=e.hueRotate),1===e.invertEnabled&&(t.invert=e.invert),1===e.saturateEnabled&&(t.saturate=e.saturate),1===e.sepiaEnabled&&(t.sepia=e.sepia),r.wantsFilterShadow(e)&&(i.hasBoxShadow(e)&&e.boxShadows?t.dropShadows=e.boxShadows.toArray().filter(e=>e.enabled&&!e.inset).map(e=>new s.BoxShadow(e.merge({blur:a.getFilterBlurForBoxBlur(e.blur)}))):o.hasShadow(e)&&e.shadows&&(t.dropShadows=e.shadows.toArray().filter(e=>e.enabled)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GPU_RASTER_ENABLED=!1,t.isDebugBuild=!1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.navigationLinkDefaults={navigationTarget:null,navigationTransition:r.NavigationTransitionType.push,navigationTransitionDirection:"left",navigationTransitionBackdropColor:"rgba(4,4,15,.4)"};const i="navigationTarget";t.hasNavigationLink=function hasNavigationLink(e){return i in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.distance=function distance({x:e,y:t},{x:n,y:r}){const i=Math.abs(e-n),o=Math.abs(t-r);return Math.sqrt(i*i+o*o)},e.delta=function delta({x:e,y:t},{x:n,y:r}){return{x:n-e,y:r-t}},e.add=function add({x:e,y:t},{x:n,y:r}){return{x:e+n,y:t+r}}}(t.Point||(t.Point={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(80),i=n(0),o=n(383),s=n(384),a=n(172),c=n(385),l=n(763),u=n(238),h=n(387),d=n(388);function setDragPreviewPosition(e,t){setDragPreviewProperties(a.Point.add(t,e.elementOffset))}var p;function setDragPreviewProperties(e){const t={};s.isNumber(e.x)&&(t[p.x]=e.x+"px"),s.isNumber(e.y)&&(t[p.y]=e.y+"px"),s.isNumber(e.scale)&&(t[p.scale]=`${e.scale}`),s.isNumber(e.opacity)&&(t[p.opacity]=`${e.opacity}`),s.isNumber(e.originX)&&(t[p.originX]=`${100*e.originX}%`),s.isNumber(e.originY)&&(t[p.originY]=`${100*e.originY}%`),o.applyDragPreviewProperties(t)}function previewElement(e,t){let n;if(t){const e=document.createElement("template");r.render(t(),e),n=e.firstChild}else n=e.cloneNode(!0);return n.style.position="absolute",n.style.left="0px",n.style.top="0px",n.style.width=`${e.offsetWidth}px`,n.style.height=`${e.offsetHeight}px`,n.style.marginLeft="0px",n.style.marginRight="0px",n.style.marginTop="0px",n.style.marginBottom="0px",n.style.pointerEvents="none",n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.animation="none",n.style.transition="",n.style.webkitTransition="",n.style.zIndex="100000",n.style.transform=`translateX(var(${p.x}, 0px)) translateY(var(${p.y}, 0px)) scale(var(${p.scale}, 0))`,n.style.transformOrigin=`var(${p.originX}, 50%) var(${p.originY}, 50%)`,n.style.opacity=`var(${p.opacity}, 1)`,n.style.cursor="default",n}t.useDraggable=function useDraggable(e={}){const{enabled:t,hideDragSource:n}=e,r=i.useRef(null),s=e.ref||r,a=c.useRefUpdateCount(s),p=i.useRef(e);p.current=e;const[f,g]=i.useState(null),{beginAutoScroll:m,endAutoScroll:v,updateAutoScroll:y}=l.useAutoScroll(),S=i.useContext(u.dragDataTransferContext),b=i.useCallback(e=>{if(!1===t)return;const n=s.current;if(!n)return;const{top:r,left:i,width:o,height:a}=n.getBoundingClientRect(),{x:c,y:l}=e.client,u=S.dragSessionStart(),d=new h.DragDataTransfer,f={x:i+o/2-c,y:r+a/2-l},m={sessionId:u,startEvent:e,elementOffset:{x:i,y:r},clonedElement:previewElement(n,p.current.customDragPreview),dropTransitionActive:!1,began:!1,ended:!1,originalOpacity:null,originalPointerEvents:null,centerOfGravityOffset:f,dataTransfer:d},v=(c-i)/o,y=(l-r)/a,b=Math.max(o,a,1),_=(b+2)/b;g(m),setDragPreviewPosition(m,{x:0,y:0}),setDragPreviewProperties({scale:_,opacity:.8,originX:v,originY:y})},[a,t]),_=i.useCallback(e=>{if(!f)return;if(setDragPreviewPosition(f,e.delta),!f.began||f.ended)return;const{dataTransfer:t}=f,n=Object.assign({},e,{dataTransfer:t,centerOfGravityOffset:f.centerOfGravityOffset});y(n),S.dragSessionChange(f.sessionId,n);const{onDrag:r,dragProperties:i}=p.current;let s="";if("none"!==t.dropEffect&&(t.dropEffectCursor?s=t.dropEffectCursor:"copy"===t.dropEffect&&(s="copy")),o.setDragOverlayCursor(s),r&&r(n),i){const e=i(n);e&&setDragPreviewProperties(e)}},[f,y,S]),C=i.useCallback(e=>{if(!f)return;const t=e.cancelled||function outsideWindowBounds(e){return e.x<0||e.y<0||e.x>window.innerWidth||e.y>window.innerHeight}(e.client),n=Object.assign({},e,{dataTransfer:f.dataTransfer,centerOfGravityOffset:f.centerOfGravityOffset,cancelled:t});S.dragSessionEnd(f.sessionId,n);const{onDragEnd:r,onDropAnimationStart:i,dropAnimationProperties:o}=p.current;r&&r(n);const s="none"!==f.dataTransfer.dropEffect;let a={scale:1,opacity:s?0:1};if(s||(a.x=f?f.elementOffset.x:0,a.y=f?f.elementOffset.y:0),!t&&o){const e=o(n);e&&(a=e)}f.dropTransitionActive=!0,i&&i(),f.clonedElement.style.transition="transform 0.2s, opacity 0.2s",f.clonedElement.style.webkitTransition="transform 0.2s, opacity 0.2s",setDragPreviewProperties(a),v()},[f,v,S]);return d.useDragGesture({ref:s,onDragStart:b,onDrag:_,onDragEnd:C}),i.useEffect(()=>{if(!f)return;const e=s.current;if(!e)return;function handleTransitionEnd(){if(!f||!f.dropTransitionActive)return;f.ended=!0,g(null);const{onDropAnimationEnd:e}=p.current;e&&e()}p.current.onDragStart&&p.current.onDragStart(Object.assign({},f.startEvent,{dataTransfer:f.dataTransfer,centerOfGravityOffset:f.centerOfGravityOffset})),f.began=!0,m(e),f.originalOpacity=e.style.opacity,f.originalPointerEvents=e.style.pointerEvents,!1!==n&&(e.style.opacity="0"),e.style.pointerEvents="none";const{clonedElement:t}=f;return o.displayDragPreview(t,handleTransitionEnd),t.addEventListener("transitionend",handleTransitionEnd),()=>{t.removeEventListener("transitionend",handleTransitionEnd),o.removeDragPreview(t),e.style.opacity=f.originalOpacity,e.style.pointerEvents=f.originalPointerEvents}},[f]),s},function(e){e.x="--layout-transition-drag-preview-x",e.y="--layout-transition-drag-preview-y",e.scale="--layout-transition-drag-preview-scale",e.opacity="--layout-transition-drag-preview-opacity",e.originX="--layout-transition-drag-preview-origin-x",e.originY="--layout-transition-drag-preview-origin-y"}(p||(p={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(773);let i;t.getPathOperator=function getPathOperator(){return i||(i=new r.PaperjsPathOperator),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(240),i=n(779),o=n(91),s=n(29),a=n(34),c=n(392),l=n(101),u=n(393);t.isShapeGroupNode=function isShapeGroupNode(e){return e instanceof ShapeGroupNode};class ShapeGroupNode extends a.default{constructor(e){super(),s.setDefaults(this,i.ShapeGroupRecord,e)}calculatedPaths(){const e=this.cache;if(e.calculatedPaths)return e.calculatedPaths;const t=r.CompoundShape.sourcePaths(this.children);return e.calculatedPaths=r.CompoundShape.executePathBoolean(t,o.PathBooleanType.Join),e.calculatedPaths}normalizedPath(){this.calculatedPaths()}rect(e){return{x:this.x,y:this.y,width:this.width,height:this.height}}matrix(e,t){const n={x:this.x,y:this.y};return t&&(n.x=t.x,n.y=t.y),(new WebKitCSSMatrix).translate(n.x,n.y).rotate(0,0,this.rotation)}transformMatrix(e,t){const n={width:this.width,height:this.height};return t&&(n.width=t.width,n.height=t.height),(new WebKitCSSMatrix).translate(.5*n.width,.5*n.height).multiply(this.matrix(e,t)).translate(-.5*n.width,-.5*n.height)}isRotated(){return this.rotation%360!=0}updateForRect(e,t){return e}updateForSize(e,t){return e}getProps(){const e=l.stringFromNodeID(this.id),t=c.defaultName(this),n=1!==this.opacity?this.opacity:void 0;let r=!0;this.cache.latest&&(r=this.tree().isRootVectorNode(this));const i=this.rect(null),o=super.getProps(),s={key:e,id:void 0,opacity:n,visible:this.visible,x:this.x,y:this.y,rotation:this.rotation,width:this.width,height:this.height,defaultName:t,isRootVectorNode:r,frame:i};return Object.assign(o,s),o}preCommit(e){this.isEmptyGroup()?e.removeNode(this):u.wrapInShapeContainer(this,e)}}t.default=ShapeGroupNode},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(22),i=n(21);t.isUserComponent=function isUserComponent(e){return!(!r.isMaster(e)&&!r.isReplica(e))||i.isCodeComponentNode(e)&&!e.framerComponent()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(781),o=n(51),s=n(139),a=n(64);t.isLinearGradient=function isLinearGradient(e){return e instanceof LinearGradient};class LinearGradient extends i.LinearGradientRecord{toJS(){let e=this.__js;return e||((e=super.toJS()).__class=this.constructor.name,this.stops.some(e=>o.isTokenCSSVariable(e.value))&&(e.alpha=1),this.__js=e)}toJSON(){return this.toJS()}toCSS(e){const{__css:t,__overrideAngle:n}=this;return e===n&&t?t:(this.__overrideAngle=e,this.__css=r.LinearGradient.toCSS(this.toJS(),e))}equals(e){return this.angle===e.angle&&this.equalColors(e)}equalColors(e){return this.alpha===e.alpha&&this.stops.count()===e.stops.count()&&this.stops.every((t,n)=>{const i=e.stops.get(n);return(t.value===i.value||r.ConvertColor.equals(t.value,i.value))&&t.position===i.position})}tokenVariables(){const e=[];return this.stops.forEach(t=>{o.isTokenCSSVariable(t.value)&&e.push(t.value)}),e}removeTokenVariables(e){let t=!1;const n=this.stops.map(n=>{const r=s.findValueForTokenCSSVariable(n.value,e);return r?(t=!0,new a.GradientColorStop(n.merge({value:r}))):n});if(t)return new LinearGradient(Object.assign({},this.toJS(),{stops:n}))}}t.LinearGradient=LinearGradient},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(20),o=n(45),s=n(40),a=n(22),c=n(62);function replicaDescendantInSelection(e,t,n){if(!a.isReplicaChild(t))return!1;const r=c.TemplateHelper.getReplicaForTemplateNode(e,t);return!!r&&descendantInSelection(r,n)}function descendantInSelection(e,t){let n=!1;return function checkChildren(e){if(!n&&e)for(let t=0,r=e.length;t<r;t++){const r=e[t];if(r.isSelected())return void(n=!0);checkChildren(r.children)}}(e.children),n}t.default=function isSelectable(e,t,n,o,c){const{tree:l}=t;if(!e.cache.visible)return!1;if(s.hasLock(e)&&e.locked)return!1;if(o)return!!c||(a.isReplicaChild(e)?replicaDescendantInSelection(l,e,n):!(r.isVectorNode(e)&&!t.shapeModeActive)||function graphicDescendantInSelection(e,t,n){const i=e.getAncestorOfType(t,r.ShapeContainerNode);return!!i&&descendantInSelection(i,n)}(l,e,n));if(r.isVectorNode(e)&&!t.shapeModeActive)return!1;if(r.isFrameNode(e)&&!l.getParent(e.id))return 0===e.children.length||0!==e.rotation||e.isSelected()||a.isReplica(e);const u=[...n],h=l.getGroundNodesOfType(r.FrameNode,e=>!a.isReplica(e)&&0===e.rotation),d=t=>{t.forEach(t=>{(!a.isReplicaChild(t)||c||replicaDescendantInSelection(l,e,n))&&(s.hasLock(t)&&t.locked&&i.hasChildren(t)&&d(t.children),u.push(t.id))})};h.forEach(e=>{const t=e.children;d(t)}),t.shapeModeActive&&l.getNodesWithPredicate(r.isShapeContainerNode).forEach(e=>{const t=e.children;d(t)});const p=l.getGroundNodes(e=>!(e instanceof r.FrameNode));return d(p),n.forEach(e=>{const t=l.getNode(e);if(!t)return;u.push(...l.getAncestors(e));const n=l.getSiblings(t);d(n),c&&i.hasChildren(t)&&d(t.children)}),-1!==u.indexOf(e.id)},t.buildSelectableNodeCache=function buildSelectableNodeCache(e){const{tree:t}=e,n=[],o=t.getGroundNodesOfType(r.FrameNode,e=>0===e.rotation&&!a.isReplica(e)),c=e=>{e.forEach(e=>{s.hasLock(e)&&e.locked&&i.hasChildren(e)&&c(e.children),n.push(e.id)})};e.shapeModeActive||o.forEach(e=>{const t=e.children;c(t)});const l=t.getGroundNodes(t=>{if(e.shapeModeActive){if(!r.isVectorNode(t)&&!r.isShapeContainerNode(t))return!1;if(r.isShapeContainerNode(t)&&t.children.length>0)return!1}return!(t instanceof r.FrameNode&&0===t.rotation&&!a.isReplica(t))});e.shapeModeActive&&t.getNodesWithPredicate(r.isShapeContainerNode).forEach(e=>{c(e.children)});return c(l),n},t.isSelectableInFrame=function isSelectableInFrame(e,t,n,i){const{tree:c}=t;return!(o.hasVisibility(e)&&!e.visible||s.hasLock(e)&&e.locked||t.shapeModeActive&&!r.isVectorNode(e)&&!r.isShapeContainerNode(e)||void 0!==c.getAncestors(e.id).map(e=>c.getNode(e)).find(e=>o.hasVisibility(e)&&!e.visible)||(r.isFrameNode(e)&&c.getParent(e.id)===r.NullID&&0===e.rotation&&!a.isReplica(e)?0!==e.children.length:a.isReplicaChild(e)||!n&&-1===i.indexOf(e.id)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(25),o=n(1),s=n(53),a=n(52),c=n(17),l=n(9);t.PanTool=class PanTool extends c.VekterTool{constructor(){super(...arguments),this.enum=l.Tools.Pan}start(){this.startScrollPoint=this.engine.canvasStore.offset,this.startSpacebar=this.engine.mouseStore.spacebar,this.startMiddleButton=this.engine.mouseStore.middleMouseButtonDownRaw,this.engine.toolStore.setMouseCursor("-webkit-grab"),a.getIpcRenderer().send(s.DocumentKeepMouseCursorVisible,!0),i.triggerCanvasPanEvent({})}stop(){this.engine.toolStore.setMouseCursor(""),a.getIpcRenderer().send(s.DocumentKeepMouseCursorVisible,!1)}update(){const{mouseRaw:e,mouseDownRaw:t,spacebar:n,middleMouseButtonDownRaw:r}=this.engine.mouseStore,i=this.engine.previousInputState;if(!t&&this.startSpacebar&&!n||this.startMiddleButton&&!r)return void(this.pathEngine?this.pathEngine.switchToDefault():this.engine.exitTool());!t&&i.mouseDownRaw&&this.engine.toolStore.setMouseCursor("-webkit-grab");const s=t||r;if(!e||!s)return;r&&this.engine.toolStore.setMouseCursor("-webkit-grabbing"),!i.mouseDownRaw&&t&&(this.engine.toolStore.setMouseCursor("-webkit-grabbing"),this.startScrollPoint=this.engine.canvasStore.offset);const a=o.Point.subtract(e,s),c=o.Point.subtract(this.startScrollPoint,o.Point.divide(a,this.engine.canvasStore.zoom));this.engine.canvasStore.scrollToTopLeft(c)}};t.Pan=class Pan extends r.Component{render(){return null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(33),o=n(21),s=n(368),a=n(1),c=n(35),l=n(39),u=n(20);function getChildrenRects(e,t,n){const u=e.children;if(!u||!o.isCodeComponentNode(e))return null;const h=i.componentLoader.componentForIdentifier(e.codeComponentIdentifier);if(h&&h.class&&r.providesChildLayout(h.class)){const i=e.tree(),o=invisibleChildIndexes(e,n),d=i.getParentSize(e),p=r.toPaddingSize(h.class,e.codeComponentProps),f=e.minSize(d),g=r.Size.subtract(f,p),m=u.map(e=>(e.cache.parentDirected=!0,s.toMinSize(e,g)));n&&m.splice(n.index,0,...n.sizes);const v=a.toAutoSize(h.class,m,e.codeComponentProps,o),{parentDirectedRect:y}=e.cache,S=y||e.size(d,null),b=function collectFractions(e){const t={width:0,height:0};return e.forEach(e=>{e.visible&&c.isPinnable(e)&&l.hasSize(e)&&(e.widthType===r.DimensionType.FractionOfFreeSpace&&(t.width+=e.width),e.heightType===r.DimensionType.FractionOfFreeSpace&&(t.height+=e.height))}),t}(u),_=r.toFreeSpace(h.class,S,v,b,e.codeComponentProps),C=r.Size.subtract(S,p),w=u.map(e=>s.toSize(e,C,_,t));return n&&w.splice(n.index,0,...n.sizes),h.class.childLayoutRects(w,C,e.codeComponentProps,o)}return null}function invisibleChildIndexes(e,t){const n=[];if(!u.hasChildren(e))return n;for(let r=0,i=e.children.length;r<i;r++){if(e.children[r].visible)continue;let i=r;t&&t.index<=r&&(i+=t.sizes.length),n.push(i)}return n}t.getChildrenRects=getChildrenRects,t.getLiveSortingRects=function getLiveSortingRects(e,t){if(!u.hasChildren(e))return null;const n=[];for(let i=0,o=e.children.length+1;i<o;i++){const o=getChildrenRects(e,!1,{index:i,sizes:t});if(!o||0===o.length)return null;const s=o.splice(i,t.length),a=r.Rect.merge(...s);n.push(a)}return n},t.childrenRectsById=function childrenRectsById(e,t){const n=e.children;if(!n)return;const r=getChildrenRects(e,t);if(!r)return;const i={};return n.forEach((e,t)=>{i[e.id]=r[t]}),i},t.invisibleChildIndexes=invisibleChildIndexes},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(51),o=n(168);t.isColorToken=function isColorToken(e){return e instanceof ColorTokenNode},t.computeColor=function computeColor(e,t,n="transparent"){if(void 0===e)return n;if(!i.isTokenCSSVariable(e))return e;const r=o.findTokenNode(e,t);return r&&"string"==typeof r.value?r.value:n};class ColorTokenNode extends i.TokenNode{constructor(e){super(),this.value="#fff";const t={};e&&e.value&&(t.value=r.Color.toRgbString(r.Color(e.value))),Object.assign(this,e,t)}}t.ColorTokenNode=ColorTokenNode},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(145);t.default=(e,t)=>{if(e.mouseDown&&!t.mouseDown)return"mouseDown";if(!e.mouseDown&&t.mouseDown)return"mouseUp";const n=r.default(e.mouse,t.mouse),i=e.altKey!==t.altKey,o=e.cmdKey!==t.cmdKey,s=e.shiftKey!==t.shiftKey;return n||(i||o||s)?"mouseMove":null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(145),s=n(6),a=n(36),c=n(63),l=n(73),u=n(23),h=n(95),d=n(809),p=n(810),f=n(244),g=n(403);t.CreateToolHelper=class CreateToolHelper{constructor(){this.spacebarOffset=null,this.showTooltip=!0,this.showFrame=!0,this.supportsAspectRatioLock=!0,this.supportsParentDirected=!0,this.topLevel=!1,this.needsShapeContainer=!1,this.roundedRect=!1,this.stateDidChange=(e,t)=>{const n=!e.mouseDown&&t.mouseDown||e.mouseDown&&!t.mouseDown,r=o.default(t.mouse,e.mouse),i=e.spacebarDown!==t.spacebarDown,s=e.altKey!==t.altKey||e.shiftKey!==t.shiftKey||e.cmdKey!==t.cmdKey;return n||r||i||s}}start(e){const t=e.engine;e.snapper=new f.SnapTool(t,[]),t.setHighlight(null)}stop(e){e.engine.setTooltip(null),e.snapper.stop()}update(e){const t=e.engine,{mouseDown:n,mouse:r,altKey:o,shiftKey:a,cmdKey:c,spacebarDown:l,tree:u,zoom:d}=t,p=t.previousInputState;if(!this.stateDidChange(p,t)||!r)return;const f=u.getGroundNodesOfType(s.FrameNode,e=>i.Rect.pointDistance(e.rect(null),r)<h.snappingThreshold(d))[0]||null,m=!c,v=[f?f.id:s.NullID];if(this.snappedMouse=r,l||(this.snappedMouse=e.snapper.snap(r,m,v,void 0,void 0,this.snappedMouseDown)),!p.mouseDown&&n&&(void 0!==this.dragStart&&this.dragStart(),this.snappedMouseDown=this.snappedMouse),!this.snappedMouseDown){if(this.highlightParent){const[e]=this.parentAndFrame(u,{x:r.x,y:r.y,width:0,height:0},r,this.nodeClass);this.parentHighlight=e||void 0}return}if(l&&this.spacebarOffset){const t=i.Point.subtract(r,this.spacebarOffset);this.snappedMouseDown=e.snapper.snap(t,m,v,void 0,void 0),this.snappedMouse=r}const y=this.frame(this.snappedMouseDown,this.snappedMouse,a,o&&!l);let[S,b,_]=this.parentAndFrame(u,y,r,this.nodeClass);if(l&&!p.spacebarDown&&(this.spacebarOffset=i.Point.subtract(this.snappedMouse,this.snappedMouseDown)),l||(this.spacebarOffset=null),n)!1!==this.showTooltip&&t.setTooltip(`${y.width} × ${y.height}`),this.highlightParent&&S?this.parentHighlight=S:this.parentHighlight=void 0;else{const n=u.newId(),r={id:n};!1!==this.supportsAspectRatioLock&&(r.aspectRatio=a?b.width/b.height:null);const{displayRulers:o}=t.persistedUserDefaults;if(0===u.getGroundNodes().length&&!o){const e=i.Point.reverse(b),n=i.Point.add(t.canvasStore.offset,e);t.canvasStore.scrollToTopLeft(n),b.x=0,b.y=0}if(this.needsShapeContainer){const e=g.findShapeContainerInRange(u,S,y);if(e){const t=i.Rect.center(y),n=u.convertPointToNode(e,t,!0);b=Object.assign({},y,{x:n.x-y.width/2,y:n.y-y.height/2}),_=u.totalAncestorRotation(e),S=e.id}}e.create(n,S,b,r,_)}}frame(e,t,n,r){let o=Math.round(t.x-e.x),s=Math.round(t.y-e.y);if(n){const e=Math.min(Math.abs(o),Math.abs(s));o=e*Math.sign(o),s=e*Math.sign(s)}let a=1;r&&(o=-Math.abs(o),s=-Math.abs(s),a=2);const c={x:Math.min(e.x,e.x+o),y:Math.min(e.y,e.y+s),width:Math.abs(o*a),height:Math.abs(s*a)};return i.Rect.pixelAligned(c)}parentAndFrame(e,t,n,r){let o;void 0!==r&&(o=new r(e));const c=e.getPotentialParents(t,n,o,!0).filter(e=>!(!this.supportsParentDirected&&l.codeComponentWithChildInsertion(e)||a.hasShape(e))),u=e.getTopMostChildNode(c);if(u&&s.isTreeNode(u)&&!this.topLevel){const n=i.Rect.center(t),r=e.convertPointToNode(u,n,!0),o=Object.assign({},t,{x:r.x-t.width/2,y:r.y-t.height/2}),s=e.totalAncestorRotation(u);return[u.id,o,-s]}return[s.NullID,t,0]}};const m=f.default(class Create extends r.Component{render(){const e=this.props.myTool,t=e.engine,n=e.helper,{tree:o,altKey:s,shiftKey:a,zoom:l}=this.props,h=n.overlayShape||c.BasicShape.makeRectangle;if(!n.snappedMouse||!1===n.showFrame)return null;let f=null;if(n.snappedMouseDown){const e=i.Rect.multiply(n.frame(n.snappedMouseDown,n.snappedMouse,a,s&&!t.spacebarDown),l);let o;o=!n.overlayShape&&n.roundedRect?c.BasicShape.makeRectangle(e.width,e.height,Math.max(e.width,e.height)):h(e.width,e.height);const d=[u.default.applyRadius(o[0].pathSegments,!0)];f=r.createElement(p.default,{paths:d,offset:e})}return r.createElement("div",null,f,r.createElement(d.default,{ids:n.parentHighlight?[n.parentHighlight]:[],tree:o,zoom:l}),this.props.children)}});t.Create=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(9),s=n(19),a=n(249);t.PathSegmentHandleMoveTool=class PathSegmentHandleMoveTool{constructor(){this.enum=o.Tools.Unknown,this.wantsAutoscrolling=!0,this.didMove=!1}start(){const{segmentHandle:e,tree:t}=this.pathEngine;if(!e)return;const n=t.getNode(e.id);this.oriSegment=n.pathSegments.get(e.index),this.engine.beginUndoGroup(),this.didMove=!1}stop(){this.engine.endUndoGroup()}update(){const{mouseDown:e,mouse:t,altKey:n,tree:r}=this.engine,{segmentHandle:o,snap:a}=this.pathEngine,c=this.engine.previousInputState;if(!o||!e||!a.snappedMouse)return void this.pathEngine.switchToDefault();if(!this.didMove){if(i.isEqual(e,t))return;this.didMove=!0}if(i.isEqual(a.snappedMouse,a.previousSnappedMouse)&&n===c.altKey)return;const l=s.handleUpdate(r,o,a.snappedMouse,this.oriSegment,n),u=r.getNode(o.id);this.engine.updateNode(u.id,u.updateForPath({pathSegments:l}))}};const c=a.default(class PathSegmentHandleMove extends r.Component{render(){return null}});t.PathSegmentHandleMove=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(56),i=n(43),o=n(26),s=n(61),a=n(45),c=n(40),l=n(39),u=n(103),h=n(46),d=n(57),p=n(134),f=n(88);t.ShapeNodeRecord=Object.assign({},r.nameDefaults,f.shapeFillDefaults,o.rotationDefaults,i.aspectRatioDefaults,s.shapeStrokeDefaults,d.opacityDefaults,p.boxShadowDefaults,a.visibilityDefaults,c.lockDefaults,l.sizeDefaults,u.positionDefaults,h.withExportDefaults)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(34),o=n(845),s=n(44),a=n(29),c=n(138),l=n(144),u=n(19),h=n(107),d=n(228),p=n(132);t.isShapeContainerNode=function isShapeContainerNode(e){return e instanceof ShapeContainerNode};class ShapeContainerNode extends i.default{constructor(e){super(),a.setDefaults(this,o.ShapeContainerRecord,e)}updateForRect(e,t){return s.updateConstrainedFrame(e,t,this.constraints(),this.constraintsLocked)}updateForSize(e,t){return s.updateConstrainedSize(e,t,this.constraintValues())}getProps(){const e={},t=Object.assign({},super.getProps(),this.newConstraintProperties(),{_border:d.borderPropsForNode(this),visible:this.visible,overflow:"hidden",style:e});this.__unsafeIsGroundNode()&&(t.left=0,t.top=0);const n=c.collectStyleFromNode(this);return l.collectBackgroundPropsForNode(this,n),r.collectVisualStyleFromProps(n,e),t.background=n.background,t}newConstraintProperties(){return p.newConstraintProperties(this)}constraintProperties(){if(this.cache.constraintProps)return this.cache.constraintProps;const e=this.constraints();return this.cache.constraintProps={left:e.left?this.left:null,right:e.right?this.right:null,top:e.top?this.top:null,bottom:e.bottom?this.bottom:null,width:this.width,height:this.height,aspectRatio:e.aspectRatio,centerX:`${100*this.centerAnchorX}%`,centerY:`${100*this.centerAnchorY}%`,parentSize:null}}constraints(){return this.cache.parentDirected?r.ConstraintMask.quickfix({left:!1,right:!1,top:!1,bottom:!1,widthType:this.widthType,heightType:this.heightType,aspectRatio:null,fixedSize:!0}):r.ConstraintMask.quickfix({left:r.isFiniteNumber(this.left),right:r.isFiniteNumber(this.right),top:r.isFiniteNumber(this.top),bottom:r.isFiniteNumber(this.bottom),widthType:this.widthType,heightType:this.heightType,aspectRatio:null,fixedSize:!0})}constraintValues(){const e=this.constraints();return{left:e.left?this.left:null,right:e.right?this.right:null,top:e.top?this.top:null,bottom:e.bottom?this.bottom:null,widthType:this.widthType,heightType:this.heightType,width:this.width,height:this.height,aspectRatio:null,centerAnchorX:this.centerAnchorX,centerAnchorY:this.centerAnchorY}}minSize(e){return r.ConstraintValues.toMinSize(this.constraintValues(),e)}size(e,t,n=!0){const{parentDirectedRect:i}=this.cache;return i&&n?{width:i.width,height:i.height}:r.ConstraintValues.toSize(this.constraintValues(),e,null,t)}rect(e){return this.cache.parentDirectedRect?Object.assign({},this.cache.parentDirectedRect):r.ConstraintValues.toRect(this.constraintValues(),e,null,!0)}matrix(e,t){if(t||void 0===e||(t=this.rect(e)),!t)throw Error("Could not determine frame to build matrix from");return(new WebKitCSSMatrix).translate(t.x,t.y)}transformMatrix(e,t){if(t||(t=this.rect(e)),!t)throw Error("Could not determine frame to build matrix from");return(new WebKitCSSMatrix).translate(.5*t.width,.5*t.height).multiply(this.matrix(e,t)).translate(-.5*t.width,-.5*t.height)}isRotated(){return!1}preFreeze(e){this.children.forEach(t=>(function shapePreFreeze(e,t){const n=u.validBoundingBoxUpdatesForFrameNode(e,t),r=Object.keys(n);for(let i=0,o=r.length;i<o;i++){const t=r[i],o=n[t];e.update(t,o)}})(e,t)),this.sizeToFit&&h.ContextAction.sizeToFitContent(e,[this])}}t.default=ShapeContainerNode},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(75),i=n(78),o=n(186),s=n(232),a=n(253),c=n(74),l=n(76),u=n(417),h=n(254),d=n(255),p=n(257),f=n(256),g=n(175),m=n(1),v=n(21),y=n(60),S=n(375),b=n(93),_=n(64),C=n(181);t.classList=[r.RootNode,i.default,o.default,s.default,a.default,c.default,l.default,y.StyledTextDraft,S.Shadow,S.BoxShadow,b.LinearGradient,b.RadialGradient,_.GradientColorStop,u.default,m.PathSegment,h.default,d.default,p.default,f.default,g.default,v.default,C.ColorTokenNode],t.classMap={},t.nodeDefaultsMap={};for(const w of t.classList)w&&(t.classMap[w.name]=w,w.name.endsWith("Node")&&(t.nodeDefaultsMap[w.name]=new w({id:"_DEFAULT_"})))},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=function nextTick(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function afterTickOne(){e.call(null,n)});case 3:return t.nextTick(function afterTickTwo(){e.call(null,n,r)});case 4:return t.nextTick(function afterTickThree(){e.call(null,n,r,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick(function afterTick(){e.apply(null,o)})}}:e.exports=t.nextTick}).call(this,n(66))},function(e,t,n){var r=n(147),i=r.Buffer;function copyProps(e,t){for(var n in e)t[n]=e[n]}function SafeBuffer(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(copyProps(r,t),t.Buffer=SafeBuffer),copyProps(i,SafeBuffer),SafeBuffer.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},SafeBuffer.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},SafeBuffer.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},SafeBuffer.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(116),o=n(16);function collectLayerFilters(e,t){const n=[];if(r.isFiniteNumber(e.brightness)&&n.push(`brightness(${e.brightness}%)`),r.isFiniteNumber(e.contrast)&&n.push(`contrast(${e.contrast}%)`),r.isFiniteNumber(e.grayscale)&&n.push(`grayscale(${e.grayscale}%)`),r.isFiniteNumber(e.hueRotate)&&n.push(`hue-rotate(${e.hueRotate}deg)`),r.isFiniteNumber(e.invert)&&n.push(`invert(${e.invert}%)`),r.isFiniteNumber(e.saturate)&&n.push(`saturate(${e.saturate}%)`),r.isFiniteNumber(e.sepia)&&n.push(`sepia(${e.sepia}%)`),r.isFiniteNumber(e.blur)&&n.push(`blur(${e.blur}px)`),e.dropShadows){const{zoom:t}=o.RenderEnvironment;t>=8||n.push(...i.shadowsAsFilter(e.dropShadows))}0!==n.length&&(t.filter=t.WebkitFilter=n.join(" "))}function collectBackgroundFilters(e,t){r.isFiniteNumber(e.backgroundBlur)&&(t.backdropFilter=t.WebkitBackdropFilter=`blur(${e.backgroundBlur}px)`)}t.collectLayerFilters=collectLayerFilters,t.collectBackgroundFilters=collectBackgroundFilters,t.collectFiltersFromProps=function collectFiltersFromProps(e,t){collectBackgroundFilters(e,t),collectLayerFilters(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(263),i=n(264),o=n(96),s=n(265),a=new Map;function Color(e,t,n,r){if("string"==typeof e){let t=a.get(e);return t||(void 0===(t=createColor(e))?Object.assign({},Color("black"),{isValid:!1}):(a.set(e,t),t))}const i=createColor(e,t,n,r);return void 0!==i?i:Object.assign({},Color("black"),{isValid:!1})}function createColor(e,t,n,r){if(""===e)return;const s=function getCompleteColorStrategy(e,t,n,r=1){let s;if("number"!=typeof e||Number.isNaN(e)||"number"!=typeof t||Number.isNaN(t)||"number"!=typeof n||Number.isNaN(n))"string"==typeof e?s=function getCompleteColorFromString(e){const t=i.stringToObject(e);if(t)return t.format===o.ColorFormat.HSL?getCompleteColorFromHSL(t):t.format===o.ColorFormat.HSV?function getCompleteColorFromHSV(e){const t=i.hsvToRgb(e.h,e.s,e.v),n=i.rgbToHsl(t.r,t.g,t.b);return Object.assign({},n,t,{format:o.ColorFormat.RGB,a:void 0!==e.a?correctAlpha(e.a):1})}(t):getCompleteColorFromRGB(t)}(e):"object"==typeof e&&(s=e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?getCompleteColorFromRGB(e):getCompleteColorFromHSL(e));else{const i=e,o=t,a=n,c=r;s=getCompleteColorFromRGB({r:i,g:o,b:a,a:c})}return s}(e,t,n,r);if(s){const t={r:s.r,g:s.g,b:s.b,a:s.a,h:s.h,s:s.s,l:s.l,initialValue:"string"==typeof e&&s.format!==o.ColorFormat.HSV?e:void 0,roundA:Math.round(100*s.a)/100,format:s.format,mix:Color.mix,toValue:()=>Color.toRgbString(t)};return t}}t.Color=Color,function(e){e.inspect=function inspect(e,t){return e.format===o.ColorFormat.HSL?`<${e.constructor.name} h:${e.h} s:${e.s} l:${e.l} a:${e.a}>`:e.format===o.ColorFormat.HEX||e.format===o.ColorFormat.NAME?`<${e.constructor.name} "${t}">`:`<${e.constructor.name} r:${e.r} g:${e.g} b:${e.b} a:${e.a}>`},e.isColor=function isColor(t){return"string"==typeof t?e.isColorString(t):e.isColorObject(t)},e.isColorString=function isColorString(e){return"string"==typeof e&&!1!==i.stringToObject(e)},e.isColorObject=function isColorObject(e){return e&&"string"!=typeof e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b&&"number"==typeof e.h&&"number"==typeof e.s&&"number"==typeof e.l&&"number"==typeof e.a&&"number"==typeof e.roundA&&"string"==typeof e.format},e.toString=function toString(t){return e.toRgbString(t)},e.toHex=function toHex(e,t=!1){return i.rgbToHex(e.r,e.g,e.b,t)},e.toHexString=function toHexString(t,n=!1){return`#${e.toHex(t,n)}`},e.toRgbString=function toRgbString(e){return 1===e.a?"rgb("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+")":"rgba("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+", "+e.roundA+")"},e.toHusl=function toHusl(e){return Object.assign({},i.rgbToHsluv(e.r,e.g,e.b),{a:e.roundA})},e.toHslString=function toHslString(t){const n=e.toHsl(t),r=Math.round(n.h),i=Math.round(100*n.s),o=Math.round(100*n.l);return 1===t.a?"hsl("+r+", "+i+"%, "+o+"%)":"hsla("+r+", "+i+"%, "+o+"%, "+t.roundA+")"},e.toHsv=function toHsv(e){const t=i.rgbToHsv(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v,a:e.a}},e.toHsvString=function toHsvString(e){const t=i.rgbToHsv(e.r,e.g,e.b),n=Math.round(360*t.h),r=Math.round(100*t.s),o=Math.round(100*t.v);return 1===e.a?"hsv("+n+", "+r+"%, "+o+"%)":"hsva("+n+", "+r+"%, "+o+"%, "+e.roundA+")"},e.toName=function toName(e){if(0===e.a)return"transparent";if(e.a<1)return!1;const t=i.rgbToHex(e.r,e.g,e.b,!0);for(const n of Object.keys(s.cssNames))if(s.cssNames[n]===t)return n;return!1},e.toHsl=function toHsl(e){return{h:Math.round(e.h),s:e.s,l:e.l,a:e.a}},e.toRgb=function toRgb(e){return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b),a:e.a}},e.brighten=function brighten(t,n=10){const r=e.toRgb(t);return r.r=Math.max(0,Math.min(255,r.r-Math.round(-n/100*255))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-n/100*255))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-n/100*255))),e(r)},e.lighten=function lighten(t,n=10){const r=e.toHsl(t);return r.l+=n/100,r.l=Math.min(1,Math.max(0,r.l)),e(r)},e.darken=function darken(t,n=10){const r=e.toHsl(t);return r.l-=n/100,r.l=Math.min(1,Math.max(0,r.l)),e(r)},e.saturate=function saturate(t,n=10){const r=e.toHsl(t);return r.s+=n/100,r.s=Math.min(1,Math.max(0,r.s)),e(r)},e.desaturate=function desaturate(t,n=10){const r=e.toHsl(t);return r.s-=n/100,r.s=Math.min(1,Math.max(0,r.s)),e(r)},e.grayscale=function grayscale(t){return e.desaturate(t,100)},e.hueRotate=function hueRotate(t,n){const r=e.toHsl(t);return r.h+=n,r.h=r.h>360?r.h-360:r.h,e(r)},e.alpha=function alpha(t,n=1){return e({r:t.r,g:t.g,b:t.b,a:n})},e.transparent=function transparent(t){return e.alpha(t,0)},e.multiplyAlpha=function multiplyAlpha(t,n=1){return e({r:t.r,g:t.g,b:t.b,a:t.a*n})},e.interpolate=function interpolate(t,n,r=o.ColorMixModelType.RGB){if(!e.isColorObject(t)||!e.isColorObject(n))throw new TypeError("Both arguments for Color.interpolate must be Color objects");return i=>e.mixAsColor(t,n,i,!1,r)},e.mix=function mix(t,n,{model:r=o.ColorMixModelType.RGB}={}){const i="string"==typeof t?e(t):t,s=e.interpolate(i,n,r);return t=>e.toRgbString(s(t))},e.mixAsColor=function mixAsColor(t,n,s=.5,a=!1,l=o.ColorMixModelType.RGB){let u=null;if(c.isRGB(l))u=e({r:r.modulate(s,[0,1],[t.r,n.r],a),g:r.modulate(s,[0,1],[t.g,n.g],a),b:r.modulate(s,[0,1],[t.b,n.b],a),a:r.modulate(s,[0,1],[t.a,n.a],a)});else{let o,h;c.isHSL(l)?(o=e.toHsl(t),h=e.toHsl(n)):(o=e.toHusl(t),h=e.toHusl(n)),0===o.s?o.h=h.h:0===h.s&&(h.h=o.h);const d=o.h,p=h.h;let f=p-d;f>180?f=p-360-d:f<-180&&(f=p+360-d);const g={h:r.modulate(s,[0,1],[d,d+f],a),s:r.modulate(s,[0,1],[o.s,h.s],a),l:r.modulate(s,[0,1],[o.l,h.l],a),a:r.modulate(s,[0,1],[t.a,n.a],a)};u=c.isHSL(l)?e(g):e(i.rgbaFromHusl(g.h,g.s,g.l,g.a))}return u},e.random=function random(t=1){function gen(){return Math.floor(255*Math.random())}return e("rgba("+gen()+", "+gen()+", "+gen()+", "+t+")")},e.grey=function grey(t=.5,n=1){return t=Math.floor(255*t),e("rgba("+t+", "+t+", "+t+", "+n+")")},e.gray=e.grey,e.rgbToHsl=function rgbToHsl(e,t,n){return i.rgbToHsl(e,t,n)},e.isValidColorProperty=function(t,n){return!("color"!==t.toLowerCase().slice(-5)&&"fill"!==t&&"stroke"!==t||"string"!=typeof n||!e.isColorString(n))},e.difference=function difference(e,t){const n=(e.r+t.r)/2,r=e.r-t.r,i=e.g-t.g,o=e.b-t.b,s=Math.pow(r,2),a=Math.pow(i,2),c=Math.pow(o,2);return Math.sqrt(2*s+4*a+3*c+n*(s-c)/256)},e.equal=function equal(e,t,n=.1){return!(Math.abs(e.r-t.r)>=n||Math.abs(e.g-t.g)>=n||Math.abs(e.b-t.b)>=n||Math.abs(e.a-t.a)>=n)}}(Color||(Color={})),t.Color=Color;const c={isRGB:e=>e===o.ColorMixModelType.RGB||e===o.ColorMixModelType.RGBA,isHSL:e=>e===o.ColorMixModelType.HSL||e===o.ColorMixModelType.HSLA};function getCompleteColorFromRGB(e){const t=i.rgbToRgb(e.r,e.g,e.b),n=i.rgbToHsl(t.r,t.g,t.b);return Object.assign({},n,t,{format:o.ColorFormat.RGB,a:void 0!==e.a?correctAlpha(e.a):1})}function getCompleteColorFromHSL(e){let t,n,s,a={r:0,g:0,b:0},c={h:0,s:0,l:0};return t=((t=r.isNumeric(e.h)?e.h:0)+360)%360,n=r.isNumeric(e.s)?e.s:1,"string"==typeof e.s&&(n=r.numberFromString(e.s)),s=r.isNumeric(e.l)?e.l:.5,"string"==typeof e.l&&(s=r.numberFromString(e.l)),a=i.hslToRgb(t,n,s),c={h:t,s:n,l:s},Object.assign({},a,c,{a:void 0===e.a?1:e.a,format:o.ColorFormat.HSL})}function correctAlpha(e){return(e=parseFloat(e))<0&&(e=0),(isNaN(e)||e>1)&&(e=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(117);function Point(e,t){return{x:e,y:t}}t.Point=Point,function(e){e.add=(...e)=>e.reduce((e,t)=>({x:e.x+t.x,y:e.y+t.y}),{x:0,y:0}),e.subtract=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),e.multiply=(e,t)=>({x:e.x*t,y:e.y*t}),e.divide=(e,t)=>({x:e.x/t,y:e.y/t}),e.absolute=e=>({x:Math.abs(e.x),y:Math.abs(e.y)}),e.reverse=e=>({x:-1*e.x,y:-1*e.y}),e.pixelAligned=(e,t={x:0,y:0})=>({x:r.roundWithOffset(e.x,t.x),y:r.roundWithOffset(e.y,t.y)}),e.distance=(e,t)=>{const n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return Math.sqrt(n*n+r*r)},e.angle=(e,t)=>180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI-90,e.isEqual=(e,t)=>e.x===t.x&&e.y===t.y,e.rotationNormalizer=()=>{let e;return t=>{"number"!=typeof e&&(e=t);const n=e-t,r=Math.abs(n)+180,i=Math.floor(r/360);return n<180&&(t-=360*i),n>180&&(t+=360*i),e=t,t}},e.center=function center(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}}(Point||(Point={})),t.Point=Point},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(273),i=n(37),o=n(270),s=/var\(.+\)/,a=new Map;function cachedMultiplyAlpha(e,t){const n=[e,t];return s.test(e)?e:o.memoize(1e3,a,n,()=>i.ConvertColor.multiplyAlpha(e,t))}function gradientColorStops(e,t=1){let n;return n="stops"in e?e.stops:[{value:e.start,position:0},{value:e.end,position:1}],1===t?n:n.map(e=>Object.assign({},e,{value:cachedMultiplyAlpha(e.value,t)}))}t.gradientColorStops=gradientColorStops,t.gradientColorStopsHash=function gradientColorStopsHash(e,t){let n=0;return gradientColorStops(e,t).forEach(e=>{n^=r.hash(e.value)^e.position}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(197);function Animatable(e){return isAnimatable(e)?e:new AnimatableValue(e)}t.Animatable=Animatable,function(e){e.transaction=function transaction(e){const t=Math.random(),n=new Set;e((e,r)=>{e.set(r,t),n.add(e)},t);const r=[];n.forEach(e=>{r.push(...e.finishTransaction(t))}),r.forEach(e=>{e(t)})},e.getNumber=function getNumber(t,n=0){return e.get(t,n)},e.get=function get(e,t){return null==e?t:isAnimatable(e)?e.get():e},e.objectToValues=function objectToValues(e){if(!e)return e;const t={};for(const n in e){const r=e[n];isAnimatable(r)?t[n]=r.get():t[n]=r}return t}}(Animatable=t.Animatable||(t.Animatable={}));const i="onUpdate",o="finishTransaction";function isAnimatable(e){return null!==e&&"object"==typeof e&&i in e&&e[i]instanceof Function&&o in e&&e[o]instanceof Function}t.isAnimatable=isAnimatable;class AnimatableValue{constructor(e){this.value=e,this.observers=new r.Observers}static interpolationFor(e,t){if(isAnimatable(e))return function animatableInterpolation(e,t){return{interpolate(e,n){const r=e.get(),i=n.get(),o=Animatable(r);return e=>{const n=t.interpolate(r,i)(e);return o.set(n),o}},difference(e,n){const r=e.get();return t.difference(r,n.get())}}}(0,t)}get(){return this.value}set(e,t){const n=this.value;isAnimatable(e)&&(e=e.get()),this.value=e;const r={value:e,oldValue:n};this.observers.notify(r,t)}finishTransaction(e){return this.observers.finishTransaction(e)}onUpdate(e){return this.observers.add(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Observers=class Observers{constructor(){this.observers=new Set,this.transactions={}}add(e){this.observers.add(e);let t=!1;return()=>{t||(t=!0,this.remove(e))}}remove(e){this.observers.delete(e)}notify(e,t){if(t){const n=this.transactions[t]||e;n.value=e.value,this.transactions[t]=n}else this.callObservers(e)}finishTransaction(e){const t=this.transactions[e];return delete this.transactions[e],this.callObservers(t,e)}callObservers(e,t){const n=[];return new Set(this.observers).forEach(r=>{"function"==typeof r?r(e,t):(r.update(e,t),n.push(r.finish))}),n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(118),i=n(24),o=n(150),s=n(37);t.collectBackgroundFromProps=function collectBackgroundFromProps({background:e,backgroundColor:t},n){t?"string"==typeof t||o.isMotionValue(t)?n.backgroundColor=t:s.Color.isColorObject(e)&&(n.backgroundColor=e.initialValue||s.Color.toRgbString(e)):e&&("string"==typeof(e=i.Animatable.get(e,null))||o.isMotionValue(e)?n.background=e:r.LinearGradient.isLinearGradient(e)?n.background=r.LinearGradient.toCSS(e):r.RadialGradient.isRadialGradient(e)?n.background=r.RadialGradient.toCSS(e):s.Color.isColorObject(e)&&(n.backgroundColor=e.initialValue||s.Color.toRgbString(e)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(24),i="opacity";function withOpacity(e){return i in e}t.withOpacity=withOpacity,t.collectOpacityFromProps=function collectOpacityFromProps(e,t){if(!withOpacity(e))return;const n=r.Animatable.getNumber(e.opacity);1!==n&&(t.opacity=n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(284),i=n(120),o=n(1),s=n(286);class FramerEvent{constructor(e,t){this.originalEvent=e,this.session=t,this.time=Date.now(),this.loopTime=i.MainLoop.time;const n=t&&t.startEvent&&t.startEvent.target||e.target,s=FramerEvent.eventLikeFromOriginalEvent(e);this.point=r.pointForEvent(s,n);const a=t&&t.originElement?t.originElement:document.body;this.devicePoint=r.pointForEvent(s,a),this.target=e.target||null;const c=t&&t.lastEvent;e instanceof WheelEvent?this.delta={x:e.deltaX,y:e.deltaY}:c&&this.devicePoint&&c.devicePoint?this.delta=o.Point.subtract(this.devicePoint,c.devicePoint):this.delta={x:0,y:0}}static eventLikeFromOriginalEvent(e){if("touches"in e){let t=e.touches;if(t&&t.length||e.changedTouches&&e.changedTouches.length&&(t=e.changedTouches),!t||!t.length)return{pageX:0,pageY:0,target:null};const n=t[0];return{pageX:n.clientX||n.screenX||n.pageX,pageY:n.clientY||n.screenY||n.pageY,target:e.target}}return e}velocity(e){return this.session?this.session.velocity(e):{x:0,y:0}}get offset(){return this.session?this.session.offset(this):{x:0,y:0}}get isLeftMouseClick(){if(!s.environment.isTouch())return"button"in this.originalEvent&&"buttons"in this.originalEvent&&"ctrlKey"in this.originalEvent&&((0===this.originalEvent.button||1===this.originalEvent.buttons)&&!this.originalEvent.ctrlKey)}}t.FramerEvent=FramerEvent},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.round=(e,t=0,n=1,r,i)=>{const o=Math.pow(10,t);return n&&(e=Math.round(e/n)*n),e=Math.round(e*o)/o,r&&e<r?r:i&&e>i?i:e},t.roundWhole=(e,n=1)=>(null===n&&(n=1),parseInt(e.toString())===e?parseInt(e.toString()):t.round(e,n)),t.clamp=(e,t,n)=>{const r=Math.min(t,n),i=Math.max(t,n);return e<r&&(e=r),e>i&&(e=i),e},t.modulate=(e,t,n,r=!1)=>{const[i,o]=Array.from(t),[s,a]=Array.from(n),c=s+(e-i)/(o-i)*(a-s);if(!0===r)if(s<a){if(c<s)return s;if(c>a)return a}else{if(c>s)return s;if(c<a)return a}return c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15);t.isWebKit=()=>void 0!==r.safeWindow.WebKitCSSMatrix&&!t.isEdge(),t.webkitVersion=()=>{let e=-1;const t=/AppleWebKit\/([\d.]+)/.exec(navigator.userAgent);return t&&(e=parseFloat(t[1])),e},t.isChrome=()=>/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),t.isSafari=()=>/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),t.isFirefox=()=>/^Mozilla.*Firefox\/\d+\.\d+$/.test(navigator.userAgent),t.isEdge=()=>/Edge/.test(navigator.userAgent),t.isAndroid=()=>/(android)/i.test(navigator.userAgent),t.isIOS=()=>/(iPhone|iPod|iPad)/i.test(navigator.platform),t.isMacOS=()=>/Mac/.test(navigator.platform),t.isWindows=()=>/Win/.test(navigator.platform),t.isTouch=()=>null===r.safeWindow.ontouchstart&&null===r.safeWindow.ontouchmove&&null===r.safeWindow.ontouchend,t.isDesktop=()=>"desktop"===t.deviceType(),t.isPhone=()=>"phone"===t.deviceType(),t.isTablet=()=>"tablet"===t.deviceType(),t.isMobile=()=>t.isPhone()||t.isTablet(),t.isFileUrl=e=>e.startsWith("file://"),t.isDataUrl=e=>e.startsWith("data:"),t.isRelativeUrl=e=>!/^([a-zA-Z]{1,8}:\/\/).*$/.test(e),t.isLocalServerUrl=e=>/[a-zA-Z]{1,8}:\/\/127\.0\.0\.1/.test(e)||/[a-zA-Z]{1,8}:\/\/localhost/.test(e),t.isLocalUrl=e=>!!t.isFileUrl(e)||!!t.isLocalServerUrl(e),t.isLocalAssetUrl=(e,n)=>(null===n&&(n=r.safeWindow.location.href),!t.isDataUrl(e)&&(!!t.isLocalUrl(e)||!(!t.isRelativeUrl(e)||!t.isLocalUrl(n)))),t.devicePixelRatio=()=>r.safeWindow.devicePixelRatio,t.isJP2Supported=function(){return!t.isFirefox()&&(t.isWebKit()&&!t.isChrome())},t.isWebPSupported=()=>t.isChrome(),t.deviceType=()=>/(tablet)|(iPad)|(Nexus 9)/i.test(navigator.userAgent)?"tablet":/(mobi)/i.test(navigator.userAgent)?"phone":"desktop",t.deviceFont=e=>{e||(t.isMacOS()&&(e="macos"),t.isIOS()&&(e="ios"),t.isAndroid()&&(e="android"),t.isWindows()&&(e="windows"));const n="-apple-system, BlinkMacSystemFont, SF Pro Text, SF UI Text, Helvetica Neue";return"macos"===e?n:"ios"===e?n:"android"===e?"Roboto, Helvetica Neue":"windows"===e?"Segoe UI, Helvetica Neue":n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(98);t.Interpolation=r.Interpolation;var i=n(480);t.ValueInterpolation=i.ValueInterpolation,t.AnyInterpolation=i.AnyInterpolation,t.InterpolationOptions=i.InterpolationOptions;var o=n(292);t.NumberInterpolation=o.NumberInterpolation;var s=n(293);t.ObjectInterpolation=s.ObjectInterpolation;var a=n(294);t.NoInterpolation=a.NoInterpolation;var c=n(295);t.ColorInterpolation=c.ColorInterpolation},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty;t.isEqual=function isEqual(e,t,n=!0){try{return function equal(e,t,n){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){const s=r(e),a=r(t);let c,l,u;if(s&&a){if((l=e.length)!==t.length)return!1;for(c=l;0!=c--;){if(!n&&e[c]!==t[c])return!1;if(n&&!equal(e[c],t[c],!0))return!1}return!0}if(s!==a)return!1;const h=e instanceof Date,d=t instanceof Date;if(h!==d)return!1;if(h&&d)return e.getTime()===t.getTime();const p=e instanceof RegExp,f=t instanceof RegExp;if(p!==f)return!1;if(p&&f)return e.toString()===t.toString();if("function"==typeof e.equals&&"function"==typeof t.equals)return e.equals(t);const g=i(e);if((l=g.length)!==i(t).length)return!1;for(c=l;0!=c--;)if(!o.call(t,g[c]))return!1;for(c=l;0!=c--;)if("_owner"!==(u=g[c])||!e.$$typeof){if(!n&&e[u]!==t[u])return!1;if(n&&!equal(e[u],t[u],!0))return!1}return!0}return e!=e&&t!=t}(e,t,n)}catch(s){if(s.message&&s.message.match(/stack|recursion/i)||-2146828260===s.number)return console.warn("Warning: isEqual does not handle circular references.",s.name,s.message),!1;throw s}}},function(e,t,n){"use strict";function makeEmptyFunction(e){return function(){return e}}var r=function emptyFunction(){};r.thatReturns=makeEmptyFunction,r.thatReturnsFalse=makeEmptyFunction(!1),r.thatReturnsTrue=makeEmptyFunction(!0),r.thatReturnsNull=makeEmptyFunction(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";var r=n(126),i=n(42),o=n(84),s=n(156),a=n(3),c=n(127),l=n(49),u=n(207),h=a.List,d=a.Record,p=a.Repeat,f=function(e){function ContentState(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ContentState),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ContentState,e),ContentState.prototype.getEntityMap=function getEntityMap(){return s},ContentState.prototype.getBlockMap=function getBlockMap(){return this.get("blockMap")},ContentState.prototype.getSelectionBefore=function getSelectionBefore(){return this.get("selectionBefore")},ContentState.prototype.getSelectionAfter=function getSelectionAfter(){return this.get("selectionAfter")},ContentState.prototype.getBlockForKey=function getBlockForKey(e){return this.getBlockMap().get(e)},ContentState.prototype.getKeyBefore=function getKeyBefore(e){return this.getBlockMap().reverse().keySeq().skipUntil(function(t){return t===e}).skip(1).first()},ContentState.prototype.getKeyAfter=function getKeyAfter(e){return this.getBlockMap().keySeq().skipUntil(function(t){return t===e}).skip(1).first()},ContentState.prototype.getBlockAfter=function getBlockAfter(e){return this.getBlockMap().skipUntil(function(t,n){return n===e}).skip(1).first()},ContentState.prototype.getBlockBefore=function getBlockBefore(e){return this.getBlockMap().reverse().skipUntil(function(t,n){return n===e}).skip(1).first()},ContentState.prototype.getBlocksAsArray=function getBlocksAsArray(){return this.getBlockMap().toArray()},ContentState.prototype.getFirstBlock=function getFirstBlock(){return this.getBlockMap().first()},ContentState.prototype.getLastBlock=function getLastBlock(){return this.getBlockMap().last()},ContentState.prototype.getPlainText=function getPlainText(e){return this.getBlockMap().map(function(e){return e?e.getText():""}).join(e||"\n")},ContentState.prototype.getLastCreatedEntityKey=function getLastCreatedEntityKey(){return s.__getLastCreatedEntityKey()},ContentState.prototype.hasText=function hasText(){var e=this.getBlockMap();return e.size>1||e.first().getLength()>0},ContentState.prototype.createEntity=function createEntity(e,t,n){return s.__create(e,t,n),this},ContentState.prototype.mergeEntityData=function mergeEntityData(e,t){return s.__mergeData(e,t),this},ContentState.prototype.replaceEntityData=function replaceEntityData(e,t){return s.__replaceData(e,t),this},ContentState.prototype.addEntity=function addEntity(e){return s.__add(e),this},ContentState.prototype.getEntity=function getEntity(e){return s.__get(e)},ContentState.createFromBlockArray=function createFromBlockArray(e,t){var n=Array.isArray(e)?e:e.contentBlocks,i=r.createFromArray(n),o=i.isEmpty()?new c:c.createEmpty(i.first().getKey());return new ContentState({blockMap:i,entityMap:t||s,selectionBefore:o,selectionAfter:o})},ContentState.createFromText=function createFromText(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,n=e.split(t),r=n.map(function(e){return e=u(e),new o({key:l(),text:e,type:"unstyled",characterList:h(p(i.EMPTY,e.length))})});return ContentState.createFromBlockArray(r)},ContentState}(d({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}));e.exports=f},function(e,t,n){"use strict";var r=new RegExp("\r","g");e.exports=function sanitizeDraftText(e){return e.replace(r,"")}},function(e,t,n){"use strict";var r=n(13),i="LTR",o="RTL",s=null;function isStrong(e){return e===i||e===o}function getHTMLDir(e){return isStrong(e)||r(!1),e===i?"ltr":"rtl"}function setGlobalDir(e){s=e}var a={NEUTRAL:"NEUTRAL",LTR:i,RTL:o,isStrong,getHTMLDir,getHTMLDirIfDifferent:function getHTMLDirIfDifferent(e,t){return isStrong(e)||r(!1),isStrong(t)||r(!1),e===t?null:getHTMLDir(e)},setGlobalDir,initGlobalDir:function initGlobalDir(){setGlobalDir(i)},getGlobalDir:function getGlobalDir(){return s||this.initGlobalDir(),s||r(!1),s}};e.exports=a},function(e,t,n){"use strict";var r=n(3).Map,i=n(0),o=n(128),s=r({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:i.createElement("ul",{className:o("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:i.createElement("ol",{className:o("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:i.createElement("pre",{className:o("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=s},function(e,t,n){"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},function(e,t,n){"use strict";function filterKey(e,t){return t&&"MUTABLE"===e.__get(t).getMutability()?t:null}e.exports=function getEntityKeyForSelection(e,t){var n;if(t.isCollapsed()){var r=t.getAnchorKey(),i=t.getAnchorOffset();return i>0?(n=e.getBlockForKey(r).getEntityAt(i-1),filterKey(e.getEntityMap(),n)):null}var o=t.getStartKey(),s=t.getStartOffset(),a=e.getBlockForKey(o);return n=s===a.getLength()?null:a.getEntityAt(s),filterKey(e.getEntityMap(),n)}},function(e,t,n){"use strict";var r=n(523);e.exports=function containsNode(e,t){return!(!e||!t)&&(e===t||!r(e)&&(r(t)?containsNode(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}},function(e,t,n){"use strict";function _isNodeScrollable(e,t){var n=r.get(e,t);return"auto"===n||"scroll"===n}var r={get:n(525),getScrollParent:function getScrollParent(e){if(!e)return null;for(var t=e.ownerDocument;e&&e!==t.body;){if(_isNodeScrollable(e,"overflow")||_isNodeScrollable(e,"overflowY")||_isNodeScrollable(e,"overflowX"))return e;e=e.parentNode}return t.defaultView||t.parentWindow}};e.exports=r},function(e,t,n){"use strict";var r=n(530),i=n(531);e.exports=function getScrollPosition(e){var t=r(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var n=i(e),o=e===t?e.ownerDocument.documentElement:e,s=e.scrollWidth-o.clientWidth,a=e.scrollHeight-o.clientHeight;return n.x=Math.max(0,Math.min(n.x,s)),n.y=Math.max(0,Math.min(n.y,a)),n}},function(e,t,n){"use strict";var r=n(316);e.exports=function findAncestorOffsetKey(e){for(var t=e;t&&t!==document.documentElement;){var n=r(t);if(null!=n)return n;t=t.parentNode}return null}},function(e,t,n){"use strict";var r=n(50).isPlatform("Mac OS X"),i={isCtrlKeyCommand:function isCtrlKeyCommand(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function isOptionKeyCommand(e){return r&&e.altKey},hasCommandModifier:function hasCommandModifier(e){return r?!!e.metaKey&&!e.altKey:i.isCtrlKeyCommand(e)}};e.exports=i},function(e,t,n){"use strict";e.exports=function moveSelectionBackward(e,t){var n=e.getSelection(),r=e.getCurrentContent(),i=n.getStartKey(),o=n.getStartOffset(),s=i,a=0;if(t>o){var c=r.getKeyBefore(i);null==c?s=i:(s=c,a=r.getBlockForKey(c).getText().length)}else a=o-t;return n.merge({focusKey:s,focusOffset:a,isBackward:!0})}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(t){o(t)}}function rejected(e){try{step(r.throw(e))}catch(t){o(t)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(330),o=n(579),s=n(582),a=n(99),c=n(331);class FontStore{constructor(){this.bySelector=new Map,this.createWebFontIfNeeded=e=>{const{source:t,family:n,variant:r}=e,i=this.createTypefaceIfNeeded({source:t,family:n});let o=i.fonts.find(t=>t.variant===e.variant);if(!o){const t=c.parseVariant(r)||{},{weight:n,style:s}=t,a=this.getFontSelector(e)||"";a||console.warn("Invalid font locator",e),o={typeface:i,variant:r,selector:a,weight:n,style:s},i.fonts.push(o),this.addFont(o)}return o},this.local=new s.LocalFontSource,this.google=new o.GoogleFontSource,this.bySelector=new Map,this.allFonts=[],this.importFonts(a.TypefaceSourceNames.Local),this.defaultFont=this.getFontBySelector(i.defaultFontDescriptor.selector)}importFonts(e,t){if(e!==a.TypefaceSourceNames.Google){if(e===a.TypefaceSourceNames.Local){this.local.importFonts().forEach(e=>this.addFont(e))}}else{if(!t)return;this.google.importFonts(t).forEach(e=>this.createWebFontIfNeeded(e))}}addFont(e){this.bySelector.set(e.selector,e),this.allFonts.push(e)}getSource(e){return this[e]}getTypeface(e){return this.getSource(e.source).byFamily.get(e.family)||null}getFontSelector(e){const{family:t,variant:n,source:r}=e;if(r===a.TypefaceSourceNames.Local){const t=this.getTypeface(e);if(!t)return null;const r=t.fonts.find(e=>e.variant===n);return r?r.selector:null}return`GF;${t}-${n}`}getFontBySelector(e){return this.bySelector.get(e)||null}getOrCreateFontBySelector(e){let t=this.getFontBySelector(e);if(t)return t;const n=this.google.parseSelector(e);return n?t=this.createWebFontIfNeeded(n):null}getAvailableFonts(){return this.allFonts}createTypefaceIfNeeded(e){let n=t.fontStore.getTypeface(e);if(!n){n=this.getSource(e.source).createTypeface(e.family)}return n}isSelectorLoaded(e){const t=this.getFontBySelector(e);return t&&"loaded"===t.status||!1}canLoadSelector(e){return e.startsWith(o.googleFontSelectorPrefix)}loadWebFont(e,t,n){return r(this,void 0,void 0,function*(){const r=[],i=this.getSource(e);return i instanceof s.LocalFontSource?r:(yield i.loadWebFont(t,n,e=>{const t=this.createWebFontIfNeeded(e);return t.status="loaded",r.push(t),t}),r)})}loadWebFontFromSelector(e){return r(this,void 0,void 0,function*(){if(this.isSelectorLoaded(e))return[];if(!this.canLoadSelector(e))return[];const t=this.google.parseSelector(e);return t?yield this.loadWebFont(a.TypefaceSourceNames.Google,t.family,[t.variant]):[]})}loadWebFontsFromSelectors(e){return r(this,void 0,void 0,function*(){const t=[];for(const n of e){const e=yield this.loadWebFontFromSelector(n);t.push(...e)}return t})}}t.FontStore=FontStore,t.fontStore=new FontStore},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(117);t.transformString=function transformString(e){if(void 0===e)return;const{x:t,y:n,rotation:i,width:o,height:s}=e;let a;if(0===t&&0===n||(a=`translate(${r.roundedNumberString(t,3)} ${r.roundedNumberString(n,3)})`),0!==i){const e=`rotate(${r.roundedNumberString(i,4)} ${r.roundedNumberString(o/2,3)} ${r.roundedNumberString(s/2,3)})`;a=a?`${a} ${e}`:e}return a}},function(e,t,n){"use strict";var r;function stateName(e){switch(e){case r.Possible:return"Possible";case r.Began:return"Began";case r.Changed:return"Changed";case r.Ended:return"Ended";case r.Failed:return"Failed";case r.Cancelled:return"Cancelled";case r.Recognized:return"Recognized";default:return"Unknown"}}function containsBitmask(e,t){return 0!=(e&t)}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Possible=2]="Possible",e[e.Began=4]="Began",e[e.Changed=8]="Changed",e[e.Ended=16]="Ended",e[e.Failed=32]="Failed",e[e.Cancelled=64]="Cancelled",e[e.Recognized=128]="Recognized"}(r=t.State||(t.State={}));t.GestureRecognizer=class GestureRecognizer{constructor(){this._state=r.Possible,this.preventers=[]}get state(){return this._state}setState(e){this._state=e}get isPrevented(){let e=!1;for(const t of this.preventers)if(t.state&(r.Began|r.Changed|r.Ended)){e=!0;break}return e}canBePreventedBy(e){this.preventers.push(e)}hasState(e){return containsBitmask(this.state,e)}stateSwitch(e){let t;switch(this.state){case r.Possible:t=r.Began|r.Recognized|r.Failed;break;case r.Began:case r.Changed:t=r.Changed|r.Cancelled|r.Ended;break;case r.Recognized:case r.Ended:case r.Cancelled:case r.Failed:t=r.Possible;break;default:t=0}containsBitmask(e,t)?this.setState(e):console.warn(`Unallowed state change from ${stateName(this.state)} to ${stateName(e)}`)}cancel(){this.hasState(r.Began|r.Changed)&&this.setState(r.Cancelled),this.reset()}reset(){this.hasState(r.Possible)||this.stateSwitch(r.Possible)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(614);t.FramerEventListener=r.FramerEventListener;var i=n(200);t.FramerEvent=i.FramerEvent;var o=n(348);t.FramerEventSession=o.FramerEventSession},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(617),o=n(151),s=n(24),a=n(119),c=n(82),l=n(618);t.DeviceRenderer=l.DeviceRenderer;const u=n(619);__export(n(620)),__export(n(621));const h="framer-local://";class Device extends r.Component{get descriptor(){return this.constructor.descriptor}get skins(){return this.descriptor.skins}get hands(){return this.descriptor.hands}get svgScreenMask(){}componentDidMount(){this.computeRequiredPackages()}componentDidUpdate(e){this.computeRequiredPackages()}computeRequiredPackages(){if(!this.props.onRequirePackage)return;const{skin:e,hand:t}=this.props;if(e){const t=this.skins[e];u.isWithPackage(t)&&this.props.onRequirePackage(t.package,e)}if(t){const e=this.hands[t];u.isWithPackage(e)&&this.props.onRequirePackage(e.package,t)}}render(){const{width:e,height:t}=this.props.parentSize?{width:s.Animatable.getNumber(this.props.parentSize.width),height:s.Animatable.getNumber(this.props.parentSize.height)}:this.props.deviceSize,n={skin:this.getSkin(),hand:this.getHand(),device:o.Size(e,t),screen:this.descriptor.screen,content:this.props.contentSize,pixelRatio:this.descriptor.pixelRatio||1,rotate:this.props.rotate||!1,responsive:this.props.responsive,svgScreenMask:this.svgScreenMask,autoScale:this.props.autoScale},i=r.createElement(this.props.renderer,n,this.props.children),a=this.outerStyle(n);let c=i;if(-1!==this.props.zoom){const e=this.outerStyle(n);e.transformOrigin="center",e.transform=`scale(${this.props.zoom})`,c=r.createElement("div",{style:e},i)}return r.createElement("div",{style:a},c)}getSkin(){const e=this.props.skin?this.skins[this.props.skin]:null;let t=null;if(t=u.isWithPackage(e)?Device.skinOrHandFromPackage(e):e){const e=t.image;e.startsWith(h)&&(t.image=this.toLocalPath(e.substr(h.length)))}return t}getHand(){const e=this.props.hand?this.hands[this.props.hand]:null;return u.isWithPackage(e)?Device.skinOrHandFromPackage(e):e}outerStyle(e){return{width:this.props.deviceSize.width,height:this.props.deviceSize.height,WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",overflow:"hidden",display:"block",position:"absolute",background:this.props.background||"none"}}static skinOrHandFromPackage(e){const t=e.package,n=t&&a.componentLoader.componentsForPackage(t);if(n&&n.length){const r=new n[0].class;return"image"in r&&(r.image=c.imageUrlForAsset(`node_modules/${t}/${r.image}`)),Object.keys(e).forEach(t=>{"image"!==t&&t in r&&(r[t]=e[t])}),r}return null}toLocalPath(e){let t=null;return a.componentLoader.forEachComponent(e=>e.class===this.constructor&&(e.depth>0&&(t=e.packageIdentifier),!0)),t&&(e=`node_modules/${t}/${e}`),c.imageUrlForAsset(e)}}Device.defaultProps={parentSize:null,deviceSize:o.Size.zero,contentSize:o.Size.zero,zoom:-1,responsive:!1,onRequirePackage:()=>{},renderer:l.DeviceRenderer},Device.registry=new i.DeviceRegistry,Device.descriptor={title:"Device Base Class",screen:o.Size.zero,pixelRatio:1,skins:{},hands:{}},t.Device=Device},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paddingFromProps=function paddingFromProps(e){const{paddingPerSide:t,padding:n=0,paddingTop:r,paddingBottom:i,paddingLeft:o,paddingRight:s}=e;return!1!==t&&(r||i||o||s)?{top:void 0!==r?r:n,bottom:void 0!==i?i:n,left:void 0!==o?o:n,right:void 0!==s?s:n}:{top:n,bottom:n,left:n,right:n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(24),s=n(97),a=n(122),c=n(349),l=n(16),u=n(83),h=(e,t,n,r)=>e===c.DeprecatedStack?((e,t,n)=>{const r=i.ConstraintValues.fromProperties(e),o=i.ConstraintValues.toMinSize(r,t);let s=null;const a=i.valueToDimensionType(e.width),c=i.valueToDimensionType(e.height);if(a===i.DimensionType.Auto||c===i.DimensionType.Auto){const t=f(e.children,o),n=p(e.children);s=g(t,e,n)}return i.ConstraintValues.toSize(r,e.parentSize,s,n)})(t,n,r):((e,t,n)=>{const r=i.ConstraintValues.fromProperties(e);return i.ConstraintValues.toSize(r,t||null,null,n)})(t.constraints||t,n,r);t.calcSize=h;const d=(e,t,n)=>e===c.DeprecatedStack?((e,t)=>{const n=i.ConstraintValues.fromProperties(e),r=i.ConstraintValues.toMinSize(n,t);let o=null;const s=i.valueToDimensionType(e.width),a=i.valueToDimensionType(e.height);if(s===i.DimensionType.Auto||a===i.DimensionType.Auto){const t=f(e.children,r),n=p(e.children);o=g(t,e,n)}return i.ConstraintValues.toMinSize(n,t,o)})(t,n):((e,t)=>{const n=i.ConstraintValues.fromProperties(e);return i.ConstraintValues.toMinSize(n,t||null)})(t.constraints||t,n);t.calcMinSize=d;const p=(e,t)=>{const n=[];return r.Children.forEach(e,(e,r)=>{if(!u.isReactChild(e)||!u.isReactElement(e)||!1!==e.props.visible)return e;t&&t.index<=r&&(r+=t.sizes.length),n.push(r)}),n};t.invisibleItemIndexes=p;const f=(e,t,n)=>{const i=r.Children.map(e,e=>u.isReactChild(e)&&u.isReactElement(e)?d(e.type,e.props,t):{width:0,height:0});return n&&i.splice(n.index,0,...n.sizes),i};t.calcMinChildSizes=f;t.calcChildSizes=(e,t,n,i)=>{const o=r.Children.map(e,e=>u.isReactChild(e)&&u.isReactElement(e)?h(e.type,e.props,t,n):{width:0,height:0});return i&&o.splice(i.index,0,...i.sizes),o};const g=(e=[],t,n)=>{const{direction:r,gap:i}=t,o="horizontal"===r;let s=0,a=0;if(e.forEach((e,t)=>{if(-1!==n.indexOf(t))return;const{width:r,height:i}=e;o?(s+=r,i>a&&(a=i)):(a+=i,r>s&&(s=r))}),y(t.distribution)){const t=Math.max(0,e.length-1-n.length);o?s+=t*i:a+=t*i}const c=m(t);return{width:s+c.width,height:a+c.height}};t.calcAutoSize=g;const m=e=>e.paddingPerSide?(({paddingTop:e,paddingRight:t,paddingBottom:n,paddingLeft:r})=>({width:r+t,height:e+n}))(e):(({padding:e})=>({width:2*e,height:2*e}))(e);t.calcPaddingSize=m;const v=new Set(["start","center","end"]),y=e=>v.has(e);t.calcChildFractions=e=>{const t={width:0,height:0};return r.Children.forEach(e,e=>{if(!u.isReactChild(e)||!u.isReactElement(e)||!1===e.props.visible)return;const n=e.props.constraints&&e.props.constraints.width||e.props.width,r=e.props.constraints&&e.props.constraints.height||e.props.height;if("string"==typeof n&&n.endsWith("fr")){const e=parseFloat(n);i.isFiniteNumber(e)&&(t.width+=e)}if("string"==typeof r&&r.endsWith("fr")){const e=parseFloat(r);i.isFiniteNumber(e)&&(t.height+=e)}}),t};t.calcFreeSpace=(e,t,n,r)=>{const i="horizontal"===r.direction,o=n;let s=Math.max(0,e.width-t.width),a=Math.max(0,e.height-t.height);const c=m(r);return i?a=n.height*(e.height-c.height):s=n.width*(e.width-c.width),{freeSpaceInParent:{width:s,height:a},freeSpaceUnitDivisor:o}};t.calcChildLayoutRects=(e=[],t,n,r)=>{const i=e.length;if(0===i)return[];const{direction:o,alignment:a}=n,c="vertical"===o,l="auto"===(c?n.height:n.width)?"start":n.distribution,{width:u,height:h}=t;let d=0;const p=e.map((e,t)=>{-1===r.indexOf(t)&&(d+=c?e.height:e.width);const n=Object.assign({},e,{x:0,y:0});switch(a){case"center":c?n.x=u/2-e.width/2:n.y=h/2-e.height/2;break;case"end":c?n.x=u-e.width:n.y=h-e.height}return n}),f=c?h:u,g=r.length,m=y(n.distribution)&&n.gap||0;let v=0;switch(l){case"center":d+=Math.max(i-1-g,0)*m,v=f/2-d/2;break;case"end":d+=Math.max(i-1-g,0)*m,v=f-d}const b=Math.max(f,d)-d,_=S(n);let C=0,w=0;return p.map((e,t)=>{let n,o;if(-1!==r.indexOf(t))return w++,e;switch(t-=w,l){case"start":case"center":case"end":n=v+C+t*m,c?e.y=n:e.x=n;break;case"space-between":n=C+b/Math.max(1,i-g-1)*t,c?e.y=n:e.x=n;break;case"space-around":n=C+(o=b/(2*(i-g)))*t+o*(t+1),c?e.y=n:e.x=n;break;case"space-evenly":n=C+(o=b/(i-g+1))*(t+1),c?e.y=n:e.x=n}return C+=c?e.height:e.width,e.x+=_.x,e.y+=_.y,s.Rect.pixelAligned(e)})};const S=e=>e.paddingPerSide?{x:e.paddingLeft,y:e.paddingTop}:{x:e.padding,y:e.padding},b=(e,t)=>{const n=i.ConstraintValues.fromProperties(e);return i.ConstraintValues.toRect(n,e.parentSize||null,t,!0)};t.calcStackRect=b;t.calcUpdatedStackComponentSize=(e,t)=>{const n=b(e,null);let r=t.size;const i={width:n.width,height:n.height},{target:s}=l.RenderEnvironment;return r?o.isAnimatable(r.width)&&o.isAnimatable(r.height)?(r.width.set(i.width),r.height.set(i.height)):r=i:r=s===l.RenderTarget.preview?a.ObservableObject(i,!0):i,r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.warn=function warn(e,t){console.log("%c Loader: %c "+e,"color: white; font-weight: bold; background-color: #EE4444; border-radius: 5px; padding: 2px 5px","color: #EE4444"),t&&console.warn(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34),i=n(366),o=n(850),s=n(75),a=n(101),c=n(20),l=n(140),u=n(78),h=n(135),d=n(851),p=n(77),f=n(36),g=n(61),m=n(26),v=n(187),y=n(174),S=n(23),b=n(19),_=n(401),C=n(35),w=n(40),x=n(1),P=n(62),T=n(21),k=n(22),E=n(852),O=n(180),M=n(73);class CanvasTree extends i.NodeTree{constructor(e,t){super(e,t),this.serializationVersion=E.CanvasTreeVersion,this.spatialCache=null}static createByAdoptingRoot(e){return new CanvasTree(void 0,e)}static createWithRoot(e){return new CanvasTree(void 0,e.cloneWithIds())}newRootNode(){return new s.RootNode}copy(e){return new CanvasTree(this,e)}getParent(e){const t=super.getParent(e);return t&&c.hasChildren(t)&&t.id!==this.root.id?t:null}getParentId(e){return e.parentid}static fromJS(e){if(e.version<this.minimumSerializationVersion)return null;const t=r.default.fromJS(e.root);if(!t)return null;const n=CanvasTree.createWithRoot(t);return P.TemplateHelper.treeDidLoad(n).didNonLinearMove()}toJS(){return{version:this.serializationVersion,root:this.root.toJS()}}latestTree(){return this.latest.tree}getNode(e){return e===this.root.id?null:super.get(e)}getGroundNodesOfType(e,t){const n=this.root.futureOrCurrent().children||[];return t?n.filter(n=>n instanceof e&&!k.isHiddenMaster(n)&&t(n)):n.filter(t=>t instanceof e&&!k.isHiddenMaster(t))}getGroundNodes(e){const t=this.root.futureOrCurrent().children||[];return e?t.filter(t=>!k.isHiddenMaster(t)&&e(t)):t.filter(e=>!k.isHiddenMaster(e))}getNodesWithPredicate(e){const t=[],n=this.root;return this.root.walk(r=>{r!==n&&e(r)&&t.push(r)}),t}getLocalMasterComponents(){return this.getNodesWithPredicate(e=>k.isMaster(e)&&!k.isExternalMaster(e))}forEach(e,t=a.NullID){const n=t||this.root.id;!function _forEach(e,t){let n=void 0;const r=e.children;if(r)for(let i=r.length-1;i>=0;i--)n=_forEach(r[i],t);return!1===n?n:t(e)}(this.getNode(n),e)}getSubtreeNodes(e,t){const n=[],r=t?new Set(t):null,i=e=>{for(let t=0,o=e.length;t<o;t++){const o=e[t];if(r&&r.has(o.id))continue;n.push(o);const s=o.children;s&&i(s)}};if(e){const t=this.getNode(e);t&&i([t])}else i(this.getGroundNodes());return n}create(e,t=this.root.id,n={}){const r=new e;return r.parentid=t,r.set(n),this.insertNode(r,t),r}createClassName(e,t=this.root.id,n={}){const r=v.classMap[e];return this.create(r,t,n)}getSiblings(e,t=!0){const n=this.get(e.parentid),r=null===n?this.getGroundNodes():n.children;return t?r:r.filter(t=>t.id!==e.id)}getGroundNodeFor(e){let t=e;for(;t&&this.getParent(t.id);)t=this.getParent(t.id);return t}getGroundFrameAncestor(e,t=!1){const n=this.get(e);if(!n)return null;if(n.id===this.root.id)return null;if(n.parentid===this.root.id)return l.isDrawableNode(n)&&u.isFrameNode(n)?n:null;if(t&&n instanceof u.default&&null===this.getParent(e))return n;const r=this.ancestors(e);if(r.length>1){const e=r[r.length-2];if(e instanceof u.default)return e}return null}linkNodeChangesTo(e,t){e.cache.links||(e.cache.links=new Set),e.cache.links.add(t)}getRect(e,t=!0){if(e.cache.parentDirectedRect)return Object.assign({},e.cache.parentDirectedRect);const n=this.getParentSize(e,t);let r=e.rect(n);return t&&!l.isVectorNode(e)&&(r=x.Rect.pixelAligned(r)),r}isRootVectorNode(e){const t=this.getParent(e.id);return null===t||!l.isVectorNode(t)}isGroundNode(e){return e.parentid===this.root.id}getAncestorThatMatches(e,t,n=!1,r=!1){const i=this.ancestors(e.id);n&&t(e)&&i.unshift(e),r&&i.reverse();const o=i.find(t);return void 0===o?null:o}getAncestorOfType(e,t,n=!1,r=!1){const i=this.ancestors(e.id);n&&e instanceof t&&i.unshift(e),r&&i.reverse();const o=i.find(e=>e instanceof t);return o||null}getBoundingFrameForNodes(e){if(0===e.length)return{x:0,y:0,width:0,height:0};let t=1/0,n=1/0,r=-1/0,i=-1/0;for(let o=0,s=e.length;o<s;o++){const s=e[o],a=this.convertFrameToCanvas(s);let c=a.x,l=a.y,u=c+a.width,h=l+a.height;(Math.max(c,l,u,h)>Number.MAX_SAFE_INTEGER||Math.min(c,l,u,h)<Number.MIN_SAFE_INTEGER)&&(console.warn("Encountered bounding box with corrupted dimensions. Please contact Framer support."),c=l=u=h=0),c<t&&(t=c),l<n&&(n=l),u>r&&(r=u),h>i&&(i=h)}return{x:t,y:n,width:r-t,height:i-n}}getBoundingFrame(){return this.getBoundingFrameForNodes(this.getGroundNodes())}convertFrameToCanvas(e,t){if(void 0===t)return this.convertRectToCanvasCached(e);const n=x.Rect.cornerPoints(t).map(t=>this.convertPointToCanvas(e,t,!0));return x.Rect.fromPoints(n)}getNodesInRect(e,t=!1){const n=[],r=x.Rect.cornerPoints(e);return this.getNodesInSpatialCache(e).forEach(i=>{if(i.id!==this.root.id){const o=i,s=this.convertFrameToCanvas(o);if(t){if(x.Rect.intersects(s,e)){const t=r.map(e=>this.convertPointToNode(o,e,!0)),i=x.Rect.fromPoints(t),s=x.Rect.atOrigin(this.getRect(o));if(x.Rect.intersects(s,i)){if(this.outOfClippedBounds(e,o))return;n.push(o)}}}else x.Rect.containsRect(e,s)&&n.push(i)}}),n}getNodesContainingFrame(e){const t=[];return this.getNodesInSpatialCache(e).forEach(n=>{if(!l.isDrawableNode(n))return;const r=this.convertFrameToCanvas(n);x.Rect.containsRect(r,e)&&t.push(n)}),t}outOfClippedBounds(e,t){return void 0!==this.ancestors(t.id).filter(e=>l.isDrawableNode(e)&&h.hasClip(e)&&e.clip).find(t=>{const n=this.convertPointToNode(t,e,!0),r=x.Rect.atOrigin(this.getRect(t));return!1===x.Rect.intersects(r,Object.assign({width:0,height:0},e,n))})}convertRectToCanvasWithRotation(e,t){void 0===t&&((t=this.getRect(e)).x=0,t.y=0);const n=x.Rect.cornerPoints(t),[r,i,o,s]=n.map(t=>this.convertPointToCanvas(e,t,!0)),a=x.Point.distance(r,i),c=x.Point.distance(r,s),l=x.Point.angle(r,i)+90;return Object.assign({},r,{width:a,height:c,rotation:l})}convertRectToCanvasCached(e){const t=e.cache.canvasRect;if(t)return t;const n=this.getRect(e);n.x=0,n.y=0;const r=x.Rect.cornerPoints(n).map(t=>this.convertPointToCanvas(e,t,!0));return e.cache.canvasRect=x.Rect.fromPoints(r)}convertFrameToNode(e,t,n=!0){if(null===e)return t;const r=x.Rect.cornerPoints(t).map(t=>this.convertPointToNode(e,t,n));return x.Rect.fromPoints(r)}isNodeVisible(e){return e.visible}getIndex(e){const t=this.get(e.parentid);return(t&&c.hasChildren(t)?t.children:this.getGroundNodes()).indexOf(e)}sortVisually(e){return e.map(e=>{const t=this.getNodes(this.getAncestors(e.id));t.reverse();const n=t.map(e=>this.getIndex(e));return n.push(this.getIndex(e)),[n,e]}).sort(([e,t],[n,r])=>d.default(e,n)).map(([e,t])=>t)}convertPointToNode(e,t,n=!0){if(null===e)return t;if(n){const n=e.cache.matrix;if(n)return p.default.convertPoint(n.inverse(),t)}const r=this.ancestors(e.id).slice(0,-1);return n&&r.unshift(e),r.reverse(),r.reduce((e,t)=>p.default.convertPoint(t.transformMatrix(this.getParentRect(t)).inverse(),e),t)}convertPointFromNodeToDescendant(e,t,n,r=!0){let i=!1,o=n;const s=[...t.ancestors()].reverse();r&&s.push(t);for(const a of s){if(!i){i=a.id===e.id;continue}const t=a.transformMatrix(this.getParentRect(a)).inverse();o=p.default.convertPoint(t,o)}if(!i)throw Error("Node is not a descendant");return o}getNodesAtPoint(e,t=!1,n=!1,r){const i=[],o={x:e.x,y:e.y,width:0,height:0};return n&&(o.x-=2,o.width+=4,o.y-=2,o.height+=4),this.getNodesInSpatialCache(o).forEach(s=>{if(!l.isDrawableNode(s))return;const a=this.convertPointToNode(s,e,!0);let c=x.Rect.atOrigin(this.getRect(s));if(n&&(c.width<4&&(c.x-=2,c.width=4),c.height<4&&(c.y-=2,c.height=4)),f.hasShape(s)&&g.hasStroke(s)&&1===s.strokeEnabled&&s.strokeWidth&&(c=x.Rect.inflate(c,s.strokeWidth/2)),x.Rect.containsPoint(c,a)){if(this.outOfClippedBounds(o,s)){if(!t||!s.isSelected()||!r)return;if(!x.Rect.containsRect(r,c))return}if(f.hasShape(s)&&g.hasStroke(s)){const e=s.calculatedPaths(),t=y.getPathOperator().containsPoint(s,a),n=S.default.isClosed(e);if(1===s.strokeEnabled&&!!s.strokeWidth&&!s.fillEnabled){const e=b.closestCurveDistance(s,a),r=s.strokeWidth?s.strokeWidth:0;if(n&&"inside"===s.strokeAlignment){if(!t||e>Math.max(r,2))return}else if(e>Math.max(.5*r,2))return}else if(n&&!t)return}i.push(s)}}),i}getNodesInSpatialCache(e){return this.spatialCache||(this.spatialCache=new o.SpatialCache,this.root.walk(e=>{e.cache.visible&&l.isDrawableNode(e)&&this.spatialCache.add(this,e)})),this.spatialCache.getNodesInRect(this,e)}getParentSize(e,t=!0){return this.getParentRect(e,t)}getParentRect(e,t=!0,n=!0){if(n){const t=e.cache.parentRect;if(t)return t}const r=this.getParent(e.id);return r?this.getRect(r,t):null}convertPointToCanvas(e,t,n=!0,r){if(n&&void 0===r){const n=e.cache.matrix;if(n)return p.default.convertPoint(n,t)}const i=this.ancestors(e.id).slice(0,-1);return n&&i.unshift(e),i.reduce((t,n)=>r&&n.id===e.id?p.default.convertPoint(n.transformMatrix(this.getParentRect(n),r),t):p.default.convertPoint(n.transformMatrix(this.getParentRect(n)),t),t)}convertFramePointsToCanvas(e){return _.default.fromFrame(this.getRect(e)).map(t=>Object.assign({},t,this.convertPointToCanvas(e,t,!0)))}isConstrained(e){if(!e)return!1;if(l.isDrawableNode(e)&&C.isPinnable(e)){return null!==this.getParent(e.id)}return!1}getTopLevelFrameNodes(e,t=!1){const n=[],r=new Set;return e.forEach(e=>{if(!e)return;let i=e;for(;!r.has(i.id);){r.add(i.id);const o=this.getParent(i.id);if(!o)return void(u.isFrameNode(i)&&(i.id!==e.id||t)?n.push(i.id):-1===n.indexOf(a.NullID)&&n.push(a.NullID));i=o}}),n}totalAncestorRotation(e,t=!0){const n=this.getAncestors(e.id).map(e=>this.getNode(e));return t&&n.push(e),n.reduce((e,t)=>m.hasRotation(t)?Math.round(e+t.rotation):e,0)}getPotentialParents(e,t,n,r){const i=[];this.getNodesContainingFrame(e).forEach(t=>{this.outOfClippedBounds(e,t)||c.hasChildren(t)&&(T.isCodeComponentNode(t)&&!M.codeComponentWithChildInsertion(t)||i.push(t))});const o=[];return this.getGroundNodesOfType(u.default).forEach(n=>{const i=this.getRect(n),s=x.Rect.intersects(i,e),a=r&&x.Rect.containsRect(e,i);s&&!a&&t&&x.Rect.containsPoint(i,t)&&o.push(n)}),[...i,...o].filter(e=>!e.originalid&&((!w.hasLock(e)||!e.locked)&&(!!e.cache.visible&&(!!this.isNodeVisible(e)&&!(n&&!c.acceptsChild(this,e,n))))))}clearSelectionCache(){this.root.walk(e=>e.cache.selected=!1)}updateCache(){const e=getCacheUpdateFunction(this)||updateNodeCache,t=this.root.children;for(let n=0,r=t.length;n<r;n++){e(t[n],!0,null,new WebKitCSSMatrix)}}didNonLinearMove(){const e=new Set,t=new Set;return this.root.futureOrCurrent().walk(n=>{if(k.isMaster(n)){if(t.has(n.id))return;t.add(n.id),n.cache.replicaInstances=null}else if(k.isReplica(n)){const e=P.TemplateHelper.getMaster(this,n);if(!e)return;t.has(e.id)||(t.add(e.id),e.cache.replicaInstances=null),P.TemplateHelper.registerInMaster(e,n)}if(n.cache.links){if(e.has(n.id))return;e.add(n.id),n.cache.links=null}if(T.isCodeComponentNode(n)){const t=n.allSlotContent();for(const r of t){const t=this.get(r);if(!t)return;let i=t.cache.links;i&&e.has(r)||(e.add(r),i=t.cache.links=new Set),i.add(n.id)}}}),this}}function updateNodeCache(e,t,n,r,i){const o=e.cache,s=t&&!1!==e.visible&&!k.isHiddenMaster(e),a=p.default.equals(o.parentMatrix,r),c=o.visible===s&&o.lastUpdate===e.update&&x.Rect.equals(o.parentRect,n)&&!i;if(c&&a)return;c?o.canvasRect=null:(o.reset(),o.visible=s,o.lastUpdate=e.update,o.parentDirected=void 0!==i,o.parentRect=n);const l=i&&i[e.id];o.parentDirectedRect=l||null;const u=l||e.rect(n),h=r.multiply(e.transformMatrix(n,u));o.matrix=h,o.parentMatrix=r;const d=e.children;if(d){const t=O.childrenRectsById(e,!1);for(let e=0,n=d.length;e<n;e++){updateNodeCache(d[e],s,u,h,t)}}}function getCacheUpdateFunction(e){return e.root.cache.cacheUpdateFunction}CanvasTree.minimumSerializationVersion=0,t.default=CanvasTree,t.setCacheUpdateFunction=function setCacheUpdateFunction(e,t){e.root.cache.cacheUpdateFunction=t},t.getCacheUpdateFunction=getCacheUpdateFunction},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.borderPerSideDefaults={borderPerSide:void 0,borderTop:void 0,borderRight:void 0,borderBottom:void 0,borderLeft:void 0};const r="borderPerSide";t.hasBorderPerSide=function hasBorderPerSide(e){return r in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(133),i=n(227);t.borderPropsForNode=function borderPropsForNode(e){if(!r.hasBorder(e)||1!==e.borderEnabled)return{};let t,n=e.borderWidth,o=e.borderWidth,s=e.borderWidth,a=e.borderWidth;return i.hasBorderPerSide(e)&&e.borderPerSide&&(n=e.borderTop,o=e.borderBottom,s=e.borderLeft,a=e.borderRight),0===n&&0===o&&0===s&&0===a?{}:{borderWidth:t=n===o&&n===s&&n===a?n:{top:n,right:a,bottom:o,left:s},borderStyle:e.borderStyle,borderColor:e.borderColor}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(369);t.collectBoxShadowPropsForNode=function collectBoxShadowPropsForNode(e,t){const n=r.wantsFilterShadow(e);e.boxShadows&&(t.shadows=e.boxShadows.toArray().filter(e=>!(n&&!e.inset)&&e.enabled))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(87),i=n(166);t.blendingDefaults={blendingEnabled:i.Property.disabledHidden,blendingMode:"normal"},t.blendingModeKey="blendingMode",t.withBlending=function withBlending(e){return t.blendingModeKey in e&&r.stylableNode(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(60);t.styledTextDefaults={styledText:new i.StyledTextDraft};const o="styledText";function withStyledText(e){return o in e}t.withStyledText=withStyledText,t.collectTextStyleForNode=function collectTextStyleForNode(e,t){if(!withStyledText(e))return;const n=e.styledText,i=n.styledText.getCurrentContent().getFirstBlock().getInlineStyleAt(0),o=r.draftStyleFunction(i),s=n.alignment(),a=s?{textAlign:s}:{};Object.assign(t,o,a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(740),o=n(1),s=n(23),a=n(243),c=n(111),l=n(112),u=n(19),h=n(29);t.isPathNode=function isPathNode(e){return e instanceof PathNode};class PathNode extends(c.withFrameForShape(l.withBaseShapeTraits(r.CanvasNode))){constructor(e){super(),h.setDefaults(this,i.PathRecord,e),delete this.children}rect(e){return{x:this.x,y:this.y,width:this.width,height:this.height}}matrix(e,t){const n={x:this.x,y:this.y};return t&&(n.x=t.x,n.y=t.y),(new WebKitCSSMatrix).translate(n.x,n.y).rotate(0,0,this.rotation)}transformMatrix(e,t){const n={width:this.width,height:this.height};return t&&(n.width=t.width,n.height=t.height),(new WebKitCSSMatrix).translate(.5*n.width,.5*n.height).multiply(this.matrix(e,t)).translate(-.5*n.width,-.5*n.height)}isRotated(){return this.rotation%360!=0}calculatedPaths(){return this.mutable?this.calculatePaths():(this.cache.calculatedPaths||(this.cache.calculatedPaths=this.calculatePaths()),this.cache.calculatedPaths)}calculatePaths(){const{pathSegments:e,pathClosed:t}=this;return[s.default.applyRadius(e,t)]}updateForRect(e,t){e.width=Math.max(1,e.width),e.height=Math.max(1,e.height);const n=this.rect(t),r=[n.x,n.x+n.width],i=[e.x,e.x+e.width],c=[n.y,n.y+n.height],l=[e.y,e.y+e.height],u=0===n.width?1:e.width/n.width,h=0===n.height?1:e.height/n.height;let d=this.pathSegments.map(e=>new o.PathSegment(e.merge({x:a.default(e.x+n.x,r,i,!1),y:a.default(e.y+n.y,c,l,!1),handleOutX:e.handleOutX*u,handleOutY:e.handleOutY*h,handleInX:e.handleInX*u,handleInY:e.handleInY*h})));const p=s.default.boundingBox({pathSegments:d,pathClosed:this.pathClosed});return{pathSegments:d=d.map(e=>new o.PathSegment(e.merge(o.Point.subtract(e,p)))),x:p.x,y:p.y,width:p.width,height:p.height}}updateForSize(e,t){const n=this.rect(t);return this.updateForRect(Object.assign({},n,e),t)}updateForPath(e){const t=void 0!==e.pathSegments?e.pathSegments:this.pathSegments;let n=void 0!==e.pathClosed?e.pathClosed:this.pathClosed;if(void 0!==e.pathSegments&&n){const t=e.pathSegments.count();if(2===t){const t=e.pathSegments.get(0),r=e.pathSegments.get(1),i=o.isStraightCurve(t,r),s=o.isStraightCurve(r,t);i&&s&&(n=!1)}else t<2&&(n=!1)}const r=s.default.boundingBox({pathSegments:t,pathClosed:n}),i=r.x,a=r.y,c={x:this.x+i,y:this.y+a,width:r.width,height:r.height},l=u.convertPoint({x:0,y:0},this,this.rotation),h=u.convertPoint({x:-i,y:-a},c,this.rotation),d=o.Point.subtract(l,h);c.x+=d.x,c.y+=d.y;const p=t.map(e=>{const t=o.Point.subtract(e,{x:i,y:a});return new o.PathSegment(e.merge(t))}),f=n?this.strokeAlignment:"center";return Object.assign({},c,{pathSegments:p,pathClosed:n,strokeAlignment:f})}}t.default=PathNode},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(746),i=n(51),o=n(139);class Shadow extends r.ShadowRecord{toJS(){const e=super.toJS();return e.__class=this.constructor.name,e}toJSON(){return this.toJS()}tokenVariables(){return i.isTokenCSSVariable(this.color)?[this.color]:[]}removeTokenVariables(e){const t=o.findValueForTokenCSSVariable(this.color,e);if(t)return new Shadow(Object.assign({},this.toJSON(),{color:t}))}}t.Shadow=Shadow;class BoxShadow extends r.BoxShadowRecord{toJS(){const e=super.toJS();return e.__class=this.constructor.name,e}toJSON(){return this.toJS()}tokenVariables(){return i.isTokenCSSVariable(this.color)?[this.color]:[]}removeTokenVariables(e){const t=o.findValueForTokenCSSVariable(this.color,e);if(t)return new BoxShadow(Object.assign({},this.toJSON(),{color:t}))}}t.BoxShadow=BoxShadow,t.isShadow=function isShadow(e){return e instanceof Shadow},t.isBoxShadow=function isBoxShadow(e){return e instanceof BoxShadow}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoSizeDefaults={autoSize:!0},t.hasAutoSize=function hasAutoSize(e){return"autoSize"in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targetDefaults={isTarget:!1};const r="isTarget";t.withTarget=function withTarget(e){return r in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Canvas="canvas"}(t.AnchorType||(t.AnchorType={})),function(e){e.All="All",e.Archived="Archived"}(t.Tab||(t.Tab={}))},function(e,t,n){"use strict";function keyDownToShortcut(e){const n=[];t.isWindows()?(e.metaKey&&n.push("Control"),e.ctrlKey&&n.push("Meta"),e.altKey&&n.push("Alt"),e.shiftKey&&n.push("Shift")):(e.ctrlKey&&n.push("Control"),e.metaKey&&n.push("Meta"),e.altKey&&n.push("Alt"),e.shiftKey&&n.push("Shift"));let r=(e.key||"").toUpperCase();return["CONTROL","ALT","SHIFT","META"].indexOf(r)<0&&(" "===r&&(r="SPACE"),r.length>0&&(r=r.substring(0,1).toUpperCase()+r.substring(1).toLowerCase()),n.push(r)),n.join("+")}Object.defineProperty(t,"__esModule",{value:!0}),t.isWindows=()=>/Win/.test(navigator.platform),t.keyDownToShortcut=keyDownToShortcut,t.handleKeyDown=function handleKeyDown(e,t){const n=t.getKeyMap(),r=n[keyDownToShortcut(e)]||n[e.keyIdentifier||(e.nativeEvent?e.nativeEvent.keyIdentifier:null)],i=[];return r?(r instanceof Array?i.push(...r):i.push(r),i.forEach(e=>e.call(t)),i):i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(167),o=n(386),s=n(383);function isActiveDragSession(e,t){return!!t&&e===t}const a=new class DragDataTransferManager{constructor(){this.activeDragSession=null,this.activeDroppable=null,this.droppables={},this.setDraggingOver=(e,t)=>{if(!e)return;const n=this.droppables[e];if(!n)return;const{onDragLeave:r,onDragEnter:i}=n.mutablePropsRef.current;!t&&r&&r(),t&&i&&i()},this.setActiveDroppable=e=>{e!==this.activeDroppable&&(this.setDraggingOver(this.activeDroppable,!1),this.setDraggingOver(e,!0),this.activeDroppable=e)},this.finishDrag=()=>{this.setActiveDroppable(null),this.activeDragSession=null},this.dragSessionStart=()=>(this.activeDragSession=i(),s.displayDragOverlay(!0),this.activeDragSession),this.dragSessionChange=(e,t)=>{if(!isActiveDragSession(e,this.activeDragSession))return;const{dataTransfer:n}=t,r=Object.values(this.droppables).find(e=>{if(!e)return!1;if(!1===e.mutablePropsRef.current.enabled)return!1;if(!e.dataTypes.some(e=>n.types.includes(e)))return!1;const r=e.getBoundingClientRect();return!!r&&o.pointInClientRect(t.client,r)}),i=r?r.id:null;if(this.setActiveDroppable(i),n.dropEffectCursor=void 0,n.dropEffect="none",r){const{onDragOver:e,dropEffect:i}=r.mutablePropsRef.current;if(n.dropEffect=i||"move",!e)return;const o=r.getBoundingClientRect();if(!o)return;e(Object.assign({},t,{clientRect:o}))}},this.dragSessionEnd=(e,t)=>{if(!isActiveDragSession(e,this.activeDragSession))return;if(s.displayDragOverlay(!1),t.cancelled)return t.dataTransfer.dropEffect="none",void this.finishDrag();const n=this.activeDroppable?this.droppables[this.activeDroppable]:void 0;if(this.finishDrag(),n){const e=n.getBoundingClientRect();if(!e)return;n.mutablePropsRef.current.onDrop(Object.assign({},t,{clientRect:e}))}},this.registerDroppable=e=>{this.droppables[e.id]=e},this.unregisterDroppable=e=>{delete this.droppables[e]}}dragSessionActive(){return!!this.activeDragSession}};t.dragSessionActive=function dragSessionActive(){return a.dragSessionActive()},t.dragDataTransferContext=r.createContext(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(167),o=n(765),s=n(379),a=n(766),c=n(172),l=n(767);function moveListItem(e,t,n){return e.splice(n,0,e.splice(t,1)[0]),e}function dragAndDropIndex(e){return{dragIndex:e?e.index:null,dropIndex:e?e.dropIndex:null}}function draggedItemRect(e){if(!a.isSortableItemElement(e))return null;if(!(e.firstChild instanceof HTMLDivElement))return null;const{offsetLeft:t,offsetTop:n,offsetWidth:r,offsetHeight:i}=e.firstChild;return{x:t,y:n,width:r,height:i}}t.Sortable=function Sortable(e){const{items:t,keyForItem:n,children:i,header:u,footer:h,enabled:d,style:p}=e,f=r.useRef(e);f.current=e;const g=o.useForceUpdate(),m=r.useRef(null),v=function getIsRemovingItem(e,t){return!!e.removeItem&&!!t&&null!==t.index&&null===t.dropIndex}(e,m.current),y=s.useAutoSizeTransition({dependencies:[t.length,v]}),{getKey:S,moveKey:b,removeKey:_}=function useKey(e){const t=r.useRef();return t.current||(t.current=new SortableKeys),{getKey:(n,r)=>e?e(n,r):t.current.getKey(n,r),moveKey:(e,n)=>{t.current.moveKey(e,n)},removeKey:e=>{t.current.removeKey(e)}}}(n),C=[m.current,y.current],w=r.useCallback((e,t)=>{f.current.onDragStart&&f.current.onDragStart(e);const n=function getInsertionRects(e,t){const n=[],r=e.current;if(!r)return n;const i=a.isSortableItemElement(r.firstChild)?t:t+1,o=r.childNodes[i],s=[...r.childNodes];if(!(o instanceof HTMLDivElement))return n;const c=o.nextSibling;let l=!1;if(s.forEach((e,t)=>{if(e===o)return;if(!a.isSortableItemElement(e)){if(0===t)return;l=!0}r.insertBefore(o,e);const i=draggedItemRect(o);i&&n.push(i)}),!l){r.insertBefore(o,null);const e=draggedItemRect(o);e&&n.push(e)}if(r.insertBefore(o,c),0===n.length){const e=draggedItemRect(o);e&&n.push(e)}return n}(y,t);0!==n.length&&(m.current={index:t,dropIndex:t,insertionRects:n},g())},C),x=r.useCallback(e=>{if(!m.current||!y.current)return;let t;(t=function isOutsideElement(e,t){const{top:n,left:r,width:i,height:o}=t.getBoundingClientRect(),{x:s,y:a}=e;return s<r||s>r+i||a<n||a>n+o}(e.client,y.current)?f.current.removeItem?null:m.current.index:function insertionIndex(e,t,n){const{top:r,left:i}=t.getBoundingClientRect(),o=e.x-i,s=e.y-r;return function closestRectIndex(e,t){let n=1/0,r=0;return e.forEach((e,i)=>{const o=l.Rect.center(e),s=c.Point.distance(o,t);s<n&&(n=s,r=i)}),r}(n.insertionRects,{x:o,y:s})}(c.Point.add(e.client,e.centerOfGravityOffset),y.current,m.current))!==m.current.dropIndex&&(m.current.dropIndex=t,g())},C),P=r.useCallback(e=>{m.current&&e.cancelled&&(m.current.dropIndex=m.current.index,g())},C),T=r.useCallback(()=>{const{dragIndex:e,dropIndex:t}=dragAndDropIndex(m.current);if(null!==e)if(m.current=null,null!==t){if(e===t)return;f.current.moveItem(e,t),b(e,t)}else f.current.removeItem&&(f.current.removeItem(e),_(e))},C),k=r.useCallback(()=>m.current?{opacity:null===m.current.dropIndex?.3:.8}:null,C),E=r.useCallback(()=>{if(!m.current||!y.current)return null;const{dropIndex:e}=dragAndDropIndex(m.current);if(null===e)return{opacity:0};const{top:t,left:n}=y.current.getBoundingClientRect(),r=m.current.insertionRects[e];return{x:n+r.x,y:t+r.y,scale:1,opacity:1}},C),O=r.useCallback(e=>i({item:t[e],index:e,isDragPreview:!0}),[t,i]);return r.createElement("div",{ref:y,style:Object.assign({position:"relative",boxSizing:"border-box"},p)},u,function sortedItems(e,t,n){const{dragIndex:r,dropIndex:i}=dragAndDropIndex(t),o=e.map((e,t)=>({item:e,index:t,visible:!n||t!==r}));return null===r?o:r===i?o:null===i?o:moveListItem(o,r,i)}(t,m.current,v).map((e,t)=>r.createElement(a.SortableItem,{key:S(e.item,e.index),enabled:d,index:e.index,sortIndex:t,visible:e.visible,isRemovingItem:v,onDragStart:w,onDrag:x,onDragEnd:P,onDropAnimationEnd:T,dragProperties:k,dropAnimationProperties:E,customDragPreview:O},i({item:e.item,index:e.index,isDragPreview:!1}))),h)};class SortableKeys{constructor(){this.keys=[],this.getKey=(e,t)=>{let n=this.keys[t];return n||(n=i(),this.keys[t]=n),n},this.addKey=e=>{const t=[...this.keys];t.splice(e,0,i()),this.keys=t},this.moveKey=(e,t)=>{this.keys=moveListItem(this.keys,e,t)},this.removeKey=e=>{const t=[...this.keys];t.splice(e,1),this.keys=t}}}t.SortableKeys=SortableKeys},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(36),i=n(19),o=n(174);!function(e){e.sourcePaths=function sourcePaths(e){const t=[];for(const n of e){if(!r.hasShape(n))continue;const e=n.calculatedPaths(),o=i.convertPathToParent(n,e);t.push(o)}return t},e.executePathBoolean=function executePathBoolean(e,t){return o.getPathOperator().booleanJoin(e,t)}}(t.CompoundShape||(t.CompoundShape={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(135),o=n(20),s=n(1),a=n(90),c=n(89),l=n(77),u=n(1),h=n(61);function isValidBoundingBox(e){return[e.minX,e.maxX,e.minY,e.maxY].every(u.isFiniteNumber)}t.collectBoundingBox=function collectBoundingBox(e,t,n,u=new WebKitCSSMatrix,d=null){if(!e.visible&&n)return;u=u.multiply(e.transformMatrix(d));const p=e.rect(d);let f=s.Rect.atOrigin(p);h.hasStroke(e)&&1===e.strokeEnabled&&"center"===e.strokeAlignment&&e.strokeColor&&0!==s.Color(e.strokeColor).a&&e.strokeWidth&&e.strokeWidth>0&&(f=s.Rect.inflate(f,e.strokeWidth/2));const g=s.Rect.cornerPoints(f).map(e=>l.default.convertPoint(u,e)),m=s.Rect.fromPoints(g),v=Math.floor(m.x),y=Math.ceil(m.x+m.width),S=Math.floor(m.y),b=Math.ceil(m.y+m.height);if(t.minX=Math.min(t.minX,v),t.maxX=Math.max(t.maxX,y),t.minY=Math.min(t.minY,S),t.maxY=Math.max(t.maxY,b),function collectshadowBounds(e,t,n,i=null){if(!r.isDrawableNode(e))return;const o=e.rect(i),u=s.Rect.atOrigin(o);let h;if(a.hasBoxShadow(e)&&(h=e.boxShadows),c.hasShadow(e)&&(h=e.shadows),h)for(let r=0,a=h.count();r<a;r++){const e=h.get(r);if(!e.enabled)continue;const i=s.localShadowFrame(e,u);if(!i)continue;const o=s.Rect.cornerPoints(i),a=o.map(e=>l.default.convertPoint(n,e)),c=s.Rect.fromPoints(a),d=Math.floor(c.x),p=Math.ceil(d+c.width),f=Math.floor(c.y),g=Math.ceil(f+c.height);t.minX=Math.min(t.minX,d),t.maxX=Math.max(t.maxX,p),t.minY=Math.min(t.minY,f),t.maxY=Math.max(t.maxY,g)}}(e,t,u),(!i.hasClip(e)||!e.clip)&&o.hasChildren(e)&&!r.isBooleanShapeNode(e))for(let r=0,i=e.children.length;r<i;r++)collectBoundingBox(e.children[r],t,n,u,p)},t.isValidBoundingBox=isValidBoundingBox,t.validBoundingBox=function validBoundingBox(e,t){return isValidBoundingBox(e)?e:t},t.boundingBoxFromRect=function boundingBoxFromRect(e){return{minX:e.x,minY:e.y,maxX:s.Rect.maxX(e),maxY:s.Rect.maxY(e)}},t.getRectContainingBoundingBox=function getRectContainingBoundingBox(e){const t=Math.floor(e.minX),n=Math.floor(e.minY);return{x:t,y:n,width:Math.ceil(e.maxX)-t,height:Math.ceil(e.maxY)-n}}},function(e,t,n){"use strict";function safeName(e){return e&&0!==e.length?(e.match(/^[0-9]/)&&(e="$"+e),0===(e=e.replace(/^[^A-Za-z_$]+/,"_").replace(/[^A-Za-z0-9_$]+/g,"_")).length?null:e):null}function upperCaseFirstChar(e){if(0===e.length)return e;const t=e[0],n=t.toUpperCase();return t===n?e:n+e.slice(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.safeName=safeName,t.safeComponentName=function safeComponentName(e){return upperCaseFirstChar(safeName(e)||"Component")},t.upperCaseFirstChar=upperCaseFirstChar,t.idToReactId=function idToReactId(e){return"id_"+e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function modulate(e,t,n,r){const i=t[0],o=t[1],s=n[0],a=n[1];if(0==o-i)return(a+s)/2;if(0==a-s)return s;const c=s+(e-i)/(o-i)*(a-s);if(r)if(s<a){if(c<s)return s;if(c>a)return a}else{if(c>s)return s;if(c<a)return a}return c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(3),o=n(801),s=n(802),a=n(95),c=n(6),l=n(95),u=n(399),h=n(1),d=n(27),p=n(104),f=n(106);t.SnapTool=class SnapTool{constructor(e,t){this.vekterEngine=e,this.excludedNodes=t,this.snapX=null,this.snapY=null,this.snapConstraint=null,this.distanceFramesX=[],this.distanceFramesY=[],this.snappingZoom=-1,this.snappingFrame={x:0,y:0,width:0,height:0},this.linesCache=i.Map(),this.distanceCache=i.Map()}stop(){this.vekterEngine.toolStore.setSnapLines()}validateCaches(){const{zoom:e}=this.vekterEngine,t=this.vekterEngine.canvasStore.getCanvasVisibleRect();this.snappingZoom===e&&h.Rect.isEqual(this.snappingFrame,t)||(this.snappingZoom=e,this.snappingFrame=t,this.linesCache=i.Map(),this.distanceCache=i.Map())}snap(e,t,n,r,o,s,c){const{zoom:u}=this.vekterEngine;if(!1===t)return this.snapX=null,this.snapY=null,this.snapConstraint=null,this.distanceFramesX=[],this.distanceFramesY=[],e;this.validateCaches();const p=this.getOrthogonalLines(n);let f;const g=(f=o?a.snapWithConstraint(p,u,e,o,c,d.default.shapeModeActive):a.snap(p,u,e,s,c)).snapLines.y.toArray(),m=f.snapLines.x.toArray(),v=void 0!==o?o:null;let y=null;if(void 0!==r&&void 0===o){const t=this.getSiblingDistances(r);y=l.snapDistance(t,f.point,e,u)}y&&void 0!==y.distanceSnap.x&&(f.point.x=y.distanceSnap.x),y&&void 0!==y.distanceSnap.y&&(f.point.y=y.distanceSnap.y);const S={x:h.isFiniteNumber(f.point.x)?f.point.x:e.x,y:h.isFiniteNumber(f.point.y)?f.point.y:e.y};null!==y&&(y.horizontalDistanceFrames.forEach(t=>{const n="height"in e?e.height:0,r=Math.min(t.y,S.y),i=Math.max(h.Rect.maxY(t),S.y+n);y.distanceFramesX.push(Object.assign({},t,{y:r,height:i-r}))}),y.verticalDistanceFrames.forEach(t=>{const n="width"in e?e.width:0,r=Math.min(t.x,S.x),i=Math.max(h.Rect.maxX(t),S.x+n);y.distanceFramesY.push(Object.assign({},t,{x:r,width:i-r}))}));const b=y?y.distanceFramesX:[],_=y?y.distanceFramesY:[];return this.snapX=m,this.snapY=g,this.vekterEngine.toolStore.setSnapLines(i.Set(m),i.Set(g)),this.snapConstraint=v,this.distanceFramesX=b,this.distanceFramesY=_,S}getOrthogonalLines(e){const{tree:t,zoom:n}=this.vekterEngine,r=this.vekterEngine.canvasStore.getCanvasVisibleRect(),{displayRulers:o}=this.vekterEngine.persistedUserDefaults,s=o?{x:t.root.guidesX,y:t.root.guidesY}:{x:i.Set(),y:i.Set()};return e.forEach(e=>{const o={x:i.Set(),y:i.Set()};if(!this.linesCache.has(e)){let s=[];const l=[...this.excludedNodes],u=t.getGroundNodesOfType(c.FrameNode,e=>-1===l.indexOf(e.id));if(e){s.push(...t.getSubtreeNodes(e,l));const n=t.getNode(e);n&&p.isValidGuideNode(n)&&(o.x=i.Set(n.guidesX.map(e=>p.getAbsoluteOffset(t,n,"x",e))),o.y=i.Set(n.guidesY.map(e=>p.getAbsoluteOffset(t,n,"y",e))))}else l.push(...u.map(e=>e.id)),s.push(...t.getSubtreeNodes(e,l)),s.push(...u);const d=(s=s.filter(e=>!(c.isShapeGroupNode(e)||c.isShapeContainerNode(e)&&e.sizeToFit))).map(e=>t.convertFrameToCanvas(e)).filter(e=>h.Rect.intersects(e,r)),g=this.vekterEngine.tool.enum===f.Tools.Path,m=a.snappingData(d,n,g),v={x:m.x.union(o.x),y:m.y.union(o.y)};this.linesCache=this.linesCache.set(e,v)}const l=this.linesCache.get(e);s.x=s.x.union(l.x),s.y=s.y.union(l.y)}),s}getSiblingDistances(e){const{tree:t}=this.vekterEngine,n=this.vekterEngine.canvasStore.getCanvasVisibleRect();if(!this.distanceCache.has(e)){let r=[];r=e?t.getNode(e).children:t.getGroundNodes();const o=[...this.excludedNodes],s=r.filter(e=>-1===o.indexOf(e.id)).map(e=>h.Rect.pixelAligned(t.convertFrameToCanvas(e))).filter(e=>h.Rect.intersects(n,e)),a=u.default(s);let c=i.Map(),l=i.Map();const d=(e,t,n)=>{const r=e.get(t,[]);return e.set(t,[...r,n])};a.forEach(([e,t])=>{const n=h.Rect.maxY(e),r=h.Rect.maxY(t),i=h.Rect.maxX(e),o=h.Rect.maxX(t);if(h.Rect.overlapHorizontally(e,t)){const a=Math.min(e.x,t.x),l=Math.max(i,o)-a;if(n<t.y){const e=t.y-n,r={y:n,x:a,width:l,height:e};h.Rect.doesNotIntersect(r,s)&&(c=d(c,e,r))}else if(r<e.y){const t=e.y-r,n={y:r,x:a,width:l,height:t};h.Rect.doesNotIntersect(n,s)&&(c=d(c,t,n))}}if(h.Rect.overlapVertically(e,t)){const a=Math.min(e.y,t.y),c=Math.max(n,r)-a;if(i<t.x){const e=t.x-i,n={x:i,y:a,width:e,height:c};h.Rect.doesNotIntersect(n,s)&&(l=d(l,e,n))}else if(o<e.x){const t=e.x-o,n={x:o,y:a,width:t,height:c};h.Rect.doesNotIntersect(n,s)&&(l=d(l,t,n))}}}),this.distanceCache=this.distanceCache.set(e,{verticalDistances:c,horizontalDistances:l,siblingFrames:s})}return this.distanceCache.get(e)}},t.default=function withSnapping(e){class WithSnapping extends r.Component{render(){const t=this.props.myTool.snapper;return t?r.createElement(e,Object.assign({},this.props),r.createElement(o.EqualDistanceFrames,{zoom:d.default.zoom,framesX:t.distanceFramesX,framesY:t.distanceFramesY}),r.createElement(s.default,Object.assign({zoom:d.default.zoom},t)),this.props.children):this.props.children}}return WithSnapping.displayName=`WithSnapping(${e.displayName||e.name})`,WithSnapping}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(25),o=n(1),s=n(53),a=n(52),c=n(18),l=n(17),u=n(9),h=n(94);t.ZoomSelectTool=class ZoomSelectTool extends l.VekterTool{constructor(){super(...arguments),this.enum=u.Tools.ZoomSelect,this.wantsAutoscrolling=!0}start(){a.getIpcRenderer().send(s.DocumentKeepMouseCursorVisible,!0),this.engine.setCursor("zoom-in")}stop(){this.engine.clearCursor(),a.getIpcRenderer().send(s.DocumentKeepMouseCursorVisible,!1)}update(){const{mouse:e,mouseDown:t}=this.engine,n=this.engine.previousInputState;if(n.mouseDown&&!t&&e){const t=o.Rect.fromTwoPoints(n.mouseDown,e);this.engine.canvasStore.zoomToCenter(t),i.triggerCanvasZoomEvent({source:"selection"}),this.pathEngine?this.pathEngine.switchToDefault():this.engine.exitTool()}}};t.ZoomSelect=class ZoomSelect extends r.Component{render(){const{mouse:e,mouseDown:t,zoom:n}=this.props.myTool.engine;if(!e||!t)return null;const i=o.Rect.fromTwoPoints(t,e);return r.createElement(h.default,{frame:o.Rect.multiply(i,n),backgroundColor:c.theme.selectionBox,borderColor:c.theme.selectionBoxOutline,borderWidth:1})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(23),s=n(9),a=n(19);t.PathCurveBendTool=class PathCurveBendTool{constructor(){this.enum=s.Tools.Unknown}start(){const{closestCurve:e,tree:t}=this.pathEngine;if(!e)return void this.pathEngine.switchToDefault();this.engine.setCursor("-webkit-grabbing"),this.engine.beginUndoGroup(),this.node=t.getNode(e.id),this.normalizedClosestCurve=Object.assign({},e,{projectedPoint:t.convertPointToCanvas(this.node,e.projectedPoint),midPoint:t.convertPointToCanvas(this.node,e.midPoint)});const n=a.convertPathToCanvas(t,this.node,this.node),r=o.default.toBezierJS(n);this.originalBezier=r[e.segmentIndex],this.fromSegmentIndex=e.segmentIndex,this.toSegmentIndex=this.normalizedClosestCurve.segmentIndex+1,this.normalizedClosestCurve.segmentIndex===this.node.pathSegments.count()-1&&(this.toSegmentIndex=0),this.normalizedClosestCurve.segmentIndex,this.isStraight=i.isStraightCurve(this.node.pathSegments.get(this.fromSegmentIndex),this.node.pathSegments.get(this.toSegmentIndex))}stop(){this.pathEngine.setClosestCurve(null),this.engine.endUndoGroup(),this.engine.clearCursor()}update(){const{tree:e,mouseDown:t,mouse:n,shiftKey:r}=this.engine,o=this.engine.previousInputState,s=o.mouseDown,a=o.mouse,c=o.shiftKey;if(!(t&&s&&a&&n))return void this.pathEngine.switchToDefault();const l=this.delta(t,n,r),u=this.delta(s,a,c);if(u.x===l.x&&u.y===l.y)return;const h=e.current(this.node),d=function controlPointsForBend(e,t,n,r){const o=t.midPointInRange||r,s=o?.5:t.projectedTime,a=1-s,c=s*s*s+a*a*a,l=c-1,u=Math.abs(l/c),h=e.hull(s),d=h[5],p=e.get(s),f=e.points[0],g=e.points[3];d.x===p.x&&d.x===f.x&&d.x===g.x&&(f.x+=.01,g.x+=.01),d.y===p.y&&d.y===f.y&&d.y===g.y&&(f.y+=.01,g.y+=.01);let m=e.getUtils().lli4(d,p,f,g);m||(m=t.midPoint);const v=m,y=h[7],S=h[8],b={x:y.x-p.x,y:y.y-p.y},_={x:S.x-p.x,y:S.y-p.y},C=e.points,w=i.Point.add(o?t.midPoint:t.projectedPoint,n),x={x:w.x-(v.x-w.x)/u,y:w.y-(v.y-w.y)/u},P={x:w.x+b.x,y:w.y+b.y},T={x:x.x-(x.x-P.x)/(1-s),y:x.y-(x.y-P.y)/(1-s)},k={x:w.x+_.x,y:w.y+_.y},E={x:x.x+(k.x-x.x)/s,y:x.y+(k.y-x.y)/s},O={x:C[0].x+(T.x-C[0].x)/s,y:C[0].y+(T.y-C[0].y)/s},M={x:C[3].x-(C[3].x-E.x)/(1-s),y:C[3].y-(C[3].y-E.y)/(1-s)};return{from:O,to:M}}(this.originalBezier,this.normalizedClosestCurve,l,this.isStraight),p=e.convertPointToNode(h,d.from),f=e.convertPointToNode(h,d.to);let g=h.pathSegments.update(this.fromSegmentIndex,e=>updateSegment(e,i.Point.subtract(p,e),!0));g=g.update(this.toSegmentIndex,e=>updateSegment(e,i.Point.subtract(f,e),!1)),this.engine.updateNode(h.id,h.updateForPath({pathSegments:g}))}delta(e,t,n){const r=i.Point.subtract(t,e);return n&&(Math.abs(r.x)>Math.abs(r.y)?r.y=0:r.x=0),r}};function updateSegment(e,t,n){const r=t;let o=n?i.PathSegment.handleIn(e):i.PathSegment.handleOut(e);"symmetric"===e.handleMirroring&&(o=i.Point.reverse(r));const s={handleOutX:n?r.x:o.x,handleOutY:n?r.y:o.y,handleInX:n?o.x:r.x,handleInY:n?o.y:r.y,handleMirroring:"straight"===e.handleMirroring?"disconnected":e.handleMirroring};return new i.PathSegment(e.merge(s))}t.default=class PathCurveBend extends r.Component{render(){return null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(47),o=n(174),s=n(108),a=n(23),c=n(41),l=n(9),u=n(182),h=n(408),d=n(246),p=n(248),f=n(410),g=n(19);t.PathDefaultTool=class PathDefaultTool{constructor(){this.enum=l.Tools.Unknown,this.mouseDidMove=!1}start(){this.updateCursor()}stop(){this.engine.clearCursor()}update(){const e=this.engine.previousInputState,t=u.default(this.engine,e);switch(this.updateCursor(),t){case"mouseDown":return this.mouseDown();case"mouseUp":return this.mouseUp();case"mouseMove":return this.mouseMove()}}mouseMove(){this.mouseDidMove=!0,this.engine.mouseDown?(this.pathEngine.setSegmentHandle(null),this.pathEngine.setPathTool(new h.PathSegmentSelectTool)):this.pathEngine.setHoveredSegment(null)}mouseUp(){if(this.mouseDidMove)return;const{tree:e,selection:t}=this.engine;for(let n=0,r=t.length;n<r;n++){const r=t[n],i=e.getNode(r);if(!i||!s.hasPath(i)||!this.engine.mouse)continue;const a=e.convertPointToNode(i,this.engine.mouse);if(o.getPathOperator().containsPoint(i,a))return this.pathEngine.setSegmentSelection([]),void this.pathEngine.setSegmentHandle(null)}this.engine.exitTool()}mouseDown(){const{mouse:e,altKey:t,cmdKey:n,shiftKey:r,tree:i}=this.engine,{closestCurve:o,segmentSelection:s}=this.pathEngine;if(this.mouseDidMove=!1,o&&e)if(t)this.pathEngine.setClosestCurve(o),this.pathEngine.setPathTool(new d.PathCurveBendTool);else if(n||o.midPointInRange){const e=i.getNode(o.id),t=n?o.projectedTime:.5,r=a.default.split(e.pathSegments,e.pathClosed,o.segmentIndex,t);this.engine.updateNode(e.id,e.updateForPath({pathSegments:r})),this.pathEngine.setClosestCurve(null),this.pathEngine.setSegmentSelection([{id:e.id,index:o.segmentIndex+1}]),this.pathEngine.setSegmentHandle(null),this.pathEngine.setPathTool(new p.PathSegmentMoveTool)}else{const e={id:o.id,index:o.segmentIndex};let t=!0;if(r?(this.pathEngine.toggleSegmentSelection([e],c.PathSelectionType.Curves),t=!g.partOfSelection(s,o.id,o.segmentIndex)):this.pathEngine.setSegmentSelection([e],c.PathSelectionType.Curves),this.pathEngine.setSegmentHandle(null),this.pathEngine.setClosestCurve(null),!t)return;this.pathEngine.setPathTool(new p.PathSegmentMoveTool)}}updateCursor(){const{altKey:e,cmdKey:t}=this.engine,{closestCurve:n}=this.pathEngine;n&&e?this.engine.setCursor("-webkit-grab"):n&&(t||n.midPointInRange)?this.engine.setCursor(i.pathCurveSplitCursor()):this.engine.clearCursor()}};t.default=class PathDefault extends r.Component{render(){const{mouse:e}=this.props.pathTool.engine;return e?r.createElement(f.default,Object.assign({},this.props)):null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(409),o=n(9),s=n(19);t.PathSegmentMoveTool=class PathSegmentMoveTool{constructor(){this.enum=o.Tools.Unknown,this.wantsAutoscrolling=!0}start(){const{tree:e}=this.engine,{selectionType:t,segmentSelection:n}=this.pathEngine;this.segmentSelection=s.generateSegmentSelection(e,n,t),this.originalSegmentAnchorsInCanvas={};const i=this.segmentSelection.map(t=>{const n=e.get(t.id),r=n.pathSegments.get(t.index),i=this.originalPointKey(t),o=e.convertPointToCanvas(n,r);return this.originalSegmentAnchorsInCanvas[i]=o,o});this.originalFrame=r.Rect.fromPoints(i),this.engine.beginUndoGroup()}stop(){this.engine.toolStore.setSnapLines(),this.engine.endUndoGroup()}update(){const{tree:e,mouseDown:t,mouse:n,shiftKey:o,selection:a,zoom:c}=this.engine,{pointRounding:l}=this.pathEngine,u=this.engine.previousInputState,h=u.mouseDown,d=u.mouse,p=u.shiftKey;if(!t)return void this.pathEngine.switchToDefault();if(!d)return;if(!h)return;let f=this.delta(t,n,o);const g=this.delta(h,d,p);if(g.x===f.x&&g.y===f.y)return;const m=r.Rect.offset(this.originalFrame,f),v=s.roundedPoint(m,l);m.x=v.x,m.y=v.y;const y=s.groupPathSegmentSelectors(this.segmentSelection),S=e.getNodes(a);this.updateSnappingCache(e,S,this.segmentSelection);const[b,_]=i.pathSegmentSnap(this.snappingCache,e,c,S,this.segmentSelection,m,null);f=r.Point.subtract(m,this.originalFrame),this.engine.toolStore.setSnapLines(_.x,_.y),S.forEach(t=>{const n=y[t.id]||[],i=t.pathSegments.map((i,o)=>{if(-1===n.indexOf(o))return i;const a=this.originalPointKey({id:t.id,index:o}),c=this.originalSegmentAnchorsInCanvas[a],u=r.Point.add(c,f),h=s.roundedPoint(u,l),d=e.convertPointToNode(t,h);return new r.PathSegment(i.merge(d))});e.updateNode(t,t.updateForPath({pathSegments:i}))})}delta(e,t,n){const i=r.Point.subtract(t,e);return n&&(Math.abs(i.x)>Math.abs(i.y)?i.y=0:i.x=0),i}originalPointKey(e){return`${e.id} ${e.index}`}updateSnappingCache(e,t,n){const o=this.engine.canvasStore.getCanvasVisibleRect(),s=!r.isEqual(this.lastSnappingFrame,o),a=!this.snappingCache;(s||a)&&(this.snappingCache=i.pathSegmentSnappingData(e,t,n,o),this.lastSnappingFrame=o)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(0),o=n(1),s=n(409),a=n(95),c=n(406),l=n(813),u=n(411),h=n(19);t.PathSnapper=class PathSnapper{constructor(e,t){this.engine=e,this.pathEngine=t,this.snappedMouse=null,this.previousSnappedMouse=null,this.temporaryConstraint=null,this.intersectionTangent=null,this.snapX=null,this.snapY=null}updateCache(){this.possibleConstraints=p.options(this),this.orthogonalLines=function orthogonalLineOptions(e,t){const{tree:n,selection:r}=e,i=r.map(e=>n.getNode(e));switch(e.pathTool){case u.PathTool.SegmentAddition:{const e=t.canvasStore.getCanvasVisibleRect();return s.pathSegmentSnappingData(n,i,[],e)}default:return d}}(this,this.engine)}shouldUpdateCache(){const e=c.pathToolEnumFor(this.pathEngine.pathTool);if(this.pathTool!==e)return!0;if(e!==u.PathTool.SegmentAddition)return!1;const t=this.segmentSelection[0],n=this.pathEngine.segmentSelection[0];if(t&&n){const e=this.tree.getNode(t.id),r=this.pathEngine.tree.getNode(n.id);if(e.id!==r.id)return!0;if(e.pathSegments.count()!==r.pathSegments.count())return!0}return!o.isEqual(this.segmentSelection,this.pathEngine.segmentSelection)}updateProps(){const e=this.shouldUpdateCache();this.tree=this.engine.tree,this.selection=this.engine.selection,this.mouse=this.engine.mouse,this.mouseDown=this.engine.mouseDown,this.shiftKey=this.engine.shiftKey,this.cmdKey=this.engine.cmdKey,this.zoom=this.engine.zoom,this.segmentSelection=this.pathEngine.segmentSelection,this.selectionType=this.pathEngine.selectionType,this.segmentHovered=this.pathEngine.segmentHovered,this.segmentHandle=this.pathEngine.segmentHandle,this.closestCurve=this.pathEngine.closestCurve,this.pointRounding=this.pathEngine.pointRounding,this.snapConstraint=this.pathEngine.snapConstraint,this.pathTool=c.pathToolEnumFor(this.pathEngine.pathTool),this.previousSnappedMouse=this.snappedMouse,e&&this.updateCache()}stop(){this.engine.toolStore.setSnapLines()}update(){this.updateProps();const e=function update(e,t,n){switch(e.pathTool){case u.PathTool.SegmentAddition:return function segmentAdditionUpdate(e,t,n){const{tree:r,segmentSelection:i,closestCurve:s,segmentHovered:c,snapConstraint:l,mouse:u,pointRounding:d,zoom:f,cmdKey:g}=e;let m=u,v=null,y=null,S=null,b=null;const _=i[0];let C=!1;if(s){const e=r.getNode(s.id);e&&(g?(m=r.convertPointToCanvas(e,s.projectedPoint),C=!0):l&&(y=p.curveDerivativeTangent(r,l,s))&&(C=!0,m=y.a))}else if(c){const e=r.getNode(c.id);if(e){const t=e.pathSegments.get(c.index);if(t&&(m=r.convertPointToCanvas(e,t),C=!0,l)){const e=o.Line.projectPoint(l,m);e&&(y=o.Line(m,e),m=e)}}}else v=p.temporary(t,e.mouse,e.zoom);const w=l||v;if(!C&&u){let e;if(_){const t=r.getNode(_.id);if(t){const n=t.pathSegments.get(_.index);n&&(e=r.convertPointToCanvas(t,o.PathSegment.point(n)))}}const t=a.snap(n,f,u,e,void 0);if(w){let e=!1;const{point:n}=t;if(void 0!==n.x){const r=o.Line({x:n.x,y:0},{x:n.x,y:10}),i=o.Line.intersection(r,w);i&&(m=i,S=t.snapLines.x.toArray(),e=!0)}if(!e&&void 0!==n.y){const r=o.Line({y:n.y,x:0},{y:n.y,x:10}),i=o.Line.intersection(r,w);i&&(m=i,b=t.snapLines.y.toArray(),e=!0)}if(!e){const e=o.Line.projectPoint(w,u);e&&(m=e)}}else if(m){const{point:e}=t;void 0!==e.x&&(m.x=e.x,S=t.snapLines.x.toArray()),void 0!==e.y&&(m.y=e.y,b=t.snapLines.y.toArray())}}return m&&(m=h.roundedPoint(m,d)),{snappedMouse:m,temporaryConstraint:v,intersectionTangent:y,snapX:S,snapY:b}}(e,t,n);case u.PathTool.SegmentHandleMove:return function segmentHandleMoveUpdate(e,t){const{mouse:n,snapConstraint:r}=e;let i=n,s=null;r||(s=p.temporary(t,e.mouse,e.zoom));const a=r||s;if(a&&n){const e=o.Line.projectPoint(a,n);e&&(i=e)}return{snappedMouse:i,temporaryConstraint:s,intersectionTangent:null}}(e,t);default:return null}}(this,this.possibleConstraints,this.orthogonalLines);if(!e)return;Object.assign(this,e);const{mouse:t,shiftKey:n}=this.engine,{snapConstraint:i}=this.pathEngine;if(n&&!this.engine.previousInputState.shiftKey&&t){const e=p.closest(this.possibleConstraints,t);this.pathEngine.setPathConstraint(e.constraint)}else!n&&i&&this.pathEngine.setPathConstraint(null);this.engine.toolStore.setSnapLines(this.snapX?r.Set(this.snapX):null,this.snapY?r.Set(this.snapY):null)}},t.default=function withPathSnapping(e){class WithPathSnapping extends i.Component{render(){const t=this.props.pathTool,n=t.engine,{zoom:r}=n,{intersectionTangent:o}=t.pathEngine.snap;return i.createElement("div",null,i.createElement(l.default,{intersectionTangent:o,zoom:r}),i.createElement(e,Object.assign({},this.props),this.props.children))}}return WithPathSnapping.displayName=`WithPathSnapping(${e.displayName||e.name})`,WithPathSnapping};const d={x:r.Set(),y:r.Set()};var p;!function(e){function closest(e,t){let n=1/0,r=e[0];for(let i=0,s=e.length;i<s;i++){const s=e[i],a=o.Line.projectPoint(s,t);if(null===a)continue;const c=o.Point.distance(t,a);c>=n||(n=c,r=s)}return{constraint:r||null,distance:n}}function standard(e){return[o.Line(e,{x:e.x,y:e.y+1}),o.Line(e,{y:e.y,x:e.x+1}),o.Line(e,{y:e.y+1,x:e.x+1}),o.Line(e,{y:e.y+1,x:e.x-1})]}function segmentOptions(e,t,n){const r=t.pathSegments.get(n.index),i=h.convertSegmentToCanvas(e,t,r),s=standard(e.convertPointToCanvas(t,r));let a=t.pathSegments.get(n.index-1),c=t.pathSegments.get(n.index+1);if(t.pathClosed&&0===n.index&&(a=t.pathSegments.last()),t.pathClosed&&n.index===t.pathSegments.count()-1&&(c=t.pathSegments.first()),a){const n=h.convertSegmentToCanvas(e,t,a),r=h.curveAngle(n,i,1);if(0!==r.x&&0!==r.y){const e=o.Line(i,{x:i.x+r.x,y:i.y+r.y}),t=o.Line.perpendicular(e,i);s.push(o.Line(e.a,e.b),o.Line(e.a,t.a))}}if(c){const n=h.convertSegmentToCanvas(e,t,c),r=h.curveAngle(i,n,0);if(0!==r.x&&0!==r.y){const e=o.Line(i,{x:i.x+r.x,y:i.y+r.y}),t=o.Line.perpendicular(e,i);s.push(o.Line(e.a,e.b),o.Line(e.a,t.a))}}return s}e.temporary=function temporary(e,t,n){if(null===t)return null;const{constraint:r,distance:i}=closest(e,t);return i>4/n?null:r},e.closest=closest,e.options=function options(e){switch(e.pathTool){case u.PathTool.SegmentAddition:return function segmentAdditionOptions(e){const{tree:t,segmentSelection:n,mouseDown:r}=e,i=n[0];if(!i)return[];const o=t.getNode(i.id);return segmentOptions(t,o,i)}(e);case u.PathTool.SegmentHandleMove:return function segmentHandleMoveOptions(e){const{tree:t,segmentHandle:n}=e;if(!n)return[];const r=t.getNode(n.id);return segmentOptions(t,r,n)}(e);default:return[]}},e.standard=standard,e.curveDerivativeTangent=function curveDerivativeTangent(e,t,n){const r=h.curveDerivative(e,n);if(!r)return null;const i=o.Line.intersection(t,r);return i?o.Point.distance(i,t.a)>2e3?null:o.Line(i,r.a):null}}(p=t.Constraint||(t.Constraint={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(0),o=n(1),s=n(18),a=n(23);t.default=class PathCurve extends i.Component{render(){const{from:e,to:t,stroke:n,strokeDasharray:c}=this.props;if(!e||!t)return null;const l={pathSegments:r.List([e,t]),pathClosed:!1},u=o.toSVGPath(l),h=a.default.boundingBox(l),d={position:"absolute",transform:`translate(${h.x}px, ${h.y}px)`},p={position:"absolute",width:h.width,height:h.height,overflow:"visible",fill:"transparent",strokeWidth:1,stroke:n||s.theme.tint};return i.createElement("div",{style:d},i.createElement("svg",{width:"100%",height:"100%",style:p,viewBox:`${h.x} ${h.y} ${h.width} ${h.height}`,strokeDasharray:c},i.createElement("path",{d:u})))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(0),o=n(1),s=n(47),a=n(6),c=n(23),l=n(41),u=n(9),h=n(182),d=n(403),p=n(184),f=n(815),g=n(410),m=n(249),v=n(61);t.PathSegmentAdditionTool=class PathSegmentAdditionTool{constructor(){this.enum=u.Tools.Unknown,this.segmentAdded=!1}start(){this.engine.setCursor(s.pathExtensionCursor())}stop(){this.engine.clearCursor()}update(){const e=this.engine.previousInputState;switch(h.default(this.engine,e)){case"mouseDown":return this.mouseDown();case"mouseMove":return this.mouseMove()}}mouseMove(){const{mouseDown:e,tree:t}=this.engine,{segmentSelection:n}=this.pathEngine;if(this.segmentAdded&&e){const e=n[0],r=t.getNode(e.id),i=c.default.isLastSegment(r.pathSegments,r.pathClosed,e.index)?l.SegmentHandle.Out:l.SegmentHandle.In;this.pathEngine.setSegmentHandle({id:r.id,index:e.index,handle:i}),this.pathEngine.setPathTool(new p.PathSegmentHandleMoveTool)}else this.pathEngine.setHoveredSegment(null)}mouseDown(){const{tree:e,mouse:t}=this.engine,{segmentSelection:n,snap:i}=this.pathEngine,{snappedMouse:s}=i;if(t&&s)if(0===n.length){const n=e.getPotentialParents(Object.assign({},t,{width:1,height:1}),t).filter(e=>a.isShapeContainerNode(e));let i=a.NullID,c=s;const l=e.getTopMostChildNode(n);l&&a.isTreeNode(l)&&(i=l.id,c=e.convertPointToNode(l,c));const u=d.findShapeContainerInRange(e,i,c);u&&(i=u.id,c=e.convertPointToNode(u,c));const h=e.newId(),p=Object.assign({id:h},c,v.strokeDefaults,{pathSegments:r.List([new o.PathSegment])});this.engine.createPath(i,p),this.engine.setSelection([h]),this.pathEngine.setSegmentSelection([{id:h,index:0}]),this.segmentAdded=!0}else{const t=n[0],r=e.getNode(t.id),i=c.default.isLastSegment(r.pathSegments,r.pathClosed,t.index),a=e.convertPointToNode(r,s,!0),l=new o.PathSegment(a),u=i?r.pathSegments.count():0,h=r.pathSegments.insert(u,l);this.engine.updateNode(r.id,r.updateForPath({pathSegments:h})),this.pathEngine.setSegmentSelection([{id:r.id,index:u}]),this.pathEngine.setHoveredSegment(null),this.pathEngine.setClosestCurve(null),this.segmentAdded=!0}}};t.default=m.default(class PathSegmentAddition extends i.Component{render(){return i.createElement("div",null,i.createElement(f.default,Object.assign({},this.props)),i.createElement(g.default,Object.assign({},this.props)))}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17);!function(e){e[e.Default=0]="Default",e[e.GradientAngle=1]="GradientAngle",e[e.RadialGradientMove=2]="RadialGradientMove",e[e.RadialGradientResize=3]="RadialGradientResize",e[e.SampleColor=4]="SampleColor"}(t.GradientToolType||(t.GradientToolType={}));t.VekterGradientTool=class VekterGradientTool extends r.VekterTool{}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(840),o=n(240),s=n(111),a=n(112),c=n(29);t.isBooleanShapeNode=function isBooleanShapeNode(e){return e instanceof BooleanShapeNode};class BooleanShapeNode extends(s.withFrameForShape(a.withBaseShapeTraits(r.CanvasNode))){constructor(e){super(),c.setDefaults(this,i.BooleanShapeRecord,e)}calculatedPaths(){const e=this.cache;if(e.calculatedPaths)return e.calculatedPaths;const t=o.CompoundShape.sourcePaths(this.children);return e.calculatedPaths=o.CompoundShape.executePathBoolean(t,this.pathBoolean),e.calculatedPaths}normalizedPath(){this.calculatedPaths()}preCommit(e){this.isEmptyGroup()?e.removeNode(this):super.preCommit(e)}}t.default=BooleanShapeNode},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(841),o=n(63),s=n(111),a=n(112),c=n(29);t.default=class RectangleShapeNode extends(s.withFrameForShape(a.withBaseShapeTraits(r.CanvasNode))){constructor(e){super(),c.setDefaults(this,i.RectangleShapeRecord,e),delete this.children}calculatedPaths(){return o.BasicShape.calculatedPath(this)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(185),o=n(63),s=n(111),a=n(112),c=n(29);t.isOvalShapeNode=function isOvalShapeNode(e){return e instanceof OvalShapeNode};class OvalShapeNode extends(s.withFrameForShape(a.withBaseShapeTraits(r.CanvasNode))){constructor(e){super(),c.setDefaults(this,i.ShapeNodeRecord,e),delete this.children}calculatedPaths(){return o.BasicShape.calculatedPath(this)}}t.default=OvalShapeNode},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(63),o=n(111),s=n(112),a=n(842),c=n(29);t.default=class StarShapeNode extends(o.withFrameForShape(s.withBaseShapeTraits(r.CanvasNode))){constructor(e){super(),c.setDefaults(this,a.StarShapeRecord,e),delete this.children}calculatedPaths(){return i.BasicShape.calculatedPath(this)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(63),o=n(111),s=n(112),a=n(843),c=n(29);t.default=class PolygonShapeNode extends(o.withFrameForShape(s.withBaseShapeTraits(r.CanvasNode))){constructor(e){super(),c.setDefaults(this,a.PolygonShapeRecord,e),delete this.children}calculatedPaths(){return i.BasicShape.calculatedPath(this)}}},function(e,t,n){var r=n(65)("socket.io-parser"),i=n(113),o=n(859),s=n(146),a=n(419);function Encoder(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=Encoder,t.Decoder=Decoder;var c=t.ERROR+'"encode error"';function encodeAsString(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var i=function tryStringify(e){try{return JSON.stringify(e)}catch(t){return!1}}(e.data);if(!1===i)return c;n+=i}return r("encoded %j as %s",e,n),n}function Decoder(){this.reconstructor=null}function BinaryReconstructor(e){this.reconPack=e,this.buffers=[]}function error(e){return{type:t.ERROR,data:"parser error: "+e}}Encoder.prototype.encode=function(e,n){(r("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function encodeAsBinary(e,t){o.removeBlobs(e,function writeEncoding(e){var n=o.deconstructPacket(e),r=encodeAsString(n.packet),i=n.buffers;i.unshift(r),t(i)})}(e,n):n([encodeAsString(e)])},i(Decoder.prototype),Decoder.prototype.add=function(e){var n;if("string"==typeof e)n=function decodeString(e){var n=0,i={type:Number(e.charAt(0))};if(null==t.types[i.type])return error("unknown packet type "+i.type);if(t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type){for(var o="";"-"!==e.charAt(++n)&&(o+=e.charAt(n),n!=e.length););if(o!=Number(o)||"-"!==e.charAt(n))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===e.charAt(n+1))for(i.nsp="";++n;){var a=e.charAt(n);if(","===a)break;if(i.nsp+=a,n===e.length)break}else i.nsp="/";var c=e.charAt(n+1);if(""!==c&&Number(c)==c){for(i.id="";++n;){var a=e.charAt(n);if(null==a||Number(a)!=a){--n;break}if(i.id+=e.charAt(n),n===e.length)break}i.id=Number(i.id)}if(e.charAt(++n)){var l=function tryParse(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(n)),u=!1!==l&&(i.type===t.ERROR||s(l));if(!u)return error("invalid payload");i.data=l}return r("decoded %s as %j",e,i),i}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new BinaryReconstructor(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!a(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},Decoder.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},BinaryReconstructor.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},BinaryReconstructor.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){(function(t){var r=n(862);e.exports=function(e){var n=e.xdomain,i=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||r))return new XMLHttpRequest}catch(s){}try{if("undefined"!=typeof XDomainRequest&&!i&&o)return new XDomainRequest}catch(s){}if(!n)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(s){}}}).call(this,n(8))},function(e,t,n){var r=n(114),i=n(113);function Transport(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=Transport,i(Transport.prototype),Transport.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},Transport.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},Transport.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},Transport.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},Transport.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},Transport.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},Transport.prototype.onPacket=function(e){this.emit("packet",e)},Transport.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){var r=n(444);e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(601),o=n(341);t.lightTheme=new class LightTheme{constructor(){this.name="light",this.tint=i.Palette.blue,this.tintDark="#0088EE",this.componentTint="#85F",this.toolbarBackground="#FFF",this.toolbarIconIndicator="#09F",this.tabContentBackground="#FBFBFB",this.tabContentBackgroundHover="#f7f7f7",this.tabContentAccessoryBackground="#FDFDFD",this.tabContentDivider=i.Palette.cloud,this.toolSectionHeaderText=i.Palette.oil,this.toolText="#888",this.toolTextActive=this.tint,this.toolAccelerator="#BBB",this.scrollerThumbBackground="rgba(0, 0, 0, 0.25)",this.canvasBackground="#EEE",this.rulerBackground="#FFF",this.rulerBorderColor="#DDD",this.rulerTextColor="#BBB",this.guideColor="#00E4F5",this.guideHighlightColor="#0099FF",this.panelEmptyHeader="#000",this.panelEmptyText="#999",this.layerPanelRowOdd="rgba(251, 251, 251, 1.00)",this.layerPanelRowEven="rgba(253, 253, 253, 1.00)",this.layerPanelAccent=i.Palette.blue,this.layerPanelText="black",this.layerPanelDimmedText=r.ConvertColor.multiplyAlpha(r.Color.toRgbString(r.Color(this.layerPanelText)),.5),this.layerPanelSelection=i.Palette.blue,this.layerPanelSelectionText="#FFF",this.layerPanelSelectionDimmedText=r.ConvertColor.multiplyAlpha(r.Color.toRgbString(r.Color(this.layerPanelSelectionText)),.5),this.layerPanelFieldPlaceholderText="#999",this.layerPanelMasterOrReplica="#85F",this.layerPanelComponentLabel="#AAA",this.layerPanelComponentLabelSelected="rgba(255,255,255,.5)",this.propertyPanelHeaderBackground="#FDFDFD",this.propertyPanelBackground=this.tabContentBackground,this.propertyPanelBackgroundDivider="#DDD",this.propertyPanelInputBorder="#EEE",this.propertyPanelTitle=i.Palette.oil,this.propertyPanelLabel=i.Palette.ash,this.propertyPanelLabelInactive=i.Palette.silver,this.propertyPanelDivider=this.propertyPanelInputBorder,this.propertyPanelInputBackground="#FFF",this.propertyPanelInputBorderInactive=this.propertyPanelInputBorder,this.propertyPanelInputBorderOverlay="rgba(0, 0, 0, 0.07)",this.propertyPanelInputText="#000",this.propertyPanelInputTextInactive="#BBB",this.propertyPanelInputLabel="#BBBBBB",this.propertyPanelInputLabelInactive="#DDD",this.propertyPanelButtonBorderPrimary="rgba(0,0,0,.1)",this.propertyPanelButtonBackground=this.propertyPanelInputBackground,this.propertyPanelButtonBackgroundInactive="#FDFDFD",this.propertyPanelButtonBackgroundPrimary=this.tint,this.propertyPanelButtonBackgroundPressed="#fafafa",this.propertyPanelButtonText=this.propertyPanelInputText,this.propertyPanelButtonTextInactive="#CCC",this.propertyPanelButtonTextPrimary="#FFF",this.propertyPanelHeaderBorder=this.propertyPanelInputBorder,this.propertyPanelSegmentDivider=this.propertyPanelInputBorder,this.pinsFrameBorder=this.propertyPanelInputBorder,this.colorTokenLabel="rgb(0, 0, 0, 0.3)",this.colorTokenRowBackgroundActive="#FBFBFB",this.colorTokenPlaceholderPreviewBackground="rgba(0, 0, 0, 0.02)",this.colorTokenPlaceholderPreviewBorder="rgba(33, 33, 33, 0.1)",this.colorSwatchBorder="rgba(0,0,0,0.1)",this.colorTokenSwatchBorder="rgba(0,0,0,0.1)",this.constraintsReferenceFrame="#DDD",this.codeExportPanelCSSText=o.lightSyntaxColors.gray,this.codeExportPanelCSSProp=o.lightSyntaxColors.lightBlue,this.codeExportPanelCSSValueNumber=o.lightSyntaxColors.orange,this.codeExportPanelCSSValueString=o.lightSyntaxColors.purple,this.sectionHeaderText=this.propertyPanelTitle,this.sectionHeaderPopUp="#aaa",this.searchPlaceholder="#bbb",this.searchPlaceholderFocused="#ddd",this.focusRing="#0099ff",this.sliderKnobFill="white",this.sliderKnobShadow="0 1px 0 1px rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(0, 0, 0, 0.1)",this.sliderTrack="#ddd",this.sliderTrackHighlight="#0099ff",this.sliderTrackInactive="#eee",this.checkboxBackground="white",this.checkboxBackgroundPressed="#f8f8f8",this.checkboxBackgroundChecked="#44bbff",this.checkboxBorder="#ddd",this.checkboxBorderChecked="#0099ff",this.checkboxBorderInnerChecked="#0099ff",this.checkboxBackgroundCheckedPressed=this.checkboxBorderChecked,this.checkboxIndicator="white",this.popoverBackground="white",this.popoverShadow="0 5px 10px rgba(0,0,0,.25), 0 0 0 1px rgba(0,0,0,.05)",this.popoverArrowBorder="1px solid rgba(0,0,0,.1)",this.popoverArrowBorderFlipped="1px solid rgba(0,0,0,.25)",this.layerCreatePreview=i.Palette.aluminum,this.frameTitle="#BBB",this.frameOutline=i.Palette.silver,this.framePreview="rgba(0,0,0,.03)",this.framePreviewOutline="rgba(0,0,0,0.1)",this.selectionBox="rgba(125,125,125,.03)",this.selectionBoxOutline="rgba(125,125,125,0.3)",this.selectionBoxBackground="rgba(0, 153, 255, 0.2)",this.selectionBoxComponentBackground="rgba(136, 85, 255,0.2)",this.resizeBox=i.Palette.blue,this.resizeHandle=i.Palette.white,this.resizeHandleOutline=i.Palette.blue,this.snapLine=i.Palette.magenta,this.snapConstraint="#FFD700",this.parentHighlight=i.Palette.blue,this.shapeContainerOutline=i.Palette.silver,this.segmentAnchor=i.Palette.white,this.segmentAnchorOutline=i.Palette.blue,this.pathCurvePreview=i.Palette.blue,this.navigationConnectionLine="rgba(135, 135, 135, 0.5)",this.textEditorOutline=i.Palette.silver,this.packageTitle="#333",this.packageTitleBackground="#FDFDFD",this.packageTitleBorder=this.propertyPanelInputBorder,this.packageTitleArrow="#CCC",this.packageIconBorder="rgba(0,0,0,.08)",this.packageIconBackground="transparent",this.packageTitleNewBadgeBackground="transparent",this.packageTitleNewBadgeBorder="hsla(204, 100%, 50%, 0.2)",this.packageTitleNewBadgeLabel="#09F",this.componentItemBackground="#F2F2F2",this.componentItemBorder=this.propertyPanelInputBorder,this.componentItemLabel="#888",this.componentCategoryLabel="#333",this.componentsEmptyHeader=i.Palette.black,this.componentsEmptyText="#999",this.componentsEmptyInactive=i.Palette.cloud,this.componentsEmptyActive=i.Palette.blue,this.error=i.Palette.red,this.errorText="white",this.statusBarBackground="#FDFDFD",this.statusBarBorder=i.Palette.cloud,this.statusBarText="#999",this.statusBarActiveText="#4197F7",this.statusBarUpdateItemActive="#4197F7",this.statusBarErrorItemActive="#FF0100",this.statusBarItemInactive="#777",this.webFrameBackground=this.tabContentBackground,this.webFrameTitle="rgb(17, 17, 17)",this.webFrameMessage="rgb(153, 153, 153)",this.tooltipBackground="rgba(0,0,0,0.6)",this.tooltipCaretBackground="rgba(0,0,0,0.61)",this.tooltipColor="white",this.feedbackSidebarBackground="#FBFBFB",this.feedbackSidebarDivider="#DDD",this.feedbackTabBarBackground="#FDFDFD",this.feedbackTabBarBorderBottom="#EEE",this.feedbackTabBarMenuSelected="#222",this.feedbackTabBarMenuDefault="#DDD",this.feedbackTabBarButtonBackground="#FFF",this.feedbackTabBarButtonBorder="#EEE",this.feedbackTabBarButtonText="#000",this.feedbackTabBarThreadTitle="#000",this.feedbackPrimaryText="#222",this.feedbackSecondaryText="#787878",this.feedbackItemHover="#F7F7F7",this.feedbackEllipsisColor="#000",this.feedbackFormBackground="#FFF",this.feedbackFormPlaceholder="#BBB",this.feedbackFormButton="#787878",this.feedbackFormDivider="#EEE",this.feedbackFormBorder="#EEE",this.feedbackFormInputBackground="rgba(0, 0, 0, 0.8)"}}},function(e,t,n){"use strict";function numberFromString(e){const t=e.match(/\d?\.?\d+/);return t?Number(t[0]):void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=function clamp(e,t,n){const r=Math.min(t,n),i=Math.max(t,n);return e<r&&(e=r),e>i&&(e=i),e},t.modulate=function modulate(e,t,n,r=!1){const[i,o]=t,[s,a]=n,c=s+(e-i)/(o-i)*(a-s);if(!0===r)if(s<a){if(c<s)return s;if(c>a)return a}else{if(c>s)return s;if(c<a)return a}return c},t.isNumeric=function isNumeric(e){return!isNaN(e)&&isFinite(e)},t.percentToFraction=function percentToFraction(e){const t=numberFromString(e);return void 0!==t?~e.indexOf("%")?t/100:t:0},t.numberFromString=numberFromString},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(454),i=n(263),o=n(96),s=n(265);function hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function bound01(e,t){let n,r;if(n="string"==typeof t?parseFloat(t):t,"string"==typeof e){(function isOnePointZero(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");const t=function isPercentage(e){return"string"==typeof e&&-1!==e.indexOf("%")}(e);r=Math.min(n,Math.max(0,parseFloat(e))),t&&(r=Math.floor(r*n)/100)}else r=e;return Math.abs(r-n)<1e-6?1:r%n/n}function pad2(e){return 1===e.length?"0"+e:""+e}t.rgbToHsluv=function rgbToHsluv(e,t,n){const[i,o,s]=r.rgbToHsluv([e/255,t/255,n/255]);return{h:i,s:o,l:s}},t.rgbaFromHusl=function rgbaFromHusl(e,t,n,i=1){const o=r.hsluvToRgb([e,t,n]);return{r:255*o[0],g:255*o[1],b:255*o[2],a:i}},t.hsvToStr=function hsvToStr(e,t,n,r){const i=Math.round(e),o=Math.round(100*t),s=Math.round(100*n);return void 0===r||1===r?"hsv("+i+", "+o+"%, "+s+"%)":"hsva("+i+", "+o+"%, "+s+"%, "+r+")"},t.rgbToRgb=function rgbToRgb(e,t,n){return{r:i.isNumeric(e)?255*bound01(e,255):0,g:i.isNumeric(t)?255*bound01(t,255):0,b:i.isNumeric(n)?255*bound01(n,255):0}},t.rgbToHex=function rgbToHex(e,t,n,r){const i=[pad2(Math.round(e).toString(16)),pad2(Math.round(t).toString(16)),pad2(Math.round(n).toString(16))];return r&&i[0].charAt(0)===i[0].charAt(1)&&i[1].charAt(0)===i[1].charAt(1)&&i[2].charAt(0)===i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")},t.rgbToHsl=function rgbToHsl(e,t,n){let r,i;const o=bound01(e,255),s=bound01(t,255),a=bound01(n,255),c=Math.max(o,s,a),l=Math.min(o,s,a);let u=i=r=(c+l)/2;if(c===l)u=i=0;else{const e=c-l;switch(i=r>.5?e/(2-c-l):e/(c+l),c){case o:u=(s-a)/e+(s<a?6:0);break;case s:u=(a-o)/e+2;break;case a:u=(o-s)/e+4}u/=6}return{h:360*u,s:i,l:r}},t.hslToRgb=function hslToRgb(e,t,n){let r,i,o;if(e=bound01(e,360),t=bound01(100*t,100),n=bound01(100*n,100),0===t)r=i=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,a=2*n-s;r=hue2rgb(a,s,e+1/3),i=hue2rgb(a,s,e),o=hue2rgb(a,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}},t.rgbToHsv=function rgbToHsv(e,t,n){e=bound01(e,255),t=bound01(t,255),n=bound01(n,255);const r=Math.max(e,t,n),i=Math.min(e,t,n),o=r-i;let s;const a=0===r?0:o/r,c=r;if(r===i)s=0;else{switch(r){case e:s=(t-n)/o+(t<n?6:0);break;case t:s=(n-e)/o+2;break;case n:s=(e-t)/o+4}s/=6}return{h:s,s:a,v:c}},t.hsvToRgb=function hsvToRgb(e,t,n){e=6*bound01(e,360),t=bound01(100*t,100),n=bound01(100*n,100);const r=Math.floor(e),i=e-r,o=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),c=r%6;return{r:255*[n,s,o,o,a,n][c],g:255*[a,n,n,s,o,o][c],b:255*[o,o,a,n,n,s][c]}};const a=function(){const e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function parseIntFromHex(e){return parseInt(e,16)}function convertHexToDecimal(e){return parseIntFromHex(e)/255}t.stringToObject=function stringToObject(e){if(-1!==e.indexOf("gradient("))return!1;if(-1!==e.indexOf("var("))return!1;let t,n=e.replace(/^[\s,#]+/,"").replace(/\s+$/,"").toLowerCase(),r=!1;return s.cssNames[n]&&(n=s.cssNames[n],r=!0),"transparent"===n?{r:0,g:0,b:0,a:0,format:o.ColorFormat.NAME}:(t=a.rgb.exec(n))?{r:parseInt(t[1]),g:parseInt(t[2]),b:parseInt(t[3]),a:1,format:o.ColorFormat.RGB}:(t=a.rgba.exec(n))?{r:parseInt(t[1]),g:parseInt(t[2]),b:parseInt(t[3]),a:parseFloat(t[4]),format:o.ColorFormat.RGB}:(t=a.hsl.exec(n))?{h:parseInt(t[1]),s:i.percentToFraction(t[2]),l:i.percentToFraction(t[3]),a:1,format:o.ColorFormat.HSL}:(t=a.hsla.exec(n))?{h:parseInt(t[1]),s:i.percentToFraction(t[2]),l:i.percentToFraction(t[3]),a:parseFloat(t[4]),format:o.ColorFormat.HSL}:(t=a.hsv.exec(n))?{h:parseInt(t[1]),s:i.percentToFraction(t[2]),v:i.percentToFraction(t[3]),a:1,format:o.ColorFormat.HSV}:(t=a.hsva.exec(n))?{h:parseInt(t[1]),s:i.percentToFraction(t[2]),v:i.percentToFraction(t[3]),a:parseFloat(t[4]),format:o.ColorFormat.HSV}:(t=a.hex8.exec(n))?{r:parseIntFromHex(t[1]),g:parseIntFromHex(t[2]),b:parseIntFromHex(t[3]),a:convertHexToDecimal(t[4]),format:r?o.ColorFormat.NAME:o.ColorFormat.HEX}:(t=a.hex6.exec(n))?{r:parseIntFromHex(t[1]),g:parseIntFromHex(t[2]),b:parseIntFromHex(t[3]),a:1,format:r?o.ColorFormat.NAME:o.ColorFormat.HEX}:(t=a.hex4.exec(n))?{r:parseIntFromHex(`${t[1]}${t[1]}`),g:parseIntFromHex(`${t[2]}${t[2]}`),b:parseIntFromHex(`${t[3]}${t[3]}`),a:convertHexToDecimal(t[4]+""+t[4]),format:r?o.ColorFormat.NAME:o.ColorFormat.HEX}:!!(t=a.hex3.exec(n))&&{r:parseIntFromHex(`${t[1]}${t[1]}`),g:parseIntFromHex(`${t[2]}${t[2]}`),b:parseIntFromHex(`${t[3]}${t[3]}`),a:1,format:r?o.ColorFormat.NAME:o.ColorFormat.HEX}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cssNames={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=["color","x","y","blur"];!function(e){e.is=function is(e){return e&&r.every(t=>t in e)}}(t.Shadow||(t.Shadow={}));const i=["inset","color","x","y","blur","spread"];!function(e){e.is=function is(e){return e&&i.every(t=>t in e)},e.toCSS=function toCSS(e){return`${e.inset?"inset ":""}${e.x}px ${e.y}px ${e.blur}px ${e.spread}px ${e.color}`}}(t.BoxShadow||(t.BoxShadow={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=/var\(([^\),]+)/;t.CustomPropertiesContext=r.createContext(()=>null);t.CustomProperties=class CustomProperties extends r.PureComponent{constructor(){super(...arguments),this.lookup=e=>{const t=i.exec(e),n=t?t[1].trim():"";return this.props.customProperties[n]||null}}render(){const{children:e,customProperties:n}=this.props;return r.createElement(t.CustomPropertiesContext.Provider,{value:this.lookup},r.createElement("div",{style:n},e))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15);t.getConfigFromPreviewURL=function getConfigFromPreviewURL(e=r.safeWindow.location.href){if(!e)throw new Error(`getConfigFromURL() called without url argument (location.href = "${r.safeWindow.location.href}")`);const t=new URL(e).searchParams;return{imageBaseURL:t.get("imageBaseURL")||"",projectURL:t.get("projectURL")||"",showConsole:"1"===t.get("console")}},t.getConfigFromVekterURL=function getConfigFromVekterURL(e=r.safeWindow.location.href){if(!e)throw new Error(`getConfigFromURL() called without url argument (location.href = "${r.safeWindow.location.href}")`);const t=decodeURIComponent(new URL(e).hash.slice(1)),[n,i,o]=t.split("#&#");return{documentURL:n,imageBaseURL:i,projectURL:o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(268),i=n(15);function calculateServerURL(e=i.safeWindow.location.href){const t=parseURL(e);if(!t)return"http://localhost:4567";const{projectURL:n,documentURL:o=""}=r.getConfigFromVekterURL(e),s=parseURL(n);if(s)return s.origin;if(o.startsWith("http:")){const e=parseURL(o);if(e)return e.origin}const a=parseURL(r.getConfigFromPreviewURL(e).projectURL);if(a)return a.origin;if(new Set(["file:","http:","https:"]).has(t.protocol)){const e=parseURL("./",t.href);if(e)return e.href.replace(/\/$/,"")}return console.warn("Unable to figure out server base address, using fallback:",""),""}function parseURL(e,t){try{return void 0===t?new URL(e):new URL(e,t)}catch(n){return null}}t.calculateServerURL=calculateServerURL;let o=null;t.serverURL=function serverURL(...e){const t=function joinPaths(e){let t="";for(const n of e)n&&(t.length>0&&!t.endsWith("/")&&(t+="/"),Array.isArray(n)?t+=joinPaths(n):t+=encodeURIComponent(n).replace(/%2F/g,"/"));return t}(e),n=/^(\w+)%3A(.*)$/.exec(t);if(n)return n[1]+":"+n[2];let r=function cachedServerURL(){return o||(o=calculateServerURL()),o}();return""===r&&(r="."),t.startsWith("/")?r+t:r+"/"+t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memoize=function memoize(e,t,n,r){const i=t.get(n);if(i)return i;!function manageCache(e,t){if(e.size<t)return;let n=Math.round(Math.random());for(const r of e.keys())1!=(1&++n)&&e.delete(r)}(t,e);const o=r(n);return t.set(n,o),o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new Map;class InternalID{constructor(e){this.id=e,this._link=null,this._urllink=null}add(e){return InternalID.forKey(this.id+e)}toString(){return this.id}get link(){const e=this._link;return e||(this._link="#"+this.id)}get urlLink(){const e=this._urllink;return e||(this._urllink="url(#"+this.id+")")}static forKey(e){let t=r.get(e);return t||(t=new InternalID("a"+(1e3+r.size)+"z"),r.set(e,t),t)}}t.InternalID=InternalID},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(195),i=n(274),o=n(275),s=["angle","alpha"];!function(e){e.isLinearGradient=function isLinearGradient(e){return e&&s.every(t=>t in e)&&(i.isSimpleGradient(e)||o.isMultiStopGradient(e))},e.hash=function hash(e){return e.angle^r.gradientColorStopsHash(e,e.alpha)},e.toCSS=function toCSS(e,t){const n=r.gradientColorStops(e,e.alpha);return`linear-gradient(${void 0!==t?t:e.angle}deg, ${n.map(e=>`${e.value} ${100*e.position}%`).join(", ")})`}}(t.LinearGradient||(t.LinearGradient={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hash=e=>{let t,n,r=0;if(0===e.length)return r;for(t=0;t<e.length;t++)r=(r<<5)-r+(n=e.charCodeAt(t)),r|=0;return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=["start","end"];t.isSimpleGradient=function isSimpleGradient(e){return e&&r.every(t=>t in e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=["stops"];t.isMultiStopGradient=function isMultiStopGradient(e){return e&&r.every(t=>t in e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(195),i=n(274),o=n(275),s=["widthFactor","heightFactor","centerAnchorX","centerAnchorY","alpha"];!function(e){e.isRadialGradient=function isRadialGradient(e){return e&&s.every(t=>t in e)&&(i.isSimpleGradient(e)||o.isMultiStopGradient(e))},e.hash=function hash(e){return e.centerAnchorX^e.centerAnchorY^e.widthFactor^e.heightFactor^r.gradientColorStopsHash(e,e.alpha)},e.toCSS=function toCSS(e){const{alpha:t,widthFactor:n,heightFactor:i,centerAnchorX:o,centerAnchorY:s}=e;return`radial-gradient(${100*n}% ${100*i}% at ${100*o}% ${100*s}%, ${r.gradientColorStops(e,t).map(e=>`${e.value} ${100*e.position}%`).join(", ")})`}}(t.RadialGradient||(t.RadialGradient={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(24),i=n(1),o="radius";function getRadiusValue(e){let t=Number(e);return"string"==typeof e&&isNaN(t)?e:(r.isAnimatable(e)&&(t=r.Animatable.getNumber(e)),t?`${t}px`:"0")}function hasRadiusValue(e){return e&&"0"!==e}t.collectRadiusFromProps=function collectRadiusFromProps(e,t){if(!function hasRadius(e){return o in e}(e))return;const{radius:n}=e;if("string"==typeof n||r.isAnimatable(n)||i.isFiniteNumber(n)){const e=getRadiusValue(n);hasRadiusValue(e)&&(t.borderRadius=e)}else if(n){const e=getRadiusValue(n.topLeft),r=getRadiusValue(n.topRight),i=getRadiusValue(n.bottomRight),o=getRadiusValue(n.bottomLeft);(hasRadiusValue(e)||hasRadiusValue(r)||hasRadiusValue(i)||hasRadiusValue(o))&&(t.borderRadius=`${e} ${r} ${i} ${o}`)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.collectBlendingFromProps=function collectBlendingFromProps(e,t){e.blendingMode&&"normal"!==e.blendingMode&&(t.mixBlendMode=e.blendingMode)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(198),i=n(277),o=n(278),s=n(460),a=n(199),c=n(1),l=n(116),u=n(461);t.collectVisualStyleFromProps=function collectVisualStyleFromProps(e,t){r.collectBackgroundFromProps(e,t),i.collectRadiusFromProps(e,t),c.collectFiltersFromProps(e,t),o.collectBlendingFromProps(e,t),s.collectOverflowFromProps(e,t),a.collectOpacityFromProps(e,t),u.collectTextColorFromProps(e,t),l.collectBoxShadowsForProps(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(81),i=n(196);t.imagePatternPropsForFill=function imagePatternPropsForFill(e,t,n){if(e=i.Animatable.get(e,"#09F"),!r.BackgroundImage.isImageObject(e))return;if(!e.pixelWidth||!e.pixelHeight)return;const o=e.pixelWidth,s=e.pixelHeight;let a;const{fit:c}=e;if("fill"===c||"fit"===c||!c){let e=1,n=1,r=0,i=0;const l=o/s,u=t.height*l,h=t.width/l,d=u/t.width,p=h/t.height;("fill"!==c&&c?p<d:p>d)?(n=p,i=(1-p)/2):(e=d,r=(1-d)/2),a=`translate(${r}, ${i}) scale(${e}, ${n})`}return{id:`id${n}g-fillImage`,path:e.src,transform:a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localPackageFallbackIdentifier="|local|"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(472),i=n(1);class PathSegment extends r.PathSegmentRecord{toJS(){const e=super.toJS();return e.__class=this.constructor.name,e}toJSON(){return this.toJS()}}t.PathSegment=PathSegment,function(e){e.point=e=>({x:e.x,y:e.y}),e.handleOut=e=>({x:e.handleOutX,y:e.handleOutY}),e.handleIn=e=>({x:e.handleInX,y:e.handleInY}),e.calculatedHandleOut=t=>{switch(t.handleMirroring){case"symmetric":case"disconnected":case"asymmetric":return i.Point.add(e.point(t),e.handleOut(t));default:return{x:t.x,y:t.y}}},e.calculatedHandleIn=t=>{switch(t.handleMirroring){case"symmetric":return i.Point.subtract(e.point(t),e.handleOut(t));case"disconnected":case"asymmetric":return i.Point.add(e.point(t),e.handleIn(t));default:return e.point(t)}},e.curveDefault=(t,n)=>{if(t.length>2){let r,o;r=0===n?t[t.length-1]:t[n-1],o=n===t.length-1?t[0]:t[n+1];const s=i.Point.subtract(e.point(o),e.point(r));return{x:s.x/4,y:s.y/4}}return{x:10,y:10}}}(PathSegment=t.PathSegment||(t.PathSegment={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(68),o=n(3),s=n(282),a="pathSegments";function isStraightCurve(e,t){const n="straight"===e.handleMirroring||0===e.handleOutX&&0===e.handleOutY,r="straight"===t.handleMirroring||0===t.handleInX&&0===t.handleInY;return n&&r}t.withPath=function withPath(e){return a in e},t.pathDefaults={pathSegments:o.List([]),pathClosed:!1},t.toSVGPath=function toSVGPath(e,t={x:0,y:0},n=r.RenderTarget.canvas){let a=[],c=[];return(c=Array.isArray(e)?e:[e]).forEach((e,n)=>{const{pathClosed:r}=e;let{pathSegments:i}=e;const c=(i=o.List(i)).count();if(0===c)return"";for(let o=0;o<c;o++){const e=i.get(o);let n,l;const u=0===o,h=o===c-1;if(h?r&&(n=i.first()):n=i.get(o+1),u?r&&(l=i.last()):l=i.get(o-1),0===o?a.push("M"):l&&isStraightCurve(l,e)&&a.push("L"),a.push(e.x+t.x,e.y+t.y),n&&!isStraightCurve(e,n)){const r=s.PathSegment.calculatedHandleOut(e),i=s.PathSegment.calculatedHandleIn(n);a.push("C",r.x+t.x,r.y+t.y,i.x+t.x,i.y+t.y)}h&&n&&(isStraightCurve(e,n)?a.push("Z"):a.push(n.x+t.x,n.y+t.y,"Z"))}}),n!==r.RenderTarget.export&&n!==r.RenderTarget.preview||(a=a.map(e=>i.isFiniteNumber(e)?r.roundedNumberString(e,3):e)),a.join(" ")},t.isStraightCurve=isStraightCurve},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15);t.pointForEvent=function pointForEvent(e,t=null){let n;if(t instanceof HTMLElement&&(n=t),!n&&e.target instanceof HTMLElement&&(n=e.target),!n)return{x:e.pageX,y:e.pageY};if(r.safeWindow.webkitConvertPointFromPageToNode){let t=new WebKitPoint(e.pageX,e.pageY);return{x:(t=r.safeWindow.webkitConvertPointFromPageToNode(n,t)).x,y:t.y}}const i=n.getBoundingClientRect(),o=parseFloat(n.style.width||"0")/i.width,s=parseFloat(n.style.height||"0")/i.height;return{x:o*(e.pageX-i.left-n.clientLeft+n.scrollLeft),y:s*(e.pageY-i.top-n.clientTop+n.scrollTop)}}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function Events(){}function EE(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function addListener(e,t,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new EE(n,r||e,o),a=i?i+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],s]:e._events[a].push(s):(e._events[a]=s,e._eventsCount++),e}function clearEvent(e,t){0==--e._eventsCount?e._events=new Events:delete e._events[t]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(i=!1)),EventEmitter.prototype.eventNames=function eventNames(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},EventEmitter.prototype.listeners=function listeners(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,s=new Array(o);r<o;r++)s[r]=n[r].fn;return s},EventEmitter.prototype.listenerCount=function listenerCount(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},EventEmitter.prototype.emit=function emit(e,t,n,r,o,s){var a=i?i+e:e;if(!this._events[a])return!1;var c,l,u=this._events[a],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,o),!0;case 6:return u.fn.call(u.context,t,n,r,o,s),!0}for(l=1,c=new Array(h-1);l<h;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var d,p=u.length;for(l=0;l<p;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),h){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,r);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];u[l].fn.apply(u[l].context,c)}}return!0},EventEmitter.prototype.on=function on(e,t,n){return addListener(this,e,t,n,!1)},EventEmitter.prototype.once=function once(e,t,n){return addListener(this,e,t,n,!0)},EventEmitter.prototype.removeListener=function removeListener(e,t,n,r){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return clearEvent(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||r&&!s.once||n&&s.context!==n||clearEvent(this,o);else{for(var a=0,c=[],l=s.length;a<l;a++)(s[a].fn!==t||r&&!s[a].once||n&&s[a].context!==n)&&c.push(s[a]);c.length?this._events[o]=1===c.length?c[0]:c:clearEvent(this,o)}return this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(e){var t;return e?(t=i?i+e:e,this._events[t]&&clearEvent(this,t)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=i,EventEmitter.EventEmitter=EventEmitter,e.exports=EventEmitter},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(284);t.events=r;const i=n(201);t.math=i;const o=n(273);t.string=o;const s=n(202);t.environment=s},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(1),s=n(201),a=n(288),c=n(24),l=n(296);t.DraggingContext=i.createContext({dragging:!1});const u=n(121);t.WithDragging=function WithDragging(e){var n;const h=((n=class WithDraggingHOC extends i.Component{constructor(e,t){super(e,t),this.state={isDragging:!1},this.x=c.Animatable(0),this.y=c.Animatable(0),this.onChangePosition=(e,t)=>{e.value!==e.oldValue&&this.props.onMove&&this.props.onMove(this.point,this)},this.isMoving=!1,this.isAnimating=!1,this.directionLockAxis=null,this._constraints=null,this.panStart=e=>{this.props.enabled&&(this.isMoving=this.isAnimating,this.stopAnimation(),this.resetdirectionLock(),this.layerStartPoint=this.point,this.correctedLayerStartPoint=this.point,this._constraints&&this.props.bounce&&(this.correctedLayerStartPoint=this.constrainPosition(this.correctedLayerStartPoint,this._constraints,1/this.props.overdragScale)),this.previousPoint=this.correctedLayerStartPoint,this.state.isDragging||this.setState({isDragging:!0}),this.props.onDragSessionStart&&this.props.onDragSessionStart(e,this))},this.pan=e=>{const{enabled:t,speedX:n,speedY:r,directionLock:i,overdragScale:o,vertical:s,horizontal:a,pixelAlign:c,onDragStart:l,onDragWillMove:u,onDragDidMove:h,onDragSessionMove:d}=this.props;if(!t)return;let p=Object.assign({},this.previousPoint);if(p.x+=e.delta.x*n,p.y+=e.delta.y*r,this.previousPoint=Object.assign({},p),this._constraints&&(p=this.constrainPosition(p,this._constraints,o)),i){if(null===this.directionLockAxis){const t=e.offset;return t.x=t.x*n,t.y=t.y*r,void this.updatedirectionLock(t)}"y"===this.directionLockAxis&&(p.x=this.layerStartPoint.x),"x"===this.directionLockAxis&&(p.y=this.layerStartPoint.y)}if(this.state.isDragging||(this.setState({isDragging:!0}),this.isMoving=!0,l&&l(e,this)),u&&u(e,this),c&&(p.x=Math.round(p.x),p.y=Math.round(p.y)),!a&&!s)return;let f=null;a&&!s?f="x":s&&!a&&(f="y"),this.setPoint(p,f),h&&h(e,this),d&&d(e,this)},this.panEnd=e=>{if(!this.props.enabled)return;this.startAnimation(e);const{onDragSessionEnd:t,onDragEnd:n}=this.props;this.state.isDragging&&n&&n(e,this),t&&t(e,this),this.state.isDragging&&this.setState({isDragging:!1}),this.isMoving=this.isAnimating},this.mouseWheelStart=e=>{this.correctedLayerStartPoint=this.point,this.previousPoint=this.correctedLayerStartPoint,this.stopAnimation()},this.mouseWheel=e=>{const{enabled:t,speedX:n,speedY:r,vertical:i,horizontal:o,pixelAlign:s,onDragWillMove:a,onDragDidMove:c,mouseWheel:l}=this.props;if(!l||!t)return;let u=Object.assign({},this.point);if(u.x-=e.delta.x*n,u.y-=e.delta.y*r,this._constraints&&(u=this.constrainPosition(u,this._constraints,0,!1)),a&&a(e,this),s&&(u.x=Math.round(u.x),u.y=Math.round(u.y)),!o&&!i)return;let h=null;o&&!i?h="x":i&&!o&&(h="y"),this.setPoint(u,h),c&&c(e,this)},this.mouseWheelEnd=e=>{},this.onAnimationStep=(e,t)=>{if("x"===e&&!1===this.props.horizontal)return;if("y"===e&&!1===this.props.vertical)return;let n=0;if(this.constraints)if(this.props.bounce)n=t-this.getValue(e);else{const{minX:r,minY:i,maxX:o,maxY:a}=this.calculateConstraints(this._constraints);"x"===e&&(n=s.clamp(t,r,o)-this.getValue(e)),"y"===e&&(n=s.clamp(t,i,a)-this.getValue(e))}else n=t-this.getValue(e);const r=this.point;"x"===e&&(r[e]=r[e]+n),"y"===e&&(r[e]=r[e]+n),this.setPoint(r,e)},this.onAnimationStop=e=>{if(("x"!==e||!1!==this.props.horizontal)&&("y"!==e||!1!==this.props.vertical)&&this.animation){if(this.props.pixelAlign){const t=this.point;t.x=Math.round(t.x),t.y=Math.round(t.y),this.setPoint(t,e)}return this.animation.x.isFinished()&&this.animation.y.isFinished()?this.stopAnimation():void 0}},this.stopAnimation=()=>{this.isAnimating=!1,this.isMoving=!1,this.animation&&(this.animation.x.cancel(),this.animation.y.cancel(),this.props.onDragAnimationEnd&&this.props.onDragAnimationEnd(this.animation,this),this.animation=null)};const n=this.props.left,r=this.props.top;n?c.isAnimatable(n)?this.x=n:this.x=c.Animatable(n):this.x=c.Animatable(0),r?c.isAnimatable(r)?this.y=r:this.y=c.Animatable(r):this.y=c.Animatable(0),this.x.onUpdate(this.onChangePosition),this.y.onUpdate(this.onChangePosition);const i=this.props.constraints;i&&(this.constraints=i)}componentWillReceiveProps(e){this.props.left!==e.left&&o.isFiniteNumber(e.left)&&this.x.set(e.left),this.props.top!==e.top&&o.isFiniteNumber(e.top)&&this.y.set(e.top);const t=e.constraints;t&&(this.constraints=t)}get point(){return{x:this.x.get(),y:this.y.get()}}setPoint(e,t=null){switch(t){case"x":this.x.set(e.x);break;case"y":this.y.set(e.y);break;case null:this.x.set(e.x),this.y.set(e.y)}}getValue(e){switch(e){case"x":return this.x.get();case"y":return this.y.get()}}get width(){const e=this.props.width;return e?c.isAnimatable(e)?e.get():"string"==typeof e?parseFloat(e):e:100}get height(){const e=this.props.height;return e?c.isAnimatable(e)?e.get():"string"==typeof e?parseFloat(e):e:100}get constraints(){return this._constraints}set constraints(e){this._constraints=null!==e&&"object"==typeof e?{x:e.x||0,y:e.y||0,width:e.width||0,height:e.height||0}:null,this._constraints&&this.updateAnimationConstraints(this._constraints)}get constraintsOffset(){if(!this.constraints)return{x:0,y:0};const{minX:e,minY:t,maxX:n,maxY:r}=this.calculateConstraints(this._constraints),i=this.point,o=s.clamp(i.x,e,n),a=s.clamp(i.y,t,r);return{x:i.x-o,y:i.y-a}}get isBeyondConstraints(){let e;return 0!==(e=this.constraintsOffset).x||0!==e.y}clampAndScale(e,t,n,r,i){return i?(e<t&&(e=t+(e-t)*r),e>n&&(e=n+(e-n)*r),e):s.clamp(e,t,n)}calculateConstraints(e){if(!e)return{minX:1/0,maxX:1/0,minY:1/0,maxY:1/0};e.width<this.width&&(e.width=this.width),e.height<this.height&&(e.height=this.height);const t={minX:o.Rect.minX(e),maxX:o.Rect.maxX(e),minY:o.Rect.minY(e),maxY:o.Rect.maxY(e)};return t.maxX-=this.width,t.maxY-=this.height,t}constrainPosition(e,t,n,r=this.props.overdrag){const{maxX:i,maxY:o,minX:s,minY:a}=this.calculateConstraints(this._constraints),c={x:this.clampAndScale(e.x,s,i,n,r),y:this.clampAndScale(e.y,a,o,n,r)};return 0!==this.props.speedX&&!1!==this.props.horizontal||(c.x=e.x),0!==this.props.speedY&&!1!==this.props.vertical||(c.y=e.y),c}updatedirectionLock(e){Math.abs(e.y)>this.props.directionLockThreshold.y?this.directionLockAxis="y":Math.abs(e.x)>this.props.directionLockThreshold.x&&(this.directionLockAxis="x"),null!==this.directionLockAxis&&this.props.onDragDirectionLockStart&&this.props.onDragDirectionLockStart(this.directionLockAxis,this)}resetdirectionLock(){this.directionLockAxis=null}setupAnimation(){this.animation||(this.animation={x:this.setupAnimationForAxis("x"),y:this.setupAnimationForAxis("y")},this.updateAnimationConstraints(this._constraints))}setupAnimationForAxis(e){let t,n;(t={})[e]=!0;const r=new a.InertialScrollAnimator({momentum:this.props.momentumOptions,bounce:this.props.bounceOptions});return n=new l.MainLoopAnimationDriver(r,t=>{this.onAnimationStep(e,t)},()=>{this.onAnimationStop(e)})}updateAnimationConstraints(e){if(this.animation)if(e){const{minX:t,minY:n,maxX:r,maxY:i}=this.calculateConstraints(e);this.animation.x.animator.setLimits(t,r),this.animation.y.animator.setLimits(n,i)}else this.animation.x.animator.setLimits(-1/0,1/0),this.animation.y.animator.setLimits(-1/0,1/0)}startAnimation(e){const{momentum:t,bounce:n,momentumVelocityMultiplier:r,speedX:i,speedY:o,overdrag:s,onDragAnimationStart:a}=this.props;if(!t&&!n)return;if(!1===this.isBeyondConstraints&&!1===t)return;if(!1===this.isBeyondConstraints&&!1===this.state.isDragging)return;const{minX:c,minY:l,maxX:u,maxY:h}=this.calculateConstraints(this._constraints),d=!0===s||this.point.x>c&&this.point.x<u,p=!0===s||this.point.y>l&&this.point.y<h;if(d===p&&!1===p)return;const f=e.velocity(.1);let g=f.x*r*i,m=f.y*r*o;"x"===this.directionLockAxis&&(m=0),"y"===this.directionLockAxis&&(g=0),this.setupAnimation(),this.isAnimating=!0,this.isMoving=!0,this.animation&&(this.animation.x.animator.setState({x:this.point.x,v:g}),d&&this.animation.x.play(),this.animation.y.animator.setState({x:this.point.y,v:m}),p&&this.animation.y.play(),a&&a(this.animation,this))}wrapHandler(e,t){return t?n=>{e(n),t(n)}:e}render(){const n=this.props,{onPanStart:o,onPan:s,onPanEnd:a,onMouseWheelStart:c,onMouseWheel:l,onMouseWheelEnd:u}=n,h=r(n,["onPanStart","onPan","onPanEnd","onMouseWheelStart","onMouseWheel","onMouseWheelEnd"]),d=Object.assign({},h);return Object.keys(WithDraggingHOC.draggingDefaultProps).forEach(e=>{delete d[e]}),d.onPanStart=this.wrapHandler(this.panStart,o),d.onPan=this.wrapHandler(this.pan,s),d.onPanEnd=this.wrapHandler(this.panEnd,a),d.onMouseWheelStart=this.wrapHandler(this.mouseWheelStart,c),d.onMouseWheel=this.wrapHandler(this.mouseWheel,l),d.onMouseWheelEnd=this.wrapHandler(this.mouseWheelEnd,u),d.left=this.x,d.top=this.y,i.createElement(t.DraggingContext.Provider,{value:{dragging:this.state.isDragging}},i.createElement(e,Object.assign({},d)))}}).draggingDefaultProps={momentum:!0,momentumOptions:{friction:2.1,tolerance:1},momentumVelocityMultiplier:800,speedX:1,speedY:1,bounce:!0,bounceOptions:{friction:40,tension:200,tolerance:1},directionLock:!1,directionLockThreshold:{x:10,y:10},overdrag:!0,overdragScale:.5,pixelAlign:!0,velocityTimeout:100,velocityScale:890,horizontal:!0,vertical:!0,enabled:!0,constraints:{},mouseWheel:!1},n.defaultProps=Object.assign({},e.defaultProps,n.draggingDefaultProps),n);return u(h,e),h}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(289),i=n(291),o=n(203);t.Defaults={velocity:0,min:0,max:0,momentum:{friction:2,tolerance:10},bounce:{tension:500,friction:10,tolerance:1}};t.InertialScrollAnimator=class InertialScrollAnimator{constructor(e){this.options=Object.assign(Object.assign({},t.Defaults),e),this.frictionAnimator=new r.FrictionAnimator({friction:this.options.momentum.friction,tolerance:this.options.momentum.tolerance,velocity:this.options.velocity}),this.springAnimator=new i.SpringAnimator({tension:this.options.bounce.tension,friction:this.options.bounce.friction,tolerance:this.options.bounce.tolerance,velocity:this.options.velocity},o.NumberInterpolation),this.useSpring=!1}isReady(){return!0}next(e){return this.current=this.currentAnimator.next(e),this.useSpring||this.tryTransitionToSpring(),this.current}get currentAnimator(){return this.useSpring?this.springAnimator:this.frictionAnimator}isFinished(){return this.currentAnimator.isFinished()}get state(){return this.currentAnimator.getState()}setFrom(e){this.setState({x:e,v:this.state.v})}setState(e){if(this.frictionAnimator.setFrom(e.x),this.frictionAnimator.setVelocity(e.v),this.isValidState())return this.tryTransitionToSpring();{let e=0;return this.state.x<=this.options.min&&(e=this.options.min),this.state.x>=this.options.max&&(e=this.options.max),this.transitionToSpring(e)}}setTo(e){this.frictionAnimator.setTo(e),this.springAnimator.setTo(e)}setLimits(e,t){this.options.min=e,this.options.max=t}tryTransitionToSpring(){const e=this.state.x<this.options.min&&this.state.v<=0,t=this.state.x>this.options.max&&this.state.v>=0;if(e||t){let t;t=e?this.options.min:this.options.max,this.transitionToSpring(t)}else this.useSpring=!1}transitionToSpring(e){this.springAnimator.setFrom(this.state.x),this.springAnimator.setVelocity(this.state.v),this.springAnimator.setTo(e),this.useSpring=!0}isValidState(){const e=this.state.x<this.options.min&&this.state.v>0,t=this.state.x>this.options.max&&this.state.v<0;if(e||t){let t;return t=e?this.options.min:this.options.max,1-this.frictionAnimator.options.friction*(t-this.state.x)/this.state.v>0}return!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(290);t.FrictionAnimator=class FrictionAnimator{constructor(e){this.options={velocity:0,friction:2,tolerance:.1},Object.assign(this.options,e),this.state={x:0,v:this.options.velocity},this.integrator=new r.Integrator(e=>-this.options.friction*e.v)}setFrom(e){this.state.x=e}setTo(e){}setVelocity(e){this.state.v=e}getState(){return this.state}isReady(){return!0}next(e){return this.state=this.integrator.integrateState(this.state,e),this.state.x}isFinished(){return Math.abs(this.state.v)<this.options.tolerance}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Integrator=class Integrator{constructor(e){this.accelerationForState=e}integrateState(e,t){let n,r,i,o,s,a;return n=this.evaluateState(e),r=this.evaluateStateWithDerivative(e,.5*t,n),i=this.evaluateStateWithDerivative(e,.5*t,r),o=this.evaluateStateWithDerivative(e,t,i),a=1/6*(n.dx+2*(r.dx+i.dx)+o.dx),s=1/6*(n.dv+2*(r.dv+i.dv)+o.dv),e.x=e.x+a*t,e.v=e.v+s*t,e}evaluateState(e){const t=this.accelerationForState(e);return{dx:e.v,dv:t}}evaluateStateWithDerivative(e,t,n){let r,i;return r={dx:(i={x:e.x+n.dx*t,v:e.v+n.dv*t}).v,dv:this.accelerationForState(i)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(290),i=n(479);t.SpringTensionFrictionDefaults={tension:500,friction:10,tolerance:1e-4,velocity:0},t.SpringDampingDurationDefaults={dampingRatio:1,duration:1,velocity:0,mass:1};t.SpringAnimator=class SpringAnimator{constructor(e,n){let o;if(this.interpolation=n,function isDampingDurationSpringOptions(e){return!!e&&("number"==typeof e.dampingRatio||"number"==typeof e.duration||"number"==typeof e.mass)}(e)){const n=Object.assign({},t.SpringDampingDurationDefaults,e);o=i.SpringCurveValueConverter.computeDerivedCurveOptions(n.dampingRatio,n.duration,n.velocity,n.mass)}else o=e;this.options=Object.assign({},t.SpringTensionFrictionDefaults,o),this.state={x:0,v:this.options.velocity},this.integrator=new r.Integrator(e=>-this.options.tension*e.x-this.options.friction*e.v)}isReady(){return void 0!==this.interpolator&&void 0!==this.difference}next(e){return this.state=this.integrator.integrateState(this.state,e),this.interpolator(this.progress())}isFinished(){let e,t;return e=Math.abs(this.state.x)<this.options.tolerance,t=Math.abs(this.state.v)<this.options.tolerance,e&&t}setFrom(e){this.current=e,this.updateInterpolator()}setVelocity(e){this.state.v=e}progress(){return 1-this.state.x/this.difference}setTo(e){this.destination=e,this.difference=this.interpolation.difference(this.destination,this.current),this.state.x=this.difference,this.updateInterpolator()}getState(){return this.state}updateInterpolator(){void 0!==this.current&&void 0!==this.destination&&(this.interpolator=this.interpolation.interpolate(this.current,this.destination))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(98);t.NumberInterpolation={interpolate(e,t){[e,t]=r.Interpolation.handleUndefined(e,t);const n=+e,i=t-n;return e=>{return n+i*e}},difference:(e,t)=>t-e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(98);t.ObjectInterpolation=e=>({interpolate(t,n){[t,n]=r.Interpolation.handleUndefined(t,n);const i=Object.assign({},t),o={},s=new Set;for(const r in t)o[r]=e.interpolate(t[r],n[r]),s.add(r);for(const r in n)s.has(r)||(o[r]=e.interpolate(t[r],n[r]),s.add(r));return e=>{for(const t in o)i[t]=o[t](e);return i}},difference(t,n){let r=0;for(const i in t){const o=e.difference(t[i],n[i]);r+=Math.pow(o,2)}return Math.sqrt(r)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(98);t.NoInterpolation={interpolate:(e,t)=>([e,t]=r.Interpolation.handleUndefined(e,t),n=>n<.5?e:t),difference:(e,t)=>e===t?0:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(98),i=n(37),o=n(96);t.ColorInterpolation=(e=o.ColorMixModelType.HUSL)=>({interpolate:(t,n)=>([t,n]=r.Interpolation.handleUndefined(t,n),i.Color.interpolate(i.Color(t),i.Color(n),e)),difference:(e,t)=>i.Color.difference(i.Color(e),i.Color(t))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(481),i=n(16),o=n(120);t.MainLoopAnimationDriver=class MainLoopAnimationDriver extends r.AnimationDriver{play(){i.RenderEnvironment.target===i.RenderTarget.preview?o.MainLoop.on("update",this.update):this.finishedCallback&&this.finishedCallback(!1)}cancel(){o.MainLoop.off("update",this.update)}finish(){o.MainLoop.off("update",this.update),super.finish()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(48),o=n(152),s=n(153),a=n(37),c=n(82),l=n(16),u=n(24),h=n(122),d=n(81),p=n(279),f=n(485),g=n(300),m=(n(15),n(32)),v=n(68);function toPixelString(e){return v.isFiniteNumber(e)?`${e}px`:e}function applyLayoutProp(e,t,n){if(void 0!==t[n]){const r=u.Animatable.get(t[n],void 0);e[n]=toPixelString(r)}}class DeprecatedFrame extends i.Layer{constructor(){super(...arguments),this.element=null,this.imageDidChange=!1,this.state={size:null,shouldCheckImageAvailability:!0,currentBackgroundImageSrc:null},this.updateStyle=()=>{this.element&&Object.assign(this.element.style,this.getStyle())},this.setElement=e=>{this.element=e},this.onPropsChange=e=>{const t=DeprecatedFrame.rect(u.Animatable.objectToValues(e.value));this.state.size&&u.isAnimatable(this.state.size.width)&&u.isAnimatable(e.value.width)&&this.state.size.width.set(t.width),this.state.size&&u.isAnimatable(this.state.size.height)&&u.isAnimatable(e.value.height)&&this.state.size.height.set(t.height),this.updateStyle()},this.onSizeChange=()=>{this.updateStyle()},this.checkImageAvailability=e=>{const{background:t}=this.props;if(!t||!d.BackgroundImage.isImageObject(t))return;const n=new Image;n.src=c.imageUrlForFill(t,e),n.onerror=()=>{this.element&&(this.element.style.backgroundImage=c.imageUrlForFill(t))}}}static rect(e){const t=o.ConstraintValues.fromProperties(e);return o.ConstraintValues.toRect(t,e.parentSize||null,null,!0)}get rect(){return DeprecatedFrame.rect(this.props)}static getDerivedStateFromProps(e,t){const n=DeprecatedFrame.updatedSize(e,t),{target:r}=l.RenderEnvironment,i=e.background&&d.BackgroundImage.isImageObject(e.background)?e.background.src:null;if(i){const e=t.currentBackgroundImageSrc!==i;if(e!==t.shouldCheckImageAvailability)return{size:n,currentBackgroundImageSrc:i,shouldCheckImageAvailability:e}}if(t.size){if(r===l.RenderTarget.preview)return null;if(t.size.width===n.width&&t.size.height===n.height)return null}return{size:n,currentBackgroundImageSrc:i,shouldCheckImageAvailability:t.shouldCheckImageAvailability}}static updatedSize(e,t){const n=DeprecatedFrame.rect(e);let r=t.size;const i={width:n.width,height:n.height},{target:o}=l.RenderEnvironment;return r?u.isAnimatable(r.width)&&u.isAnimatable(r.height)?(r.width.set(i.width),r.height.set(i.height)):r=i:r=o===l.RenderTarget.preview?h.ObservableObject(i,!0):i,r}getStyle(){const e=this.rect,t={display:"block",position:"absolute",width:`${e.width}px`,height:`${e.height}px`,pointerEvents:void 0,userSelect:"none"};let n=u.Animatable.get(this.props.left,void 0),r=u.Animatable.get(this.props.top,void 0);Object.assign(t,this.props._initialStyle);const o=this.context.size!==m.ParentSizeState.Disabled,s=u.Animatable.get(this.props.perspective,void 0);t.perspective=s,t.WebkitPerspective=s;let a=void 0;const c=u.Animatable.get(this.props.backfaceVisible,void 0);!0===c?a="visible":!1===c&&(a="hidden"),t.backfaceVisibility=a,t.WebkitBackfaceVisibility=a;const l=u.Animatable.get(this.props.preserve3d,void 0);if(!0===l?t.transformStyle="preserve-3d":!1===l&&(t.transformStyle="flat"),!o){applyLayoutProp(t,this.props,"right"),applyLayoutProp(t,this.props,"bottom");const e=toPixelString(u.Animatable.get(this.props.width,void 0)),i=toPixelString(u.Animatable.get(this.props.height,void 0));"string"==typeof n&&n.endsWith("%")&&null===this.props.right&&(n=`calc(${n} - calc(${e}} / 2))`,t.width=e),"string"==typeof r&&r.endsWith("%")&&null===this.props.bottom&&(r=`calc(${r} - calc(${i} / 2))`,t.height=i),void 0!==r&&void 0!==t.bottom?(t.height=void 0,r=toPixelString(u.Animatable.get(this.props.top,void 0))):t.height=i,void 0!==n&&void 0!==t.right?(t.width=void 0,n=toPixelString(u.Animatable.get(this.props.left,void 0))):t.width=e}const h=Object.assign({},e);return void 0!==n&&(h.x=n),void 0!==r&&(h.y=r),f.collectTransformFromProps(this.props,h,t),p.collectVisualStyleFromProps(this.props,t),g.collectBackgroundImageFromProps(this.props,e,t,this.state.shouldCheckImageAvailability,this.checkImageAvailability),i.Layer.applyWillChange(this,t),this.props.style&&Object.assign(t,this.props.style),t}componentDidMount(){const{target:e}=l.RenderEnvironment;e===l.RenderTarget.preview&&(this.propsObserver=h.ObservableObject(this.props,!0),this.propsObserverCancel=h.ObservableObject.addObserver(this.propsObserver,this.onPropsChange),this.props.parentSize&&u.isAnimatable(this.props.parentSize.width)&&u.isAnimatable(this.props.parentSize.height)&&(this.sizeObserver=h.ObservableObject(this.props.parentSize,!0),this.sizeObserverCancel=h.ObservableObject.addObserver(this.sizeObserver,this.onSizeChange)))}componentDidUpdate(){const{target:e}=l.RenderEnvironment;this.propsObserverCancel&&this.propsObserverCancel(),this.sizeObserverCancel&&this.sizeObserverCancel(),e===l.RenderTarget.preview&&(this.propsObserver=h.ObservableObject(this.props,!0),this.propsObserverCancel=h.ObservableObject.addObserver(this.propsObserver,this.onPropsChange),this.props.parentSize&&u.isAnimatable(this.props.parentSize.width)&&u.isAnimatable(this.props.parentSize.height)&&(this.sizeObserver=h.ObservableObject(this.props.parentSize,!0),this.sizeObserverCancel=h.ObservableObject.addObserver(this.sizeObserver,this.onSizeChange)))}componentWillUnmount(){this.propsObserverCancel&&this.propsObserverCancel(),this.propsObserverCancel=void 0,this.sizeObserverCancel&&this.sizeObserverCancel(),this.sizeObserverCancel=void 0}render(){const{visible:e,id:t,className:n}=this.props;if(!e)return null;const i=this.getStyle(),o=this.rect,a={width:o.width,height:o.height};return r.createElement("div",{id:t,style:i,ref:this.setElement,className:n},r.createElement(m.ProvideParentSize,{parentSize:a},this.layoutChildren()),r.createElement(s.Border,Object.assign({},this.props)))}layoutChildren(){let e=this.props._forwardedOverrides;const n=this.props._overrideForwardingDescription;if(n){let t=!1;e={};for(const r in n)t=!0,e[r]=this.props[n[r]];t||(e=void 0)}let i=r.Children.map(this.props.children,t=>o.isConstraintSupportingChild(t)?r.cloneElement(t,{parentSize:this.state.size,_forwardedOverrides:e}):e&&t?r.cloneElement(t,{_forwardedOverrides:e}):t);return i&&1===i.length&&"string"==typeof i[0]&&(i=[r.createElement(t.Center,{key:"0"},i)]),i}}DeprecatedFrame.supportsConstraints=!0,DeprecatedFrame.defaultFrameSpecificProps=Object.assign({},o.constraintDefaults,f.transformDefaults,{opacity:1,background:a.Color("rgba(0, 170, 255, 0.3)"),visible:!0,borderWidth:0,borderColor:"#222",borderStyle:"solid"}),DeprecatedFrame.defaultProps=Object.assign({},i.Layer.defaultProps,DeprecatedFrame.defaultFrameSpecificProps),t.DeprecatedFrame=DeprecatedFrame,DeprecatedFrame.contextType=m.ConstraintsContext,t.Center=e=>{const t=Object.assign({},{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Helvetica"},e.style||{});return r.createElement("div",{style:t},e.children)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(16);function useDidUpdate(e,t){const n=r.useRef(!1);r.useEffect(()=>{n.current&&e(),n.current=!0},t)}function resetSetStyle(e,t,n,r=!0){if(!e)return;const i=n||e.style[t],o=()=>{e.style[t]=i};e.style[t]=null,r?Promise.resolve().then(o):setTimeout(o,0)}t.useWebkitFixes=function useWebkitFixes(e,t){const n=t.mixBlendMode&&"normal"!==t.mixBlendMode,r=void 0!==t.borderRadius,o="hidden"===t.overflow;useDidUpdate(()=>{n&&resetSetStyle(e.current,"mixBlendMode",t.mixBlendMode)},[i.RenderEnvironment.zoom,n,e.current]),useDidUpdate(()=>{o&&r&&resetSetStyle(e.current,"overflow","hidden",!1)},[o,r,e.current])},t.resetSetStyle=resetSetStyle},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(484);t.elementForComponent=function elementForComponent(e){const t=r.optionalReactDOM();return t?t.findDOMNode(e):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(24),i=n(81),o=n(16),s=n(82);t.collectBackgroundImageFromProps=function collectBackgroundImageFromProps(e,t,n,a,c){let l=r.Animatable.get(e.background,null);if(i.BackgroundImage.isImageObject(l)){const{_forwardedOverrides:r,id:i}=e,u=r&&i?r[i]:void 0;u&&"string"==typeof u&&(l=Object.assign({},l,{src:u}));const{target:h,zoom:d}=o.RenderEnvironment;if(void 0!==h&&d){const e=t?{frame:t,target:h,zoom:d}:null;s.setImageForFill(l,e,n),a&&e&&c(e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.processOverrideForwarding=function processOverrideForwarding(e,t){if(!t&&!(t=e.children))return{props:e,children:t};let n=e._forwardedOverrides;const i=e._overrideForwardingDescription;if(i){n=void 0;for(const t in i){const r=i[t];void 0!==e[r]&&(n||(n={},e=Object.assign({},e)),n[t]=e[r],delete e[r])}}return n?{props:e,children:t=r.Children.map(t,e=>r.cloneElement(e,{_forwardedOverrides:n}))}:{props:e,children:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(196),i=["_border","_constraints","animate","initial","variants","transition","inherit","static","center","initial","transformTemplate","transformValues","animate","variants","transition","onUpdate","onAnimationComplete","onPanSessionStart","onTapCancel","whileTap","whileHover","onHoverStart","onHoverEnd","drag","dragDirectionLock","dragPropagation","dragConstraints","dragElastic","dragMomentum","dragTransition","onDragStart","onDragEnd","onDrag","onDirectionLock","onDragTransitionEnd","x","y","rotate","rotateX","rotateY","rotateZ","position","border","borderRadius","shadow","size"],o=["autoSize","aspectRatio","borderWidth","borderStyle","borderColor","centerX","centerY"];t.isDeprecatedFrameProps=function isDeprecatedFrameProps(e){let t;for(const n in e)if(r.isAnimatable(e[n]))return!0;for(t of i)if(e.hasOwnProperty(t))return!1;for(t of o)if(e.hasOwnProperty(t))return!0;return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(82);t.ImagePatternElement=class ImagePatternElement extends r.Component{render(){const{id:e,path:t,transform:n}=this.props,o=i.imageUrlForAsset(t);return r.createElement("pattern",{id:e,width:"100%",height:"100%",patternContentUnits:"objectBoundingBox"},r.createElement("image",{key:o,width:1,height:1,xlinkHref:o,preserveAspectRatio:"none",transform:n}))}}},function(e,t,n){"use strict";var r=n(495);e.exports=r},function(e,t,n){"use strict";var r=n(42),i=n(154),o=n(13);function removeForBlock(e,t,n){var s=t.getCharacterList(),a=n>0?s.get(n-1):void 0,c=n<s.count()?s.get(n):void 0,l=a?a.getEntity():void 0,u=c?c.getEntity():void 0;if(u&&u===l&&"MUTABLE"!==e.__get(u).getMutability()){for(var h,d=function getRemovalRange(e,t,n){var r;return i(e,function(e,t){return e.getEntity()===t.getEntity()},function(e){return e.getEntity()===t},function(e,t){e<=n&&t>=n&&(r={start:e,end:t})}),"object"!=typeof r&&o(!1),r}(s,u,n),p=d.start,f=d.end;p<f;)h=s.get(p),s=s.set(p,r.applyEntity(h,null)),p++;return t.set("characterList",s)}return t}e.exports=function removeEntitiesAtEdges(e,t){var n=e.getBlockMap(),r=e.getEntityMap(),i={},o=t.getStartKey(),s=t.getStartOffset(),a=n.get(o),c=removeForBlock(r,a,s);c!==a&&(i[o]=c);var l=t.getEndKey(),u=t.getEndOffset(),h=n.get(l);o===l&&(h=c);var d=removeForBlock(r,h,u);return d!==h&&(i[l]=d),Object.keys(i).length?e.merge({blockMap:n.merge(i),selectionAfter:t}):e.set("selectionAfter",t)}},function(e,t,n){"use strict";e.exports=function insertIntoList(e,t,n){if(n===e.count())t.forEach(function(t){e=e.push(t)});else if(0===n)t.reverse().forEach(function(t){e=e.unshift(t)});else{var r=e.slice(0,n),i=e.slice(n);e=r.concat(t,i).toList()}return e}},function(e,t,n){"use strict";var r=n(3),i=n(205),o=n(154),s=r.List,a=r.Repeat,c=r.Record,l=i.thatReturnsTrue,u=c({start:null,end:null}),h=c({start:null,end:null,decoratorKey:null,leaves:null}),d={generate:function generate(e,t,n){var r=t.getLength();if(!r)return s.of(new h({start:0,end:0,decoratorKey:null,leaves:s.of(new u({start:0,end:0}))}));var i=[],c=n?n.getDecorations(t,e):s(a(null,r)),d=t.getCharacterList();return o(c,areEqual,l,function(e,t){i.push(new h({start:e,end:t,decoratorKey:c.get(e),leaves:generateLeaves(d.slice(e,t).toList(),e)}))}),s(i)},getFingerprint:function getFingerprint(e){return e.map(function(e){var t=e.get("decoratorKey");return(null!==t?t+"."+(e.get("end")-e.get("start")):"")+"."+e.get("leaves").size}).join("-")}};function generateLeaves(e,t){var n=[],r=e.map(function(e){return e.getStyle()}).toList();return o(r,areEqual,l,function(e,r){n.push(new u({start:e+t,end:r+t}))}),s(n)}function areEqual(e,t){return e===t}e.exports=d},function(e,t,n){"use strict";var r=function(e){function DraftEntityInstance(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DraftEntityInstance),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(DraftEntityInstance,e),DraftEntityInstance.prototype.getType=function getType(){return this.get("type")},DraftEntityInstance.prototype.getMutability=function getMutability(){return this.get("mutability")},DraftEntityInstance.prototype.getData=function getData(){return this.get("data")},DraftEntityInstance}((0,n(3).Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object}));e.exports=r},function(e,t,n){"use strict";var r=n(208),i=n(13),o="֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",s="؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾",a=new RegExp("["+"A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"+o+s+"]"),c=new RegExp("["+o+s+"]");function firstStrongChar(e){var t=a.exec(e);return null==t?null:t[0]}function firstStrongCharDir(e){var t=firstStrongChar(e);return null==t?r.NEUTRAL:c.exec(t)?r.RTL:r.LTR}function resolveBlockDir(e,t){if(t=t||r.NEUTRAL,!e.length)return t;var n=firstStrongCharDir(e);return n===r.NEUTRAL?t:n}function getDirection(e,t){return t||(t=r.getGlobalDir()),r.isStrong(t)||i(!1),resolveBlockDir(e,t)}var l={firstStrongChar,firstStrongCharDir,resolveBlockDir,getDirection,isDirectionLTR:function isDirectionLTR(e,t){return getDirection(e,t)===r.LTR},isDirectionRTL:function isDirectionRTL(e,t){return getDirection(e,t)===r.RTL}};e.exports=l},function(e,t,n){"use strict";e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},function(e,t,n){"use strict";e.exports=function isSelectionAtLeafStart(e){var t=e.getSelection(),n=t.getAnchorKey(),r=e.getBlockTree(n),i=t.getStartOffset(),o=!1;return r.some(function(e){return i===e.get("start")?(o=!0,!0):i<e.get("end")&&e.get("leaves").some(function(e){var t=e.get("start");return i===t&&(o=!0,!0)})}),o}},function(e,t,n){"use strict";var r=n(70)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var i=n(513),o=n(157),s=n(0),a=n(80),c=n(314),l=n(213),u=n(309),h=n(208),d=n(128),p=n(528),f=n(214),g=n(532),m=n(13),v=n(38),y=function(e){function DraftEditorBlock(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DraftEditorBlock),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(DraftEditorBlock,e),DraftEditorBlock.prototype.shouldComponentUpdate=function shouldComponentUpdate(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||isBlockOnSelectionEdge(e.selection,e.block.getKey())&&e.forceSelection},DraftEditorBlock.prototype.componentDidMount=function componentDidMount(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n,r=a.findDOMNode(this),i=l.getScrollParent(r),o=f(i);if(i===window){var s=p(r);(n=s.y+s.height-g().height)>0&&window.scrollTo(o.x,o.y+n+10)}else{r instanceof HTMLElement||m(!1),(n=r.offsetHeight+r.offsetTop-(i.offsetHeight+o.y))>0&&c.setTop(i,c.getTop(i)+n+10)}}},DraftEditorBlock.prototype._renderChildren=function _renderChildren(){var e=this,t=this.props.block,n=t.getKey(),a=t.getText(),c=this.props.tree.size-1,l=isBlockOnSelectionEdge(this.props.selection,n);return this.props.tree.map(function(d,p){var f=d.get("leaves"),g=f.size-1,m=f.map(function(r,u){var h=o.encode(n,p,u),d=r.get("start"),f=r.get("end");return s.createElement(i,{key:h,offsetKey:h,block:t,start:d,selection:l?e.props.selection:void 0,forceSelection:e.props.forceSelection,text:a.slice(d,f),styleSet:t.getInlineStyleAt(d),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:p===c&&u===g})}).toArray(),y=d.get("decoratorKey");if(null==y)return m;if(!e.props.decorator)return m;var S=v(e.props.decorator),b=S.getComponentForKey(y);if(!b)return m;var _=S.getPropsForKey(y),C=o.encode(n,p,0),w=a.slice(f.first().get("start"),f.last().get("end")),x=h.getHTMLDirIfDifferent(u.getDirection(w),e.props.direction);return s.createElement(b,r({},_,{contentState:e.props.contentState,decoratedText:w,dir:x,key:C,entityKey:t.getEntityAt(d.get("start")),offsetKey:C}),m)}).toArray()},DraftEditorBlock.prototype.render=function render(){var e=this.props,t=e.direction,n=e.offsetKey,r=d({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===t,"public/DraftStyleDefault/rtl":"RTL"===t});return s.createElement("div",{"data-offset-key":n,className:r},this._renderChildren())},DraftEditorBlock}(s.Component);function isBlockOnSelectionEdge(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t}e.exports=y},function(e,t,n){"use strict";e.exports=function getActiveElement(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,n){"use strict";function _isViewportScrollElement(e,t){return!!t&&(e===t.documentElement||e===t.body)}var r={getTop:function getTop(e){var t=e.ownerDocument;return _isViewportScrollElement(e,t)?t.body.scrollTop||t.documentElement.scrollTop:e.scrollTop},setTop:function setTop(e,t){var n=e.ownerDocument;_isViewportScrollElement(e,n)?n.body.scrollTop=n.documentElement.scrollTop=t:e.scrollTop=t},getLeft:function getLeft(e){var t=e.ownerDocument;return _isViewportScrollElement(e,t)?t.body.scrollLeft||t.documentElement.scrollLeft:e.scrollLeft},setLeft:function setLeft(e,t){var n=e.ownerDocument;_isViewportScrollElement(e,n)?n.body.scrollLeft=n.documentElement.scrollLeft=t:e.scrollLeft=t}};e.exports=r},function(e,t,n){"use strict";var r=n(535),i=n(536),o=n(205),s=new RegExp("\r\n","g"),a={"text/rtf":1,"text/html":1};function getFileFromDataTransfer(e){if("file"==e.kind)return e.getAsFile()}var c=function(){function DataTransfer(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DataTransfer),this.data=e,this.types=e.types?i(e.types):[]}return DataTransfer.prototype.isRichText=function isRichText(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some(function(e){return a[e]})},DataTransfer.prototype.getText=function getText(){var e;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(e=this.data.getData("text/plain")):e=this.data.getData("Text")),e?e.replace(s,"\n"):null},DataTransfer.prototype.getHTML=function getHTML(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},DataTransfer.prototype.isLink=function isLink(){return this.types.some(function(e){return-1!=e.indexOf("Url")||-1!=e.indexOf("text/uri-list")||e.indexOf("text/x-moz-url")})},DataTransfer.prototype.getLink=function getLink(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},DataTransfer.prototype.isImage=function isImage(){var isImage=this.types.some(function(e){return-1!=e.indexOf("application/x-moz-file")});if(isImage)return!0;for(var e=this.getFiles(),t=0;t<e.length;t++){var n=e[t].type;if(!r.isImage(n))return!1}return!0},DataTransfer.prototype.getCount=function getCount(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},DataTransfer.prototype.getFiles=function getFiles(){return this.data.items?Array.prototype.slice.call(this.data.items).map(getFileFromDataTransfer).filter(o.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},DataTransfer.prototype.hasFiles=function hasFiles(){return this.getFiles().length>0},DataTransfer}();e.exports=c},function(e,t,n){"use strict";e.exports=function getSelectionOffsetKeyForNode(e){if(e instanceof Element){var t=e.getAttribute("data-offset-key");if(t)return t;for(var n=0;n<e.childNodes.length;n++){var r=getSelectionOffsetKeyForNode(e.childNodes[n]);if(r)return r}}return null}},function(e,t,n){"use strict";(function(t){var r=n(13),i=/\.textClipping$/,o={"text/plain":!0,"text/html":!0,"text/rtf":!0},s=5e3;e.exports=function getTextContentFromFiles(e,n){var a=0,c=[];e.forEach(function(l){!function readFile(e,n){if(t.FileReader&&(!e.type||e.type in o)){if(""===e.type){var s="";return i.test(e.name)&&(s=e.name.replace(i,"")),void n(s)}var a=new FileReader;a.onload=function(){var e=a.result;"string"!=typeof e&&r(!1),n(e)},a.onerror=function(){n("")},a.readAsText(e)}else n("")}(l,function(t){a++,t&&c.push(t.slice(0,s)),a==e.length&&n(c.join("\r"))})})}}).call(this,n(8))},function(e,t,n){"use strict";var r=n(157),i=n(38);e.exports=function getUpdatedSelectionState(e,t,n,o,s){var a=i(e.getSelection()),c=r.decode(t),l=c.blockKey,u=e.getBlockTree(l).getIn([c.decoratorKey,"leaves",c.leafKey]),h=r.decode(o),d=h.blockKey,p=e.getBlockTree(d).getIn([h.decoratorKey,"leaves",h.leafKey]),f=u.get("start"),g=p.get("start"),m=u?f+n:null,v=p?g+s:null;if(a.getAnchorKey()===l&&a.getAnchorOffset()===m&&a.getFocusKey()===d&&a.getFocusOffset()===v)return a;var y=!1;if(l===d){var S=u.get("end"),b=p.get("end");y=g===f&&b===S?s<n:g<f}else y=e.getCurrentContent().getBlockMap().keySeq().skipUntil(function(e){return e===l||e===d}).first()===d;return a.merge({anchorKey:l,anchorOffset:m,focusKey:d,focusOffset:v,isBackward:y})}},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},s=!1,a=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?function installNextTickImplementation(){r=function(e){t.nextTick(function(){runIfPresent(e)})}}():!function canUsePostMessage(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?function installMessageChannelImplementation(){var e=new MessageChannel;e.port1.onmessage=function(e){runIfPresent(e.data)},r=function(t){e.port2.postMessage(t)}}():a&&"onreadystatechange"in a.createElement("script")?function installReadyStateChangeImplementation(){var e=a.documentElement;r=function(t){var n=a.createElement("script");n.onreadystatechange=function(){runIfPresent(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function installSetTimeoutImplementation(){r=function(e){setTimeout(runIfPresent,0,e)}}():function installPostMessageImplementation(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&runIfPresent(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}(),c.setImmediate=function setImmediate(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var s={callback:e,args:t};return o[i]=s,r(i),i++},c.clearImmediate=clearImmediate}function clearImmediate(e){delete o[e]}function runIfPresent(e){if(s)setTimeout(runIfPresent,0,e);else{var t=o[e];if(t){s=!0;try{!function run(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{clearImmediate(e),s=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(8),n(66))},function(e,t,n){"use strict";var r=n(155);e.exports=function getFragmentFromSelection(e){var t=e.getSelection();return t.isCollapsed()?null:r(e.getCurrentContent(),t)}},function(e,t,n){"use strict";var r=n(50),i=n(13);var o=r.isBrowser("Chrome")?function getRangeClientRectsChrome(e){for(var t=e.cloneRange(),n=[],r=e.endContainer;null!=r;r=r.parentNode){var o=r===e.commonAncestorContainer;o?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var s,a=Array.from(t.getClientRects());if(n.push(a),o)return n.reverse(),(s=[]).concat.apply(s,n);t.setEndBefore(r)}i(!1)}:function(e){return Array.from(e.getClientRects())};e.exports=o},function(e,t,n){"use strict";var r=n(215),i=n(316),o=n(318),s=n(13),a=n(38);function getPointForNonTextNode(e,t,n){var o=t,c=r(o);if(null!=c||e&&(e===o||e.firstChild===o)||s(!1),e===o&&((o=o.firstChild)instanceof Element&&"true"===o.getAttribute("data-contents")||s(!1),n>0&&(n=o.childNodes.length)),0===n){var l=null;if(null!=c)l=c;else{var u=function getFirstLeaf(e){for(;e.firstChild&&i(e.firstChild);)e=e.firstChild;return e}(o);l=a(i(u))}return{key:l,offset:0}}var h=o.childNodes[n-1],d=null,p=null;if(i(h)){var f=function getLastLeaf(e){for(;e.lastChild&&i(e.lastChild);)e=e.lastChild;return e}(h);d=a(i(f)),p=getTextContentLength(f)}else d=a(c),p=getTextContentLength(h);return{key:d,offset:p}}function getTextContentLength(e){var t=e.textContent;return"\n"===t?0:t.length}e.exports=function getDraftEditorSelectionWithNodes(e,t,n,i,s,c){var l=n.nodeType===Node.TEXT_NODE,u=s.nodeType===Node.TEXT_NODE;if(l&&u)return{selectionState:o(e,a(r(n)),i,a(r(s)),c),needsRecovery:!1};var h=null,d=null,p=!0;return l?(h={key:a(r(n)),offset:i},d=getPointForNonTextNode(t,s,c)):u?(d={key:a(r(s)),offset:c},h=getPointForNonTextNode(t,n,i)):(h=getPointForNonTextNode(t,n,i),d=getPointForNonTextNode(t,s,c),n===s&&i===c&&(p=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:o(e,h.key,h.offset,d.key,d.offset),needsRecovery:p}}},function(e,t,n){"use strict";var r="\\s|(?![_])"+n(553).getPunctuation(),i=new RegExp("^(?:"+r+")*(?:['‘’]|(?!"+r+").)*(?:(?!"+r+").)"),o=new RegExp("(?:(?!"+r+").)(?:['‘’]|(?!"+r+").)*(?:"+r+")*$");function getRemovableWord(e,t){var n=t?o.exec(e):i.exec(e);return n?n[0]:e}var s={getBackward:function getBackward(e){return getRemovableWord(e,!0)},getForward:function getForward(e){return getRemovableWord(e,!1)}};e.exports=s},function(e,t,n){"use strict";e.exports=function moveSelectionForward(e,t){var n,r=e.getSelection(),i=r.getStartKey(),o=r.getStartOffset(),s=e.getCurrentContent(),a=i;return t>s.getBlockForKey(i).getText().length-o?(a=s.getKeyAfter(i),n=0):n=o+t,r.merge({focusKey:a,focusOffset:n})}},function(e,t,n){"use strict";var r,i=n(42),o=n(84),s=n(209),a=n(156),c=n(3),l=n(3).Set,u=n(564),h=n(49),d=n(326),p=n(13),f=n(38),g=n(207),m=c.List,v=c.OrderedSet,y=" ",S=4,b=new RegExp("\r","g"),_=new RegExp("\n","g"),C=new RegExp("&nbsp;","g"),w=new RegExp("&#13;?","g"),x=new RegExp("&#8203;?","g"),P=["bold","bolder","500","600","700","800","900"],T=["light","lighter","100","200","300","400"],k={b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE"},E=["className","href","rel","target","title"],O=["alt","className","height","src","width"];function getWhitespaceChunk(e){var t=new Array(1);return e&&(t[0]=e),{text:y,inlines:[v()],entities:t,blocks:[]}}function getSoftNewlineChunk(){return{text:"\n",inlines:[v()],entities:new Array(1),blocks:[]}}function getBlockDividerChunk(e,t){return{text:"\r",inlines:[v()],entities:new Array(1),blocks:[{type:e,depth:Math.max(0,Math.min(S,t))}]}}function getListBlockType(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null}function getBlockTypeForTag(e,t,n){var r=n.filter(function(t){return t.element===e||t.wrapper===e||t.aliasedElements&&t.aliasedElements.some(function(t){return t===e})}).keySeq().toSet().toArray().sort();switch(r.length){case 0:return"unstyled";case 1:return r[0];default:return function getMultiMatchedType(e,t,n){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(i)return i}return null}(e,t,[getListBlockType])||"unstyled"}}function joinChunks(e,t){var n=e.text.slice(-1),r=t.text.slice(0,1);if("\r"===n&&"\r"===r&&(e.text=e.text.slice(0,-1),e.inlines.pop(),e.entities.pop(),e.blocks.pop()),"\r"===n){if(t.text===y||"\n"===t.text)return e;r!==y&&"\n"!==r||(t.text=t.text.slice(1),t.inlines.shift(),t.entities.shift())}return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks)}}function hasValidLinkText(e){e instanceof HTMLAnchorElement||p(!1);var t=e.protocol;return"http:"===t||"https:"===t||"mailto:"===t}function genFragment(e,t,n,i,o,s,c,l,h){var d=t.nodeName.toLowerCase(),p=!1,f="unstyled",g=r,m=e;if("#text"===d){var v=t.textContent;return""===v.trim()&&"pre"!==o?{chunk:getWhitespaceChunk(h),entityMap:e}:("pre"!==o&&(v=v.replace(_,y)),r=d,{chunk:{text:v,inlines:Array(v.length).fill(n),entities:Array(v.length).fill(h),blocks:[]},entityMap:e})}if(r=d,"br"===d)return"br"!==g||o&&"unstyled"!==getBlockTypeForTag(o,i,l)?{chunk:getSoftNewlineChunk(),entityMap:e}:{chunk:getBlockDividerChunk("unstyled",c),entityMap:e};if("img"===d&&t instanceof HTMLImageElement&&t.attributes.getNamedItem("src")&&t.attributes.getNamedItem("src").value){var S=t,b={};O.forEach(function(e){var t=S.getAttribute(e);t&&(b[e]=t)}),t.textContent="📷",h=a.__create("IMAGE","MUTABLE",b||{})}var C={text:"",inlines:[],entities:[],blocks:[]};n=function processInlineTag(e,t,n){var r=k[e];if(r)n=n.add(r).toOrderedSet();else if(t instanceof HTMLElement){var i=t;n=n.withMutations(function(e){var t=i.style.fontWeight,n=i.style.fontStyle,r=i.style.textDecoration;P.indexOf(t)>=0?e.add("BOLD"):T.indexOf(t)>=0&&e.remove("BOLD"),"italic"===n?e.add("ITALIC"):"normal"===n&&e.remove("ITALIC"),"underline"===r&&e.add("UNDERLINE"),"line-through"===r&&e.add("STRIKETHROUGH"),"none"===r&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))}).toOrderedSet()}return n}(d,t,n),"ul"!==d&&"ol"!==d||(i&&(c+=1),i=d),o||-1===s.indexOf(d)?i&&"li"===o&&"li"===d&&(C=getBlockDividerChunk(getBlockTypeForTag(d,i,l),c),o=d,p=!0,f="ul"===i?"unordered-list-item":"ordered-list-item"):(C=getBlockDividerChunk(getBlockTypeForTag(d,i,l),c),o=d,p=!0);var w=t.firstChild;null!=w&&(d=w.nodeName.toLowerCase());for(var x=null;w;){w instanceof HTMLAnchorElement&&w.href&&hasValidLinkText(w)?function(){var e=w,t={};E.forEach(function(n){var r=e.getAttribute(n);r&&(t[n]=r)}),t.url=new u(e.href).toString(),x=a.__create("LINK","MUTABLE",t||{})}():x=void 0;var M=genFragment(m,w,n,i,o,s,c,l,x||h),F=M.chunk;m=M.entityMap,C=joinChunks(C,F);var D=w.nextSibling;D&&s.indexOf(d)>=0&&o&&(C=joinChunks(C,getSoftNewlineChunk())),D&&(d=D.nodeName.toLowerCase()),w=D}return p&&(C=joinChunks(C,getBlockDividerChunk(f,c))),{chunk:C,entityMap:m}}function getChunkForHTML(e,t,n,i){e=e.trim().replace(b,"").replace(C,y).replace(w,"").replace(x,"");var o=function getBlockMapSupportedTags(e){var t=e.get("unstyled").element,n=l([]);return e.forEach(function(e){e.aliasedElements&&e.aliasedElements.forEach(function(e){n=n.add(e)}),n=n.add(e.element)}),n.filter(function(e){return e&&e!==t}).toArray().sort()}(n),s=t(e);if(!s)return null;r=null;var a=function containsSemanticBlockMarkup(e,t){return t.some(function(t){return-1!==e.indexOf("<"+t)})}(e,o)?o:["div"],c=genFragment(i,s,v(),"ul",null,a,-1,n),u=c.chunk,h=c.entityMap;return 0===u.text.indexOf("\r")&&(u={text:u.text.slice(1),inlines:u.inlines.slice(1),entities:u.entities.slice(1),blocks:u.blocks}),"\r"===u.text.slice(-1)&&(u.text=u.text.slice(0,-1),u.inlines=u.inlines.slice(0,-1),u.entities=u.entities.slice(0,-1),u.blocks.pop()),0===u.blocks.length&&u.blocks.push({type:"unstyled",depth:0}),u.text.split("\r").length===u.blocks.length+1&&u.blocks.unshift({type:"unstyled",depth:0}),{chunk:u,entityMap:h}}e.exports=function convertFromHTMLtoContentBlocks(e){var t=getChunkForHTML(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,a);if(null==t)return null;var n=t.chunk,r=t.entityMap,c=0;return{contentBlocks:n.text.split("\r").map(function(e,t){e=g(e);var r=c+e.length,s=f(n).inlines.slice(c,r),a=f(n).entities.slice(c,r),l=m(s.map(function(e,t){var n={style:e,entity:null};return a[t]&&(n.entity=a[t]),i.create(n)}));return c=r+1,new o({key:h(),type:f(n).blocks[t].type,depth:f(n).blocks[t].depth,text:e,characterList:l})}),entityMap:r}}},function(e,t,n){"use strict";var r=n(50),i=n(13),o=r.isBrowser("IE <= 9");e.exports=function getSafeBodyFromHTML(e){var t,n=null;return!o&&document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement||i(!1),t.documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}},function(e,t,n){"use strict";var r=n(31),i=n(14),o=(n(127),n(565)),s=n(38),a={currentBlockContainsLink:function currentBlockContainsLink(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some(function(e){var t=e.getEntity();return!!t&&"LINK"===r.__get(t).getType()})},getCurrentBlockType:function getCurrentBlockType(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function getDataObjectForLinkURL(e){return{url:e.toString()}},handleKeyCommand:function handleKeyCommand(e,t){switch(t){case"bold":return a.toggleInlineStyle(e,"BOLD");case"italic":return a.toggleInlineStyle(e,"ITALIC");case"underline":return a.toggleInlineStyle(e,"UNDERLINE");case"code":return a.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return a.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return a.onDelete(e);default:return null}},insertSoftNewline:function insertSoftNewline(e){var t=r.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=i.push(e,t,"insert-characters");return i.forceSelection(n,t.getSelectionAfter())},onBackspace:function onBackspace(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),o=n.getBlockBefore(r);if(o&&"atomic"===o.getType()){var s=n.getBlockMap().delete(o.getKey()),c=n.merge({blockMap:s,selectionAfter:t});if(c!==n)return i.push(e,c,"remove-range")}var l=a.tryToRemoveBlockStyle(e);return l?i.push(e,l,"change-block-type"):null},onDelete:function onDelete(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),o=t.getStartKey(),s=n.getBlockForKey(o).getLength();if(t.getStartOffset()<s)return null;var a=n.getBlockAfter(o);if(!a||"atomic"!==a.getType())return null;var c=t.merge({focusKey:a.getKey(),focusOffset:a.getLength()}),l=r.removeRange(n,c,"forward");return l!==n?i.push(e,l,"remove-range"):null},onTab:function onTab(e,t,n){var r=t.getSelection(),s=r.getAnchorKey();if(s!==r.getFocusKey())return t;var a=t.getCurrentContent(),c=a.getBlockForKey(s),l=c.getType();if("unordered-list-item"!==l&&"ordered-list-item"!==l)return t;e.preventDefault();var u=a.getBlockBefore(s);if(!u)return t;var h=u.getType();if("unordered-list-item"!==h&&"ordered-list-item"!==h)return t;var d=c.getDepth();if(!e.shiftKey&&d===n)return t;n=Math.min(u.getDepth()+1,n);var p=o(a,r,e.shiftKey?-1:1,n);return i.push(t,p,"adjust-depth")},toggleBlockType:function toggleBlockType(e,t){var n=e.getSelection(),o=n.getStartKey(),a=n.getEndKey(),c=e.getCurrentContent(),l=n;if(o!==a&&0===n.getEndOffset()){var u=s(c.getBlockBefore(a));a=u.getKey(),l=l.merge({anchorKey:o,anchorOffset:n.getStartOffset(),focusKey:a,focusOffset:u.getLength(),isBackward:!1})}if(c.getBlockMap().skipWhile(function(e,t){return t!==o}).reverse().skipWhile(function(e,t){return t!==a}).some(function(e){return"atomic"===e.getType()}))return e;var h=c.getBlockForKey(o).getType()===t?"unstyled":t;return i.push(e,r.setBlockType(c,l,h),"change-block-type")},toggleCode:function toggleCode(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?a.toggleBlockType(e,"code-block"):a.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function toggleInlineStyle(e,t){var n=e.getSelection(),o=e.getCurrentInlineStyle();if(n.isCollapsed())return i.setInlineStyleOverride(e,o.has(t)?o.remove(t):o.add(t));var s,a=e.getCurrentContent();return s=o.has(t)?r.removeInlineStyle(a,n,t):r.applyInlineStyle(a,n,t),i.push(e,s,"change-inline-style")},toggleLink:function toggleLink(e,t,n){var o=r.applyEntity(e.getCurrentContent(),t,n);return i.push(e,o,"apply-entity")},tryToRemoveBlockStyle:function tryToRemoveBlockStyle(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var i=t.getAnchorKey(),o=e.getCurrentContent(),s=o.getBlockForKey(i),a=o.getFirstBlock();if(s.getLength()>0&&s!==a)return null;var c=s.getType(),l=o.getBlockBefore(i);if("code-block"===c&&l&&"code-block"===l.getType())return null;if("unstyled"!==c)return r.setBlockType(o,t,"unstyled")}return null}};e.exports=a},function(e,t,n){"use strict";var r=n(216),i=n(210),o=n(50),s=o.isPlatform("Mac OS X"),a=o.isPlatform("Windows"),c=s&&o.isBrowser("Firefox < 29"),l=r.hasCommandModifier,u=r.isCtrlKeyCommand;function shouldRemoveWord(e){return s&&e.altKey||u(e)}e.exports=function getDefaultKeyBinding(e){switch(e.keyCode){case 66:return l(e)?"bold":null;case 68:return u(e)?"delete":null;case 72:return u(e)?"backspace":null;case 73:return l(e)?"italic":null;case 74:return l(e)?"code":null;case 75:return!a&&u(e)?"secondary-cut":null;case 77:case 79:return u(e)?"split-block":null;case 84:return s&&u(e)?"transpose-characters":null;case 85:return l(e)?"underline":null;case 87:return s&&u(e)?"backspace-word":null;case 89:return u(e)?a?"redo":"secondary-paste":null;case 90:return function getZCommand(e){return l(e)?e.shiftKey?"redo":"undo":null}(e)||null;case i.RETURN:return"split-block";case i.DELETE:return function getDeleteCommand(e){return a&&e.shiftKey?null:shouldRemoveWord(e)?"delete-word":"delete"}(e);case i.BACKSPACE:return function getBackspaceCommand(e){return l(e)&&s?"backspace-to-start-of-line":shouldRemoveWord(e)?"backspace-word":"backspace"}(e);case i.LEFT:return c&&l(e)?"move-selection-to-start-of-block":null;case i.RIGHT:return c&&l(e)?"move-selection-to-end-of-block":null;default:return null}}},function(e,t,n){"use strict";var r={stringify:function stringify(e){return"_"+String(e)},unstringify:function unstringify(e){return e.slice(1)}};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15),i=n(3);const o=[["Arial",[["Regular","Arial",void 0],["Black","Arial-Black",void 0],["Narrow","Arial Narrow",void 0],["Rounded Bold","Arial Rounded MT Bold",void 0]]],["Avenir",[["Book","Avenir",void 0],["Light","Avenir-Light",void 0],["Medium","Avenir-Medium",void 0],["Heavy","Avenir-Heavy",void 0],["Black","Avenir-Black",void 0]]],["Avenir Next",[["Regular","Avenir Next",void 0],["Ultra Light","AvenirNext-UltraLight",void 0],["Medium","AvenirNext-Medium",void 0],["Demi Bold","AvenirNext-DemiBold",void 0],["Heavy","AvenirNext-Heavy",void 0]]],["Avenir Next Condensed",[["Regular","Avenir Next Condensed",void 0],["Ultra Light","AvenirNextCondensed-UltraLight",void 0],["Medium","AvenirNextCondensed-Medium",void 0],["Demi Bold","AvenirNextCondensed-DemiBold",void 0],["Heavy","AvenirNextCondensed-Heavy",void 0]]],["Baskerville",[["Regular","Baskerville",void 0],["Semi Bold","Baskerville-SemiBold",void 0]]],["Bodoni 72",[["Book","Bodoni 72",void 0],["Oldstyle","Bodoni 72 Oldstyle",void 0],["Smallcaps","Bodoni 72 Smallcaps",void 0]]],["Courier",[["Regular","Courier",void 0]]],["Courier New",[["Regular","Courier New",void 0]]],["Futura",[["Medium","Futura",void 0],["Condensed","Futura-CondensedMedium",void 0],["Condensed ExtraBold","Futura-CondensedExtraBold",void 0]]],["Georgia",[["Regular","Georgia",void 0]]],["Gill Sans",[["Regular","Gill Sans",void 0],["Light","GillSans-Light",void 0],["SemiBold","GillSans-SemiBold",void 0],["UltraBold","GillSans-UltraBold",void 0]]],["Helvetica",[["Regular","Helvetica",void 0],["Light","Helvetica-Light",void 0]]],["Helvetica Neue",[["Regular","Helvetica Neue",void 0],["UltraLight","HelveticaNeue-UltraLight",void 0],["Thin","HelveticaNeue-Thin",void 0],["Light","HelveticaNeue-Light",void 0],["Medium","HelveticaNeue-Medium",void 0],["Condensed Bold","HelveticaNeue-CondensedBold",void 0],["Condensed Black","HelveticaNeue-CondensedBlack",void 0]]],["Hoefler Text",[["Regular","Hoefler Text",void 0]]],["Impact",[["Regular","Impact",void 0]]],["Lucida Grande",[["Regular","Lucida Grande",void 0]]],["Menlo",[["Regular","Menlo",void 0]]],["Monaco",[["Regular","Monaco",void 0]]],["Optima",[["Regular","Optima",void 0],["ExtraBlack","Optima-ExtraBlack",void 0]]],["Palatino",[["Regular","Palatino",void 0]]],["SF Compact Display",[["Regular","__SF-Compact-Display-Regular__",400],["Ultralight","__SF-Compact-Display-Ultralight__",100],["Thin","__SF-Compact-Display-Thin__",200],["Light","__SF-Compact-Display-Light__",300],["Medium","__SF-Compact-Display-Medium__",500],["Semibold","__SF-Compact-Display-Semibold__",600],["Bold","__SF-Compact-Display-Bold__",700],["Heavy","__SF-Compact-Display-Heavy__",800],["Black","__SF-Compact-Display-Black__",900]]],["SF Compact Rounded",[["Regular","__SF-Compact-Rounded-Regular__",400],["Ultralight","__SF-Compact-Rounded-Ultralight__",100],["Thin","__SF-Compact-Rounded-Thin__",200],["Light","__SF-Compact-Rounded-Light__",300],["Medium","__SF-Compact-Rounded-Medium__",500],["Semibold","__SF-Compact-Rounded-Semibold__",600],["Bold","__SF-Compact-Rounded-Bold__",700],["Heavy","__SF-Compact-Rounded-Heavy__",800],["Black","__SF-Compact-Rounded-Black__",900]]],["SF Compact Text",[["Regular","__SF-Compact-Text-Regular__",400],["Light","__SF-Compact-Text-Light__",200],["Medium","__SF-Compact-Text-Medium__",500],["Semibold","__SF-Compact-Text-Semibold__",600],["Bold","__SF-Compact-Text-Bold__",700],["Heavy","__SF-Compact-Text-Heavy__",800],["Italic","__SF-Compact-Text-Italic__",400],["Light Italic","__SF-Compact-Text-Light-Italic__",200],["Medium Italic","__SF-Compact-Text-Medium-Italic__",500],["Bold Italic","__SF-Compact-Text-Bold-Italic__",700],["Heavy Italic","__SF-Compact-Text-Heavy-Italic__",800],["Semibold Italic","__SF-Compact-Text-Semibold-Italic__",600]]],["SF Pro Display",[["Regular","__SF-UI-Display-Regular__",400],["Ultralight","__SF-UI-Display-Ultralight__",100],["Thin","__SF-UI-Display-Thin__",200],["Light","__SF-UI-Display-Light__",300],["Medium","__SF-UI-Display-Medium__",500],["Semibold","__SF-UI-Display-Semibold__",600],["Bold","__SF-UI-Display-Bold__",700],["Heavy","__SF-UI-Display-Heavy__",800],["Black","__SF-UI-Display-Black__",900],["Italic","__SF-UI-Display-Italic__",400],["Ultralight Italic","__SF-UI-Display-Ultralight-Italic__",100],["Thin Italic","__SF-UI-Display-Thin-Italic__",200],["Light Italic","__SF-UI-Display-Light-Italic__",300],["Medium Italic","__SF-UI-Display-Medium-Italic__",500],["Semibold Italic","__SF-UI-Display-Semibold-Italic__",600],["Bold Italic","__SF-UI-Display-Bold-Italic__",700],["Heavy Italic","__SF-UI-Display-Heavy-Italic__",800],["Black Italic","__SF-UI-Display-Black-Italic__",900]]],["SF Pro Display Condensed",[["Regular","__SF-UI-Display-Condensed-Regular__",400],["Ultralight","__SF-UI-Display-Condensed-Ultralight__",100],["Thin","__SF-UI-Display-Condensed-Thin__",200],["Light","__SF-UI-Display-Condensed-Light__",300],["Medium","__SF-UI-Display-Condensed-Medium__",500],["Semibold","__SF-UI-Display-Condensed-Semibold__",600],["Bold","__SF-UI-Display-Condensed-Bold__",700],["Heavy","__SF-UI-Display-Condensed-Heavy__",800],["Black","__SF-UI-Display-Condensed-Black__",900]]],["SF Pro Text",[["Regular","__SF-UI-Text-Regular__",400],["Light","__SF-UI-Text-Light__",200],["Medium","__SF-UI-Text-Medium__",500],["Semibold","__SF-UI-Text-Semibold__",600],["Bold","__SF-UI-Text-Bold__",700],["Heavy","__SF-UI-Text-Heavy__",800],["Italic","__SF-UI-Text-Italic__",400],["Light Italic","__SF-UI-Text-Light-Italic__",200],["Medium Italic","__SF-UI-Text-Medium-Italic__",500],["Semibold Italic","__SF-UI-Text-Semibold-Italic__",600],["Bold Italic","__SF-UI-Text-Bold-Italic__",700],["Heavy Italic","__SF-UI-Text-Heavy-Italic__",800]]],["SF Pro Text Condensed",[["Regular","__SF-UI-Text-Condensed-Regular__",400],["Light","__SF-UI-Text-Condensed-Light__",200],["Medium","__SF-UI-Text-Condensed-Medium__",500],["Semibold","__SF-UI-Text-Condensed-Semibold__",600],["Bold","__SF-UI-Text-Condensed-Bold__",700],["Heavy","__SF-UI-Text-Condensed-Heavy__",800]]],["Tahoma",[["Regular","Tahoma",void 0]]],["Times",[["Regular","Times",void 0]]],["Times New Roman",[["Regular","Times New Roman",void 0]]],["Trebuchet",[["Regular","Trebuchet MS",void 0]]],["Verdana",[["Regular","Verdana",void 0]]]];t.typefaceAliases={"__SF-Compact-Display-Regular__":"SFCompactDisplay-Regular|.SFCompactDisplay-Regular","__SF-Compact-Display-Ultralight__":"SFCompactDisplay-Ultralight|.SFCompactDisplay-Ultralight","__SF-Compact-Display-Thin__":"SFCompactDisplay-Thin|.SFCompactDisplay-Thin","__SF-Compact-Display-Light__":"SFCompactDisplay-Light|.SFCompactDisplay-Light","__SF-Compact-Display-Medium__":"SFCompactDisplay-Medium|.SFCompactDisplay-Medium","__SF-Compact-Display-Semibold__":"SFCompactDisplay-Semibold|.SFCompactDisplay-Semibold","__SF-Compact-Display-Heavy__":"SFCompactDisplay-Heavy|.SFCompactDisplay-Heavy","__SF-Compact-Display-Black__":"SFCompactDisplay-Black|.SFCompactDisplay-Black","__SF-Compact-Display-Bold__":"SFCompactDisplay-Bold|.SFCompactDisplay-Bold","__SF-UI-Text-Regular__":".SFNSText|SFProText-Regular|SFUIText-Regular|.SFUIText","__SF-UI-Text-Light__":".SFNSText-Light|SFProText-Light|SFUIText-Light|.SFUIText-Light","__SF-UI-Text-Medium__":".SFNSText-Medium|SFProText-Medium|SFUIText-Medium|.SFUIText-Medium","__SF-UI-Text-Semibold__":".SFNSText-Semibold|SFProText-Semibold|SFUIText-Semibold|.SFUIText-Semibold","__SF-UI-Text-Bold__":".SFNSText-Bold|SFProText-Bold|SFUIText-Bold|.SFUIText-Bold","__SF-UI-Text-Heavy__":".SFNSText-Heavy|SFProText-Heavy|.SFUIText-Heavy","__SF-UI-Text-Italic__":".SFNSText-Italic||SFProText-Italic|SFUIText-Italic|.SFUIText-Italic","__SF-UI-Text-Light-Italic__":".SFNSText-LightItalic|SFProText-LightItalic|SFUIText-LightItalic|.SFUIText-LightItalic","__SF-UI-Text-Medium-Italic__":".SFNSText-MediumItalic|SFProText-MediumItalic|SFUIText-MediumItalic|.SFUIText-MediumItalic","__SF-UI-Text-Semibold-Italic__":".SFNSText-SemiboldItalic|SFProText-SemiboldItalic|SFUIText-SemiboldItalic|.SFUIText-SemiboldItalic","__SF-UI-Text-Bold-Italic__":".SFNSText-BoldItalic|SFProText-BoldItalic|SFUIText-BoldItalic|.SFUIText-BoldItalic","__SF-UI-Text-Heavy-Italic__":".SFNSText-HeavyItalic|SFProText-HeavyItalic|.SFUIText-HeavyItalic","__SF-Compact-Text-Regular__":"SFCompactText-Regular|.SFCompactText-Regular","__SF-Compact-Text-Light__":"SFCompactText-Light|.SFCompactText-Light","__SF-Compact-Text-Medium__":"SFCompactText-Medium|.SFCompactText-Medium","__SF-Compact-Text-Semibold__":"SFCompactText-Semibold|.SFCompactText-Semibold","__SF-Compact-Text-Bold__":"SFCompactText-Bold|.SFCompactText-Bold","__SF-Compact-Text-Heavy__":"SFCompactText-Heavy|.SFCompactText-Heavy","__SF-Compact-Text-Italic__":"SFCompactText-Italic|.SFCompactText-Italic","__SF-Compact-Text-Light-Italic__":"SFCompactText-LightItalic|.SFCompactText-LightItalic","__SF-Compact-Text-Medium-Italic__":"SFCompactText-MediumItalic|.SFCompactText-MediumItalic","__SF-Compact-Text-Semibold-Italic__":"SFCompactText-SemiboldItalic|.SFCompactText-SemiboldItalic","__SF-Compact-Text-Bold-Italic__":"SFCompactText-BoldItalic|.SFCompactText-BoldItalic","__SF-Compact-Text-Heavy-Italic__":"SFCompactText-HeavyItalic|.SFCompactText-HeavyItalic","__SF-UI-Display-Condensed-Regular__":".SFNSDisplayCondensed-Regular|SFUIDisplayCondensed-Regular|.SFUIDisplayCondensed-Regular","__SF-UI-Display-Condensed-Ultralight__":".SFNSDisplayCondensed-Ultralight|SFUIDisplayCondensed-Ultralight|.SFUIDisplayCondensed-Ultralight","__SF-UI-Display-Condensed-Thin__":".SFNSDisplayCondensed-Thin|SFUIDisplayCondensed-Thin|.SFUIDisplayCondensed-Thin","__SF-UI-Display-Condensed-Light__":".SFNSDisplayCondensed-Light|SFUIDisplayCondensed-Light|.SFUIDisplayCondensed-Light","__SF-UI-Display-Condensed-Medium__":".SFNSDisplayCondensed-Medium|SFUIDisplayCondensed-Medium|.SFUIDisplayCondensed-Medium","__SF-UI-Display-Condensed-Semibold__":".SFNSDisplayCondensed-Semibold|SFUIDisplayCondensed-Semibold|.SFUIDisplayCondensed-Semibold","__SF-UI-Display-Condensed-Bold__":".SFNSDisplayCondensed-Bold|SFUIDisplayCondensed-Bold|.SFUIDisplayCondensed-Bold","__SF-UI-Display-Condensed-Heavy__":".SFNSDisplayCondensed-Heavy|SFUIDisplayCondensed-Heavy|.SFUIDisplayCondensed-Heavy","__SF-UI-Display-Condensed-Black__":".SFNSDisplayCondensed-Black|.SFUIDisplayCondensed-Black","__SF-UI-Display-Regular__":".SFNSDisplay|SFProDisplay-Regular|SFUIDisplay-Regular|.SFUIDisplay","__SF-UI-Display-Ultralight__":".SFNSDisplay-Ultralight|SFProDisplay-Ultralight|SFUIDisplay-Ultralight|.SFUIDisplay-Ultralight","__SF-UI-Display-Thin__":".SFNSDisplay-Thin|SFProDisplay-Thin|SFUIDisplay-Thin|.SFUIDisplay-Thin","__SF-UI-Display-Light__":".SFNSDisplay-Light|SFProDisplay-Light|SFUIDisplay-Light|.SFUIDisplay-Light","__SF-UI-Display-Medium__":".SFNSDisplay-Medium|SFProDisplay-Medium|SFUIDisplay-Medium|.SFUIDisplay-Medium","__SF-UI-Display-Semibold__":".SFNSDisplay-Semibold|SFProDisplay-Semibold|SFUIDisplay-Semibold|.SFUIDisplay-Semibold","__SF-UI-Display-Bold__":".SFNSDisplay-Bold|SFProDisplay-Bold|SFUIDisplay-Bold|.SFUIDisplay-Bold","__SF-UI-Display-Heavy__":".SFNSDisplay-Heavy|SFProDisplay-Heavy|SFUIDisplay-Heavy|.SFUIDisplay-Heavy","__SF-UI-Display-Black__":".SFNSDisplay-Black|SFProDisplay-Black|.SFUIDisplay-Black","__SF-UI-Display-Italic__":".SFNSDisplay-Italic|SFProDisplay-Italic|SFUIDisplay-Italic","__SF-UI-Display-Ultralight-Italic__":".SFNSDisplay-UltralightItalic|SFProDisplay-UltralightItalic|SFUIDisplay-UltralightItalic|.SFUIDisplay-UltralightItalic","__SF-UI-Display-Thin-Italic__":".SFNSDisplay-ThinItalic|SFProDisplay-ThinItalic|SFUIDisplay-ThinItalic|.SFUIDisplay-ThinItalic","__SF-UI-Display-Light-Italic__":".SFNSDisplay-LightItalic|SFProDisplay-LightItalic|SFUIDisplay-LightItalic|.SFUIDisplay-LightItalic","__SF-UI-Display-Medium-Italic__":".SFNSDisplay-MediumItalic|SFProDisplay-MediumItalic|SFUIDisplay-MediumItalic|.SFUIDisplay-MediumItalic","__SF-UI-Display-Semibold-Italic__":".SFNSDisplay-SemiboldItalic|SFProDisplay-SemiboldItalic|SFUIDisplay-SemiboldItalic|.SFUIDisplay-SemiboldItalic","__SF-UI-Display-Bold-Italic__":".SFNSDisplay-BoldItalic|SFProDisplay-BoldItalic|SFUIDisplay-BoldItalic|.SFUIDisplay-BoldItalic","__SF-UI-Display-Heavy-Italic__":".SFNSDisplay-HeavyItalic|SFProDisplay-HeavyItalic|SFUIDisplay-HeavyItalic|.SFUIDisplay-HeavyItalic","__SF-UI-Display-Black-Italic__":".SFNSDisplay-BlackItalic|SFProDisplay-BlackItalic|.SFUIDisplay-BlackItalic","__SF-UI-Text-Condensed-Regular__":".SFNSTextCondensed-Regular|SFUITextCondensed-Regular|.SFUITextCondensed-Regular","__SF-UI-Text-Condensed-Light__":".SFNSTextCondensed-Light|SFUITextCondensed-Light|.SFUITextCondensed-Light","__SF-UI-Text-Condensed-Medium__":".SFNSTextCondensed-Medium|SFUITextCondensed-Medium|.SFUITextCondensed-Medium","__SF-UI-Text-Condensed-Semibold__":".SFNSTextCondensed-Semibold|SFUITextCondensed-Semibold|.SFUITextCondensed-Semibold","__SF-UI-Text-Condensed-Bold__":".SFNSTextCondensed-Bold|SFUITextCondensed-Bold|.SFUITextCondensed-Bold","__SF-UI-Text-Condensed-Heavy__":".SFNSTextCondensed-Heavy|.SFUITextCondensed-Heavy","__SF-Compact-Rounded-Regular__":"SFCompactRounded-Regular|.SFCompactRounded-Regular","__SF-Compact-Rounded-Ultralight__":"SFCompactRounded-Ultralight|.SFCompactRounded-Ultralight","__SF-Compact-Rounded-Thin__":"SFCompactRounded-Thin|.SFCompactRounded-Thin","__SF-Compact-Rounded-Light__":"SFCompactRounded-Light|.SFCompactRounded-Light","__SF-Compact-Rounded-Medium__":"SFCompactRounded-Medium|.SFCompactRounded-Medium","__SF-Compact-Rounded-Semibold__":"SFCompactRounded-Semibold|.SFCompactRounded-Semibold","__SF-Compact-Rounded-Bold__":"SFCompactRounded-Bold|.SFCompactRounded-Bold","__SF-Compact-Rounded-Heavy__":"SFCompactRounded-Heavy|.SFCompactRounded-Heavy","__SF-Compact-Rounded-Black__":"SFCompactRounded-Black|.SFCompactRounded-Black"},t.typefaces=function convertToOrderedMap(e){return i.OrderedMap(e.map(e=>[e[0],i.OrderedMap(e[1].map(e=>[e[0],{selector:e[1],weight:e[2]}]))]))}(void 0!==r.safeWindow&&void 0!==r.safeWindow.SystemTypefaceDescriptors?r.safeWindow.SystemTypefaceDescriptors:o),t.defaultFontDescriptor=void 0!==r.safeWindow&&void 0!==r.safeWindow.SystemTypefaceDefaultDescriptor?r.safeWindow.SystemTypefaceDefaultDescriptor:t.typefaces.get("SF Pro Text").get("Regular"),t.fontSelectors=i.Map(t.typefaces.flatMap((e,t)=>i.Map(e.map((e,n)=>[e.selector,[t,n,e.weight]]).toArray())))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseVariant=function parseVariant(e){if("regular"===e)return{style:"normal",weight:400};const t=/([0-9]*)([a-z]*)/.exec(e);return t?{weight:parseInt(t[1]||"400"),style:t[2]||"normal"}:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(218),i=n(99),o=n(37),s=n(68);t.draftStyles={font:{prefix:"FONT:",default:r.fontStore.defaultFont.selector,setCSS:getStyleForTypefaceOrSelector,fromCSS:getFontStyleStringFromCSS},color:{prefix:"COLOR:",default:"rgb(0, 0, 0)",setCSS:(e,t)=>t.WebkitTextFillColor=e,fromCSS:e=>{let t;if(null!==e.webkitTextFillColor&&(t=e.webkitTextFillColor),null!==e.color&&(t=e.color),t)return o.ConvertColor.toRgbString(t)}},size:{prefix:"SIZE:",default:16,setCSS:(e,t)=>t.fontSize=`${e}px`,fromCSS:e=>a(e,"fontSize")},letterSpacing:{prefix:"LETTERSPACING:",default:0,setCSS:(e,t)=>t.letterSpacing=`${e}px`,fromCSS:e=>a(e,"letterSpacing",1)},lineHeight:{prefix:"LINEHEIGHT:",default:1.2,setCSS:(e,t)=>t.lineHeight=`${e}`,fromCSS:e=>a(e,"lineHeight",1)},align:{prefix:"ALIGN:"}};const a=(e,t,n)=>{if(null===e[t])return;const r=parseFloat(e[t]);return isNaN(r)?void 0:void 0===n?`${r}`:r.toFixed(n)};function isStyleHandler(e){return void 0!==e.setCSS}function getStyleForTypefaceOrSelector(e,t={}){let n=[],o="";r.fontStore.local.isTypefaceAlias(e)&&(e=r.fontStore.local.getTypefaceSelectorByAlias(e)||"");const s=r.fontStore.getTypeface({source:i.TypefaceSourceNames.Local,family:e});if(s&&s.fonts.length&&(o=s.fonts[0].selector)&&(r.fontStore.local.isTypefaceAlias(o)&&(o=r.fontStore.local.getTypefaceSelectorByAlias(o)||""),n=o.split("|")),!o){n=e.split("|");const i=r.fontStore.getOrCreateFontBySelector(e);if(i){const e=i.typeface.family,r=i.weight,o=i.style;-1===n.indexOf(e)&&void 0!==r&&(n.push(e),r&&(t.fontWeight=r)),o&&(t.fontStyle=o)}}e.startsWith(".SF")&&delete t.fontWeight;const a=n.map(e=>{const t=r.fontStore.getOrCreateFontBySelector(e);return t&&t.typeface.source===i.TypefaceSourceNames.Google?t.typeface.family:e});return t.fontFamily=`"${a.join('", "')}"`,e.match(/mono|consolas|console|courier|menlo|monaco/i)?t.fontFamily+=", monospace":e.match(/serif|roboto.slab/i)?t.fontFamily+=", serif":e.match(/sans|arial|roboto|sfui|futura|helvetica|grande|tahoma|verdana/i)?t.fontFamily+=", sans-serif":t.fontFamily+=", serif",t}function getFontStyleStringFromCSS(e){if(null===e.fontFamily)return;const t=e.fontFamily.split(/['"]?, ['"]?/);if(0===t.length)return;t.length>1&&t.pop(),t[0]=t[0].replace(/^['"]/,"");let n=t.join("|"),i=r.fontStore.getFontBySelector(n);if(!i){t.pop();const e=t.join("|");r.fontStore.getFontBySelector(e)&&(n=e)}const o=r.fontStore.local.getTypefaceAliasBySelector(n);if(o&&(n=o),i=r.fontStore.getFontBySelector(n)){const t=i.weight;t&&`${t}`===e.fontWeight&&(e.fontWeight="normal")}return n}t.draftStyleFunction=(e,n=!0)=>{const r={tabSize:4};for(const i in t.draftStyles){const e=t.draftStyles[i];isStyleHandler(e)&&e.setCSS(e.default,r)}return e.forEach(e=>{if("BOLD"===e)s.isFiniteNumber(r.fontWeight)?r.fontWeight=Math.max(r.fontWeight+300,900):r.fontWeight="bold";else if("ITALIC"===e)r.fontStyle="italic";else if("UNDERLINE"===e)r.textDecoration="underline";else if("SELECTION"===e&&n)r.backgroundColor="rgba(128,128,128,0.33)";else for(const n in t.draftStyles){const i=t.draftStyles[n];if(isStyleHandler(i)&&e.startsWith(i.prefix)){i.setCSS(e.slice(i.prefix.length),r);break}}}),r},t.getStyleForTypefaceOrSelector=getStyleForTypefaceOrSelector,t.getFontStyleStringFromCSS=getFontStyleStringFromCSS},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(48),s=n(119),a=n(16),c=n(69),l=n(334),u=n(83),h=n(15),d=n(32),p=150,f=5e3,g=200;let m=g,v=0,y=!0;function resetComponentTimeBudget(){m=g;const e=a.RenderEnvironment.target===a.RenderTarget.preview?f:p;v=Date.now()+e,y&&(y=!1,setTimeout(()=>{y=!0},1)),h.safeWindow.__checkBudget__!==checkBudget&&(h.safeWindow.__checkBudget__=checkBudget)}function checkBudget(){--m<0&&function checkBudgetFull(){if(y)resetComponentTimeBudget();else if(Date.now()>v)throw Error("Component exceeded time limit.");m=g}()}h.safeWindow.__checkBudget__=checkBudget,t.ComponentContainerContext=i.createContext(!1);class ComponentContainer extends o.Layer{constructor(){super(...arguments),this.state={}}componentDidCatch(e,t){let n=t.componentStack.split("\n").filter(e=>0!==e.length),r=0;for(const i of n){if(i.startsWith(`    in ${this.constructor.name}`))break;r++}n=n.slice(0,r),this.setState({lastError:{children:this.props.children,name:e.name,message:e.message,componentStack:n}})}renderErrorPlaceholder(e,t){return i.createElement(c.FrameWithMotion,Object.assign({},this.props,{background:null}),i.createElement(l.ComponentPlaceholder,{type:l.PlaceholderType.Error,title:e,message:t}))}render(){let{children:e}=this.props;const{componentIdentifier:n}=this.props,{lastError:o}=this.state;if(!e||Array.isArray(e)&&0===e.filter(e=>e).length){const e=s.componentLoader.errorForIdentifier(n);if(e)return this.renderErrorPlaceholder(e.file,e.error.toString())}if(o&&o.children===e){const e=s.componentLoader.componentForIdentifier(n),t=e?e.file:"???";return this.renderErrorPlaceholder(t,o.message)}resetComponentTimeBudget();let l=this.props;if(a.RenderTarget.current()!==a.RenderTarget.canvas){const t=l,{left:n,right:o,top:s,bottom:a,center:c,centerX:h,centerY:d,aspectRatio:p,parentSize:f,width:g,height:m,rotation:v,opacity:y,visible:S,_constraints:b,_initialStyle:_,name:C,componentIdentifier:w,children:x,style:P}=t,T=r(t,["left","right","top","bottom","center","centerX","centerY","aspectRatio","parentSize","width","height","rotation","opacity","visible","_constraints","_initialStyle","name","componentIdentifier","children","style"]);e=i.Children.map(x,e=>u.isReactChild(e)&&u.isReactElement(e)?i.cloneElement(e,T):e),l={style:P,_constraints:b,_initialStyle:_,left:n,right:o,top:s,bottom:a,center:c,centerX:h,centerY:d,aspectRatio:p,parentSize:f,width:g,height:m,rotation:v,visible:S,name:C}}return i.createElement(t.ComponentContainerContext.Provider,{value:!0},i.createElement(c.FrameWithMotion,Object.assign({background:null,overflow:"visible"},l),e))}}ComponentContainer.supportsConstraints=!0,ComponentContainer.defaultComponentContainerProps={style:{},visible:!0,componentIdentifier:""},ComponentContainer.defaultProps=Object.assign({},o.Layer.defaultProps,ComponentContainer.defaultComponentContainerProps),t.ComponentContainer=ComponentContainer,ComponentContainer.rect=function(e,t){return d.calculateRect(e,t||d.ParentSizeState.Unknown)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(69);var o;!function(e){e[e.Loading=0]="Loading",e[e.Error=1]="Error"}(o=t.PlaceholderType||(t.PlaceholderType={})),t.ComponentPlaceholder=function ComponentPlaceholder({type:e,title:t,message:n,props:o}){return r.createElement(i.FrameWithMotion,Object.assign({className:className(e),style:s,width:"100%",height:"100%"},o),r.createElement("div",{style:c},function placeholderTitle(e,t){return t?`${typeTitle(e)} in ${function stripSlash(e){return e.startsWith("./")?e.replace("./",""):e}(t)}`:typeTitle(e)}(e,t)),n&&r.createElement("div",{style:l},n))};const s={background:void 0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",lineHeight:"1.4em",textOverflow:"ellipsis",overflow:"hidden",minHeight:0},a={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:"100%",flexShrink:0,padding:"0 10px"},c=Object.assign({},a,{fontWeight:500}),l=Object.assign({},a,{whiteSpace:"pre",maxHeight:"calc(50% - calc(20px * var(--framerInternalCanvas-canvasPlaceholderContentScaleFactor, 1)))",opacity:.8,WebkitMaskImage:"linear-gradient(to bottom, black 80%, transparent 100%)"});function className(e){switch(e){case o.Error:return"framerInternalUI-errorPlaceholder";case o.Loading:return"framerInternalUI-componentPlaceholder"}}function typeTitle(e){switch(e){case o.Loading:return"Loading";case o.Error:return"Error"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(3),o=n(125);class TextBlock extends r.Component{render(){const{block:e,blockProps:t}=this.props;let n;if(0===e.getLength()){const t=e.getData().get("emptyStyle",i.OrderedSet()),r=o.CharacterMetadata.create({style:t}),s=e.getCharacterList().insert(0,r);n=e.set("characterList",s)}const s={fontSize:"1px",textAlign:t.alignment};return r.createElement("div",{style:s},r.createElement(o.EditorBlock,Object.assign({},this.props,{block:n||e})))}}t.TextBlock=TextBlock,t.draftBlockRendererFunction=({alignment:e,editable:t})=>n=>({component:TextBlock,props:{alignment:e},editable:t})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(48);t.SVGRoot=class SVGRoot extends r.Component{render(){const{children:e,frame:t}=this.props,{width:n,height:o}=t,s=Math.floor(t.x),a=Math.floor(t.y),c={position:"absolute",width:Math.ceil(n),height:Math.ceil(o),overflow:"visible",display:"block",transform:`translate(${s}px, ${a}px)`};return i.Layer.applyWillChange(this,c),r.createElement("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:c},e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformValues=function transformValues(e,t,n,r){const i=function getTransformMode(e,t){if(void 0!==t){if(t)return"asIs"}else if(!e)return"asIs";return e?"resetXYKeepFraction":"resetXY"}(n,r);return function createTransformValues(e,t){let{x:n,y:r}=e;const{width:i,height:o,rotation:s}=e;return"resetXYKeepFraction"===t?(n-=Math.floor(n),r-=Math.floor(r)):"resetXY"===t&&(n=0,r=0),{x:n,y:r,width:i,height:o,rotation:s}}(Object.assign({},e,{rotation:t}),i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isShallowEqualArray=function isShallowEqualArray(e,t){return e.length===t.length&&e.every((e,n)=>e===t[n])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={stiffness:350,damping:100,restDelta:1,type:"spring"};var i;!function(e){e.Fade={exit:{opacity:0},enter:{opacity:0}},e.PushLeft={exit:{x:"-30%"},enter:{x:"100%"}},e.PushRight={exit:{x:"30%"},enter:{x:"-100%"}},e.PushUp={exit:{y:"-30%"},enter:{y:"100%"}},e.PushDown={exit:{y:"30%"},enter:{y:"-100%"}},e.Instant={animation:{type:!1}},e.Modal={overCurrentContext:!0,goBackOnTapOutside:!0,position:{center:!0},enter:{opacity:0,scale:1.2,y:10}},e.OverlayLeft={overCurrentContext:!0,goBackOnTapOutside:!0,position:{right:0,top:0,bottom:0},enter:{x:"100%"}},e.OverlayRight={overCurrentContext:!0,goBackOnTapOutside:!0,position:{left:0,top:0,bottom:0},enter:{x:"-100%"}},e.OverlayUp={overCurrentContext:!0,goBackOnTapOutside:!0,position:{bottom:0,left:0,right:0},enter:{y:"100%"}},e.OverlayDown={overCurrentContext:!0,goBackOnTapOutside:!0,position:{top:0,left:0,right:0},enter:{y:"-100%"}},e.FlipLeft={backfaceVisible:!1,exit:{rotateY:-180},enter:{rotateY:180},animation:r},e.FlipRight={backfaceVisible:!1,exit:{rotateY:180},enter:{rotateY:-180},animation:r},e.FlipUp={backfaceVisible:!1,exit:{rotateX:180},enter:{rotateX:-180},animation:r},e.FlipDown={backfaceVisible:!1,exit:{rotateX:-180},enter:{rotateX:180},animation:r}}(i=t.TransitionDefaults||(t.TransitionDefaults={})),t.pushTransition=function pushTransition(e){switch(e&&e.appearsFrom?e.appearsFrom:"right"){case"right":return i.PushLeft;case"left":return i.PushRight;case"bottom":return i.PushUp;case"top":return i.PushDown}},t.overlayTransition=function overlayTransition(e){switch(e&&e.appearsFrom?e.appearsFrom:"bottom"){case"right":return i.OverlayLeft;case"left":return i.OverlayRight;case"bottom":return i.OverlayUp;case"top":return i.OverlayDown}},t.flipTransition=function flipTransition(e){switch(e&&e.appearsFrom?e.appearsFrom:"bottom"){case"right":return i.FlipLeft;case"left":return i.FlipRight;case"bottom":return i.FlipUp;case"top":return i.FlipDown}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=(e=0,t)=>{setTimeout(t,1e3*e)},t.isFunction=function isFunction(e){return e instanceof Function},t.isString=function isString(e){return"string"==typeof e},t.isNumber=function isNumber(e){return"number"==typeof e},t.isArray=function isArray(e){return e instanceof Array},t.isObject=function isObject(e){return"object"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lightSyntaxColors={blue:"#0099FF",lightBlue:"#33AAEE",teal:"#00BBCC",yellow:"#FFAA00",orange:"#FF8866",purple:"#8855FF",purpleFade:"#DD88FF",pink:"#FF3377",default:"#666666",gray:"#999999",grayFade:"#BBBBBB"},t.darkSyntaxColors={blue:"#00BBFF",lightBlue:"#AADDFF",teal:"#22CCDD",yellow:"#FFCC66",orange:"#FF8866",purple:"#BB88FF",purpleFade:"#EEAAFF",pink:"#FF5599",default:"#EEEEEE",gray:"#999999",grayFade:"#666666"}},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(0),s=n(79),a=n(605),c=n(344),l=n(1),u=n(123),h=n(201),d=n(160),p=n(345),f=n(150),g=n(16),m=n(32),v=n(607);var y=n(608);t.ScrollProps=y.ScrollProps,t.ScrollEvents=y.ScrollEvents,t.ScrollConfig=y.ScrollConfig;const S={horizontal:"x",vertical:"y",both:!0};const b=(e,t,n)=>o.useMemo(()=>{let r;if(!e)return[r,n];r={width:e.width,height:e.height};const o=i.Children.map(n,n=>{if(null===n||"object"!=typeof n||"string"==typeof n.type)return n;const o=n.type;if(c.isRectProviding(o)){const t=o.rect(n.props,e);t&&r?(r.width=Math.max(l.Rect.maxX(t),r.width),r.height=Math.max(l.Rect.maxY(t),r.height)):r=void 0}else r=void 0;const s={};return"vertical"===t?(s.width=e.width,r&&(r.width=e.width)):"horizontal"===t&&(s.height=e.height,r&&(r.height=e.height)),i.cloneElement(n,s)});return[r,o]},[e,t,n]);function Scroll(e){const{direction:t="vertical",directionLock:n=!1,dragEnabled:c=!0,wheelEnabled:p=!0,contentOffsetX:y=0,contentOffsetY:_=0,contentWidth:C,contentHeight:w,onScrollStart:x,onScroll:P,onScrollEnd:T,onDragStart:k,onDrag:E,onDragEnd:O,onUpdate:M,onDirectionLock:F,style:D,children:I,scrollAnimate:R,overflow:N="hidden"}=e,A=r(e,["direction","directionLock","dragEnabled","wheelEnabled","contentOffsetX","contentOffsetY","contentWidth","contentHeight","onScrollStart","onScroll","onScrollEnd","onDragStart","onDrag","onDragEnd","onUpdate","onDirectionLock","style","children","scrollAnimate","overflow"]),B=s.useMotionValue("number"==typeof y?y:0),L=s.useMotionValue("number"==typeof _?_:0),j=f.isMotionValue(y)?y:B,z=f.isMotionValue(_)?_:L,{initial:U,prev:H}=o.useRef({initial:{x:0,y:0},prev:{x:0,y:0}}).current,V=u.unwrapFrameProps(e),W=o.useRef(t);let G;W.current!==t&&(j.set(0),z.set(0),W.current=t);let q=!1;"number"==typeof A.width&&"number"==typeof A.height&&(G={width:A.width,height:A.height},q=!0),A.__fromCodeComponentNode&&!m.constraintsEnabled(V)&&(A.width="100%",A.height="100%",A._constraints={enabled:!0},q=!1);const K=m.useConstraints(V),$=g.RenderTarget.current()===g.RenderTarget.preview,X=o.useRef(null),Y=v.useMeasureSize(X,{observe:$,skipHook:q,initial:G}),J=K||Y,[Z,Q]=b(J,t,I),ee=o.useRef(null),te=void 0!==C&&void 0!==w||void 0!==Z;let ne=a.useChildrenSize(ee,{observe:$,skipHook:te||!$,initial:Z});void 0!==C&&(ne=Object.assign({},ne,{width:C})),void 0!==w&&(ne=Object.assign({},ne,{height:w}));const re={top:-ne.height,left:-ne.width,right:0,bottom:0};J?(re.top+=J.height,re.left+=J.width):("number"==typeof A.width?re.left+=A.width:void 0===A.width&&(re.left+=u.defaultFrameRect.width),"number"==typeof A.height?re.top+=A.height:void 0===A.height&&(re.top+=u.defaultFrameRect.height)),re.top=Math.min(re.top,0),re.left=Math.min(re.left,0);const ie=()=>({x:j.get(),y:z.get()}),oe=o.useCallback(()=>{const e=ie();U.x=e.x,U.y=e.y,H.x=e.x,H.y=e.y},[]),se=o.useCallback(()=>{const e=ie(),t={point:e,velocity:{x:j.getVelocity(),y:z.getVelocity()},offset:{x:e.x-U.x,y:e.y-U.y},delta:{x:e.x-H.x,y:e.y-H.y}};return H.x=e.x,H.y=e.y,t},[j,z]),ae=o.useCallback(e=>{M&&M(e),P&&P(se())},[P,M,se]),ce=i.useRef(!1),le=o.useMemo(()=>{function updateX(e){j.stop(),j.set(function clampX(e){return h.clamp(e,re.left,re.right)}(j.get()-e))}function updateY(e){z.stop(),z.set(function clampY(e){return h.clamp(e,re.top,re.bottom)}(z.get()-e))}const e=l.debounce(()=>{T&&T(se()),ce.current=!1},200);return n=>{if(n.preventDefault(),p){switch(ce.current||(oe(),x&&x(se()),ce.current=!0),t){case"horizontal":updateX(n.deltaX);break;case"vertical":updateY(n.deltaY);break;default:updateX(n.deltaX),updateY(n.deltaY)}e()}}},[j,z,t,re]);return i.createElement(u.FrameWithMotion,Object.assign({onWheel:le},A,{overflow:N,style:Object.assign({background:"transparent"},D),preserve3d:A.preserve3d,ref:X}),i.createElement(u.FrameWithMotion,{animate:R,drag:c&&(ue=t,ue?S[ue]:ue),dragDirectionLock:n,dragConstraints:re,onDragStart:(e,t)=>{oe(),k&&k(e,t),x&&x(t)},onDrag:E,onDragEnd:O,onDragTransitionEnd:()=>T&&T(se()),onUpdate:ae,onDirectionLock:F,width:ne.width,height:ne.height,style:{background:"transparent",overflow:"visible",x:j,y:z},preserve3d:A.preserve3d},i.createElement("div",{ref:ee,style:{display:"contain"}},i.createElement(d.EmptyState,{children:I,size:{width:J&&J.width||s.unwrapMotionValue(A.width)||u.defaultFrameRect.width,height:J&&J.height||s.unwrapMotionValue(A.height)||u.defaultFrameRect.height},insideUserCodeComponent:!A.__fromCodeComponentNode,title:"Connect to scrollable content"}),Q)));var ue}t.Scroll=Scroll,p.addPropertyControls(Scroll,{direction:{type:l.ControlType.SegmentedEnum,title:"Direction",options:["vertical","horizontal","both"],defaultValue:"vertical"},directionLock:{type:l.ControlType.Boolean,title:"Lock",enabledTitle:"1 Axis",disabledTitle:"Off",defaultValue:!0},dragEnabled:{type:l.ControlType.Boolean,title:"Drag scroll",enabledTitle:"On",disabledTitle:"Off",defaultValue:!0},wheelEnabled:{type:l.ControlType.Boolean,title:"Wheel scroll",enabledTitle:"On",disabledTitle:"Off",defaultValue:!0},onScroll:{type:l.ControlType.EventHandler},onScrollStart:{type:l.ControlType.EventHandler},onScrollEnd:{type:l.ControlType.EventHandler}}),Scroll.supportsConstraints=!0,Scroll._isStylable=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(606),i=n(0);t.useResizeObserver=function useResizeObserver(e,t,n={}){const{skipHook:o=!1,observeChildren:s=!1}=n;i.useEffect(()=>{if(o||!e.current)return;const n=new r.default(t);if(s)for(const t of e.current.children)n.observe(t);else n.observe(e.current);return()=>{n.disconnect()}},[e.current,o,s,t])}},function(e,t,n){"use strict";function isRectProviding(e){return"rect"in e&&e.rect instanceof Function}Object.defineProperty(t,"__esModule",{value:!0}),t.isRectProviding=isRectProviding,t.rectFromReactNode=function rectFromReactNode(e){if(!e||!0===e||"number"==typeof e||"string"==typeof e||"string"==typeof e.type)return null;const t=e.type,n=e.props;return t&&n&&isRectProviding(t)?t.rect(n):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addPropertyControls=function addPropertyControls(e,t){Object.assign(e,{propertyControls:t})},t.getPropertyControls=function getPropertyControls(e){return e.propertyControls}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(287),i=n(1);t.Draggable=r.WithDragging(i.DeprecatedFrameWithEvents)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(348),o=n(69),s=n(221);t.Screen=class Screen extends r.Component{constructor(){super(...arguments),this.session=new i.FramerEventSession(this.dispatcher),this.elementRef=r.createRef()}componentDidMount(){this.elementRef.current&&(this.session.originElement=this.elementRef.current)}render(){const{width:e,height:t,scale:n,color:i="none",children:a}=this.props,c=r.createElement(o.FrameWithMotion,{ref:this.elementRef,width:e,height:t,style:{originX:0,originY:0,scale:n,backgroundColor:i}},a);return r.createElement(s.FramerEventListener,{session:this.session},c)}dispatcher(e,t,n){n.dispatchEvent(new CustomEvent("FramerEvent",{bubbles:!0,detail:{type:e,event:t}}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(120),i=n(611),o=n(612),s=n(613);t.FramerEventSession=class FramerEventSession{constructor(e,t){this.events=[],this.recognizers=[],this.mouseWheelRecognizer=new s.MouseWheelGestureRecognizer,this.dispatcher=e,this.originElement=t||document.body;const n=new i.PanGestureRecognizer,r=new o.TapGestureRecognizer;n.handler=this,r.handler=this,this.mouseWheelRecognizer.handler=this,this.recognizers=[r,n]}get isStarted(){return 0!==this.events.length}get startEvent(){return this.isStarted?this.events[0]:null}get lastEvent(){return this.events.length>0?this.events[this.events.length-1]:null}processEvent(e){return this.events.push(e),e}pointerDown(e){this.isStarted||(this.processEvent(e),this.recognizers.map(t=>{t.cancel(),t.pointerSessionBegan(this,e)}))}pointerMove(e){this.isStarted&&(this.processEvent(e),this.recognizers.map(t=>{t.pointerSessionMoved(this,e)}))}pointerUp(e){this.isStarted&&(this.processEvent(e),this.recognizers.map(t=>{t.pointerSessionEnded(this,e)}),this.clearEvents(),this.recognizers.map(e=>{e.reset()}))}mouseWheel(e){this.processEvent(e),this.mouseWheelRecognizer.mouseWheel(this,e),this.clearEvents()}clearEvents(){this.events=[]}dispatch(e,t,n=null){const r=n||this.startEvent&&this.startEvent.target||t.target;r&&this.dispatcher(e,t,r)}gestureBegan(e,t,n){this.dispatch(`${e}start`,t,n)}gestureChanged(e,t,n){this.dispatch(e,t,n)}gestureEnded(e,t,n){this.dispatch(`${e}end`,t,n)}velocity(e=2*r.Loop.TimeStep){if(!this.isStarted||this.events.length<2)return{x:0,y:0};const t=this.events;let n=t.length-1,i=null;for(;n>=0&&(i=t[n],!(r.MainLoop.time-i.loopTime>e));)n--;if(!i)return{x:0,y:0};const o=t[t.length-1],s=1e3*(r.MainLoop.time-i.loopTime);if(0===s)return{x:0,y:0};const a={x:(o.devicePoint.x-i.devicePoint.x)/s,y:(o.devicePoint.y-i.devicePoint.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}offset(e){return this.startEvent?((e,t)=>({x:e.x-t.x,y:e.y-t.y}))(e.devicePoint,this.startEvent.devicePoint):{x:0,y:0}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(48),o=n(160),s=n(152),a=n(97),c=n(151),l=n(16),u=n(1),h=n(81),d=n(224),p=n(83),f=n(69),g=n(223),m=n(32),v=["start","center","end"],y=v.map(e=>{switch(e){case"start":return"Start";case"center":return"Center";case"end":return"End"}}),S=v.map(e=>{switch(e){case"start":return"Left";case"center":return"Center";case"end":return"Right"}}),b=v.map(e=>{switch(e){case"start":return"Top";case"center":return"Center";case"end":return"Bottom"}});class DeprecatedStack extends i.Layer{constructor(){super(...arguments),this.state={size:null,shouldCheckImageAvailability:!0,currentBackgroundImageSrc:null}}get rect(){return d.calcStackRect(this.props,null)}static getDerivedStateFromProps(e,t){const n=d.calcUpdatedStackComponentSize(e,t),r=l.RenderTarget.current(),i=e.background&&h.BackgroundImage.isImageObject(e.background)?e.background.src:null;if(i){const e=t.currentBackgroundImageSrc!==i;if(e!==t.shouldCheckImageAvailability)return{size:n,currentBackgroundImageSrc:i,shouldCheckImageAvailability:e}}if(t.size){if(r===l.RenderTarget.preview)return null;if(t.size.width===n.width&&t.size.height===n.height)return null}return{size:n,currentBackgroundImageSrc:i,shouldCheckImageAvailability:t.shouldCheckImageAvailability}}render(){return r.createElement(m.ConsumeParentSize,null,({size:e})=>{const t=m.deprecatedParentSize(e),n=this.props,{visible:i,placeholders:a,_forwardedOverrides:l}=n;if(!i)return null;let u=this.props.children;l&&u&&(u=r.Children.map(this.props.children,e=>r.cloneElement(e,{_forwardedOverrides:l})));const h=d.invisibleItemIndexes(u,a),p=d.calcPaddingSize(n),g=s.ConstraintValues.fromProperties(n),v=s.ConstraintValues.toMinSize(g,t),y=c.Size.subtract(v,p),S=d.calcMinChildSizes(u,y,a),b=DeprecatedStack.autoSize(S,n,h),_=s.ConstraintValues.toSize(g,t,b,null),C=d.calcChildFractions(u),w=DeprecatedStack.freeSpace(_,b,C,n),x=c.Size.subtract(_,p),P=d.calcChildSizes(u,x,w,a),T=d.calcChildLayoutRects(P,x,n,h),k=Object.assign({},this.props);Object.keys(DeprecatedStack.defaultStackSpecificProps).map(e=>{delete k[e]});const E=this.props;if(E._border){const{borderWidth:e,borderColor:t,borderStyle:n}=E._border;Object.assign(k,{borderWidth:e,borderColor:t,borderStyle:n})}return r.createElement(f.DeprecatedFrameWithEvents,Object.assign({},k),this.layoutChildren(T,a),this.layoutPlaceholders(T,a),r.createElement(o.EmptyState,{title:"Drop items",children:this.props.children,size:_,showArrow:!1,hide:!!this.props.placeholders,insideUserCodeComponent:!n.__fromCodeComponentNode}))})}static _cssExport(e){const t={display:"flex",flexDirection:"horizontal"===e.direction?"row":"column",justifyContent:stackDistributionAndAlignmentToFlexbox(e.distribution),alignItems:stackDistributionAndAlignmentToFlexbox(e.alignment)},{top:n,left:r,right:i,bottom:o}=g.paddingFromProps(e);return t.padding=`${n}px ${i}px ${o}px ${r}px`,t}static paddingSize(e){return d.calcPaddingSize(e)}static childLayoutRects(e,t,n,r){return d.calcChildLayoutRects(e,t,n,r)}static autoSize(e,t,n){return d.calcAutoSize(e,t,n)}static freeSpace(e,t,n,r){return d.calcFreeSpace(e,t,n,r)}layoutChildren(e,t){return r.Children.map(this.props.children,(n,i)=>{if(!p.isReactChild(n)||!p.isReactElement(n))return n;t&&i>=t.index&&(i+=t.sizes.length);const o=e[i],a={top:o.y,left:o.x,width:o.width,height:o.height,right:null,bottom:null,_constraints:{enabled:!0}},c=s.getMergedConstraintsProps(n.props,a),l=Object.assign({},c,{style:t?Object.assign({},n.props.style,{WebkitTransition:"transform 0.2s ease-out"}):n.props.style});return r.cloneElement(n,l)})}layoutPlaceholders(e,t){return t?t.sizes.map((n,i)=>{const o=e[t.index+i];return r.createElement(f.DeprecatedFrameWithEvents,{key:`stack-placeholder-${i}`,top:o.y,left:o.x,width:o.width,height:o.height,style:{WebkitTransition:"transform 0.2s ease-out"}})}):null}static childInsertion(e,t,n,r,i){let o=1/0,s=null;const c="vertical"===i.direction;e.forEach((e,t)=>{const r=c?Math.abs(n.y-e.y):Math.abs(n.x-e.x);r>o||(o=r,s=t)});let l=0;if(null!==s){const t=a.Rect.center(e[s]);(c?n.y>t.y:n.x>t.x)&&s++,l=Math.min(Math.max(0,s),e.length)}const u=function crossPadding(e){const{direction:t,alignment:n,paddingPerSide:r,padding:i}=e;if("center"===n)return 0;if(!r)return i;const o="start"===n;return"vertical"===t?o?e.paddingLeft:e.paddingRight:o?e.paddingTop:e.paddingBottom}(i);return{index:l,line:function insertionIndicatorLine(e,t,n,r,i,o,s){const a=i[o-1],c=i[o],l="vertical"===e,u={x:r.width/2,y:r.height/2};if(a||c){if(1===i.length){const e=a||c;0===o?l?u.y=e.y-10:u.x=e.x-10:l?u.y=e.y+e.height+10:u.x=e.x+e.width+10}else if(a&&c){const e=Math.abs(l?a.y+a.height-c.y:a.x+a.width-c.x);l?u.y=c.y-e/2:u.x=c.x-e/2}else if(a){const e=i[o-2],t=Math.abs(l?e.y+e.height-a.y:e.x+e.width-a.x);l?u.y=a.y+a.height+t/2:u.x=a.x+a.width+t/2}else if(c){const e=i[o+1],t=Math.abs(l?c.y+c.height-e.y:c.x+c.width-e.x);l?u.y=c.y-t/2:u.x=c.x-t/2}}else;return u.x=Math.min(Math.max(4,u.x),r.width-8),u.y=Math.min(Math.max(4,u.y),r.height-8),function createLine(e,t,n,r,i,o){const s="vertical"===e;let a,c;const l=10+n;switch(t){case"center":a={x:s?r.x-o.width/2:r.x,y:s?r.y:r.y-o.height/2},c={x:s?r.x+o.width/2:r.x,y:s?r.y:r.y+o.height/2};break;case"start":a={x:s?l:r.x,y:s?r.y:l},c={x:s?o.width+l:r.x,y:s?r.y:o.height+l};break;case"end":default:a={x:s?i.width-o.width-l:r.x,y:s?r.y:i.height-o.height-l},c={x:s?i.width-l:r.x,y:s?r.y:i.height-l}}return{a,b:c}}(e,t,n,u,r,s)}(i.direction,i.alignment,u,t,e,l,r)}}}function stackDistributionAndAlignmentToFlexbox(e){switch(e){case"start":return"flex-start";case"end":return"flex-end";default:return e}}DeprecatedStack.userInterfaceName="Stack",DeprecatedStack._isStylable=!0,DeprecatedStack.defaultStackSpecificProps={direction:"vertical",distribution:"space-around",alignment:"center",gap:10,padding:0,paddingPerSide:!1,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},DeprecatedStack.defaultProps=Object.assign({},i.Layer.defaultProps,f.DeprecatedFrame.defaultFrameSpecificProps,DeprecatedStack.defaultStackSpecificProps,{background:null}),DeprecatedStack.propertyControls={direction:{type:u.ControlType.SegmentedEnum,options:["horizontal","vertical"],title:"Direction",defaultValue:"vertical"},distribution:{type:u.ControlType.Enum,options:["start","center","end","space-between","space-around","space-evenly"],optionTitles:["Start","Center","End","Space Between","Space Around","Space Evenly"],title:"Distribute",defaultValue:"space-around"},alignment:{type:u.ControlType.SegmentedEnum,options:["start","center","end"],optionTitles(e){if(!e)return y;return"horizontal"!==e.direction?S:b},title:"Align",defaultValue:"center"},gap:{type:u.ControlType.Number,min:0,title:"Gap",hidden:e=>void 0!==e.distribution&&-1!==["space-between","space-around","space-evenly"].indexOf(e.distribution),defaultValue:10},padding:{type:u.ControlType.FusedNumber,toggleKey:"paddingPerSide",toggleTitles:["Padding","Padding per side"],valueKeys:["paddingTop","paddingRight","paddingBottom","paddingLeft"],valueLabels:["t","r","b","l"],min:0,title:"Padding",defaultValue:0}},t.DeprecatedStack=DeprecatedStack},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(203),i=n(24),o=n(296),s=n(630),a=n(351),c={precalculate:!1,colorModel:n(96).ColorMixModelType.HUSL};class FramerAnimation{constructor(e,t,n,i,l,u=o.MainLoopAnimationDriver){this.playStateSource="idle",this.readyPromise=Promise.resolve(),this.resetFinishedPromise();const h=Object.assign({},c),d={};let p,f;l&&(Object.assign(h,l),Object.assign(d,l)),p=h.customInterpolation?h.customInterpolation:new r.ValueInterpolation(l),f=i?new i(d,p):new a.BezierAnimator({},p),h.precalculate&&(f=new s.PrecalculatedAnimator({animator:f})),f.setFrom(t),f.setTo(n);this.driver=new u(f,t=>{FramerAnimation.driverCallbackHandler(e,t)},t=>{t&&(FramerAnimation.driverCallbackHandler(e,n),"running"===this.playStateSource&&(this.playStateValue="finished"))})}static driverCallbackHandler(e,t){if(i.isAnimatable(e))e.set(t);else{const n=e;i.Animatable.transaction(e=>{for(const r in n){const o=n[r];i.isAnimatable(o)?e(o,t[r]):n[r]=t[r]}})}}get playStateValue(){return this.playStateSource}set playStateValue(e){if(e!==this.playStateSource){const t=e;switch(this.playStateSource=e,e){case"idle":"running"===t&&this.oncancel&&this.oncancel(),this.readyResolve&&this.readyResolve(),this.resetReadyPromise();break;case"finished":if("idle"===t){console.warn("Bad state transition");break}this.onfinish&&this.onfinish(),this.finishedResolve&&this.finishedResolve();break;case"running":this.resetReadyPromise()}"finished"===t&&this.resetFinishedPromise(),"finished"===e&&(this.playStateValue="idle")}}get playState(){return this.playStateValue}resetReadyPromise(){this.readyResolve=null,this.readyPromise=new Promise((e,t)=>{this.readyResolve=e})}get ready(){return this.readyPromise}resetFinishedPromise(){this.finishedResolve=null,this.finishedReject=null,this.finishedPromise=new Promise((e,t)=>{this.finishedResolve=e,this.finishedReject=t}),this.finishedPromise.catch(e=>{})}get finished(){return this.finishedPromise}play(){this.playStateValue="running",this.driver.play()}cancel(){if("running"===this.playStateValue){if(this.driver.cancel(),"idle"!==this.playState){const e="AbortError";this.finishedReject&&this.finishedReject(e)}this.playStateValue="idle"}}finish(){"running"===this.playStateSource&&(this.playStateValue="finished",this.driver.finish())}isFinished(){return"finished"===this.playStateValue}}t.FramerAnimation=FramerAnimation},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(194);var i;!function(e){e.Linear="linear",e.Ease="ease",e.EaseIn="ease-in",e.EaseOut="ease-out",e.EaseInOut="ease-in-out"}(i=t.Bezier||(t.Bezier={})),t.BezierDefaults={curve:i.Ease,duration:1};t.BezierAnimator=class BezierAnimator{constructor(e,n){let o;this.interpolation=n,this.progress=0,this.next=e=>{const{duration:t}=this.options;this.progress+=e/t;const n=this.unitBezier.solve(this.progress,this.solveEpsilon(t));return this.current=this.interpolator(n),this.current},this.options=Object.assign({},t.BezierDefaults,e),o="string"==typeof this.options.curve?function controlPointsForCurve(e){switch(e){case i.Linear:return[0,0,1,1];case i.Ease:return[.25,.1,.25,1];case i.EaseIn:return[.42,0,1,1];case i.EaseOut:return[0,0,.58,1];case i.EaseInOut:return[.42,0,.58,1]}}(this.options.curve):this.options.curve;const[s,a,c,l]=o;this.unitBezier=new UnitBezier(r.Point(s,a),r.Point(c,l))}setFrom(e){this.current=e,this.updateInterpolator()}setTo(e){this.destination=e,this.updateInterpolator()}isReady(){return void 0!==this.interpolator}updateInterpolator(){void 0!==this.current&&void 0!==this.destination&&(this.interpolator=this.interpolation.interpolate(this.current,this.destination))}isFinished(){return this.progress>=1}solveEpsilon(e){return 1/(200*e)}};class UnitBezier{constructor(e,t){this.c=r.Point.multiply(e,3),this.b=r.Point.subtract(r.Point.multiply(r.Point.subtract(t,e),3),this.c),this.a=r.Point.subtract(r.Point.subtract(r.Point(1,1),this.c),this.b)}solve(e,t){return this.sampleY(this.solveForT(e,t))}sampleX(e){return((this.a.x*e+this.b.x)*e+this.c.x)*e}sampleY(e){return((this.a.y*e+this.b.y)*e+this.c.y)*e}sampleDerivativeX(e){return(3*this.a.x*e+2*this.b.x)*e+this.c.x}solveForT(e,t){let n,r,i,o,s,a;for(i=e,a=0;a<8;++a){if(o=this.sampleX(i)-e,Math.abs(o)<t)return i;if(s=this.sampleDerivativeX(i),Math.abs(s)<t)break;i-=o/s}if((i=e)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleX(i),Math.abs(o-e)<t)return i;e>o?n=i:r=i,i=.5*(r-n)+n}return i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(289);t.Friction=r.FrictionAnimator,t.FrictionOptions=r.Options;var i=n(291);t.SpringAnimator=i.SpringAnimator,t.SpringOptions=i.SpringOptions;var o=n(351);t.BezierAnimator=o.BezierAnimator,t.BezierOptions=o.BezierOptions,t.Bezier=o.Bezier;var s=n(288);t.InertialScroll=s.InertialScrollAnimator,t.InertialScrollOptions=s.Options},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(122);function Data(e={}){const t=r.ObservableObject(e,!1,!1);return Data.addData(t),t}t.Data=Data,function(e){e._stores=[],e.addData=function addData(t){e._stores.push(t)},e.addObserver=function addObserver(e,t){return r.ObservableObject.addObserver(e,t)}}(Data=t.Data||(t.Data={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(353),o=n(120),s={update:0};t.DataObserverContext=r.createContext(s);t.DataObserver=class DataObserver extends r.Component{constructor(){super(...arguments),this.observers=[],this.state=s,this.taskAdded=!1,this.frameTask=()=>{this.setState({update:this.state.update+1}),this.taskAdded=!1},this.observer=()=>{this.taskAdded||(this.taskAdded=!0,o.MainLoop.addFrameTask(this.frameTask))}}render(){const{children:e}=this.props;return this.observers.map(e=>e()),this.observers=[],i.Data._stores.forEach(e=>{const t=i.Data.addObserver(e,this.observer);this.observers.push(t)}),r.createElement(t.DataObserverContext.Provider,{value:Object.assign({},this.state)},e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(356);function createErrorComponentClass(e){return class ErrorComponent extends r.Component{render(){throw e}}}t.createErrorDefinition=function createErrorDefinition(e,t,n){const r=i.extractComponentNameFromIdentifier(e),o=function cleanFilename(e){return e.startsWith("./")?e.slice(2):e}(r);return Object.assign({class:createErrorComponentClass(t),depth:e.startsWith(".")?0:1,error:t,file:r,identifier:e,name:o,packageIdentifier:"<unknown>",properties:{},type:"component"},n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractComponentNameFromIdentifier=function extractComponentNameFromIdentifier(e){const t=e.match(/(.*?\.[tj]sx?)_.*/);return t?t[1]:e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isErrorDefinition=function isErrorDefinition(e){return void 0!==e&&void 0!==e.error}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localPackageFallbackIdentifier="|local|"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDesignDefinition=function isDesignDefinition(e){return"master"===e.type}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(28);t.findMasters=function findMasters(e,t,n){if(!e.id||e.replicaInfo)return;const i=e.children||[];for(const r of i)findMasters(r,t,n);if(!e.isMaster||e.isExternalMaster&&e.isExternalMaster!==t)return;const o=function updateJSONMaster(e,t,n,i){r(!e.id.startsWith(t));const o=t+e.id;let s=void 0;e.children&&Array.isArray(e.children)&&(s=e.children.map(e=>updateJSONMaster(e,t,n,o)));const a=Object.assign({},e,{id:o,parentid:i,children:s,isMaster:!1});return function ensureAbsoluteReferences(e,t){const{codeComponentIdentifier:n,fillImage:r,replicaInfo:i}=e;n&&n.startsWith(".")&&(e.codeComponentIdentifier=`${t}/${n}`),r&&(e.fillImage=`node_modules/${t}/design/images/${r}`),i&&-1===i.master.indexOf("-")&&(e.replicaInfo=Object.assign({},i,{master:`${t}-${i.master}`}))}(a,n),a}(e,`${t}-${e.id}-`,t,null);o.id=`${t}-${e.id}`,o.isMaster=!0,o.isExternalMaster=t,o.top=0,o.left=0,o.bottom=null,o.right=null,n.push(o)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(t){o(t)}}function rejected(e){try{step(r.throw(e))}catch(t){o(t)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(55),o=n(25),s=n(130),a=n(33),c=n(71),l=n(364),u=n(30),h=n(854),d=n(130),p=n(876),f=n(52),g=n(53),m=n(27),v=n(105),y=n(878);t.defaultComponentMap={"framer/Stack":{class:i.Stack,depth:1,file:"",identifier:"framer/Stack",name:i.Stack.name,packageIdentifier:"framer",properties:i.getPropertyControls(i.Stack),type:"component"},"framer/Scroll":{class:i.Scroll,depth:1,file:"",identifier:"framer/Scroll",name:i.Scroll.name,packageIdentifier:"framer",properties:i.getPropertyControls(i.Scroll),type:"component"},"framer/Page":{class:i.Page,depth:1,file:"",identifier:"framer/Page",name:i.Page.name,packageIdentifier:"framer",properties:i.getPropertyControls(i.Page),type:"component"}};class ProjectServerConnection{constructor(){this.socketChannelListeners=[],this.updateToRun=null,this.maybeUpdateHashAfterEditorCloses=()=>{this.updateToRun&&(m.default.toolStore.isCodeEditorOpen()||m.default.processWhenReady(()=>{const e=this.updateToRun;this.updateToRun=null,e&&e()}))},this.previewScriptEmitter=new s.ServiceEventEmitter,this.previewCanvasEmitter=new s.ServiceEventEmitter,this.previewStateEmitter=new s.ServiceEventEmitter,this.cache={canvas:"",script:"",preview:""},this.onSocketChannelMessage=e=>{for(const t of this.socketChannelListeners)t(e)}}setupIPC(){return r(this,void 0,void 0,function*(){this.previewDocument||(this.previewDocument=s.PreviewDocument.on(s.PostMessageChannel.toParentFrame).expect(),yield s.PreviewFrame.on(s.PostMessageChannel.toParentFrame).register({load:({projectURL:e})=>r(this,void 0,void 0,function*(){const t=m.default.serverStore.projectURL;if(t&&t.href===new URL(e).href)return this.cache;throw new Error("Mismatched Project URL")}),toggleSelectionLock:({force:e})=>r(this,void 0,void 0,function*(){f.getIpcRenderer().emit(g.SetPreviewSelectionLock,Boolean(e))}),triggerPreviewRemoteEvent:e=>r(this,void 0,void 0,function*(){o.triggerPreviewRemoteEvent(e)}),canvasUpdateStream:()=>this.previewCanvasEmitter,scriptUpdateStream:()=>this.previewScriptEmitter,previewUpdateStream:()=>this.previewStateEmitter}))})}setProjectURL(e){c.experiments.isOn("ipcPreview")&&!this.previewDocument&&this.setupIPC().catch(v.unhandledError),this.socket&&this.socket.io.uri!==e&&(this.socket=null,this.socketChannel=void 0),!this.socket&&e&&(m.default.disableUserInteractions(),m.default.changes.observe(u.EngineChangeFlags.ToolStore,this.maybeUpdateHashAfterEditorCloses),this.socket=h.getGlobalSocketIO(e),this.socketChannel=new d.SocketClientChannel(this.socket),this.socketChannel.addMessageListener(this.onSocketChannelMessage),this.socket.emit("clientConnected"),this.socket.on("runPerformanceTests",()=>this.socket&&y.automatedPerformanceTests(this.socket,m.default)),this.socket.on("script",e=>{this.cache.script=e,this.previewScriptEmitter.emit({content:e});const n=JSON.parse(e),r=p.updateProjectBundleHash(n);if(m.default.canvasStore.componentHash===r)return;m.default.canvasStore.userScriptBundle=n;const o=()=>{clearStyledComponents(),m.default.toolStore.componentDefinitionsFromScriptText=null,a.componentLoader.updateStateWithScripts(n,i,t.defaultComponentMap),m.default.signalNonUserEvent(),l.updateExternalMasterInDocument(m.default,a.componentLoader),m.default.setComponentHash(r)};m.default.processWhenReady(()=>{if(m.default.toolStore.isCodeEditorOpen()){this.updateToRun=o;const e=n["index.js"];if(e){const t=a.extractComponentDefinitionsFromScript(e);m.default.toolStore.componentDefinitionsFromScriptText=t}m.default.changes.addChanges(u.EngineChangeFlags.ToolStore)}else o()})}),this.socket.on("state",e=>{m.default.serverStore.setStateFromServer(e)}),this.socket.on("metrics",()=>{o.triggerPreviewRemoteEvent({})}))}updatePreview(e){this.cache.preview=e,this.sendCommand("updatePreview",{previewData:e}),this.previewStateEmitter.emit({content:e})}togglePreviewInspector(){this.sendCommand("togglePreviewInspector"),this.previewDocument&&this.previewDocument.toggleConsole({})}updateCanvasData(e){this.cache.canvas=e,this.sendCommand("updateCanvasData",{canvasData:e}),this.previewCanvasEmitter.emit({content:e})}updateCanvasModule(e){this.sendCommand("updateCanvasModule",{code:e})}buildStandaloneExport(e,t,n){this.socket?(this.sendCommand("buildStandaloneExport",{path:e,previewData:t}),this.socket.once("buildStandaloneExportDone",()=>{n&&n()})):n&&n()}upgradePackage(e,t){this.sendCommand("upgradeDependency",{packageName:e,version:`^${t}`})}removePackage(e){this.sendCommand("removePackage",{packageName:e})}installFramerLibrary(e){this.sendCommand("installFramerLibrary",{version:e})}sendCommand(e,t){this.socket&&this.socket.emit(e,t)}postMessage(e){if(!this.socketChannel)throw new Error("No project server connection to send messages");this.socketChannel.postMessage(e)}addMessageListener(e){this.socketChannelListeners.push(e)}}function clearStyledComponents(){void 0!==window["__styled-components-init__"]&&(delete window["__styled-components-init__"],document.head.querySelectorAll("style[data-styled-components]").forEach(e=>e.remove()),document.head.querySelectorAll("style[data-styled]").forEach(e=>e.remove()))}t.ProjectServerConnection=ProjectServerConnection,t.projectServerConnection=new ProjectServerConnection,t.clearStyledComponents=clearStyledComponents,function main(){return r(this,void 0,void 0,function*(){const{default:e}=yield Promise.resolve().then(()=>n(27));e&&e.changes&&e.changes.observe(u.EngineChangeFlags.ServerStore,()=>{e.serverStore.projectURL&&t.projectServerConnection.setProjectURL(e.serverStore.projectURL.toString())})})}().catch(v.unhandledError)},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(131)),__export(n(721)),__export(n(161)),__export(n(722)),__export(n(724)),__export(n(162)),__export(n(86)),__export(n(725)),__export(n(363)),__export(n(726))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(131),i=n(86);t.socketMessageEventName="test123";t.SocketClientChannel=class SocketClientChannel{constructor(e){this.listeners=[],this.onMessageEvent=e=>{o.log("onMessageEvent",e,this.listeners);const t=e;if(r.ServiceChannel.isMessage(t))for(const n of this.listeners)n(t);else o.log("Received something other than a message",e)},this.socket=e,this.socket.on(t.socketMessageEventName,this.onMessageEvent)}postMessage(e){o.log("postMessage",e),this.socket?this.socket.emit(t.socketMessageEventName,e):o.error("SocketClientChannel has no socket for postMessage:",e)}addMessageListener(e){this.listeners.push(e)}};const o=i.ServiceDebugging.createLogger("🌎")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(28),i=n(6),o=n(1),s=n(22),a=n(62);function jsonEquals(e,t){for(const n in e){if("parentid"===n)continue;const r=e[n],i=t[n];if("id"===n||"fillImage"===n){if("string"==typeof r){if(!r.endsWith(i))return!1}else if(r!=i)return!1}else if("children"===n){if(!(r instanceof Array&&i instanceof Array))return!1;const e=r.length;if(e!==i.length)return!1;for(let t=0;t<e;t++)if(!jsonEquals(r[t],i[t]))return!1}else if(!o.isEqual(r,i))return!1}return!0}function updateInternalReplicas(e,t,n){t.walk(t=>{if(t.originalid&&(t.originalid=null),s.hasTemplate(t)&&t.replicaInfo){const r=t.replicaInfo;t.replicaInfo=null;const o=r.master,a=n.componentForIdentifier(o);if(!a)return;const c=i.CanvasNode.fromJS(a.class);if(!c||!s.isMaster(c))return;const l=e.newId();c.walk(e=>{e.id=`${l}${e.id}`}),updateInternalReplicas(e,c,n),t.children=c.children}})}t.masterFromJSONInFakeTree=function masterFromJSONInFakeTree(e,t){const n=i.CanvasNode.fromJS(e);if(!n)return null;n.cache.json=e;const r=new i.default;return r.insertNode(n,null),updateInternalReplicas(r,n,t),n},t.jsonEquals=jsonEquals,t.updateExternalMasterInDocument=function updateExternalMasterInDocument(e,t){t.forEachDesignComponents(n=>{const o=n.class,c=o.isExternalMaster;if("string"!=typeof c)throw Error("missing isExternalMaster");r(c===n.packageIdentifier,"Inconsistent packageName");const l=o.id,u=e.tree.get(l);if(!u)return;if(u.cache.json&&jsonEquals(u.cache.json,o))return;const h=i.CanvasNode.fromJS(o);if(!h)throw Error("assert: Invalid tree");h.cache.json=o,updateInternalReplicas(e.tree,h,t);const d=[];u.walk(e=>{e instanceof i.TextNode&&d.push(e)}),e.tree.removeNode(u);const p=e.tree.insertNode(h),f=u.cache.replicaInstances;f&&(p.cache.replicaInstances=f.slice()),p.cache.replicaInstances&&p.cache.replicaInstances.forEach(t=>{const n=e.tree.getNode(t);n&&s.isReplica(n)&&s.isMaster(h)&&n.walk(t=>{if(t instanceof i.TextNode){const r=n.replicaInfo.overrides[t.originalid];if(r&&r.styledText){if(!t.originalid)return;const r=d.find(e=>e.id===t.originalid),i=e.tree.getNode(t.originalid);if(!r||!i)return;n.replicaInfo.overrides=a.TemplateHelper.maybePatchText(r,i,t,n.replicaInfo.overrides)}}})})})},t.insertExternalMasterInDocument=function insertExternalMasterInDocument(e,t,n){r(s.isExternalMaster(t),"Non existing master must be external"),r(0===t.rect({width:0,height:0}).x,"Must be placed at 0, 0");const i=t.cache.json;return(t=e.tree.insertNode(t.cloneWithIds())).cache.json=i,updateInternalReplicas(e.tree,t,n),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NodeCache=class NodeCache{constructor(){this.latest=null,this.future=null}tree(){return this.latest.tree}reset(){this.future=null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(28),o=n(29),s=n(101);t.USE_FREEZE=!1;class NodeTree{constructor(e,n){this.futures=[],this.allowChangingChildren=!0,this.editClosed=!1,e&&n?(this.latest=e.latest,this.latest.tree=this,this.root=n,this.idToNode=e.futureIdToNode.asImmutable(),i(this.root.cache.latest===this.latest,"Root cache must point to latest node tree")):n?(this.latest={tree:this},this.root=n,this.idToNode=this.importNodes(n),i(!n.mutable,"Root must not be mutable"),i(this.root.cache.latest===this.latest,"Root cache must point to latest node tree")):(this.latest={tree:this},this.root=this.own(this.newRootNode()).freeze(),this.idToNode=r.Map().set(this.root.id,this.root)),this.futureIdToNode=this.idToNode.asMutable(),t.USE_FREEZE&&Object.freeze(this.idToNode)}importNodes(e){e.parentid=s.NullID;const t=r.Map().asMutable();return e.walk(e=>{t.set(e.id,e),this.own(e),e.freeze()}),t.asImmutable()}static createWithRoot(e){return new NodeTree(void 0,e.cloneWithIds())}newRootNode(){return new o.MutableNode}copy(e){return new NodeTree(this,e)}updateCache(){}makeLatest(){return this.latest.tree=this,this.reset()}reset(){return this.futureIdToNode=this.idToNode.asMutable(),this.futures.length>0&&(this.futures.length=0,this.root.walk(e=>e.cache.future=null)),this}isLatest(){return this.latest.tree===this}own(e){return i(e.mutable,"Node must be mutable to own"),i(this.isLatest(),"Must be latest tree to take ownership"),i(!e.cache.latest,"Node must not have a latest tree in cache"),e.cache.latest=this.latest,e}newId(){return s.randomID()}size(){return this.futureIdToNode.size}current(e){return this.get(e.id)}has(e){return!!e&&this.futureIdToNode.has(e)}hasNode(e){return e.cache.latest===this.latest}get(e){if(!e)return null;const t=this.futureIdToNode.get(e);return t?t.cache.future?t.cache.future:t:null}getCurrentOrFuture(e){if(!e)return null;const t=this.idToNode.get(e)||this.futureIdToNode.get(e)||null;return t||null}getFuture(e){if(!e)return null;const t=this.futureIdToNode.get(e);return t?t.cache.future?t.cache.future:t:null}getParent(e){const t=this.get(e);return t?this.get(t.parentid):null}insertNode(e,t,n=-1){i(this.allowChangingChildren,"Changing children must be allowed when inserting"),e.parentid=t||this.root.id,this.own(e),e.cache.future=e,this.futures.push(e),i(!this.futureIdToNode.has(e.id),"Node already inserted in future"),this.futureIdToNode.set(e.id,e);const r=this.primeParents(e);i(r,"Future parent does not exist"),r&&(n<0&&(n+=r.children.length+1),r.children.splice(n,0,e));const o=e.children;if(!o)return e;for(let i=0,s=o.length;i<s;i++)this.insertInternalNode(o[i],e.id);return e}insertNodes(e){for(let t=0,n=e.length;t<n;t++){const n=e[t];this.insertNode(n,n.parentid)}return this}insertInternalNode(e,t){e.parentid=t,this.own(e),e.cache.future=e,this.futures.push(e),this.futureIdToNode.set(e.id,e);const n=e.children;if(n)for(let r=0,i=n.length;r<i;r++)this.insertInternalNode(n[r],e.id)}move(e,t,n){return this.moveNode(this.get(e),t||this.root.id,n),this}moveNode(e,t,n=-1){if(i(this.allowChangingChildren,"Changing children must be allowed when moving"),i(!e.originalid||e.replicaInfo,"Cannot move nodes of replica's"),e.parentid===t)return this.moveNodeIndex(e,n);i(e&&this.futureIdToNode.has(e.id),"Node does not exist or is unknown"),i(!this.nodeIsAncestorOf(e,t),"Node must not be an ancestor of its new parent");const r=e.mutable?this.getCurrentOrFuture(e.id):e;if(r&&r.parentid){const e=this.mutableFutureParent(r).children,t=e.indexOf(r);i(t>=0,"Node must be known as child"),e.splice(t,1)}const o=this.mutableFutureNode(e);o.parentid=t;const s=this.primeParents(o);return s&&(i(s.children,"Future parent must accept children"),n<0&&(n+=s.children.length+1),s.children.splice(n,0,o)),o}moveNodeIndex(e,t=-1){const n=this.mutableFutureParent(e),r=n.children;t<0&&(t+=r.length+1);const o=e.mutable?this.getCurrentOrFuture(e.id):e;i(o,"Node to move not found");const s=this.mutableFutureNode(e),a=r.indexOf(o);return i(a>=0,"Node to move not found in parent"),a===t?s:(n.children.splice(a,1),n.children.splice(t,0,s),s)}update(e,t){return this.updateNode(this.get(e),t),this}updateNode(e,t){return i(!this.editClosed,"Editing must not be closed"),e.set(t,this)}updateNodes(e,t){for(let n=0,r=e.length;n<r;n++)this.updateNode(e[n],t)}removeNode(e){i(this.allowChangingChildren,"Changing children must be allowed when removing"),i(!e.originalid||e.replicaInfo,"Cannot delete nodes of replica's"),i(e.parentid,"Node must have a parent id");const t=this.mutableFutureParent(e).children;let n=t.indexOf(e);n<0&&(n=t.findIndex(t=>t.id===e.id)),n>=0&&t.splice(n,1),this.removeInternalNode(e)}removeInternalNode(e){e=e.futureOrCurrent(),this.futureIdToNode.remove(e.id);const t=e.children;if(t)for(let n=0,r=t.length;n<r;n++)this.removeInternalNode(t[n])}unsafeInsertNode(e,t){i(this.allowChangingChildren,"Changing children must be allowed when inserting"),i(e.parentid===t,"Parentid must have been set correctly"),e.cache.latest||this.own(e),e.mutable&&!this.futureIdToNode.has(e.id)&&(e.cache.future=e,this.futures.push(e),this.futureIdToNode.set(e.id,e));const n=e.children;if(n)for(let r=0,i=n.length;r<i;r++)this.unsafeInsertNode(n[r],e.id)}unsafeRemoveId(e){this.futureIdToNode.remove(e)}remove(e){const t=this.futureIdToNode.get(e);return t?(this.removeNode(t),this):this}hasUncommittedChanges(){return this.futures.length>0}commit(e){i(this.isLatest(),"Tree must be latest to commit");const t=this.root.cache.future;if(null===t)return this;i(t,"Tree must have a future root to commit"),i(t.mutable,"Tree must have a mutable future root to commit");const n=this.futures;for(let i=0;i<n.length;i++)this.futureIdToNode.has(n[i].id)&&n[i].preCommit(this);const r=n.length;for(let i=0,s=r;i<s;i++){const e=n[i];if(this.futureIdToNode.has(e.id)&&e!==t){const t=this.getMutableParent(e);this.swapChild(t,e)}}this.allowChangingChildren=!1;for(let i=0,s=r;i<s;i++)this.futureIdToNode.has(n[i].id)&&n[i].preFreeze(this);for(let i=r;i<n.length;i++){const e=n[i];if(this.futureIdToNode.has(e.id)&&e!==t){const t=this.getMutableParent(e);this.swapChild(t,e)}}for(let i=0,s=n.length;i<s;i++){n[i].freeze()}this.allowChangingChildren=!0,i(!t.mutable,"Future root must not be mutable anymore"),i(!t.cache.future,"Future root should not have a future cache anymore");const o=this.copy(t);return o.updateCache(),e&&e(n),n.length=0,o}verify(){const e=this.verifyNode(this.root);return i(this.idToNode.size===e,"Node count must be equal to expected tree size"),this}verifyNode(e){i(!e.mutable,"Node must not be mutable to verify"),i(!e.cache.future,"Node must not have a future to verify"),t.USE_FREEZE&&i(Object.isFrozen(e),"Node object must be frozen"),t.USE_FREEZE&&i(Object.isFrozen(e.children),"Node children must be frozen"),i(this.get(e.id)===e,"Node must exist: "+e.id);let n=1;const r=e.children;if(r)for(let t=0,o=r.length;t<o;t++){const o=r[t];i(o.parentid===e.id,"Parent id of children must point back correctly"),n+=this.verifyNode(o)}return n}mutableFutureNode(e){let t=e.cache.future;if(t)return t;if(i(!this.editClosed,"Editing must not be closed"),e.mutable)t=e;else{i(this.get(e.id)===e,"Node must be known and up-to-date"),(t=Object.assign(Object.create(e.constructor.prototype),e)).mutable=!0,t.update+=1;const n=t.children;n&&(t.children=n.slice())}return e.cache.future=t,i(e.cache.latest===this.latest,"Node cache must point to latest tree"),i(e.id===t.id&&e.parentid===t.parentid,"Future ids must equal current ids"),this.futures.push(t),this.futureIdToNode.set(t.id,t),t.parentid&&this.primeParents(t),t}mutableFutureParent(e){i(e.parentid,"Node must have a parent id");const t=this.futureIdToNode.get(e.parentid);return i(t,"Node must have a known parent"),this.mutableFutureNode(t)}primeParents(e){i(e.mutable,"Node must be mutable to prime parents");const t=e.parentid;if(e.id===this.root.id)return;const n=this.futureIdToNode.get(t);if(i(n,"Node parent must exist to prime"),n.cache.future)return n.cache.future;const r=this.mutableFutureNode(n);return this.primeParents(r),r}getMutableParent(e){if(e.id===this.root.id)return null;const t=this.futureIdToNode.get(e.parentid);return i(t,"Parent must exist"),i(t.cache.future,"Parent must have a future"),t.cache.future}swapChild(e,t){i(e.mutable,"Parent must be mutable to swap a child"),i(t.parentid===e.id,"Parent id pointer must be correct");const n=e.children;for(let r=0,i=n.length;r<i;r++){if(n[r].id===t.id)return void(n[r]=t)}i(!1,"child.cache.future not in parent.cache.future.children")}nodeIsAncestorOf(e,t){let n=this.get(t);for(i(n,"Node to check must exist");n.id!==this.root.id;){if(n.id===e.id)return!0;n=this.get(n.parentid),i(n,"Ancestor node must exist")}return n.id===e.id}clearCache(){this.futures=[],this.futureIdToNode=this.idToNode.asMutable(),this.root.walk(e=>e.cache.reset())}getNodes(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=this.get(e[n]);r&&t.push(r)}return t}withoutDescendants(e){const t=[],n=new Set;for(let r=0,i=e.length;r<i;r++)n.add(e[r].id);for(let r=0,i=e.length;r<i;r++){const i=e[r];let o=!1,s=i.parentid;for(;s;){if(n.has(s)){o=!0;break}s=this.get(s).parentid}o||t.push(i)}return t}getTopMostChildNode(e){const t=new Set;for(let r=0,i=e.length;r<i;r++){let n=e[r];for(t.add(n.id);n.parentid&&!t.has(n.parentid);)t.add(n.parentid),n=this.get(n.parentid)}let n=this.root;for(;;){const e=n.children;if(!e)return n===this.root?null:n;let r=null;for(let n=0,i=e.length;n<i;n++){const i=e[n];t.has(i.id)&&(r=i)}if(!r)return n===this.root?null:n;n=r}}getAncestors(e){const t=[];let n=this.get(e);if(!n)throw Error("unknown node");for(n=this.get(n.parentid);n&&n.id!==this.root.id;)t.push(n.id),n=this.get(n.parentid);return t}ancestors(e){const t=[];let n=this.get(e);if(!n)throw Error("Unknown node");for(n=this.get(n.parentid);n;)t.push(n),n=this.get(n.parentid);return t}}t.NodeTree=NodeTree},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codeComponentDefaults={codeComponentIdentifier:"",codeComponentProps:{}};const r="codeComponentIdentifier";function hasCodeComponent(e){return r in e}t.hasCodeComponent=hasCodeComponent,t.reduceCodeComponents=function reduceCodeComponents(e,t){hasCodeComponent(e)&&-1===t.codeComponentIdentifiers.indexOf(e.codeComponentIdentifier)&&t.codeComponentIdentifiers.push(e.codeComponentIdentifier)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r="minSize";function withSizeFunctions(e){return r in e}t.withSizeFunctions=withSizeFunctions;const i={width:0,height:0};t.toMinSize=function toMinSize(e,t){return withSizeFunctions(e)?e.minSize(t):i},t.toSize=function toSize(e,t,n,r){return withSizeFunctions(e)?e.size(t,n,r):i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(72),o=n(74),s=n(58),a=n(59),c=n(90);t.wantsFilterShadow=function wantsFilterShadow(e){if(r.isVectorNode(e))return!1;if(o.isSVGNode(e))return!0;if(!i.hasFill(e)||"image"!==e.fillType||i.hasOptionalFill(e)&&!e.fillEnabled)return!1;if(s.withRadius(e)&&e.radius)return!1;if(a.withRadiusPerCorner(e)&&(e.radiusTopLeft||e.radiusTopRight||e.radiusBottomLeft||e.radiusBottomLeft))return!1;if(c.hasBoxShadow(e)&&e.boxShadows){const t=e.boxShadows;for(let e=0,n=t.size;e<n;e++)if(t.get(e).spread>0)return!1}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(230),i=n(136),o=n(166);function effectDisabledOrHidden(e,t){return 0===e&&-1===t||-1===e&&(0===t||void 0===t)}t.effectsDefaults=Object.assign({},r.blendingDefaults,i.filterDefaults),t.effectDisabledOrHidden=effectDisabledOrHidden,t.withEffects=function withEffects(e){return r.withBlending(e)&&i.withFilters(e)},t.reduceBlurAndFilters=function reduceBlurAndFilters(e,t){if(!i.withFilters(e))return;const n=o.Property.nonOptional(e.blurEnabled);o.Property.isEnabled(n)?(void 0===t.blur?t.blur=e.blur:null!==t.blur&&t.blur!==e.blur&&(t.blur=null),e.blurType&&-1===t.blurTypes.indexOf(e.blurType)&&t.blurTypes.push(e.blurType)):o.Property.isDisabledVisible(n)&&(void 0===t.disabledBlur?t.disabledBlur=e.blur:null!==t.disabledBlur&&t.disabledBlur!==e.blur&&(t.disabledBlur=null));const r=o.Property.nonOptional(e.brightnessEnabled),s=o.Property.nonOptional(e.contrastEnabled),a=o.Property.nonOptional(e.grayScaleEnabled),c=o.Property.nonOptional(e.hueRotateEnabled),l=o.Property.nonOptional(e.invertEnabled),u=o.Property.nonOptional(e.saturateEnabled),h=o.Property.nonOptional(e.sepiaEnabled);void 0===t.blurEnabled?t.blurEnabled=n:effectDisabledOrHidden(t.blurEnabled,n)?t.blurEnabled=o.Property.disabledVisible:t.blurEnabled!==n&&(t.blurEnabled=null),void 0===t.brightnessEnabled?t.brightnessEnabled=r:effectDisabledOrHidden(t.brightnessEnabled,r)?t.brightnessEnabled=o.Property.disabledVisible:t.brightnessEnabled!==r&&(t.brightnessEnabled=null),void 0===t.contrastEnabled?t.contrastEnabled=s:effectDisabledOrHidden(t.contrastEnabled,s)?t.contrastEnabled=o.Property.disabledVisible:t.contrastEnabled!==s&&(t.contrastEnabled=null),void 0===t.grayScaleEnabled?t.grayScaleEnabled=a:effectDisabledOrHidden(t.grayScaleEnabled,a)?t.grayScaleEnabled=o.Property.disabledVisible:t.grayScaleEnabled!==a&&(t.grayScaleEnabled=null),void 0===t.hueRotateEnabled?t.hueRotateEnabled=c:effectDisabledOrHidden(t.hueRotateEnabled,c)?t.hueRotateEnabled=o.Property.disabledVisible:t.hueRotateEnabled!==c&&(t.hueRotateEnabled=null),void 0===t.invertEnabled?t.invertEnabled=l:effectDisabledOrHidden(t.invertEnabled,l)?t.invertEnabled=o.Property.disabledVisible:t.invertEnabled!==l&&(t.invertEnabled=null),void 0===t.saturateEnabled?t.saturateEnabled=u:effectDisabledOrHidden(t.saturateEnabled,u)?t.saturateEnabled=o.Property.disabledVisible:t.saturateEnabled!==u&&(t.saturateEnabled=null),void 0===t.sepiaEnabled?t.sepiaEnabled=h:effectDisabledOrHidden(t.sepiaEnabled,h)?t.sepiaEnabled=o.Property.disabledVisible:t.sepiaEnabled!==h&&(t.sepiaEnabled=null),null!==t.brightness&&o.Property.isEnabled(r)&&(void 0===t.brightness?t.brightness=e.brightness:t.brightness!==e.brightness&&(t.brightness=null)),null!==t.contrast&&o.Property.isEnabled(s)&&(void 0===t.contrast?t.contrast=e.contrast:t.contrast!==e.contrast&&(t.contrast=null)),null!==t.grayscale&&o.Property.isEnabled(a)&&(void 0===t.grayscale?t.grayscale=e.grayscale:t.grayscale!==e.grayscale&&(t.grayscale=null)),null!==t.hueRotate&&o.Property.isEnabled(c)&&(void 0===t.hueRotate?t.hueRotate=e.hueRotate:t.hueRotate!==e.hueRotate&&(t.hueRotate=null)),null!==t.invert&&o.Property.isEnabled(l)&&(void 0===t.invert?t.invert=e.invert:t.invert!==e.invert&&(t.invert=null)),null!==t.saturate&&o.Property.isEnabled(u)&&(void 0===t.saturate?t.saturate=e.saturate:t.saturate!==e.saturate&&(t.saturate=null)),null!==t.sepia&&o.Property.isEnabled(h)&&(void 0===t.sepia?t.sepia=e.sepia:t.sepia!==e.sepia&&(t.sepia=null))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(125),o=n(60),s=n(1);const a=function getOSCacheKey(){const e=window.navigator;if(!e)return"";const t=e.userAgent;if(!t)return"";const n=t.match(/\d+[_]\d+/);return n&&n[0]?n[0]:""}();class StyledTextCache{constructor(e,t,n,r){this.html=e,this.width=t,this.size=n,r&&(this._rawLoadedValue=r)}static fromRawValue(e){const t=e.cached;if(!t)return;if(t.os!==a)return;const{html:n,width:r,size:i}=t;if("string"==typeof n&&r>=0&&i&&i.width>=0&&i.height>=0){const t=new StyledTextCache(n,r,i,e);if(t.validateCaches())return t}}toJS(){return{html:this.html,width:this.width,size:this.size,os:a}}toJSON(){return this.toJS()}revive(){if(!this._rawLoadedValue)throw Error("invalid use of lazy loading StyledTextCache");let e=i.convertFromRaw(this._rawLoadedValue);return e=o.StyledTextDraft.convertInternalStateFromRaw(e),i.EditorState.createWithContent(e)}validateCaches(){const e=this.font();if(!e)return!0;const t=(s.getStyleForTypefaceOrSelector(e).fontFamily||"").replace(/"/g,"&quot;");return this.html.indexOf(t)>=0}alignment(e){if(!this._rawLoadedValue)return e.alignment();if(this._alignment){if("undefined"===this._alignment)return;return this._alignment}const t=this._rawLoadedValue.blocks;if(!t)return;let n=void 0;for(let r=0,i=t.length;r<i;r++){const e=t[r];if(n)break;const i=e.inlineStyleRanges;if(i)for(let t=0,r=i.length;t<r;t++){const e=i[t];if(n)break;const r=e.style;r&&r.startsWith("ALIGN:")&&(n=r.slice(6))}}return this._alignment=n||"undefined",n}text(){if(void 0!==this._text)return this._text;if(!this._rawLoadedValue)return null;const e=this._rawLoadedValue.blocks;if(!e)return null;const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.text||"")}return this._text=t.join("\n"),this._text}font(){if(!this._rawLoadedValue)return null;const e=this._rawLoadedValue.blocks;if(!e)return null;for(let t=0,n=e.length;t<n;t++){const n=e[t],r=n.inlineStyleRanges;if(r)for(let e=0,t=r.length;e<t;e++){const t=r[e].style;if(t&&t.startsWith("FONT:"))return t.slice(5)}const i=n.data;if(i){const e=i.emptyStyle;if(e)for(let t=0,n=e.length;t<n;t++){const n=e[t];if(n.startsWith("FONT:"))return n.slice(5)}}}return null}fonts(){const e=this.font();return e?r.OrderedSet([e]):null}serialize(e){if(!this._rawLoadedValue)return null;const t=this._rawLoadedValue.blocks;if(!t)return null;if(1!==t.length)return null;let n=void 0;const i=t[0],o=i.text;if(!o)return null;const a=i.inlineStyleRanges;if(!a)return null;const c=[];for(let r=0,s=a.length;r<s;r++){const e=a[r].style;e&&(c.push(e),e.startsWith("ALIGN:")&&(n=e.slice(6)))}return{blocks:[{text:o,inlineStyles:[{css:s.draftStyleFunction(r.OrderedSet(c),!1),startIndex:0,endIndex:o.length}]}],alignment:n}}}t.StyledTextCache=StyledTextCache},function(e,t,n){!function(){"use strict";var t=Math.abs,r=Math.min,i=Math.max,o=Math.cos,s=Math.sin,a=Math.acos,c=Math.sqrt,l=Math.PI,u={x:0,y:0,z:0},h=n(373),d=n(742),p=function(e){var n=e&&e.forEach?e:[].slice.call(arguments),r=!1;if("object"==typeof n[0]){r=n.length;var i=[];n.forEach(function(e){["x","y","z"].forEach(function(t){void 0!==e[t]&&i.push(e[t])})}),n=i}var o=!1,s=n.length;if(r){if(r>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(6!==s&&8!==s&&9!==s&&12!==s&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");var a=!o&&(9===s||12===s)||e&&e[0]&&void 0!==e[0].z;this._3d=a;for(var c=[],l=0,u=a?3:2;l<s;l+=u){var d={x:n[l],y:n[l+1]};a&&(d.z=n[l+2]),c.push(d)}this.order=c.length-1,this.points=c;var p=["x","y"];a&&p.push("z"),this.dims=p,this.dimlen=p.length,function(e){for(var n=e.order,r=e.points,i=h.align(r,{p1:r[0],p2:r[n]}),o=0;o<i.length;o++)if(t(i[o].y)>1e-4)return void(e._linear=!1);e._linear=!0}(this),this._t1=0,this._t2=1,this.update()};function getABC(e,t,n,r,i){void 0===i&&(i=.5);var o=h.projectionratio(i,e),s=1-o,a={x:o*t.x+s*r.x,y:o*t.y+s*r.y},c=h.abcratio(i,e);return{A:{x:n.x+(n.x-a.x)/c,y:n.y+(n.y-a.y)/c},B:n,C:a}}p.fromSVG=function(e){var t=e.match(/[-+]?\d*\.?\d+(?:[eE][-+]?\d+)?/g).map(parseFloat);return/[cq]/.test(e)?(t=t.map(function(e,n){return n<2?e:e+t[n%2]}),new p(t)):new p(t)},p.quadraticFromPoints=function(e,t,n,r){if(void 0===r&&(r=.5),0===r)return new p(t,t,n);if(1===r)return new p(e,t,t);var i=getABC(2,e,t,n,r);return new p(e,i.A,n)},p.cubicFromPoints=function(e,t,n,r,i){void 0===r&&(r=.5);var o=getABC(3,e,t,n,r);void 0===i&&(i=h.dist(t,o.C));var s=i*(1-r)/r,a=h.dist(e,n),c=(n.x-e.x)/a,l=(n.y-e.y)/a,u=i*c,d=i*l,f=s*c,g=s*l,m=t.x-u,v=t.y-d,y=t.x+f,S=t.y+g,b=o.A,_=b.x+(m-b.x)/(1-r),C=b.y+(v-b.y)/(1-r),w=b.x+(y-b.x)/r,x=b.y+(S-b.y)/r,P={x:e.x+(_-e.x)/r,y:e.y+(C-e.y)/r},T={x:n.x+(w-n.x)/(1-r),y:n.y+(x-n.y)/(1-r)};return new p(e,P,T,n)};var f=function(){return h};p.getUtils=f,p.prototype={getUtils:f,valueOf:function(){return this.toString()},toString:function(){return h.pointsToString(this.points)},toSVG:function(e){if(this._3d)return!1;for(var t=this.points,n=["M",t[0].x,t[0].y,2===this.order?"Q":"C"],r=1,i=t.length;r<i;r++)n.push(t[r].x),n.push(t[r].y);return n.join(" ")},update:function(){this.dpoints=[];for(var e=this.points,t=e.length,n=t-1;t>1;t--,n--){for(var r,i=[],o=0;o<n;o++)r={x:n*(e[o+1].x-e[o].x),y:n*(e[o+1].y-e[o].y)},this._3d&&(r.z=n*(e[o+1].z-e[o].z)),i.push(r);this.dpoints.push(i),e=i}this.computedirection()},computedirection:function(){var e=this.points,t=h.angle(e[0],e[this.order],e[1]);this.clockwise=t>0},length:function(){return h.length(this.derivative.bind(this))},_lut:[],getLUT:function(e){if(e=e||100,this._lut.length===e)return this._lut;this._lut=[];for(var t=0;t<=e;t++)this._lut.push(this.compute(t/e));return this._lut},on:function(e,t){t=t||5;for(var n,r=this.getLUT(),i=[],o=0,s=0;s<r.length;s++)n=r[s],h.dist(n,e)<t&&(i.push(n),o+=s/r.length);return!!i.length&&o/i.length},project:function(e){var t=this.getLUT(),n=t.length-1,r=h.closest(t,e),i=r.mdist,o=r.mpos;if(0===o||o===n){var s=o/n,a=this.compute(s);return a.t=s,a.d=i,a}var c,l,u,d=(o+1)/n,p=.1/n;for(i+=1,c=s=(o-1)/n;s<d+p;s+=p)l=this.compute(s),(u=h.dist(e,l))<i&&(i=u,c=s);return(l=this.compute(c)).t=c,l.d=i,l},get:function(e){return this.compute(e)},point:function(e){return this.points[e]},compute:function(e){if(0===e)return this.points[0];if(1===e)return this.points[this.order];var t=this.points,n=1-e;if(1===this.order)return l={x:n*t[0].x+e*t[1].x,y:n*t[0].y+e*t[1].y},this._3d&&(l.z=n*t[0].z+e*t[1].z),l;if(this.order<4){var r,i,o,s=n*n,a=e*e,c=0;2===this.order?(t=[t[0],t[1],t[2],u],r=s,i=n*e*2,o=a):3===this.order&&(r=s*n,i=s*e*3,o=n*a*3,c=e*a);var l={x:r*t[0].x+i*t[1].x+o*t[2].x+c*t[3].x,y:r*t[0].y+i*t[1].y+o*t[2].y+c*t[3].y};return this._3d&&(l.z=r*t[0].z+i*t[1].z+o*t[2].z+c*t[3].z),l}for(var h=JSON.parse(JSON.stringify(this.points));h.length>1;){for(var d=0;d<h.length-1;d++)h[d]={x:h[d].x+(h[d+1].x-h[d].x)*e,y:h[d].y+(h[d+1].y-h[d].y)*e},void 0!==h[d].z&&(h[d]=h[d].z+(h[d+1].z-h[d].z)*e);h.splice(h.length-1,1)}return h[0]},raise:function(){for(var e,t,n=this.points,r=[n[0]],i=n.length,o=1;o<i;o++)e=n[o],t=n[o-1],r[o]={x:(i-o)/i*e.x+o/i*t.x,y:(i-o)/i*e.y+o/i*t.y};return r[i]=n[i-1],new p(r)},derivative:function(e){var t,n,r=1-e,i=0,o=this.dpoints[0];2===this.order&&(o=[o[0],o[1],u],t=r,n=e),3===this.order&&(t=r*r,n=r*e*2,i=e*e);var s={x:t*o[0].x+n*o[1].x+i*o[2].x,y:t*o[0].y+n*o[1].y+i*o[2].y};return this._3d&&(s.z=t*o[0].z+n*o[1].z+i*o[2].z),s},inflections:function(){return h.inflections(this.points)},normal:function(e){return this._3d?this.__normal3(e):this.__normal2(e)},__normal2:function(e){var t=this.derivative(e),n=c(t.x*t.x+t.y*t.y);return{x:-t.y/n,y:t.x/n}},__normal3:function(e){var t=this.derivative(e),n=this.derivative(e+.01),r=c(t.x*t.x+t.y*t.y+t.z*t.z),i=c(n.x*n.x+n.y*n.y+n.z*n.z);t.x/=r,t.y/=r,t.z/=r,n.x/=i,n.y/=i,n.z/=i;var o={x:n.y*t.z-n.z*t.y,y:n.z*t.x-n.x*t.z,z:n.x*t.y-n.y*t.x},s=c(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=s,o.y/=s,o.z/=s;var a=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z];return{x:a[0]*t.x+a[1]*t.y+a[2]*t.z,y:a[3]*t.x+a[4]*t.y+a[5]*t.z,z:a[6]*t.x+a[7]*t.y+a[8]*t.z}},hull:function(e){var t,n=this.points,r=[],i=[],o=0,s=0,a=0;for(i[o++]=n[0],i[o++]=n[1],i[o++]=n[2],3===this.order&&(i[o++]=n[3]);n.length>1;){for(r=[],s=0,a=n.length-1;s<a;s++)t=h.lerp(e,n[s],n[s+1]),i[o++]=t,r.push(t);n=r}return i},split:function(e,t){if(0===e&&t)return this.split(t).left;if(1===t)return this.split(e).right;var n=this.hull(e),r={left:2===this.order?new p([n[0],n[3],n[5]]):new p([n[0],n[4],n[7],n[9]]),right:2===this.order?new p([n[5],n[4],n[2]]):new p([n[9],n[8],n[6],n[3]]),span:n};return r.left._t1=h.map(0,0,1,this._t1,this._t2),r.left._t2=h.map(e,0,1,this._t1,this._t2),r.right._t1=h.map(e,0,1,this._t1,this._t2),r.right._t2=h.map(1,0,1,this._t1,this._t2),t?(t=h.map(t,e,1,0,1),r.right.split(t).left):r},extrema:function(){var e,t,n=this.dims,r={},i=[];return n.forEach(function(n){t=function(e){return e[n]},e=this.dpoints[0].map(t),r[n]=h.droots(e),3===this.order&&(e=this.dpoints[1].map(t),r[n]=r[n].concat(h.droots(e))),r[n]=r[n].filter(function(e){return e>=0&&e<=1}),i=i.concat(r[n].sort())}.bind(this)),i=i.sort().filter(function(e,t){return i.indexOf(e)===t}),r.values=i,r},bbox:function(){var e=this.extrema(),t={};return this.dims.forEach(function(n){t[n]=h.getminmax(this,n,e[n])}.bind(this)),t},overlaps:function(e){var t=this.bbox(),n=e.bbox();return h.bboxoverlap(t,n)},offset:function(e,t){if(void 0!==t){var n=this.get(e),r=this.normal(e),i={c:n,n:r,x:n.x+r.x*t,y:n.y+r.y*t};return this._3d&&(i.z=n.z+r.z*t),i}if(this._linear){var o=this.normal(0),s=this.points.map(function(t){var n={x:t.x+e*o.x,y:t.y+e*o.y};return t.z&&r.z&&(n.z=t.z+e*o.z),n});return[new p(s)]}return this.reduce().map(function(t){return t.scale(e)})},simple:function(){if(3===this.order){var e=h.angle(this.points[0],this.points[3],this.points[1]),n=h.angle(this.points[0],this.points[3],this.points[2]);if(e>0&&n<0||e<0&&n>0)return!1}var r=this.normal(0),i=this.normal(1),o=r.x*i.x+r.y*i.y;return this._3d&&(o+=r.z*i.z),t(a(o))<l/3},reduce:function(){var e,n,r=0,i=0,o=[],s=[],a=this.extrema().values;for(-1===a.indexOf(0)&&(a=[0].concat(a)),-1===a.indexOf(1)&&a.push(1),r=a[0],e=1;e<a.length;e++)i=a[e],(n=this.split(r,i))._t1=r,n._t2=i,o.push(n),r=i;return o.forEach(function(e){for(r=0,i=0;i<=1;)for(i=r+.01;i<=1.01;i+=.01)if(!(n=e.split(r,i)).simple()){if(t(r-(i-=.01))<.01)return[];(n=e.split(r,i))._t1=h.map(r,0,1,e._t1,e._t2),n._t2=h.map(i,0,1,e._t1,e._t2),s.push(n),r=i;break}r<1&&((n=e.split(r,1))._t1=h.map(r,0,1,e._t1,e._t2),n._t2=e._t2,s.push(n))}),s},scale:function(e){var t=this.order,n=!1;if("function"==typeof e&&(n=e),n&&2===t)return this.raise().scale(n);var r=this.clockwise,i=n?n(0):e,o=n?n(1):e,s=[this.offset(0,10),this.offset(1,10)],a=h.lli4(s[0],s[0].c,s[1],s[1].c);if(!a)throw new Error("cannot scale this curve. Try reducing it first.");var l=this.points,u=[];return[0,1].forEach(function(e){var n=u[e*t]=h.copy(l[e*t]);n.x+=(e?o:i)*s[e].n.x,n.y+=(e?o:i)*s[e].n.y}.bind(this)),n?([0,1].forEach(function(i){if(2!==this.order||!i){var o=l[i+1],s={x:o.x-a.x,y:o.y-a.y},h=n?n((i+1)/t):e;n&&!r&&(h=-h);var d=c(s.x*s.x+s.y*s.y);s.x/=d,s.y/=d,u[i+1]={x:o.x+h*s.x,y:o.y+h*s.y}}}.bind(this)),new p(u)):([0,1].forEach(function(e){if(2!==this.order||!e){var n=u[e*t],r=this.derivative(e),i={x:n.x+r.x,y:n.y+r.y};u[e+1]=h.lli4(n,i,a,l[e+1])}}.bind(this)),new p(u))},outline:function(e,t,n,r){t=void 0===t?e:t;var i,o=this.reduce(),s=o.length,a=[],c=[],l=0,u=this.length(),p=void 0!==n&&void 0!==r;function linearDistanceFunction(e,t,n,r,i){return function(o){var s=r/n,a=(r+i)/n,c=t-e;return h.map(o,0,1,e+s*c,e+a*c)}}o.forEach(function(i){_=i.length(),p?(a.push(i.scale(linearDistanceFunction(e,n,u,l,_))),c.push(i.scale(linearDistanceFunction(-t,-r,u,l,_)))):(a.push(i.scale(e)),c.push(i.scale(-t))),l+=_}),c=c.map(function(e){return(i=e.points)[3]?e.points=[i[3],i[2],i[1],i[0]]:e.points=[i[2],i[1],i[0]],e}).reverse();var f=a[0].points[0],g=a[s-1].points[a[s-1].points.length-1],m=c[s-1].points[c[s-1].points.length-1],v=c[0].points[0],y=h.makeline(m,f),S=h.makeline(g,v),b=[y].concat(a).concat([S]).concat(c),_=b.length;return new d(b)},outlineshapes:function(e,t,n){t=t||e;for(var r=this.outline(e,t).curves,i=[],o=1,s=r.length;o<s/2;o++){var a=h.makeshape(r[o],r[s-o],n);a.startcap.virtual=o>1,a.endcap.virtual=o<s/2-1,i.push(a)}return i},intersects:function(e,t){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof p&&(e=e.reduce()),this.curveintersects(this.reduce(),e,t)):this.selfintersects(t)},lineIntersects:function(e){var t=r(e.p1.x,e.p2.x),n=r(e.p1.y,e.p2.y),o=i(e.p1.x,e.p2.x),s=i(e.p1.y,e.p2.y),a=this;return h.roots(this.points,e).filter(function(e){var r=a.get(e);return h.between(r.x,t,o)&&h.between(r.y,n,s)})},selfintersects:function(e){var t,n,r,i,o=this.reduce(),s=o.length-2,a=[];for(t=0;t<s;t++)r=o.slice(t,t+1),i=o.slice(t+2),n=this.curveintersects(r,i,e),a=a.concat(n);return a},curveintersects:function(e,t,n){var r=[];e.forEach(function(e){t.forEach(function(t){e.overlaps(t)&&r.push({left:e,right:t})})});var i=[];return r.forEach(function(e){var t=h.pairiteration(e.left,e.right,n);t.length>0&&(i=i.concat(t))}),i},arcs:function(e){e=e||.5;return this._iterate(e,[])},_error:function(e,n,r,i){var o=(i-r)/4,s=this.get(r+o),a=this.get(i-o),c=h.dist(e,n),l=h.dist(e,s),u=h.dist(e,a);return t(l-c)+t(u-c)},_iterate:function(e,t){var n,r=0,i=1;do{n=0,i=1;var a,c,l,u,d,p=this.get(r),f=!1,g=!1,m=i,v=1;do{if(g=f,u=l,m=(r+i)/2,0,a=this.get(m),c=this.get(i),(l=h.getccenter(p,a,c)).interval={start:r,end:i},f=this._error(l,p,r,i)<=e,(d=g&&!f)||(v=i),f){if(i>=1){if(l.interval.end=v=1,u=l,i>1){var y={x:l.x+l.r*o(l.e),y:l.y+l.r*s(l.e)};l.e+=h.angle({x:l.x,y:l.y},y,this.get(1))}break}i+=(i-r)/2}else i=m}while(!d&&n++<100);if(n>=100)break;u=u||l,t.push(u),r=v}while(i<1);return t}},e.exports=p}()},function(e,t,n){!function(){"use strict";var t=Math.abs,r=Math.cos,i=Math.sin,o=Math.acos,s=Math.atan2,a=Math.sqrt,c=Math.pow,l=function(e){return e<0?-c(-e,1/3):c(e,1/3)},u=Math.PI,h=2*u,d=u/2,p=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER,g={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,t){var n=t(e),r=n.x*n.x+n.y*n.y;return void 0!==n.z&&(r+=n.z*n.z),a(r)},between:function(e,t,n){return t<=e&&e<=n||g.approximately(e,t)||g.approximately(e,n)},approximately:function(e,n,r){return t(e-n)<=(r||1e-6)},length:function(e){var t,n,r=0,i=g.Tvalues.length;for(t=0;t<i;t++)n=.5*g.Tvalues[t]+.5,r+=g.Cvalues[t]*g.arcfn(n,e);return.5*r},map:function(e,t,n,r,i){return r+(i-r)*((e-t)/(n-t))},lerp:function(e,t,n){var r={x:t.x+e*(n.x-t.x),y:t.y+e*(n.y-t.y)};return t.z&&n.z&&(r.z=t.z+e*(n.z-t.z)),r},pointToString:function(e){var t=e.x+"/"+e.y;return void 0!==e.z&&(t+="/"+e.z),t},pointsToString:function(e){return"["+e.map(g.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,t,n){var r=t.x-e.x,i=t.y-e.y,o=n.x-e.x,a=n.y-e.y;return s(r*a-i*o,r*o+i*a)},round:function(e,t){var n=""+e,r=n.indexOf(".");return parseFloat(n.substring(0,r+1+t))},dist:function(e,t){var n=e.x-t.x,r=e.y-t.y;return a(n*n+r*r)},closest:function(e,t){var n,r,i=c(2,63);return e.forEach(function(e,o){(r=g.dist(t,e))<i&&(i=r,n=o)}),{mdist:i,mpos:n}},abcratio:function(e,n){if(2!==n&&3!==n)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;var r=c(e,n)+c(1-e,n);return t((r-1)/r)},projectionratio:function(e,t){if(2!==t&&3!==t)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;var n=c(1-e,t);return n/(c(e,t)+n)},lli8:function(e,t,n,r,i,o,s,a){var c=(e-n)*(o-a)-(t-r)*(i-s);return 0!=c&&{x:((e*r-t*n)*(i-s)-(e-n)*(i*a-o*s))/c,y:((e*r-t*n)*(o-a)-(t-r)*(i*a-o*s))/c}},lli4:function(e,t,n,r){var i=e.x,o=e.y,s=t.x,a=t.y,c=n.x,l=n.y,u=r.x,h=r.y;return g.lli8(i,o,s,a,c,l,u,h)},lli:function(e,t){return g.lli4(e,e.c,t,t.c)},makeline:function(e,t){var r=n(372),i=e.x,o=e.y,s=t.x,a=t.y,c=(s-i)/3,l=(a-o)/3;return new r(i,o,i+c,o+l,i+2*c,o+2*l,s,a)},findbbox:function(e){var t=p,n=p,r=f,i=f;return e.forEach(function(e){var o=e.bbox();t>o.x.min&&(t=o.x.min),n>o.y.min&&(n=o.y.min),r<o.x.max&&(r=o.x.max),i<o.y.max&&(i=o.y.max)}),{x:{min:t,mid:(t+r)/2,max:r,size:r-t},y:{min:n,mid:(n+i)/2,max:i,size:i-n}}},shapeintersections:function(e,t,n,r,i){if(!g.bboxoverlap(t,r))return[];var o=[],s=[e.startcap,e.forward,e.back,e.endcap],a=[n.startcap,n.forward,n.back,n.endcap];return s.forEach(function(t){t.virtual||a.forEach(function(r){if(!r.virtual){var s=t.intersects(r,i);s.length>0&&(s.c1=t,s.c2=r,s.s1=e,s.s2=n,o.push(s))}})}),o},makeshape:function(e,t,n){var r=t.points.length,i=e.points.length,o=g.makeline(t.points[r-1],e.points[0]),s=g.makeline(e.points[i-1],t.points[0]),a={startcap:o,forward:e,back:t,endcap:s,bbox:g.findbbox([o,e,t,s])},c=g;return a.intersections=function(e){return c.shapeintersections(a,a.bbox,e,e.bbox,n)},a},getminmax:function(e,t,n){if(!n)return{min:0,max:0};var r,i,o=p,s=f;-1===n.indexOf(0)&&(n=[0].concat(n)),-1===n.indexOf(1)&&n.push(1);for(var a=0,c=n.length;a<c;a++)r=n[a],(i=e.get(r))[t]<o&&(o=i[t]),i[t]>s&&(s=i[t]);return{min:o,mid:(o+s)/2,max:s,size:s-o}},align:function(e,t){var n=t.p1.x,o=t.p1.y,a=-s(t.p2.y-o,t.p2.x-n);return e.map(function(e){return{x:(e.x-n)*r(a)-(e.y-o)*i(a),y:(e.x-n)*i(a)+(e.y-o)*r(a)}})},roots:function(e,t){t=t||{p1:{x:0,y:0},p2:{x:1,y:0}};var n=e.length-1,i=g.align(e,t),s=function(e){return 0<=e&&e<=1};if(2===n){if(0!==(d=(p=i[0].y)-2*(f=i[1].y)+(m=i[2].y))){var c=-a(f*f-p*m),u=-p+f;return[-(c+u)/d,-(-c+u)/d].filter(s)}return f!==m&&0===d?[(2*f-m)/2*(f-m)].filter(s):[]}var d,p,f,m,v,y=i[0].y,S=i[1].y,b=i[2].y,_=(i=(3*(f=(-3*y+3*S)/(d=3*S-y-3*b+i[3].y))-(p=(3*y-6*S+3*b)/d)*p)/3)/3,C=(2*p*p*p-9*p*f+27*(m=y/d))/27,w=C/2,x=w*w+_*_*_;if(x<0){var P=-i/3,T=a(P*P*P),k=-C/(2*T),E=o(k<-1?-1:k>1?1:k),O=2*l(T);return[O*r(E/3)-p/3,O*r((E+h)/3)-p/3,O*r((E+2*h)/3)-p/3].filter(s)}if(0===x)return[2*(v=w<0?l(-w):-l(w))-p/3,-v-p/3].filter(s);var M=a(x);return[(v=l(-w+M))-l(w+M)-p/3].filter(s)},droots:function(e){if(3===e.length){var t=e[0],n=e[1],r=e[2],i=t-2*n+r;if(0!==i){var o=-a(n*n-t*r),s=-t+n;return[-(o+s)/i,-(-o+s)/i]}return n!==r&&0===i?[(2*n-r)/(2*(n-r))]:[]}if(2===e.length)return(t=e[0])!==(n=e[1])?[t/(t-n)]:[]},inflections:function(e){if(e.length<4)return[];var t=g.align(e,{p1:e[0],p2:e.slice(-1)[0]}),n=t[2].x*t[1].y,r=t[3].x*t[1].y,i=t[1].x*t[2].y,o=18*(-3*n+2*r+3*i-(h=t[3].x*t[2].y)),s=18*(3*n-r-3*i),a=18*(i-n);if(g.approximately(o,0)){if(!g.approximately(s,0)){var c=-a/s;if(0<=c&&c<=1)return[c]}return[]}var l=s*s-4*o*a,u=Math.sqrt(l),h=2*o;return g.approximately(h,0)?[]:[(u-s)/h,-(s+u)/h].filter(function(e){return 0<=e&&e<=1})},bboxoverlap:function(e,n){var r,i,o,s,a,c=["x","y"],l=c.length;for(r=0;r<l;r++)if(o=e[i=c[r]].mid,s=n[i].mid,a=(e[i].size+n[i].size)/2,t(o-s)>=a)return!1;return!0},expandbox:function(e,t){t.x.min<e.x.min&&(e.x.min=t.x.min),t.y.min<e.y.min&&(e.y.min=t.y.min),t.z&&t.z.min<e.z.min&&(e.z.min=t.z.min),t.x.max>e.x.max&&(e.x.max=t.x.max),t.y.max>e.y.max&&(e.y.max=t.y.max),t.z&&t.z.max>e.z.max&&(e.z.max=t.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,t,n){var r=e.bbox(),i=t.bbox(),o=1e5,s=n||.5;if(r.x.size+r.y.size<s&&i.x.size+i.y.size<s)return[(o*(e._t1+e._t2)/2|0)/o+"/"+(o*(t._t1+t._t2)/2|0)/o];var a=e.split(.5),c=t.split(.5),l=[{left:a.left,right:c.left},{left:a.left,right:c.right},{left:a.right,right:c.right},{left:a.right,right:c.left}];l=l.filter(function(e){return g.bboxoverlap(e.left.bbox(),e.right.bbox())});var u=[];return 0===l.length?u:(l.forEach(function(e){u=u.concat(g.pairiteration(e.left,e.right,s))}),u=u.filter(function(e,t){return u.indexOf(e)===t}))},getccenter:function(e,t,n){var o,a=t.x-e.x,c=t.y-e.y,l=n.x-t.x,u=n.y-t.y,p=a*r(d)-c*i(d),f=a*i(d)+c*r(d),m=l*r(d)-u*i(d),v=l*i(d)+u*r(d),y=(e.x+t.x)/2,S=(e.y+t.y)/2,b=(t.x+n.x)/2,_=(t.y+n.y)/2,C=y+p,w=S+f,x=b+m,P=_+v,T=g.lli8(y,S,C,w,b,_,x,P),k=g.dist(T,e),E=s(e.y-T.y,e.x-T.x),O=s(t.y-T.y,t.x-T.x),M=s(n.y-T.y,n.x-T.x);return E<M?((E>O||O>M)&&(E+=h),E>M&&(o=M,M=E,E=o)):M<O&&O<E?(o=M,M=E,E=o):M+=h,T.s=E,T.e=M,T.r=k,T}};e.exports=g}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty;t.isEqual=function isEqual(e,t,n=!0){try{return function equal(e,t,n){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){const s=r(e),a=r(t);let c,l,u;if(s&&a){if((l=e.length)!==t.length)return!1;for(c=l;0!=c--;){if(!n&&e[c]!==t[c])return!1;if(n&&!equal(e[c],t[c],!0))return!1}return!0}if(s!==a)return!1;const h=e instanceof Date,d=t instanceof Date;if(h!==d)return!1;if(h&&d)return e.getTime()===t.getTime();const p=e instanceof RegExp,f=t instanceof RegExp;if(p!==f)return!1;if(p&&f)return e.toString()===t.toString();if("function"==typeof e.equals&&"function"==typeof t.equals)return e.equals(t);const g=i(e);if((l=g.length)!==i(t).length)return!1;for(c=l;0!=c--;)if(!o.call(t,g[c]))return!1;for(c=l;0!=c--;)if("_owner"!==(u=g[c])||!e.$$typeof){if(!n&&e[u]!==t[u])return!1;if(n&&!equal(e[u],t[u],!0))return!1}return!0}return e!=e&&t!=t}(e,t,n)}catch(s){if(s.message&&s.message.match(/stack|recursion/i)||-2146828260===s.number)return console.warn("Warning: isEqual does not handle circular references.",s.name,s.message),!1;throw s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(233);t.Shadow=Object.assign(i.Shadow,r.Shadow),t.BoxShadow=Object.assign(i.BoxShadow,r.BoxShadow)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(100),i=n(28),o=n(25),s=n(33),a=n(141),c=n(750),l=n(6),u=n(751),h=n(755),d=n(756),p=n(757),f=n(758),g=n(759),m=n(760),v=n(41),y=n(789),S=n(790),b=n(792),_=n(794),C=n(795),w=n(1),x=n(22),P=n(62),T=n(796),k=n(30),E=n(52),O=n(53),M=r.getLogger("ToolManager"),F=!1;function vekterKeyEvent(e){return e.which||(e.which=e.keyCode),e.preventDefault||(e.preventDefault=()=>{e.defaultPrevented=!0}),e.stopPropagation||(e.stopPropagation=()=>{}),e}var D;function stateName(e){switch(e){case D.Idle:return"Idle";case D.InEventHandling:return"InEventHandling";case D.InToolProcessing:return"InToolProcessing";case D.PostProcessing:return"PostProcessing";case D.Rendering:return"Rendering"}}t.vekterKeyEvent=vekterKeyEvent,t.vekterMouseEvent=function vekterMouseEvent(e,t,n={}){return n.clientX=e,n.clientY=t,n.button||(n.button=0),n.buttons||(n.buttons=0),n.preventDefault||(n.preventDefault=()=>{n.defaultPrevented=!0}),n.stopPropagation||(n.stopPropagation=()=>{}),n},function(e){e[e.Idle=1]="Idle",e[e.InEventHandling=2]="InEventHandling",e[e.InToolProcessing=3]="InToolProcessing",e[e.PostProcessing=4]="PostProcessing",e[e.Rendering=5]="Rendering"}(D=t.EngineState||(t.EngineState={}));class VekterEngine{constructor(){this.perf=null,this.zoom=1,this.selection=[],this.highlight=l.NullID,this.activeScreen=l.NullID,this.deletedMasters=!1,this.reactComponent=null,this.shapeModeActive=!1,this.changesLastUpdate=0,this.updateStartTime=0,this.toolStartTime=0,this.processStartTime=0,this.reactStartTime=0,this.paintStartTime=0,this.wantReport=!1,this.update=0,this.lastUpdateEndTime=Date.now(),this.lastIdleUpdate=0,this.startZoom=0,this.state=D.Idle,this.inEventHandling=0,this.eventsHandled=0,this.nonUserEvents=0,this.changes=new k.EngineChanges,this.serverStore=new d.ServerStore(this.changes.addChanges),this.persistedUserDefaults=new S.PersistedUserDefaults(this.changes.addChanges),this.treeStore=new p.TreeStore(this.changes.addChanges,this.persistedUserDefaults.displayAllLinks),this.toolStore=new R.ToolStore(this.changes.addChanges),this.canvasStore=new f.CanvasStore(this.changes.addChanges,this),this.statusStore=new h.StatusStore(this.changes.addChanges),this.mouseStore=new m.MouseStore(this.changes.addChanges,this),this.pathSelectionStore=new v.PathSelectionStore(this.changes.addChanges),this.chromeStore=new y.ChromeStore(this.changes.addChanges),this.documentSettings=new b.DocumentSettingsStore(this.changes.addChanges),this.feedbackStore=new u.FeedbackStore(this.changes.addChanges),this.selectionOutlineTracker=new C.SelectionOutlineTracker(this.changes.addChanges,this.wrapHandler.bind(this)),this.currentAnimationFrame=0,this.currentAnimationFrameBackupTimer=0,this.isAtomicUpdate=!1,this.ignoreDebounceCalls=!1,this.didLoad=this.wrapHandler(()=>{this.changes.addChanges(k.EngineChangeFlags.Tree),this.enableUserInteractions(),this.chromeStore.setDocumentIsLoaded(!0),this.feedbackStore.documentDidLoad(this),E.getIpcRenderer().send(O.DocumentLoaded)}),this.debugStore=new g.DebugStore(this.changes.addChanges,this.wrapHandler(()=>{})),this.inSetState=!1,this.triggerReactUpdate=()=>{clearTimeout(this.currentAnimationFrameBackupTimer),this.reactComponent&&(this.reactComponent.state.update>=this.update||this.reactComponent.setState({update:this.update}))},this.scheduledAtEndOfFrame=null,this.scheduledAtNextFrame=null,this.endFrame=()=>{this.scheduledAtEndOfFrame&&(this.scheduledAtEndOfFrame.forEach(e=>{try{e()}catch(t){console.error(t)}}),this.scheduledAtEndOfFrame=null),this.scheduledAtNextFrame&&(this.scheduledAtNextFrame.forEach(e=>setTimeout(e,0)),this.scheduledAtNextFrame=null),this.state!==D.Idle&&(i(this.state===D.Rendering,"Engine not clean: "+stateName(this.state)),this.setState(D.Idle),window.requestAnimationFrame&&(this.wantReport=!0,this.paintStartTime=Date.now(),setTimeout(()=>{this.wantReport&&(this.lastIdleUpdate=this.update),this.report()},0)))},this.cancelTool=()=>{this.tool.cancel&&this.tool.cancel(),this.mouseStore.setMouseDown(!1),this.exitTool()},this.exit=null,this.exitTool=()=>{this.exit?this.exit():this.setTool(N.newToolFor(R.Tools.Highlight))},this.mouse=w.Point(0,0),this.mouseDown=null,this.mouseRaw=w.Point(0,0),this.mouseDownRaw=null,this.altKey=!1,this.cmdKey=!1,this.shiftKey=!1,this.spacebarDown=!1,this.mouseOnCanvas=!1,this.previousInputState={mouse:w.Point(0,0),mouseDown:null,mouseRaw:w.Point(0,0),mouseDownRaw:null,altKey:!1,cmdKey:!1,shiftKey:!1,spacebarDown:!1,mouseOnCanvas:!1},this.previousSelection=[],this.setTooltip=(e,t=null,n=R.ToolTipArrow.None,r=!1)=>{this.toolStore.setTooltip(e,t||this.mouseRaw,n,r)},this.documentWasHiddenThisFrame=!1,this.updateTreeState(),this.tool=new InitialTool,this.tool.engine=this,document.addEventListener("visibilitychange",()=>this.trackDocumentVisibility(document.hidden))}static shared(){return I||(I=new VekterEngine),I}debounce(e,t){let n=0,r=0;const i=()=>{this.lastIdleUpdate>=n&&Date.now()-this.lastUpdateEndTime>60?(r=0,e()):r=setTimeout(i,60)};return()=>{this.ignoreDebounceCalls||(r&&clearTimeout(r),n=this.update,r=setTimeout(i,t))}}load(e){this.treeStore.setTree(e),this.updateTreeState(),this.codeGenerator&&this.codeGenerator.updateTree(this.tree),this.didLoad()}wrapHandler(e){const t=this;return function(...n){t.enterEventHandling();try{return e(...n)}finally{t.exitEventHandling()}}}wrapAtomicHandler(e){const t=this;return function(...n){if(t.state!==D.Rendering){i(t.state<=D.InEventHandling,`Engine not in clean state: ${stateName(t.state)}`),clearTimeout(t.currentAnimationFrameBackupTimer),cancelAnimationFrame(t.currentAnimationFrame),t.isAtomicUpdate=!0,t.enterEventHandling();try{e(...n)}finally{t.exitEventHandling()}t.triggerReactUpdate(),t.isAtomicUpdate=!1}else console.warn("Engine already rendering, ignoring handler")}}wrapKeyHandler(e){return t=>{this.enterEventHandling();try{return e(t)}finally{this.exitEventHandling()}}}wrapMouseHandler(e){return t=>{this.enterEventHandling();try{return e(t)}finally{this.exitEventHandling()}}}currentStateName(){return stateName(this.state)}currentToolName(){return this.tool.pathTool?this.tool.pathTool.constructor.name:this.tool.constructor.name}assertStateMutable(){if(this.state<D.InEventHandling||this.state>D.InToolProcessing)throw Error("Invalid State: mutations not allowed in: "+this.currentStateName()+", tool:"+this.currentToolName());if(this.inEventHandling<=0)throw Error("Invalid State: not in an event handler, "+this.currentStateName()+", tool:"+this.currentToolName())}assertReactRendering(){if(this.reactComponent&&this.state!==D.Rendering)throw Error("Invalid State: not in react rendering, but in: "+this.currentStateName())}setState(e){i(!this.inSetState,"must not call setState re-entrantly"),this.inSetState=!0,this.state===D.Idle&&e!==D.Idle&&(this.report(),this.documentWasHiddenThisFrame=document.hidden,this.updateStartTime=Date.now(),this.update+=1,!this.isAtomicUpdate&&!F&&e<D.InToolProcessing&&(this.currentAnimationFrameBackupTimer=window.setTimeout(this.triggerReactUpdate,250),this.currentAnimationFrame=window.requestAnimationFrame(this.triggerReactUpdate)),i(!this.tree.hasUncommittedChanges()||!this.canvasStore.isInteractive,"Tree must no longer have uncommited changes")),this.state=e,this.inSetState=!1}mouseEventForTest(e,t,n=!1,r=!1,i=!1,o=!1,s=!1){this.enterEventHandling();const a=w.Point(e,t);this.mouseStore.setMousePosition(a,a,r,i,o,s),n!==!!this.mouseStore.mouseDown&&this.mouseStore.setMouseDown(n),this.exitEventHandling(),this.inEventHandling||this.nextFrameForTest()}keyDownForTest(e){this.enterEventHandling(),this.mouseStore.onKeyDown(vekterKeyEvent(e)),this.exitEventHandling(),this.inEventHandling||this.nextFrameForTest()}keyPressForTest(e){this.enterEventHandling(),this.mouseStore.onKeyPress(vekterKeyEvent(e)),this.exitEventHandling(),this.inEventHandling||this.nextFrameForTest()}keyUpForTest(e){this.enterEventHandling(),this.mouseStore.onKeyUp(vekterKeyEvent(e)),this.exitEventHandling(),this.inEventHandling||this.nextFrameForTest()}processFrameForTest(e){this.enterEventHandling();try{e()}finally{this.exitEventHandling()}this.inEventHandling||this.nextFrameForTest()}nextFrameForTest(){this.updateInputState(),this.doToolProcessing(),this.beginRendering(),this.endRendering(),this.endFrame()}updateTreeState(){i(!this.tree||!this.tree.hasUncommittedChanges(),"Tree must not exist or it must not have uncommitted changes"),this.previousTree=this.tree,this.previousSelection=this.selection,this.tree=this.treeStore.getTree(),this.selection=this.treeStore.getSelection();const e=this.treeStore.state;this.activeScreen=e.activeScreen,this.highlight=e.highlight,this.tree.editClosed=!0,i(!this.tree.hasUncommittedChanges(),"Tree must not have uncommited changes")}updateToolState(){this.handle=this.toolStore.state.handle,this.shapeModeActive=this.toolStore.state.shapeModeActive,this.zoom=this.canvasStore.zoom}updateInputState(){const e=this.mouseStore,t=e.mouse;this.setMouse(t.x,t.y,!!e.mouseDown,e.altKey,e.cmdKey,e.shiftKey,e.spacebar,e.mouseOnCanvas),this.mouse=t,this.mouseRaw=e.mouseRaw,e.mouseDown&&(this.mouseDown=e.mouseDown,this.mouseDownRaw=e.mouseDownRaw)}beginRendering(){i(this.state===D.PostProcessing||this.state===D.Idle,"Engine not clean: "+stateName(this.state)),this.setState(D.Rendering)}endRendering(){i(this.state===D.Rendering,"Engine state must be Rendering"),!this.reactComponent||this.isAtomicUpdate||F?this.endFrame():Promise.resolve().then(this.endFrame).catch(e=>setTimeout(()=>{throw e}))}runAtEndOfFrame(e){this.scheduledAtEndOfFrame||(this.scheduledAtEndOfFrame=[]),this.scheduledAtEndOfFrame.push(e)}runAtNextFrame(e){this.scheduledAtNextFrame||(this.scheduledAtNextFrame=[]),this.scheduledAtNextFrame.push(e)}report(){if(!this.wantReport)return;this.wantReport=!1;const e=+Date.now();this.lastUpdateEndTime=e;const t={update:this.update,toolName:this.currentToolName(),didLoadScript:0!=(this.changesLastUpdate&k.EngineChangeFlags.ComponentHash),didZoom:0!=(this.changesLastUpdate&k.EngineChangeFlags.CanvasZoom),documentWasHidden:this.documentWasHiddenThisFrame,mouseDown:!!this.mouseDown,selectionCount:this.selection.length,treeSize:this.tree.size(),zoom:this.zoom,totalTime:e-this.updateStartTime,eventProcessing:this.toolStartTime-this.updateStartTime,toolUpdate:this.processStartTime-this.toolStartTime,postProcessing:this.reactStartTime-this.processStartTime,reactUpdate:this.paintStartTime-this.reactStartTime,browserPaint:e-this.paintStartTime};this.perf&&(t.perf=Object.assign({},this.perf),this.perf.reset()),this.debugStore.addFrameReport(t)}getLastReport(){return this.report(),this.debugStore.getLastReport()}signalNonUserEvent(){this.nonUserEvents+=1}enterEventHandling(){i(this.state<=D.InEventHandling,"Engine not in clean state: "+stateName(this.state)),this.setState(D.InEventHandling),this.tree.editClosed=!1,this.inEventHandling+=1,this.eventsHandled+=1}exitEventHandling(){this.inEventHandling-=1,this.tree.editClosed=this.inEventHandling<=0,(this.isAtomicUpdate||F)&&0===this.inEventHandling&&this.triggerReactUpdate()}process(e){this.enterEventHandling();try{e()}finally{this.exitEventHandling()}}processWhenReady(e){this.inEventHandling?e():this.state===D.InEventHandling||this.state===D.Idle?this.process(e):setTimeout(this.wrapHandler(e),0)}doToolProcessing(){if(this.toolStartTime=Date.now(),!this.canvasStore.isInteractive)return this.doNonInteractivePostProcessing();i(this.state<D.InToolProcessing,"Engine not in clean state: "+stateName(this.state)),i(0===this.inEventHandling,"Engine must not be handling events"),this.setState(D.InToolProcessing),i(this.tree.editClosed,"Tree must be closed for editing"),this.inEventHandling+=1,this.tree.editClosed=!1;try{M.info("TOOL UPDATE: "+this.currentToolName()+" "+JSON.stringify(this.mouse)),this.updateToolState(),this.tool.update();const e=null!==this.mouseDown&&!0===this.tool.wantsAutoscrolling;e&&this.canvasStore.beginAutoscrolling(),this.canvasStore.autoscrollIfNeeded(),e&&this.canvasStore.endAutoscrolling()}finally{this.inEventHandling-=1}if(!this.canvasStore.isInteractive)return this.doNonInteractivePostProcessing();i(0===this.inEventHandling,"Engine still must not be handling events"),i(this.state===D.InToolProcessing,"Engine in wrong state: "+stateName(this.state)),this.setState(D.PostProcessing),this.doInteractivePostProcessing()}doNonInteractivePostProcessing(){this.setState(D.PostProcessing),this.processStartTime=Date.now(),this.changes.signalObserversFor(k.EngineChangeFlags.CanvasLiveTransform),this.reactStartTime=Date.now()}doInteractivePostProcessing(){this.processStartTime=Date.now(),i(this.state===D.PostProcessing,"Engine state must be PostProcessing"),this.selectionOutlineTracker.beforeCommit(this.treeStore.selectionAsNodes);let e=!c.default(this.selection,this.previousSelection);if(this.tree.hasUncommittedChanges()){e=!0;const t=this.codeGenerator,n=this.tree;this.tree=this.tree.commit(t?t.changedNodes:null),n.editClosed=!0,this.tree.editClosed=!0,this.deletedMasters&&t&&(this.deletedMasters=!1,t.updateTree(this.tree)),this.nonUserEvents<this.eventsHandled&&H.documentChanged()}if(this.nonUserEvents=0,this.eventsHandled=0,e){const e=this.selection.find(e=>{const t=this.tree.getNode(e);return!!t&&!l.isVectorNode(t)&&!l.isShapeContainerNode(t)}),t=this.selection.find(e=>{const t=this.tree.getNode(e);return!!t&&l.isVectorNode(t)});this.shapeModeActive?e&&(this.setShapeModeActive(!1),this.selection=this.selection.filter(e=>{const t=this.tree.getNode(e);return t&&!l.isVectorNode(t)})):t&&(e?this.selection=this.selection.filter(e=>{const t=this.tree.getNode(e);return t&&!l.isVectorNode(t)}):this.setShapeModeActive(!0)),this.treeStore.commit(this.tree,this.selection)}this.treeStore.performScheduledEndUndoGroups(),this.updateTreeState(),this.selectionOutlineTracker.afterCommit(this.treeStore.selectionAsNodes),this.toolStore.afterCommit(this.update,this.selection,{didTreeChange:this.changes.has(k.EngineChangeFlags.Tree)}),this.toolStore.state.leftPanelContent===R.LeftPanelContent.Components&&this.serverStore.clearRecentlyInstalledPackagesFlag(),this.treeStore.state!==this.lastTreeStoreState&&(this.lastTreeStoreState=this.treeStore.state),this.changes.has(k.EngineChangeFlags.UserDefaultsStore)&&this.treeStore.setShowAllArrows(this.persistedUserDefaults.displayAllLinks),(this.changes.has(k.EngineChangeFlags.Selection)||this.changes.has(k.EngineChangeFlags.Tree)||this.changes.has(k.EngineChangeFlags.Highlight))&&this.treeStore.calculateConnectedScreens(),this.changes.has(k.EngineChangeFlags.Tree)&&this.pathSelectionStore.validateSegmentSelection(this.tree),this.changesLastUpdate=this.changes.flags,this.changes.signalAllObservers(),this.reactStartTime=Date.now()}setToolEnum(e,t){this.assertStateMutable(),this.setTool(N.newToolFor(e,t))}setTool(e){this.isUserInteractionsDisabled||(this.assertStateMutable(),M.debug("VekterEngine.setTool(): "+this.tool.constructor.name+" "+this.tool.enum+" -> "+e.constructor.name+" "+e.enum),this.tool.stop(),e instanceof j.CreateShapeContainerTool&&this.setShapeModeActive(!0),this.toolStore.setTool(e.enum),e.engine=this,this.tool=e,e.start())}setResizeTool(e){this.handle=e,this.toolStore.setToolHandle(e),this.setTool(N.newToolFor(R.Tools.Resize))}setRotateTool(e){this.handle=e,this.toolStore.setToolHandle(e),this.setTool(N.newToolFor(R.Tools.Rotate))}setPathTool(){this.setTool(N.newToolFor(R.Tools.Path))}setExit(e){this.exit=e}setLeftPanelContent(e,t){this.isUserInteractionsDisabled||(this.toolStore.setLeftPanelContent(e),Promise.resolve().then(()=>{t&&t()},V.unhandledError))}setCodeFileCreationHeaderIsExpanded(e){this.toolStore.setCodeFileCreationHeaderIsExpanded(e)}isDefaultToolActive(){return this.tool.enum===R.Tools.Highlight||this.tool.enum===R.Tools.DirectSelect}setShapeModeActive(e){if(e===this.shapeModeActive)return;this.shapeModeActive=e,this.toolStore.setShapeModeActive(e);const t=this.selection.length>0&&this.treeStore.selectionAsNodes.every(e=>l.isVectorNode(e)||l.isShapeContainerNode(e));e&&t&&this.setLeftPanelContent(R.LeftPanelContent.Layers)}setShapeContainerOpenCategories(e){this.toolStore.setShapeContainerOpenCategories(e)}setMouse(e,t,n,r,i,o,s,a){this.previousInputState.mouse=this.mouse,this.previousInputState.mouseDown=this.mouseDown,this.previousInputState.mouseRaw=this.mouseRaw,this.previousInputState.mouseDownRaw=this.mouseDownRaw,this.previousInputState.altKey=this.altKey,this.previousInputState.cmdKey=this.cmdKey,this.previousInputState.shiftKey=this.shiftKey,this.previousInputState.spacebarDown=this.spacebarDown,this.previousInputState.mouseOnCanvas=this.mouseOnCanvas,this.mouse=w.Point(e,t),this.mouseRaw=w.Point(e,t),n?(this.mouseDown||(this.mouseDown=w.Point(e,t)),this.mouseDownRaw||(this.mouseDownRaw=w.Point(e,t))):(this.mouseDown=null,this.mouseDownRaw=null),this.altKey=r,this.cmdKey=i,this.shiftKey=o,this.spacebarDown=s,this.mouseOnCanvas=a}setMouseStore(e,t,n=!1,r=!1,i=!1,o=!1,s=!1){const a=w.Point(e,t);this.mouseStore.setMousePosition(a,a,r,i,o,s),n!==!!this.mouseStore.mouseDown&&this.mouseStore.setMouseDown(n)}zoomToFitAll(e={}){const t=this.treeStore.tree.getBoundingFrame();t.width>0&&t.height>0&&this.canvasStore.zoomToCenter(t,{maxZoom:1,animated:!e.initial})}setCursor(e){this.toolStore.setMouseCursor(e)}clearCursor(){this.toolStore.setMouseCursor("")}undo(){this.assertStateMutable(),this.treeStore.undo(),this.updateTreeState(),this.previousTree=this.tree,this.previousSelection=this.selection,this.codeGenerator&&this.codeGenerator.updateTree(this.tree),this.toolStore.setSelectedGuide()}redo(){this.assertStateMutable(),this.treeStore.redo(),this.updateTreeState(),this.previousTree=this.tree,this.previousSelection=this.selection,this.codeGenerator&&this.codeGenerator.updateTree(this.tree)}beginUndoGroup(){this.assertStateMutable(),this.treeStore.beginUndoGroup()}endUndoGroup(){this.assertStateMutable(),this.treeStore.scheduleEndUndoGroup()}discardUndoGroup(){this.assertStateMutable(),this.treeStore.discardUndoGroup(),this.updateTreeState(),this.previousTree=this.tree,this.previousSelection=this.selection,this.codeGenerator&&this.codeGenerator.updateTree(this.tree)}clearUndoStack(){this.assertStateMutable(),this.treeStore.clearUndoStack()}setActiveScreen(e=l.NullID){e!==this.activeScreen&&this.treeStore.setActiveScreen(e)}setHighlight(e=l.NullID){this.treeStore.setHighlight(e),this.highlight=e,e&&this.toolStore.setHighlightedGuide()}clearSelection(){this.selection=[]}setSelection(e){this.assertStateMutable(),this.selection=e,e.length&&(this.toolStore.state.selectedGuide&&this.toolStore.setSelectedGuide(),this.toolStore.state.ghostGuide&&this.toolStore.setGhostGuide())}toggleSelection(e){this.assertStateMutable();const t=a.without(e,this.selection),n=a.without(this.selection,e);this.selection=a.union(n,t)}getNode(e){return this.tree.getNode(e)}createNode(e,t={},n=l.NullID){this.assertStateMutable();let r=t.id;return r||(r=this.tree.newId(),t=Object.assign({},t,{id:r})),this.tree.createClassName(e,n,t),this.tree.get(r)}createFrame(e,t={}){if(null!=e){this.getNode(e)&&o.triggerLayoutFrameHierarchyEvent({})}this.createNode(l.FrameNode.name,t,e)}createStack(e,t,n={},r=[],i){const o=z.HardCodedCodeIdentifier.stack;n.codeComponentIdentifier=o;const a=s.componentLoader.componentForIdentifier(o);a&&w.isReactDefinition(a)&&(n.codeComponentProps=L.defaultCodeComponentProps(a),this.createNode(l.CodeComponentNode.name,n,t),U.stackDefaultsDependOnChildren({siblingNodes:r,tree:this.tree,rect:i,component:a,properties:n,reparenting:{engine:this,id:e}}),n.codeComponentProps.distribution="space-between")}createShapeContainer(e,t={}){this.createNode(l.ShapeContainerNode.name,t,e)}createPath(e,t={}){this.createNode(l.PathNode.name,t,e)}createBooleanPath(e,t={}){this.createNode(l.BooleanShapeNode.name,t,e)}createShapeGroup(e,t={}){this.createNode(l.ShapeGroupNode.name,t,e)}createText(e,t,n={}){null!==e?e instanceof A.StyledTextDraft?n.styledText=e:n.styledText=new A.StyledTextDraft(e):n.styledText=A.StyledTextDraft.createEmptyWithStyle(this.documentSettings.asStyle()),this.createNode(l.TextNode.name,n,t)}createShape(e,t,n={}){let r;switch(e){case"oval":r=l.OvalShapeNode.name;break;case"polygon":r=l.PolygonShapeNode.name;break;case"star":r=l.StarShapeNode.name;break;default:r=l.RectangleShapeNode.name}this.createNode(r,n,t)}createImage(e,t,n={}){n.intrinsicWidth,this.createNode(l.FrameNode.name,Object.assign({aspectRatio:aspectRatioFromAttibutes(n),fillImage:e,fillType:"image"},n),t)}createSVG(e,t,n={}){this.createNode(l.SVGNode.name,Object.assign({aspectRatio:aspectRatioFromAttibutes(n),svg:e,fillColor:!0===n.colorable?"black":void 0},n),t)}insertNode(e,t){this.tree.insertNode(e,t||e.parentid)}insertNodes(e){this.tree.insertNodes(e)}cloneNode(e){const t=this.tree,n=function deepCloneWithTemplate(e,t,n){if(x.isMaster(t))return P.TemplateHelper.create(e,t);if(x.isReplica(t)){const r=P.TemplateHelper.create(e,P.TemplateHelper.getMaster(e,t),t.replicaInfo.overrides);return r.parentid!==t.parentid&&(r.parentid=n||t.parentid),r}const r=new t.constructor;Object.assign(r,t,W,{cache:r.cache,id:r.id});n&&(r.parentid=n);const i=t.children;i&&(r.children=i.map(n=>deepCloneWithTemplate(e,n,t.id)));return r}(t,e);if(e.originalid&&!n.originalid){n.parentid=null,this.tree.insertNode(n,l.NullID);const r=t.convertRectToCanvasCached(e);return n.set(n.updateForRect(r,null),t),n}let r;const i=(this.tree.getParent(e.id)||t.root).children.indexOf(e);return i>=0&&(r=i+1),this.tree.insertNode(n,n.parentid,r),n}canDeleteNodes(e){const t=this.tree;for(let n=0,r=e.length;n<r;n++){const r=e[n],i=t.get(r);if(i&&i.originalid&&!x.isReplica(i))return!1}return!0}removeNodes(e){const t=this.tree,n=t.root.id,r=[];e.forEach(e=>{const i=t.getFuture(e);if(!i)return;let o=!1;i.walk(e=>{const s=i.cache.links;if(s&&s.forEach(n=>{const r=t.get(n);r&&(r.asMutable(),l.isCodeComponentNode(r)&&e.id&&r.removeNodeFromSlotContent(e.id))}),x.isMaster(e)&&(this.deletedMasters=!0,P.TemplateHelper.hasReplicas(t,e))){i===e&&(o=!0);const s=t.convertRectToCanvasCached(e);P.TemplateHelper.hideMaster(t,e),e.parentid!==n&&t.moveNode(e,n),r.push(e.set(e.updateForRect(s,null),t))}}),o||t.removeNode(i.futureOrCurrent())}),r.forEach(e=>{P.TemplateHelper.hasReplicas(t,e)||t.removeNode(e)})}deleteNode(e){this.removeNodes([e])}deleteNodes(e){this.removeNodes(e)}moveNode(e,t=l.NullID,n){this.tree.move(e,t,n)}updateNode(e,t){this.tree.update(e,t)}updateNodes(e,t){const n=this.tree;for(let r=0,i=e.length;r<i;r++)n.update(e[r],t)}updateNodesDirect(e,t){const n=this.tree;for(let r=0,i=e.length;r<i;r++)n.updateNode(e[r],t)}bulkNodeUpdate(e,t){const n=this.tree;for(let r=0,i=e.length;r<i;r++)n.update(e[r],t[r])}updateNodesForEach(e,t){const n=this.tree;for(let r=0,i=e.length;r<i;r++){const i=e[r],o=t(i,r);o&&i.set(o,n)}}setRenameTarget(e=l.NullID){this.treeStore.setRenameTarget(e)}setComponentHash(e){const t=this.tree;t.root.futureOrCurrent().walk(e=>{if(e instanceof l.CodeComponentNode){if(e.originalid){const n=P.TemplateHelper.getReplicaForTemplateNode(t,e);if(n){const t=n.replicaInfo.overrides[e.originalid];if(!t||!t.codeComponentProps)return}}const n=L.filterCodeComponentProps(e);e.cache.codeComponentPresentation=null,t.updateNode(e,{codeComponentProps:n}),e.allSlotContent().forEach(n=>{const r=this.tree.get(n);r&&t.linkNodeChangesTo(r,e.id)})}}),this.canvasStore.setComponentHash(e)}linkChangesTo(e,t){const n=this.tree.get(e);i(n,"Node to link from must exist"),this.tree.linkNodeChangesTo(n,t)}inspect(e=[],t=[]){return T.inspect(this.tree,e,t)}installPerformanceDebugging(e=null){return this.perf&&this.perf.uninstall(),this.perf=new _.EnginePerformance(e).install(this.debugStore),this.perf}removePerformanceDebugging(){this.perf&&(this.perf.uninstall(),this.perf=null)}disableUserInteractions(){this.isUserInteractionsDisabled=!0}enableUserInteractions(){this.isUserInteractionsDisabled=!1}trackDocumentVisibility(e){e&&(this.documentWasHiddenThisFrame=!0)}}t.VekterEngine=VekterEngine;let I=null;class InitialTool{constructor(){this.enum=R.Tools.Unknown}start(){}update(){this.engine.setTool(N.newToolFor(R.Tools.Highlight))}stop(){}}t.InitialTool=InitialTool;const R=n(9),N=n(17),A=n(60),B=n(102),L=n(404),j=(n(20),n(402)),z=n(92),U=n(405),H=n(378),V=n(105),W={mutable:!0,update:0,originalid:null};function aspectRatioFromAttibutes(e){if(!B.hasIntrinsicSize(e))return null;const{intrinsicWidth:t,intrinsicHeight:n}=e;return w.isFiniteNumber(t)&&w.isFiniteNumber(n)?t/n:null}},function(e,t,n){"use strict";function deepClone(e){if(null===e)return e;if(Array.isArray(e))return function cloneArray(e){return e.map(deepClone)}(e);if(function isObject(e){return"object"==typeof e}(e)){if(e.constructor!==Object)throw Error("only able to clone object literals");return function cloneObject(e){const t={},n=Object.keys(e);for(const r of n)t[r]=deepClone(e[r]);return t}(e)}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.deepClone=deepClone},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(52),i=n(53);let o=!1;t.documentChanged=()=>{!1===o&&(o=!0,r.getIpcRenderer().send(i.DocumentDirty))},t.documentClean=()=>{o=!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(380),o=n(762),s=n(381);function elementSize(e){return{height:e.offsetHeight,width:e.offsetWidth}}function resetSize(e,t){e.style.transition="",t.canAnimateHeight&&(e.style.height=t.originalHeight),t.canAnimateWidth&&(e.style.width=t.originalWidth)}t.useAutoSizeTransition=function useAutoSizeTransition(e){const t=r.useRef(null),n=e.ref||t,a=r.useRef(null),{current:c}=r.useRef(new Map);return r.useLayoutEffect(()=>{const t=n.current;if(!t)return;if(!a.current){if(a.current=function getSizeInfo(e){const t=e.style.width||"auto",n=e.style.height||"auto";return{originalWidth:t,originalHeight:n,canAnimateWidth:"auto"===t,canAnimateHeight:"auto"===n,lastSize:elementSize(e)}}(t),o.needsBoxSizingWarning(t),e.useSizeCache){const t=i.keyFromDependencies(e.dependencies);t&&c.set(t,a.current.lastSize)}return}const r=a.current.canAnimateHeight&&!1!==e.heightEnabled,l=a.current.canAnimateWidth&&!1!==e.widthEnabled;if(!r&&!l)return;let u;if(e.useSizeCache){const t=i.keyFromDependencies(e.dependencies);t&&(u=c.get(t))}if(!u&&(resetSize(t,a.current),u=elementSize(t),e.useSizeCache)){const t=i.keyFromDependencies(e.dependencies);t&&c.set(t,u)}const{lastSize:h}=a.current,d=h.height!==u.height,p=h.width!==u.width,f=r&&d,g=l&&p;if(!f&&!g)return;function resetSizeHandler(){t&&a.current&&resetSize(t,a.current)}r&&(t.style.height=`${h.height}px`),l&&(t.style.width=`${h.width}px`),t.getBoundingClientRect(),t.style.transition=s.transitionValue(["width","height"],e),f&&(t.style.height=`${u.height}px`),g&&(t.style.width=`${u.width}px`),a.current.lastSize=u;const m=s.transitionDuration(e),v=s.transitionDurationToMilliseconds(m)+50,y=setTimeout(resetSizeHandler,v);return()=>{clearTimeout(y),resetSizeHandler()}},i.toDependencyArray(e.dependencies)),n}},function(e,t,n){"use strict";function toString(e){return"string"==typeof e?e:"number"==typeof e?e.toString():!0===e||!1===e?`${e}`:"unknown"}Object.defineProperty(t,"__esModule",{value:!0}),t.keyFromDependencies=function keyFromDependencies(e){return Array.isArray(e)?e.map(toString).join("-"):toString(e)},t.toDependencyArray=function toDependencyArray(e){return Array.isArray(e)?e:[e]}},function(e,t,n){"use strict";function transitionDuration(e){return e.duration||"0.2s"}function transitionTimingFunction(e){return e.timingFunction||"cubic-bezier(0.2, 0, 0, 1)"}Object.defineProperty(t,"__esModule",{value:!0}),t.transitionDuration=transitionDuration,t.transitionTimingFunction=transitionTimingFunction,t.transitionValue=function transitionValue(e,t){const n=transitionDuration(t),r=transitionTimingFunction(t);return(Array.isArray(e)?e:[e]).map(e=>`${e} ${n} ${r}`).join(", ")},t.transitionDurationToMilliseconds=function transitionDurationToMilliseconds(e){if(!e)return 0;const t=e.trim().endsWith("ms")?1:1e3,n=parseFloat(e);return isNaN(n)?0:n*t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(172),o=n(380),s=n(381);function elementOffset(e){return{x:e.offsetLeft,y:e.offsetTop}}function resetOffset(e,t){e.style.transition=t||"",e.style.transform=""}t.usePositionTransition=function usePositionTransition(e){const t=r.useRef(null),n=e.ref||t,a=r.useRef(null);return r.useLayoutEffect(()=>{const t=n.current;if(!t)return;const r=a.current;if(!r)return void(a.current={lastPosition:elementOffset(t),originalTransition:t.style.transition});resetOffset(t);const o=elementOffset(t),{lastPosition:c}=r,l=o.x!==c.x,u=o.y!==c.y;if(!l&&!u)return;r.lastPosition=o;const h=i.Point.delta(o,c);function resetOffsetHandler(){t&&r&&resetOffset(t,r.originalTransition)}t.style.transition="",t.style.transform=`translateX(${h.x}px) translateY(${h.y}px)`,t.getBoundingClientRect(),t.style.transition=s.transitionValue("transform",e),t.style.transform="";const d=s.transitionDuration(e),p=s.transitionDurationToMilliseconds(d)+50,f=setTimeout(resetOffsetHandler,p);return()=>{clearTimeout(f),resetOffsetHandler()}},o.toDependencyArray(e.dependencies)),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(143),i="drag-preview-wrapper";function getElement(e){let t=document.getElementById(e);return t||((t=document.createElement("div")).id=e,document.body&&document.body.appendChild(t)),t}function getDragPreviewWrapper(){return getElement(i)}let o;t.displayDragPreview=function displayDragPreview(e,t){const n=getDragPreviewWrapper();o&&o(),n.innerHTML="",n.appendChild(e),o=t},t.removeDragPreview=function removeDragPreview(e){const t=getDragPreviewWrapper();t.contains(e)&&(o=void 0,t.innerHTML="")},t.applyDragPreviewProperties=function applyDragPreviewProperties(e){const t=getDragPreviewWrapper(),n=Object.keys(e);for(const r of n)t.style.setProperty(r,e[r])};const s=getElement("drag-overlay");function setDragOverlayCursor(e){s.style.setProperty("cursor",e)}function displayDragOverlay(e){s.style.setProperty("display",e?"block":"none"),e||setDragOverlayCursor("")}s.style.setProperty("position","absolute"),s.style.setProperty("z-index","1000000"),s.style.setProperty("top","0"),s.style.setProperty("bottom","0"),s.style.setProperty("left","0"),s.style.setProperty("right","0"),s.style.setProperty("display","none"),t.setDragOverlayCursor=setDragOverlayCursor,t.displayDragOverlay=displayDragOverlay,s.addEventListener("mousemove",e=>{r.default.isLeftMouseButtonDown(e)||displayDragOverlay(!1)})},function(e,t,n){"use strict";function isNumber(e){return"number"==typeof e&&Number.isFinite(e)}function isString(e){return"string"==typeof e}function isBoolean(e){return!1===e||!0===e}Object.defineProperty(t,"__esModule",{value:!0}),t.isNumber=isNumber,t.toNumber=function toNumber(e,t){return isNumber(e)?e:t},t.isString=isString,t.toString=function toString(e,t){return isString(e)?e:t},t.isBoolean=isBoolean,t.toBoolean=function toBoolean(e,t){return isBoolean(e)?e:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);function increase(e){return e+1}t.useRefUpdateCount=function useRefUpdateCount(e){const t=r.useRef(null),[n,i]=r.useState(0);return r.useEffect(()=>{e.current!==t.current&&null!==e.current&&(null!==t.current&&i(increase),t.current=e.current)}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pointInClientRect=function pointInClientRect(e,t){return t.left<=e.x&&t.right>=e.x&&t.top<=e.y&&t.bottom>=e.y}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DragDataTransfer=class DragDataTransfer{constructor(){this._items=[],this._types=[],this.setData=(e,t)=>{const n=new DragDataTransferItem(e,t),r=this._items.findIndex(t=>t.format===e);-1===r?(this._items.push(n),this._types.push(e)):this._items[r]=n},this.getData=e=>{const t=this._items.find(t=>t.format===e);return t?t.data:void 0},this.dropEffect="none"}get types(){return this._types}};class DragDataTransferItem{constructor(e,t){this.format=e,this.data=t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(143),o=n(385),s=n(172),a=n(384),c=n(764);function durationInSeconds(e){return e?(Date.now()-e)/1e3:0}function clientPoint(e){return{x:e.clientX,y:e.clientY}}t.useDragGesture=function useDragGesture(e={}){const t=r.useRef(null),n=e.ref||t,l=o.useRefUpdateCount(n),u=r.useRef(e);u.current=e;const h=r.useRef(null);return r.useEffect(()=>{const e=n.current;if(e)return e.addEventListener("mousedown",mouseDownHandler),()=>{endDrag({cancelled:!0}),removeActiveDragHandlers(),e.removeEventListener("mousedown",mouseDownHandler)};function endDrag(e){const t=h.current;if(t){if(t.began&&u.current.onDragEnd){const{cancelled:n,event:r}=e;u.current.onDragEnd({client:t.client,clientAtStart:t.clientAtStart,delta:t.delta,cancelled:!!n,duration:durationInSeconds(t.startTime),altKey:!!r&&r.altKey,ctrlKey:!!r&&r.ctrlKey,metaKey:!!r&&r.metaKey,shiftKey:!!r&&r.shiftKey})}h.current=null,removeActiveDragHandlers()}}function mouseMoveHandler(e){const t=h.current;if(!t)return;e.stopPropagation(),e.preventDefault();const{clientAtStart:n,began:r}=t,i=clientPoint(e),o=s.Point.delta(n,i);t.client=i,t.delta=o;const{onDrag:c,onDragStart:l}=u.current;if(r)c&&c({client:i,delta:o,clientAtStart:n,cancelled:!1,duration:durationInSeconds(t.startTime),altKey:e.altKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey});else{const r=s.Point.distance(n,i)>a.toNumber(u.current.movementThreshold,2);if(!r)return;t.began=r,t.startTime=Date.now(),l&&l({client:i,delta:o,clientAtStart:n,cancelled:!1,duration:0,altKey:e.altKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey})}}function mouseUpHandler(e){if(!h.current)return;const t=clientPoint(e);h.current.client=t,h.current.delta=s.Point.delta(h.current.clientAtStart,t),endDrag({event:e})}function keyDownHandler(e){i.default.isKey(e,i.default.Key.escape)&&(e.preventDefault(),e.stopPropagation(),endDrag({cancelled:!0,event:e}))}function mouseDownHandler(e){if(!i.default.isLeftMouseClick(e))return;if(!c.allowDragging(e))return;e.preventDefault(),function blurActiveElement(){document.activeElement instanceof HTMLElement&&document.activeElement.blur()}();const t=clientPoint(e);h.current={clientAtStart:t,client:t,delta:{x:0,y:0},began:!1,startTime:null},window.addEventListener("mouseup",mouseUpHandler,{capture:!0}),window.addEventListener("mousemove",mouseMoveHandler,{capture:!0}),window.addEventListener("keydown",keyDownHandler,{capture:!0})}function removeActiveDragHandlers(){window.removeEventListener("mouseup",mouseUpHandler,{capture:!0}),window.removeEventListener("mousemove",mouseMoveHandler,{capture:!0}),window.removeEventListener("keydown",keyDownHandler,{capture:!0})}},[l,n]),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(167),o=n(238);t.useDroppable=function useDroppable({dataTypes:e,onDrop:t,onDragOver:n,onDragEnter:s,onDragLeave:a,enabled:c,dropEffect:l,ref:u}){const h=r.useRef(null),d=u||h,p={onDrop:t,onDragOver:n,onDragEnter:s,onDragLeave:a,enabled:c,dropEffect:l},f=r.useRef(p);f.current=p;const g=function useIdentifier(){const e=r.useRef(null);return e.current||(e.current=i()),e.current}(),m=r.useContext(o.dragDataTransferContext);return r.useEffect(()=>(m.registerDroppable({id:g,dataTypes:e,mutablePropsRef:f,getBoundingClientRect:function getBoundingClientRect(){return d.current?d.current.getBoundingClientRect():null}}),()=>m.unregisterDroppable(g)),[]),d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(239);t.SortableWithSections=function SortableWithSections({sections:e,itemsForSection:t,headerForSection:n,children:o,moveItem:s,removeItem:a,keyForSection:c,keyForItem:l,enabled:u,onDragStart:h,style:d}){const p=[];let f;if(e.forEach((e,n)=>{p.push({type:"header",section:e,sectionIndex:n});const r=t(e,n).map((t,r)=>({type:"item",section:e,sectionIndex:n,item:t,itemIndex:r}));p.push(...r)}),e.length){const t=e[0];f=n(t,0)}return r.createElement(i.Sortable,{header:f,items:p.slice(1),moveItem:(e,t)=>{const n=p[e+1],r=p[t+1];if("item"===n.type)if(function isMovingUp(e,t){return e.sectionIndex===t.sectionIndex?"header"===t.type||e.itemIndex>t.itemIndex:e.sectionIndex>t.sectionIndex}(n,r))if("header"===r.type){const e=function endOfSection(e,t){let n=0,r=null;return t.forEach(t=>{t.sectionIndex===e&&(r=t.section,"header"!==t.type&&n++)}),r?{section:r,sectionIndex:e,itemIndex:n}:null}(r.sectionIndex-1,p);e&&s(n,e)}else s(n,r);else{const e=n.sectionIndex!==r.sectionIndex?1:0,t="item"===r.type?r.itemIndex+e:0;s(n,Object.assign({},r,{itemIndex:t}))}},removeItem:e=>{const t=p[e+1];"item"===t.type&&a(t)},enabled:u,style:d,keyForItem:e=>"header"===e.type?c?c(e):"string"==typeof e.section?e.section:`section-${e.sectionIndex}`:l(e),onDragStart:h},({item:e,isDragPreview:t})=>"header"===e.type?n(e.section,e.sectionIndex):o(Object.assign({},e,{isDragPreview:t})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spikesDefaults={spikeCount:5,spikeDepth:50};const r="spikeCount";function hasSpikes(e){return r in e}t.hasSpikes=hasSpikes,t.reduceSpikes=function reduceSpikes(e,t){hasSpikes(e)&&(void 0===t.spikeCount?t.spikeCount=e.spikeCount:null!==t.spikeCount&&t.spikeCount!==e.spikeCount&&(t.spikeCount=null),void 0===t.spikeDepth?t.spikeDepth=e.spikeDepth:null!==t.spikeDepth&&t.spikeDepth!==e.spikeDepth&&(t.spikeDepth=null))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(780),o=n(6),s=n(91),a=n(21),c=n(33),l=n(176),u=n(92);function isRoundFrame(e){const t=e.radiusPerCorner?Math.min(e.radiusTopLeft,e.radiusTopRight,e.radiusBottomLeft,e.radiusBottomRight):e.radius;if(0===t)return!1;if(!e.radiusPerCorner&&e.radiusIsRelative)return e.radius>40;if(!e.cache.latest)return!1;const n=e.tree().getRect(e);return t>=Math.min(n.width,n.height)/2}t.defaultName=e=>{if(e instanceof r.SVGNode)return e.originalFilename||"Icon";if(e instanceof r.TextNode)return e.text.replace(/\s+/g," ").trim();if(e instanceof r.PathNode)return"Path";if(e instanceof o.FrameNode){const t=i.getDeviceName(e.deviceType);if(t){if(!e.cache.latest)return t;const n=e.tree();if(e.parentid===n.root.id)return t}return isRoundFrame(e)?"Round":"Frame"}if(e instanceof r.ShapeContainerNode)return"Graphic";if(e instanceof o.BooleanShapeNode)return s.nameForPathBooleanType(e.pathBoolean);if(e instanceof o.ShapeGroupNode)return"Group";if(e instanceof o.StarShapeNode)return"Star";if(e instanceof r.PolygonShapeNode)return"Polygon";if(e instanceof o.OvalShapeNode)return"Oval";if(e instanceof o.RectangleShapeNode)return"Rectangle";if(e instanceof a.default){const t=c.componentLoader.componentForIdentifier(e.codeComponentIdentifier);return t&&t.name?t.name:"Component"}return"Rectangle"},t.iconName=e=>{if(void 0===e)return"canvas";if(l.isUserComponent(e))return"component";if(a.isCodeComponentNode(e))switch(e.codeComponentIdentifier){case u.HardCodedCodeIdentifier.scroll:return"scroll";case u.HardCodedCodeIdentifier.stack:return"stack";case u.HardCodedCodeIdentifier.page:return"page"}return e instanceof o.FrameNode?isRoundFrame(e)?"frame-round":"frame":e instanceof r.TextNode?"text":e instanceof r.SVGNode?"svg":e instanceof r.PathNode?"path":e instanceof o.BooleanShapeNode?"boolean":e instanceof o.StarShapeNode?"star":e instanceof r.PolygonShapeNode?"polygon":e instanceof o.OvalShapeNode?"oval":e instanceof o.RectangleShapeNode?"rectangle":e instanceof o.ShapeGroupNode?"group":e instanceof r.ShapeContainerNode?"graphic":"rectangle"},t.equalSelection=(e,t)=>{const n=e.length;if(n!==t.length)return!1;const r=new Set;for(let i=0;i<n;i++)r.add(e[i].id);for(let i=0;i<n;i++)if(!r.has(t[i].id))return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(241);t.wrapInShapeContainer=function wrapInShapeContainer(e,t){const n=t.getParent(e.id);if(n&&(r.isVectorNode(n)||r.isShapeContainerNode(n)))return;const o={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0};if(i.collectBoundingBox(e,o,!1),!i.isValidBoundingBox(o))return console.error("Error converting document: could not wrap shape in container because of invalid bounding box"),null;const s=i.getRectContainingBoundingBox(o),a=t.getIndex(e),c={top:s.y,left:s.x,width:s.width,height:s.height,fillEnabled:!1,sizeToFit:!0},l=t.create(r.ShapeContainerNode,e.parentid,c);t.move(l.id,e.parentid,a),t.move(e.id,l.id),e.set({x:e.x-o.minX,y:e.y-o.minY})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(177);t.LinearGradient=Object.assign(i.LinearGradient,r.LinearGradient)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(800),o=n(1),s=n(94),a=n(26),c=n(163),l=n(104),u=n(27);function isChild(e,t){let n=!1;return e.walk(e=>{n||e===t&&(n=!0)}),n}t.default=class Distances extends r.Component{constructor(){super(...arguments),this.getLineFromGuideToGuide=(e,t,n)=>{if(t.axis!==n.axis)return null;const r=[],{axis:i}=t,o=l.getOrthogonalAxis(i),s=l.getGuideAbsoluteOffset(e,n),a=l.getGuideAbsoluteOffset(e,t);let c;const d=h(i);if(t.nodeId===e.root.id){const e=u.default.canvasStore.getCanvasVisibleRect();c=e[o]+e[d]/2}else{const n=l.getGuideNode(e,t);if(!n)return null;const r=e.convertFrameToCanvas(n);c=r[o]+r[d]/2}const p={[i]:a,[o]:c},f={[i]:s,[o]:c};return p&&f?(r.push({a:p,b:f,displayLength:!0}),r):null},this.getLinesFromGuideToRect=(e,t,n)=>{const r=[],{nodeId:i,axis:o}=t,s=l.getGuideAbsoluteOffset(e,t);if(!i||!s)return null;const a=h(o),c=d(o),u=l.getOrthogonalAxis(o),p=n[o],f=p+n[c],g=n[u]+n[a]/2,m={[o]:s,[u]:g};if(s<p){const e={[o]:p,[u]:g};r.push({a:m,b:e,displayLength:!0})}else if(s>f){const e={[o]:f,[u]:g};r.push({a:m,b:e,displayLength:!0})}else if(s>p&&s<f){const e={[o]:p,[u]:g};r.push({a:m,b:e,displayLength:!0});const t={[o]:f,[u]:g};r.push({a:m,b:t,displayLength:!0})}return r},this.getLinesFromRectToRect=(e,t,n,r)=>{if(!e||!n)return null;const i=o.Rect.intersects(r,t),s=[];if(o.Rect.containsRect(t,r))s.push(...f(t,r));else if(o.Rect.containsRect(r,t))s.push(...f(r,t));else if(e&&i&&isChild(e,n))s.push(...f(t,r));else if(e&&i&&isChild(n,e))s.push(...f(r,t));else if(i){const e=o.Rect.cornerPoints(r),n=o.Rect.cornerPoints(t);e.forEach((e,i)=>{const o=n[i];if(p(e,t)&&p(o,r)){const t=Math.min(e.x,o.x),n=Math.max(e.x,o.x),r=Math.min(e.y,o.y),a=Math.max(e.y,o.y),c={x:Math.min(e.x,o.x),y:Math.min(e.y,o.y)};1===i&&(c.x=n),2===i&&(c.x=n,c.y=a),3===i&&(c.y=a);let l=c.x!==n?c.x<n:c.x<t,u=c.y!==a?c.y<a:c.y<r;if(e.x!==c.x){const e=l;l=u,u=e}s.push({a:e,b:c,flipSide:l,displayLength:!0}),s.push({a:o,b:c,flipSide:u,displayLength:!0})}})}else{if(o.Rect.maxX(r)<t.x){const e=t.y+t.height/2,n={x:t.x,y:e},i={x:o.Rect.maxX(r),y:e};if(s.push({a:n,b:i,displayLength:!0}),o.Rect.maxY(r)<e){const e=Object.assign({},i,{y:o.Rect.maxY(r)});s.push({a:e,b:i,dashed:!0})}else if(r.y>e){const e=Object.assign({},i,{y:r.y});s.push({a:e,b:i,dashed:!0})}}else if(o.Rect.maxX(t)<r.x){const e=t.y+t.height/2,n={x:o.Rect.maxX(t),y:e},i={x:r.x,y:e};if(s.push({a:n,b:i,displayLength:!0}),o.Rect.maxY(r)<e){const e=Object.assign({},i,{y:o.Rect.maxY(r)});s.push({a:e,b:i,dashed:!0})}else if(r.y>e){const e=Object.assign({},i,{y:r.y});s.push({a:e,b:i,dashed:!0})}}if(o.Rect.maxY(r)<t.y){const e=t.x+t.width/2,n={x:e,y:t.y},i={x:e,y:o.Rect.maxY(r)};if(s.push({a:n,b:i,displayLength:!0}),o.Rect.maxX(r)<e){const e=Object.assign({},i,{x:o.Rect.maxX(r)});s.push({a:e,b:i,dashed:!0})}else if(r.x>e){const e=Object.assign({},i,{x:r.x});s.push({a:e,b:i,dashed:!0})}}else if(o.Rect.maxY(t)<r.y){const e=t.x+t.width/2,n={x:e,y:o.Rect.maxY(t)},i={x:e,y:r.y};if(s.push({a:n,b:i,displayLength:!0}),o.Rect.maxX(r)<e){const e=Object.assign({},i,{x:o.Rect.maxX(r)});s.push({a:e,b:i,dashed:!0})}else if(r.x>e){const e=Object.assign({},i,{x:r.x});s.push({a:e,b:i,dashed:!0})}}}return s},this.renderRotationOverlay=(e,t)=>e?r.createElement(s.default,{frame:o.Rect.multiply(e,t),backgroundColor:"",border:"1px dashed magenta",borderColor:"magenta",borderWidth:1}):null}render(){const{tree:e,zoom:t,selection:n,selectedGuide:s,highlightedGuide:l}=this.props;let{highlight:u}=this.props;if(n.length<1&&!s)return null;let h=null,d=!1,p=!1,f=null,g=null,m=null;if(null===u)if(s)u=s.nodeId;else{const t=n.map(t=>{const n=e.getNode(t);return e.getParentId(n)}),r=c.commonValue(t);r&&r!==e.root.id&&(u=r)}if((m=u?e.getNode(u):null)&&(p=a.isRotated(m),g=e.convertFrameToCanvas(m)),!g&&!l)return null;if(s)l?h=this.getLineFromGuideToGuide(e,s,l):g&&(h=this.getLinesFromGuideToRect(e,s,g));else{let t=null;if(1===n.length){if(!(t=e.getNode(n[0])))return null;d=a.isRotated(t)}(f=o.Rect.merge(...n.map(t=>{const n=e.getNode(t);return e.convertFrameToCanvas(n)})))&&l?h=this.getLinesFromGuideToRect(e,l,f):g&&(h=this.getLinesFromRectToRect(t,f,m,g))}return h?r.createElement("div",{style:{pointerEvents:"none"}},h.map(({a:e,b:n,displayLength:o,dashed:s})=>r.createElement(i.DistanceLine,Object.assign({key:`distance-(${e.x},${n.x})-(${e.y},${n.y})`},{a:e,b:n,zoom:t,displayLength:o,dashed:s}))),d&&this.renderRotationOverlay(f,t),p&&this.renderRotationOverlay(g,t)):null}};const h=e=>"x"===e?"height":"width",d=e=>"x"===e?"width":"height",p=(e,t)=>!o.Rect.containsPoint(t,e)&&(e.y>t.y&&e.y<o.Rect.maxY(t)||e.x>t.x&&e.x<o.Rect.maxX(t)),f=(e,t)=>{const n=[],r=o.Rect.positions(t),i=o.Rect.positions(e),s=o.Rect.containsRect(e,t)?r:o.Rect.positions(o.Rect.intersection(t,e)),a={x:r.minX,y:s.midY},c={x:i.minX,y:s.midY};n.push({a,b:c,displayLength:!0});const l={x:r.maxX,y:s.midY},u={x:i.maxX,y:s.midY};n.push({a:l,b:u,displayLength:!0});const h={x:s.midX,y:r.minY},d={x:s.midX,y:i.minY};n.push({a:h,b:d,displayLength:!0});const p={x:s.midX,y:r.maxY},f={x:s.midX,y:i.maxY};return n.push({a:p,b:f,displayLength:!0}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(28),i=n(6),o=n(36),s=n(19),a=n(1),c=n(23),l=n(243),u=n(43),h=n(397),d=n(77);function scaleShapeContainerDescendantShapes(e,t,n,r,i,o){const{tree:c}=e,l=c.getNode(t.id),u=o.width>-1&&o.width<1?1:o.width,h=o.height>-1&&o.height<1?1:o.height,d=u/i.width,p=h/i.height;n.forEach((t,n)=>{const r=c.getNode(n);if(!r)return;const i={pathSegments:t.pathSegments.map(e=>new a.PathSegment(e.merge({x:e.x*d,y:e.y*p,handleOutX:e.handleOutX*d,handleOutY:e.handleOutY*p,handleInX:e.handleInX*d,handleInY:e.handleInY*p}))),pathClosed:t.pathClosed},o={pathSegments:s.convertPathFromNodeToDescendant(c,l,r,[i])[0],pathClosed:r.pathClosed},u=r.updateForPath(o);e.updateNode(r.id,u)}),r.forEach((t,n)=>{if(null===t)return;const r=t.map(e=>({x:e.x*d,y:e.y*p})),i=c.getNode(n),o=r.map(e=>c.convertPointFromNodeToDescendant(l,i,e,!1)),s=a.Rect.fromPoints(o);e.updateNode(n,s)})}t.updateNodeFrameForEach=function updateNodeFrameForEach(e,t,n,r){n.forEach(t=>{const n=e.getParent(t.id),i=r(e.getRect(t)),o=t.updateForRect(i,n?e.getRect(n):null);e.updateNode(t,o)})},t.flipShapes=function flipShapes(e,t,n,i){const u=n.map(e=>e.id);n.forEach(n=>{if(!o.hasShape(n))return;const{descendantPaths:h}=s.collectDescendantShapesAndFlattenRotations(t,n,!0,u),d=h.valueSeq().toArray(),p=c.default.boundingBox(d),f=Object.assign({},p);"horizontal"===i?(f.x=p.x+p.width,f.width=-p.width):(f.y=p.y+p.height,f.height=-p.height);const g=f.width>-1&&f.width<1?1:f.width,m=f.height>-1&&f.height<1?1:f.height,v=[p.x,p.x+p.width],y=[f.x,f.x+g],S=[p.y,p.y+p.height],b=[f.y,f.y+m],_=g/p.width,C=m/p.height;h.forEach((n,i)=>{const o=n.pathSegments.map(e=>new a.PathSegment(e.merge({x:l.default(e.x,v,y,!1),y:l.default(e.y,S,b,!1),handleOutX:e.handleOutX*_,handleOutY:e.handleOutY*C,handleInX:e.handleInX*_,handleInY:e.handleInY*C})));r(t.tree===e);const c=e.getNode(i);if(!c)return;const u={pathSegments:o,pathClosed:c.pathClosed},h={pathSegments:s.convertPathToNode(e,c,[u])[0],pathClosed:c.pathClosed},d=c.updateForPath(h);e.updateNode(c,d)})})},t.updateNodeSizeForEach=function updateNodeSizeForEach(e,t,n){const{tree:c}=e;t.forEach(t=>{const p=c.getRect(t),f=n(p);if(f.width&&f.width<1&&(f.width=1),f.height&&f.height<1&&(f.height=1),i.isShapeContainerNode(t))!function updateShapeContainerSize(e,t,n){const{tree:r,shapeModeActive:i}=e;if(i){const e=r.getParent(t.id),i=e?r.getRect(e):null,o=t.updateForSize(n,i);return o.sizeToFit=!1,void r.updateNode(t,o)}const o=r.getRect(t),c=function shapeContainerResizeRect(e,t,n){const r=Object.assign({},t),i=r.width/r.height;n.width&&(r.width=n.width,r.height=Math.round(n.width/i)),n.height&&(r.height=n.height,r.width=Math.round(n.height*i));const o=r.width-t.width,s=r.height-t.height,{left:c,right:l,top:u,bottom:h}=e;return null===c&&null===l?r.x=Math.round(r.x-o/2):a.isFiniteNumber(l)&&(r.x=Math.round(r.x-o)),null===u&&null===h?r.y=Math.round(r.y-s/2):a.isFiniteNumber(h)&&(r.y=Math.round(r.y-s)),r}(t,o,n),u={width:c.width,height:c.height};if(t.sizeToFit){const{descendantPaths:n,descendantBasicShapes:r}=s.collectDescendantShapesAndFlattenRotations(e,t);!function resizeShapeContainerDescendantShapes(e,t,n,r,i,o){const{tree:c}=e,u=t.canvasMatrix(),h=u.inverse(),p=o.width>-1&&o.width<1?1:o.width,f=o.height>-1&&o.height<1?1:o.height,g=[i.x,i.x+i.width],m=[o.x,o.x+p],v=[i.y,i.y+i.height],y=[o.y,o.y+f],S=p/i.width,b=f/i.height,_=i;n.forEach((t,n)=>{const r=s.convertPath(h,[t])[0],i=r.map(e=>new a.PathSegment(e.merge({x:l.default(e.x+_.x,g,m,!1)-_.x,y:l.default(e.y+_.y,v,y,!1)-_.y,handleOutX:e.handleOutX*S,handleOutY:e.handleOutY*b,handleInX:e.handleInX*S,handleInY:e.handleInY*b}))),o={pathSegments:s.convertPath(u,[{pathSegments:i,pathClosed:t.pathClosed}])[0],pathClosed:t.pathClosed},d=c.getNode(n);if(!d)return;const p=s.convertPathToNode(c,d,[o]),f={pathSegments:p[0],pathClosed:d.pathClosed},C=d.updateForPath(f);e.updateNode(d.id,C)}),r.forEach((t,n)=>{if(null===t)return;const r=t.map(e=>d.default.convertPoint(h,e)),i=r.map(e=>({x:l.default(e.x+_.x,g,m,!1)-_.x,y:l.default(e.y+_.y,v,y,!1)-_.y})),o=i.map(e=>d.default.convertPoint(u,e)),p=c.getNode(n),f=o.map(e=>d.default.convertPoint(p.canvasMatrix().inverse(),e)),S=a.Rect.fromPoints(f),b=a.Rect.center(S),C=s.convertPointToParent(p,b),w={x:C.x-S.width/2,y:C.y-S.height/2,width:S.width,height:S.height};e.updateNode(n,w)})}(e,t,n,r,o,c)}else{const{shapeContainerDescendantPaths:n,shapeContainerDescendantBasicShapes:i}=s.collectShapeContainerDescendantShapesAndFlattenRotations(e,t),a=r.getParent(t.id),l=t.updateForSize(u,a?r.getRect(a):null);r.updateNode(t,l),scaleShapeContainerDescendantShapes(e,t,n,i,o,c)}const p=h.collectScalableVectorStyles(t);h.scaleVectorStyles(r,p,function scaleFactor(e,t){return t.width?t.width/e.width:t.height?t.height/e.height:1}(o,n))}(e,t,f);else if(o.hasShape(t))!function updateShapeSize(e,t,n){const{tree:i}=e,o=i.getRect(t),c=a.Size.update(o,n,!!u.hasAspectRatio(t)&&a.isFiniteNumber(t.aspectRatio)),h=Object.assign({},o,c),d=h.width>-1&&h.width<1?1:h.width,p=h.height>-1&&h.height<1?1:h.height,f=[o.x,o.x+o.width],g=[h.x,h.x+d],m=[o.y,o.y+o.height],v=[h.y,h.y+p],y=d/o.width,S=p/o.height,{descendantPaths:b,descendantBasicShapes:_}=s.collectDescendantShapesAndFlattenRotations(e,t);b.forEach((n,c)=>{const u=s.convertPathToNode(i,t,[n])[0],h=u.map(e=>new a.PathSegment(e.merge({x:l.default(e.x+o.x,f,g,!1)-o.x,y:l.default(e.y+o.y,m,v,!1)-o.y,handleOutX:e.handleOutX*y,handleOutY:e.handleOutY*S,handleInX:e.handleInX*y,handleInY:e.handleInY*S}))),d=s.convertPathToCanvas(i,t,{pathSegments:h,pathClosed:!0});r(e.tree===i);const p=i.getNode(c);if(!p)return;const b=s.convertPathToNode(i,p,d),_={pathSegments:b[0],pathClosed:p.pathClosed},C=p.updateForPath(_);i.updateNode(p,C)}),_.forEach((e,n)=>{if(null===e)return;const r=e.map(e=>i.convertPointToNode(t,e)),c=r.map(e=>({x:l.default(e.x+o.x,f,g,!1)-o.x,y:l.default(e.y+o.y,m,v,!1)-o.y})),u=c.map(e=>i.convertPointToCanvas(t,e)),h=i.getNode(n),d=u.map(e=>i.convertPointToNode(h,e)),p=a.Rect.fromPoints(d),y=a.Rect.center(p),S=s.convertPointToParent(h,y),b={x:S.x-p.width/2,y:S.y-p.height/2,width:p.width,height:p.height};i.updateNode(h,b)})}(e,t,f);else{const e=c.getParent(t.id),n=t.updateForSize(f,e?c.getRect(e):null);c.updateNode(t,n)}})},t.scaleShapeContainerDescendantShapes=scaleShapeContainerDescendantShapes},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(1),o=n(233),s=n(61),a=n(90),c=n(58),l=n(59),u=n(108);function scaleShadow(e,t){if(e)return e.map(e=>new o.BoxShadow(e.merge({x:i.roundedNumber(e.x*t,2),y:i.roundedNumber(e.y*t,2),blur:i.roundedNumber(e.blur*t,2),spread:i.roundedNumber(e.spread*t,2)}))).toList()}function scaledDashArray(e,t){const n=[],r=e.split(",");for(const o of r){const e=parseFloat(o);if(!i.isFiniteNumber(e))continue;const r=i.roundedNumber(e*t,2);n.push(r)}return n.join(", ")}t.collectScalableVectorStyles=function collectScalableVectorStyles(e){const t={};return e.walk(e=>{s.hasStroke(e)&&a.hasBoxShadow(e)&&(t[e.id]={strokeWidth:e.strokeWidth,strokeDashArray:e.strokeDashArray,strokeDashOffset:0,boxShadows:e.boxShadows},c.withRadius(e)&&(t[e.id].radius=e.radius),l.withRadiusPerCorner(e)&&(t[e.id].radiusTopLeft=e.radiusTopLeft,t[e.id].radiusTopRight=e.radiusTopRight,t[e.id].radiusBottomRight=e.radiusBottomRight,t[e.id].radiusBottomLeft=e.radiusBottomLeft),u.hasPath(e)&&(t[e.id].pathSegments=e.pathSegments))}),r.Map(t)},t.scaleVectorStyles=function scaleVectorStyles(e,t,n){t.forEach((t,r)=>{const o=e.getNode(r);if(!o)return;const s={strokeWidth:t.strokeWidth?i.roundedNumber(t.strokeWidth*n,2):void 0,strokeDashArray:t.strokeDashArray?scaledDashArray(t.strokeDashArray,n):void 0,strokeDashOffset:t.strokeDashOffset?i.roundedNumber(t.strokeDashOffset*n,2):void 0,boxShadows:scaleShadow(t.boxShadows,n)};void 0!==t.radius&&(s.radius=i.roundedNumber(t.radius*n,2)),void 0!==t.radiusTopLeft&&(s.radiusTopLeft=i.roundedNumber(t.radiusTopLeft*n,2),s.radiusTopRight=i.roundedNumber(t.radiusTopRight*n,2),s.radiusBottomRight=i.roundedNumber(t.radiusBottomRight*n,2),s.radiusBottomLeft=i.roundedNumber(t.radiusBottomLeft*n,2)),t.pathSegments&&i.withPath(o)&&(s.pathSegments=o.pathSegments.map((e,r)=>{const i=t.pathSegments.get(r).radius*n;return e.merge({radius:i})})),e.updateNode(o,s)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(1),o=n(17),s=n(6),a=n(21),c=n(62),l=n(20),u=n(35),h=n(26),d=n(36),p=n(39),f=n(22),g=n(73),m=n(180),v=n(77),y=n(9),S=n(244),b=n(234),_=n(71);function getDelta(e,t,n){const r=i.Point.pixelAligned(i.Point.subtract(t,e));return n&&(Math.abs(r.x)>Math.abs(r.y)?r.y=0:r.x=0),r}function removeAutoAndFractionDimensionsFromUpdate(e,t){return u.isPinnable(e)?(e.widthType!==i.DimensionType.Auto&&e.widthType!==i.DimensionType.FractionOfFreeSpace||(delete t.width,delete t.widthType),e.heightType!==i.DimensionType.Auto&&e.heightType!==i.DimensionType.FractionOfFreeSpace||(delete t.height,delete t.heightType),t):t}function insertionSizesForSelection(e){return e.map(e=>e.rect).toArray()}function removeInsertionPlaceholders(e,t){t&&(t.cache.placeholders=null,e.updateNode(t.id,{}))}function intersects(e,t){for(const n of e)if(-1!==t.indexOf(n))return!0;return!1}function getChildBeginState(e,t){let n=r.Map();return s.isVectorNode(t)?n:(l.getChildren(t).forEach(t=>{const r=e.getRect(t),i=e.convertFrameToCanvas(t);n=n.set(t.id,{frame:r,canvasFrame:i})}),n)}function getOverrides(e,t){if(!t.originalid)return;const n=c.TemplateHelper.getReplicaForTemplateNode(e,t);return n?n.replicaInfo.overrides[t.originalid]:void 0}function getStartSize(e){const t={};return p.hasSize(e)&&(t.width=e.width,t.height=e.height),u.isPinnable(e)&&(t.widthType=e.widthType,t.heightType=e.heightType),t}t.MoveTool=class MoveTool extends o.VekterTool{constructor(){super(...arguments),this.enum=y.Tools.Move,this.wantsAutoscrolling=!0,this.targetIds=r.Map(),this.highlightedParents=new Set,this.hasMoved=!1,this.canMoveToParentDirected=!1,this.activeParentDirected=null,this.commonParentDirectedAtStart=null,this.activeParentDirectedInsertion=null,this.parentDirectedInsertionLine=null,this.memoizedParentDirectedSortingRects=function getMemoizedLiveSortingRects(){let e,t;return function(n,r,i,o,a){let c=a?t:e;if(!c){!function makeGroundNodes(e,t,n){t.forEach((t,r)=>{const i=n.get(r,r.id);e.moveNode(i,s.NullID,-1)})}(n,r,i);const l=n.tree.current(o);c=m.getLiveSortingRects(l,insertionSizesForSelection(r)),a?t=c:e=c}return c}}(),this.displaySelectionBox=!0,this.displaySelectionHandles=!0}start(){const{engine:e}=this,{selection:t,tree:n}=e;this.snapper=new S.SnapTool(e,t);const o=n.withoutDescendants(n.getNodes(t));this.selectedNodes=function getSelectedNodes(e,t){const n=e.sortVisually(t);let o=r.OrderedMap();return n.forEach(t=>{const n=function getBeginState(e,t){const n=e.getParent(t.id),r=g.codeComponentWithChildInsertion(n),o=e.convertFrameToCanvas(t);return{parent:n,index:e.getIndex(t),rect:e.getRect(t),canvasRect:o,canvasCenterPoint:i.Rect.center(o),constraintsLocked:u.isPinnable(t)?t.constraintsLocked:void 0,children:getChildBeginState(e,t),startFromParentDirected:r,unableToMove:r&&f.isReplicaChild(t),startSizeProps:getStartSize(t),overrides:getOverrides(e,t),hasMovedToNewParent:!1}}(e,t);o=o.set(t,n)}),o}(n,o),this.maxSize=function getMaxSize(e){let t=0,n=0;return e.forEach(e=>{const{width:r,height:i}=e.rect;r>t&&(t=r),i>n&&(n=i)}),{width:t,height:n}}(this.selectedNodes),this.startCanvasRect=function canvasRectForSelection(e){const t=[];return e.forEach(e=>{t.push(e.canvasRect)}),i.Rect.merge(...t)}(this.selectedNodes),this.canMoveToParentDirected=function selectionCanMoveToParentDirected(e){return void 0===e.find(e=>{const t=e.originalid&&!f.isReplica(e);return!!t||!!s.isVectorNode(e)})}(o),this.commonParentDirectedAtStart=function selectionHasCommonParentDirectedNode(e,t){let n=null;for(let r=0,i=t.length;r<i;r++){const i=t[r],o=e.getParent(i.id);if(!o||!a.isCodeComponentNode(o)||!g.codeComponentWithChildInsertion(o))return null;if(n){if(n.id!==o.id)return null}else n=o}return n}(n,o),e.beginUndoGroup(),e.setHighlight(null)}cancel(){const{engine:e}=this;e.discardUndoGroup()}stop(){const{engine:e}=this,{activeParentDirected:t,activeParentDirectedInsertion:n,selectedNodes:r,targetIds:o}=this;removeInsertionPlaceholders(e,t),t&&i.isFiniteNumber(n)&&(function insertSelectionIntoParentDirectedNode(e,t,n,r,i){r.forEach((r,o)=>{const s=i.get(o,o.id);e.moveNode(s,t.id,n);let a={top:0,left:0,right:null,bottom:null};r.parent&&r.parent.id===t.id&&(a=Object.assign({},a,r.startSizeProps)),e.updateNode(s,a),n++})}(e,t,n,r,o),_.experiments.isOn("fractionOnStackInsert")&&function setFractionInCrossDirection(e,t,n,r,o){if(n||1!==r.count())return;const s=r.keySeq().first(),a=o.get(s,s.id),c=e.tree.get(a)||s;if(!u.isPinnable(c)||b.hasAutoSize(c)&&"boolean"==typeof c.autoSize&&c.autoSize)return;const l={};"horizontal"===t.codeComponentProps.direction?(l.height=1,l.heightType=i.DimensionType.FractionOfFreeSpace):(l.width=1,l.widthType=i.DimensionType.FractionOfFreeSpace),e.updateNode(c.id,l)}(e,t,this.commonParentDirectedAtStart,r,o)),e.endUndoGroup(),this.snapper.stop()}update(){const{engine:e}=this,{tree:t,selection:n,altKey:r,cmdKey:o,mouse:c}=e,{middleMouseButtonDown:p}=e.mouseStore;if(!e.mouseDown||p)return void e.exitTool();if(function unableToMoveAll(e){return e.every(e=>e.unableToMove)}(this.selectedNodes))return;const y=function getMouseDelta(e){const{mouseDown:t,mouse:n,shiftKey:r,altKey:i,cmdKey:o}=e,s=e.previousInputState;if(!s.mouseDown)return;const a=getDelta(s.mouseDown,n,r),c=getDelta(s.mouseDown,s.mouse,s.shiftKey);return c.x===a.x&&c.y===a.y&&i===s.altKey&&o===s.cmdKey&&t?void 0:a}(e);if(!y||0===y.x&&0===y.y&&!this.hasMoved)return;this.hasMoved=!0,this.displaySelectionHandles=!1,this.highlightedParents.clear(),removeInsertionPlaceholders(e,this.activeParentDirected),this.targetIds=function handleCopies(e,t,n,r){return r?function createCopies(e,t,n){if(!1===n.isEmpty())return n;(function moveChildrenToDefaultPosition(e,t){t.valueSeq().forEach(t=>{t.children.forEach((n,r)=>{const i=e.getNode(r),o=n.frame;let s=i.updateForRect(o,t.rect);s=removeAutoAndFractionDimensionsFromUpdate(i,s),i.setIgnoringReplica(s,e)})})})(e.tree,t),t.forEach((t,r)=>{const i=e.cloneNode(r);n=n.set(r,i.id);const{parent:o,index:a,constraintsLocked:c}=t;let{rect:l}=t;if(r.originalid||e.moveNode(r.id,o?o.id:s.NullID,a),s.isVectorNode(r)&&o){const n=e.tree.convertPointToNode(o,t.canvasCenterPoint),r=n.x-l.width/2,i=n.y-l.height/2;l=Object.assign({},l,{x:r,y:i})}const u=o?e.tree.getRect(o):null;let h=r.updateForRect(l,u);void 0!==c&&(h.constraintsLocked=c),h=removeAutoAndFractionDimensionsFromUpdate(r,h),e.updateNode(r.id,h),r.originalid&&(r.cache.templateProperties={restore:!0,overrides:t.overrides})});const r=n.valueSeq().toArray();return e.setSelection(r),n}(e,t,n):function deleteCopies(e,t,n){if(n.isEmpty())return n;const r=n.valueSeq().toArray();return n=n.clear(),e.deleteNodes(r),e.setSelection(t.keySeq().toArray().map(e=>e.id)),n}(e,t,n)}(this.engine,this.selectedNodes,this.targetIds,r);const S=i.Rect.offset(this.startCanvasRect,y),{insertionIndex:b,insertionLine:_,activeParentDirected:C}=function parentDirectedInsertion(e,t,n,r,o,c,u,h){const p=function parentDirectingNodeInRange(e,t,n,r,i){if(!r)return null;const o=e.getNodesAtPoint(n).filter(e=>!e.originalid).reverse();if(i){const e=o.find(e=>e.id===i.id);if(e)return e}const c=o.find(n=>{if(!s.isTreeNode(n)||d.hasShape(n))return!1;const r=e.getAncestors(n.id);r.push(n.id);const i=!intersects(r,t);return i})||null;if(c&&a.isCodeComponentNode(c)&&g.codeComponentWithChildInsertion(c)){for(let n=0,r=t.length;n<r;n++){const r=t[n],i=e.getNode(r);if(i){const t=l.acceptsChild(e,c,i);if(!t)return null}}return c}return null}(e.tree,t,e.mouse,o,c);if(!p)return{insertionIndex:null,insertionLine:null,activeParentDirected:p};if(c&&c.id===p.id){const t=function getLiveSortingIndex(e,t,n,r,o,s){const a=s(e,t,n,r,e.altKey);return function closestSortingRect(e,t,n,r){const o=function getSmallesDistanceIndex(e){let t=1/0,n=0;for(let r=0,i=e.length;r<i;r++){const i=e[r];i>=t||(t=i,n=r)}return n}(t.map(e=>{const t=i.Rect.center(e);return i.Point.distance(t,n)}));return e.cache.placeholders={index:o,sizes:r},o}(r,a,o,insertionSizesForSelection(t))}(e,n,r,p,e.tree.convertPointToNode(p,e.mouse),u);return{insertionIndex:t,insertionLine:null,activeParentDirected:p}}{const{insertionIndex:t,insertionLine:n}=function getInsertionIndex(e,t,n,r){let i=null,o=null;if(!l.hasChildren(e))return{insertionIndex:i,insertionLine:o};let s=m.getChildrenRects(e,!0);if(!s)return{insertionIndex:i,insertionLine:o};const a=m.invisibleChildIndexes(e);s=s.filter((e,t)=>-1===a.indexOf(t));const c=t.getRect(e),{index:u,line:h}=e.component().class.childInsertion(s,c,n,r,e.codeComponentProps);s.length>0&&(o={a:t.convertPointToCanvas(e,h.a),b:t.convertPointToCanvas(e,h.b)});let d=-1;const p=e.children.length;i=p;for(let l=0;l<p;l++){const t=e.children[l];if(t.visible&&d++,d===u){i=u;break}}return{insertionIndex:i,insertionLine:o}}(p,e.tree,e.tree.convertPointToNode(p,e.mouse),h);return{insertionIndex:t,insertionLine:n,activeParentDirected:p}}}(e,n,this.selectedNodes,this.targetIds,this.canMoveToParentDirected,this.commonParentDirectedAtStart,this.memoizedParentDirectedSortingRects,this.maxSize);this.activeParentDirectedInsertion=b,this.parentDirectedInsertionLine=_,this.activeParentDirected=C;const{activeNodes:w,extraSnapRects:x}=function activeNodesAndSnapRects(e,t,n,r){let i=[],o=t.keySeq().toArray();if(!1===n.isEmpty()&&(i=o.map(t=>e.convertFrameToCanvas(t)),o=n.valueSeq().map(t=>e.getNode(t)).toArray()),r){const e=function getChildCanvasRects(e){const t=[];return e.valueSeq().forEach(e=>{e.children.forEach(e=>{t.push(e.canvasFrame)})}),t}(t);i.push(...e)}return{activeNodes:o,extraSnapRects:i}}(t,this.selectedNodes,this.targetIds,o),P=function getCommonParent(e,t){const n=t.map(t=>t?e.getParent(t.id):void 0);if(1!==new Set(n).size)return;const r=n[0];return r?r.id:s.NullID}(t,w),T=i.Point.distance(this.engine.previousInputState.mouse,this.engine.mouse)*this.engine.zoom<10&&!this.activeParentDirected,k=t.getTopLevelFrameNodes(w);this.snapper.excludedNodes=this.engine.selection;const E=this.snapper.snap(S,T,k,P,void 0,void 0,x),O=i.Point.pixelAligned(i.Point.subtract(this.startCanvasRect,E));this.selectedNodes.forEach((r,a)=>{const{unableToMove:p,startFromParentDirected:m}=r;if(p)return;const y=this.targetIds.get(a,a.id),S=t.get(y)||a,b=r.parent?t.current(r.parent):null,_=r.rect,w=b?t.convertPointToNode(b,this.startCanvasRect):this.startCanvasRect,x=b?t.convertPointToNode(b,E):E,P=i.Point.pixelAligned(i.Point.subtract(x,w)),T=i.Rect.offset(_,P),k=b?t.convertFrameToCanvas(b,T):T,M=b&&s.isVectorNode(b),F=S.originalid&&!f.isReplica(S),D=!o&&!M&&!F;let I=b;C?I=s.NullID:D&&(I=function findNewParent(e,t,n,r,i){const o=e.getPotentialParents(n,i,t);return e.sortVisually(o).reverse().find(n=>(function isValidParent(e,t,n,r){if(!s.isTreeNode(n)||d.hasShape(n))return!1;if(n&&n.originalid)return!1;if(g.codeComponentWithChildInsertion(n))return!1;if(!l.acceptsChild(e,n,t))return!1;const i=e.getAncestors(n.id);return i.push(n.id),!intersects(i,r)&&!i.some(e=>e===t.id)})(e,t,n,r))||s.NullID}(t,S,k,n,c),s.isVectorNode(S)&&null===I&&(I=function closestShapeContainer(e,t,n){if(!n||!s.isShapeContainerNode(n)||n.sizeToFit)return n;const r=e.convertFrameToCanvas(n);return i.Rect.intersects(t,r)?n:e.getNodesWithPredicate(s.isShapeContainerNode).find(n=>{const r=e.convertFrameToCanvas(n);return i.Rect.intersects(t,r)})||n}(t,k,b)),function shouldStayInOriginalParent(e,t,n,r,o){if(o||!n||!r)return!1;if(s.isEqual(r,n))return!1;if(r&&!e.getAncestors(n.id).find(e=>null!==r&&e===r.id))return!1;const a=i.Rect.atOrigin(e.getRect(n));return i.Rect.intersects(a,t)}(t,T,b,I,m)&&(I=b)),function moveNodeToNewParent(e,t,n){const r=e.tree.getParent(t.id);s.isEqual(n,r)||e.moveNode(t.id,n?n.id:s.NullID,-1)}(e,S,I),this.highlightedParents=function addToHighlightedParents(e,t,n){const r=n||t;return!r||s.isVectorNode(r)||s.isShapeContainerNode(r)&&r.sizeToFit?e:e.add(r.id)}(this.highlightedParents,I,C);const R=i.Point.subtract(r.canvasCenterPoint,O),N=I?t.convertPointToNode(I,R,!0):R;N.x-=T.width/2,N.y-=T.height/2;const A=i.Point.pixelAligned(N,_),B={x:A.x,y:A.y,width:_.width,height:_.height},L=S.updateForRect(B,I?t.getRect(I):null);!function collectConstraintsLock(e,t,n,r,i){if(void 0===n.constraintsLocked||!u.isPinnable(e))return;n.hasMovedToNewParent||(n.hasMovedToNewParent=!function isMovingToOriginalParent(e,t){return e&&t?e.id===t.id:!e&&!t}(r,i));const o=!n.hasMovedToNewParent&&n.constraintsLocked;e.constraintsLocked!==o&&Object.assign(t,{constraintsLocked:o})}(S,L,r,b,I),e.updateNode(y,L),function resetChildPositions(e,t,n,r){const{tree:o,cmdKey:s,altKey:a,previousInputState:c}=e,l=c.cmdKey;(s||s!==l)&&n.children.forEach((c,l)=>{let u=c.frame;if(s&&!a&&!n.startFromParentDirected){const e=function getParentOffset(e,t,n){let r={x:t.rect.x-n.x,y:t.rect.y-n.y};if(h.hasRotation(e)){const t=(new WebKitCSSMatrix).rotate(0,0,-e.rotation);r=v.default.convertPoint(t,r)}return r}(t,n,r);u=i.Rect.offset(u,e)}const d=o.getNode(l),p=d.updateForRect(u,r);removeAutoAndFractionDimensionsFromUpdate(d,p),e.updateNode(l,p)})}(e,S,r,B)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{const t=[];return e.forEach((n,r)=>{for(let i=r+1;i<e.length;i++){const r=e[i];t.push([n,r])}}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(18),s=n(145),a=n(17),c=n(78),l=n(9),u=n(94),h=n(141),d=n(178);t.SelectTool=class SelectTool extends a.VekterTool{constructor(){super(...arguments),this.enum=l.Tools.Select,this.wantsAutoscrolling=!0,this.selectableNodeCache=null,this.mouseDidMove=!1,this.displaySelectionBox=!0}start(){this.selectionAtStart=this.engine.selection,this.canvasGroundNodes=this.engine.tree.getGroundNodesOfType(c.default)}stop(){}update(){const{mouseDown:e,mouse:t,tree:n,altKey:r,shiftKey:o,cmdKey:a}=this.engine,c=this.engine.previousInputState;if(!e)return!this.mouseDidMove&&this.engine.setShapeModeActive&&this.engine.setShapeModeActive(!1),this.engine.exitTool();const l=s.default(c.mouse,t),u=c.altKey!==r,p=c.shiftKey!==o,f=c.cmdKey!==a;if(e&&t&&(l||u||p||f)){this.mouseDidMove=!0;const s=i.Rect.fromTwoPoints(e,t),c=n.getNodesInRect(s,!r);c.length>0&&!this.selectableNodeCache&&(this.selectableNodeCache=d.buildSelectableNodeCache(this.engine));const l=new Set;c.forEach(e=>{d.isSelectableInFrame(e,this.engine,a,this.selectableNodeCache)&&l.add(e.id)}),this.canvasGroundNodes.forEach(e=>{this.engine.shapeModeActive||i.Rect.containsRect(s,n.getRect(e))&&l.add(e.id)});let u=Array.from(l);if(o){const e=h.intersection(u,this.selectionAtStart);u=h.union(u,this.selectionAtStart),u=h.without(u,e)}this.engine.setSelection(u)}}};t.Select=class Select extends r.Component{render(){const{mouseDown:e,mouse:t,zoom:n}=this.props;if(!e||!t)return null;const s=i.Rect.fromTwoPoints(e,t);return r.createElement("div",null,r.createElement(u.default,{frame:i.Rect.multiply(s,n),backgroundColor:o.theme.selectionBox,borderColor:o.theme.selectionBoxOutline,borderWidth:1}))}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.fromFrame=e=>{const t=[],n=[0,.5,1];for(const r of n)for(const i of n)t.push({x:i*e.width,y:r*e.height,fx:i,fy:r});return t}}(r||(r={})),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(25),o=n(1),s=n(143),a=n(17),c=n(6),l=n(6),u=n(20),h=n(44),d=n(9),p=n(807),f=n(183),g=n(107);class CreateFrameBaseTool extends a.VekterTool{constructor(){super(...arguments),this.wantsAutoscrolling=!0,this.helper=new f.CreateToolHelper,this.drawingDidStart=!1,this.onDragStart=()=>{this.drawingDidStart=!0},this.onKeyDown=e=>{const t=this.engine,{keyCode:n}=e;n===s.default.Key.escape&&this.enum===d.Tools.CreateShapeContainer&&t.setShapeModeActive(!1)}}start(){this.helper.nodeClass=l.FrameNode,this.helper.highlightParent=!0,this.helper.dragStart=this.onDragStart,this.helper.supportsAspectRatioLock=this.enum!==d.Tools.CreateShapeContainer,this.helper.roundedRect=this.enum===d.Tools.CreateRoundedFrame,this.helper.start(this),this.engine.setCursor("crosshair")}stop(){this.helper.stop(this),this.engine.clearCursor(),this.snapper.stop()}update(){this.helper.update(this)}create(e,t,n,r,s){const{tree:a}=this.engine;if(r=Object.assign({},r,{top:n.y,left:n.x,width:n.width,height:n.height}),this.helper.topLevel||this.enum===d.Tools.CreateShapeContainer||(r.rotation=s),0===r.width||0===r.height)return void this.engine.exitTool();this.engine.beginUndoGroup();let p=[];if(t){const e=a.getNode(t);if(e){const t=a.getRect(e),i=h.guessConstrainedFrame(n,t);r=Object.assign({},r,i),u.hasChildren(e)&&(p=e.children)}}else p=a.getGroundNodes();const f=t===l.NullID;this.enum===d.Tools.CreateShapeContainer?(r.fillEnabled=!1,this.engine.createShapeContainer(t,r),i.triggerLayoutGraphicEvent({source:"draw"})):(r.clip=f,r.fillColor="rgba(0, 153, 255, 0.5)",this.enum===d.Tools.CreateFrame&&f?r.fillColor="white":this.enum===d.Tools.CreateRoundedFrame&&(this.engine.shiftKey?(r.radius=50,r.radiusIsRelative=!0):r.radius=Math.min(n.width,n.height)),this.engine.createFrame(t,r),i.triggerLayoutFrameEvent({source:"draw"}),p.forEach(r=>{const i=a.getRect(r);if((!c.isDrawableNode(r)||!r.locked)&&o.Rect.containsRect(n,i)){const n=t?this.engine.getNode(t):null,i=a.getNode(e),o=g.ContextAction.convertNodeToNewParentUpdate(a,r,n,i);this.engine.moveNode(r.id,e),this.engine.updateNode(r.id,o)}})),this.engine.setSelection([e]),this.engine.endUndoGroup(),this.engine.exitTool(),this.enum===d.Tools.CreateShapeContainer&&this.engine.setShapeModeActive(!0)}}t.CreateFrameTool=class CreateFrameTool extends CreateFrameBaseTool{constructor(){super(...arguments),this.enum=d.Tools.CreateFrame}};t.CreateRoundedFrameTool=class CreateRoundedFrameTool extends CreateFrameBaseTool{constructor(){super(...arguments),this.enum=d.Tools.CreateRoundedFrame}};t.CreateShapeContainerTool=class CreateShapeContainerTool extends CreateFrameBaseTool{constructor(){super(...arguments),this.enum=d.Tools.CreateShapeContainer}};t.CreateFrame=class CreateFrame extends r.Component{render(){return r.createElement("div",null,this.props.myTool.drawingDidStart||this.props.myTool.enum!==d.Tools.CreateFrame?null:r.createElement(p.default,Object.assign({},this.props,this.state)),r.createElement(f.Create,Object.assign({},this.props)))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(6),o=n(20);t.findShapeContainerInRange=function findShapeContainerInRange(e,t,n){const s=Object.assign({width:1,height:1},n);let a=[];if(t){const n=e.getNode(t);n&&o.hasChildren(n)&&(a=n.children.filter(i.isShapeContainerNode))}else a=e.getGroundNodesOfType(i.ShapeContainerNode);let c=1/0,l=null;for(let i=0,o=a.length;i<o;i++){const t=a[i],n=e.convertFrameToCanvas(t);if(!r.Rect.intersects(n,s)){if(!t.sizeToFit)continue;let e=!1;if(t.walk(t=>e=e||t.isSelected()),!e)continue}const o=r.Point.distance(r.Rect.center(n),r.Rect.center(s));o>=c||(c=o,l=t)}return l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(33),o=n(812);function exposedCodeComponentProps(e){if(!r.isReactDefinition(e))return[];if(!e.properties)return[];const t=[],n={},i=Object.keys(e.properties);for(let o=0,s=i.length;o<s;o++){const s=i[o],a=e.properties[s];if(a)if(a.type===r.ControlType.FusedNumber){t.push(s),n[s]={type:r.ControlType.Number,defaultValue:a.defaultValue},t.push(a.toggleKey),n[a.toggleKey]={type:r.ControlType.Boolean,defaultValue:!1};for(const e of a.valueKeys)t.push(e),n[e]={type:r.ControlType.Number,defaultValue:a.defaultValue}}else t.push(s),n[s]=a}return[t,n]}function getValue(e,t,n,i){const o=t[e];if(void 0!==o&&isValidValue(o,i))return o;const s=getPropertyControlDefault(i);if(void 0!==s&&isValidValue(s,i))return s;const a=function getReactDefault(e,t,n){if(!e)return;if("string"!=typeof n&&n.type===r.ControlType.Array){const r=e[t];return convertArrayDefaultToArrayValue(r,n)}return e[t]}(n,e,i);return void 0!==a&&isValidValue(a,i)?a:void 0}function isValidValue(e,t){let n;if("string"==typeof t)n=t;else{if(t.type===r.ControlType.Array)return validateArrayValues(e,t.propertyControl.type);if(t.type===r.ControlType.ComponentInstance)return validateArrayValues(e,t.type);n=t.type}return o.isValidPropertyValue(n,e)}function validateArrayValues(e,t){if(!Array.isArray(e))return!1;for(const n of e){if(!isValidValue(n.value,t))return!1;if(n.type!==t)return!1}return!0}function convertArrayDefaultToArrayValue(e,t){if(!Array.isArray(e))return;const n=[],{propertyControl:r}=t;for(const i of e)isValidValue(i,r)&&n.push({enabled:!0,value:i,type:r.type});return n}function getPropertyControlDefault(e){if("string"!=typeof e&&"defaultValue"in e)return e.type===r.ControlType.Array&&e.defaultValue?convertArrayDefaultToArrayValue(e.defaultValue,e):e.defaultValue}t.defaultCodeComponentProps=function defaultCodeComponentProps(e){if(!e||!r.isReactDefinition(e))return{};const[t,n]=exposedCodeComponentProps(e),i={},{defaultProps:o}=e.class;for(let r=0,s=t.length;r<s;r++){const e=t[r],s=n[e];i[e]=getValue(e,{},o,s)}return i},t.filterCodeComponentProps=function filterCodeComponentProps(e){const t=i.componentLoader.componentForIdentifier(e.codeComponentIdentifier);if(!t||!r.isReactDefinition(t))return e.codeComponentProps;if(!t.properties)return{};const n={},[o,s]=exposedCodeComponentProps(t),{defaultProps:a}=t.class;for(let r=0,i=o.length;r<i;r++){const t=o[r],i=s[t],c=getValue(t,e.codeComponentProps,a,i);void 0!==c&&(n[t]=c)}return n},t.getValue=getValue,t.getPropertyControlDefault=getPropertyControlDefault},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(6),o=n(92),s=n(399);function applyStackDefaults(e,t){t.direction=e?"horizontal":"vertical",t.distribution=e?"space-evenly":"start"}t.applyStackDefaults=applyStackDefaults,t.stackDefaultsDependOnChildren=function stackDefaultsDependOnChildren({siblingNodes:e,tree:t,rect:n,component:a,properties:c,reparenting:l}){const u=[];e.filter(e=>{const i=t.getRect(e);return r.Rect.containsRect(n,i)}).sort((e,n)=>{const r=t.getRect(e),i=t.getRect(n);return r.y-i.y||r.x-i.x}).forEach(e=>{const h=t.getRect(e);if(i.isDrawableNode(e)&&e.locked)return;const d=r.Rect.offset(h,r.Point.reverse(n));if(u.push(r.Rect.center(d)),l&&(l.engine.moveNode(e.id,l.id),l.engine.updateNode(e.id,Object.assign({},e.updateForRect(d,n),{top:null,left:null,bottom:null,right:null}))),a.identifier===o.HardCodedCodeIdentifier.stack&&u.length>1){const e=s.default(u),t=[],n=[];e.forEach(([e,r])=>{t.push(Math.abs(e.x-r.x)),n.push(Math.abs(e.y-r.y))}),applyStackDefaults(t.reduce((e,t)=>e+t,0)>n.reduce((e,t)=>e+t,0),c.codeComponentProps)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(100),o=n(0),s=n(1),a=n(143),c=n(17),l=n(6),u=n(23),h=n(41),d=n(9),p=n(179),f=n(407),g=n(245),m=n(246),v=n(247),y=n(184),S=n(248),b=n(408),_=n(814),C=n(251),w=n(816),x=n(818),P=n(821),T=n(411),k=n(19),E=n(249),O=i.getLogger("PathToolManager");t.pathToolEnumFor=function pathToolEnumFor(e){if(e instanceof v.PathDefaultTool)return T.PathTool.Default;if(e instanceof C.PathSegmentAdditionTool)return T.PathTool.SegmentAddition;if(e instanceof S.PathSegmentMoveTool)return T.PathTool.SegmentMove;if(e instanceof b.PathSegmentSelectTool)return T.PathTool.SegmentSelection;if(e instanceof y.PathSegmentHandleMoveTool)return T.PathTool.SegmentHandleMove;if(e instanceof m.PathCurveBendTool)return T.PathTool.CurveBending;if(e instanceof p.PanTool)return T.PathTool.Pan;if(e instanceof f.ZoomTool)return T.PathTool.Zoom;if(e instanceof g.ZoomSelectTool)return T.PathTool.ZoomSelect;throw Error("missing case")};t.VekterPathEngine=class VekterPathEngine extends c.VekterTool{constructor(){super(...arguments),this.enum=d.Tools.Path,this.workingSelection=[],this.segmentSelection=[],this.pointRounding=h.PointRounding.Full,this.onKeyPress=e=>{const t=String.fromCharCode(e.which),n=e.shiftKey||e.metaKey||e.ctrlKey;if(("z"===t||"Ω"===t||"Z"===t)&&!n){if(e.stopPropagation(),this.pathTool instanceof g.ZoomSelectTool)return;this.setPathTool(new f.ZoomTool)}},this.canDelete=()=>{const{selectionType:e,segmentHandle:t,segmentSelection:n}=this;return e===h.PathSelectionType.Curves?n.length>0:null!==t||n.length>0},this.deleteAction=()=>{const{selectionType:e,segmentHandle:t}=this;e===h.PathSelectionType.Curves?this.deleteCurves():null!==t?this.deleteHandle():this.deleteSelectedPathSegments()},this.onKeyDown=e=>{const{keyCode:t}=e,{tree:n,segmentHandle:r}=this;if(8===t||46===t)return this.deleteAction(),e.stopPropagation(),void e.preventDefault();if(13===t)return void this.engine.exitTool();if(a.default.isKey(e,a.default.Key.escape))return(this.pathTool instanceof v.PathDefaultTool||this.pathTool instanceof C.PathSegmentAdditionTool)&&(0===this.segmentSelection.length?this.engine.exitTool():(this.setSegmentSelection([]),this.setSegmentHandle(null))),void e.preventDefault();if(9===e.keyCode&&!e.metaKey&&!e.ctrlKey){if(this.pathTool instanceof v.PathDefaultTool||this.pathTool instanceof C.PathSegmentAdditionTool)if(0===this.segmentSelection.length){const e=this.workingSelection.slice(0).reverse().find(e=>{const t=this.engine.getNode(e);return t instanceof l.PathNode&&t.pathSegments.count()>=1});e&&(this.setSegmentSelection([{id:e,index:0}]),this.setSegmentHandle(null))}else{const t=this.segmentSelection.slice(-1)[0],n=this.engine.getNode(t.id);if(n){const r=e.shiftKey?-1:1;let i=t.index+r;i=(i=i>=n.pathSegments.count()?0:i)<0?n.pathSegments.count()-1:i,this.setSegmentSelection([{id:n.id,index:i}]),this.setSegmentHandle(null)}}return void e.preventDefault()}let i;const o=e.shiftKey?10:1;if(37===t&&(i={x:-o}),38===t&&(i={y:-o}),39===t&&(i={x:o}),40===t&&(i={y:o}),void 0!==i){if(r){const e=k.segmentHandlePoint(n,r);if(e){const t=s.Point.add(e,Object.assign({x:0,y:0},i)),o=k.handleUpdate(n,r,t),a=n.getNode(r.id);a&&a.pathSegments&&this.engine.updateNode(a.id,a.updateForPath({pathSegments:o}))}}else this.moveSelectedVectorSegments(i);e.stopPropagation(),e.preventDefault()}}}setSegmentSelection(e,t=h.PathSelectionType.Segments){this.engine.pathSelectionStore.setSegmentSelection(e,t),this.updateState()}toggleSegmentSelection(e,t=h.PathSelectionType.Segments){this.engine.assertStateMutable(),this.engine.pathSelectionStore.toggleSegmentSelection(e,t),this.updateState()}setSegmentHandle(e){this.engine.assertStateMutable(),this.engine.pathSelectionStore.setSegmentHandle(e),this.updateState()}setHoveredSegment(e){this.engine.assertStateMutable(),this.engine.pathSelectionStore.setHoveredSegment(e),this.updateState()}setClosestCurve(e){this.engine.pathSelectionStore.setClosestCurve(e),this.updateState()}setPathPointRounding(e){this.engine.assertStateMutable(),this.engine.pathSelectionStore.setPathPointRounding(e),this.updateState()}setPathConstraint(e){this.engine.assertStateMutable(),this.engine.pathSelectionStore.setPathConstraint(e),this.updateState()}updateState(){this.tree=this.engine.tree;const e=this.engine.pathSelectionStore.state;this.snapConstraint=e.snapConstraint,this.segmentSelection=e.segmentSelection,this.selectionType=e.selectionType,this.segmentHovered=e.segmentHovered,this.segmentHandle=e.segmentHandle,this.closestCurve=e.closestCurve,this.pointRounding=e.pointRounding}start(){this.snap=new E.PathSnapper(this.engine,this);const e=[],t=this.engine.selection.map(e=>this.engine.tree.getNode(e)).find(e=>e instanceof l.PathNode);t&&t.pathSegments.count()>0&&e.push({id:t.id,index:0}),this.engine.setHighlight(null),this.setSegmentSelection(e),this.setClosestCurve(null),this.setWorkingSelection(this.engine.selection),this.setPathTool(new v.PathDefaultTool),this.pathTool.start()}stop(){this.pathTool.stop(),this.setSegmentSelection([]),this.setClosestCurve(null),this.setWorkingSelection([]),this.engine.clearCursor(),this.snap.stop()}update(){const{selection:e,spacebarDown:t}=this.engine,{middleMouseButtonDown:n}=this.engine.mouseStore,r=this.engine.previousInputState;if(shouldIgnoreMouseEvents(this.pathTool))this.setClosestCurve(null);else if(s.isEqual(e,this.workingSelection))(t&&!r.spacebarDown||n)&&(this.pathTool instanceof v.PathDefaultTool||this.pathTool instanceof C.PathSegmentAdditionTool)?this.setPathTool(new p.PanTool):s.isEqual(this.engine.mouse,r.mouse)||this.getClosestCurve();else if(this.setWorkingSelection(e),0===e.length||e.filter(e=>!(this.engine.getNode(e)instanceof l.PathNode)).length>0)return void this.engine.exitTool();this.updateState(),this.setActiveTool(),this.snap.update(),this.pathTool.update()}setWorkingSelection(e){const t=this.workingSelection;this.workingSelection=e,this.engine.beginUndoGroup(),t.forEach(t=>{if(e.indexOf(t)>=0)return;const n=this.engine.getNode(t);n instanceof l.PathNode&&(n.pathSegments.count()>1||this.deleteNode(n))}),this.engine.endUndoGroup();const n=this.segmentSelection.filter(t=>e.indexOf(t.id)>=0);this.setClosestCurve(null),this.setSegmentSelection(n,this.selectionType),0===n.length&&this.switchToDefault()}deleteNode(e){this.engine.deleteNode(e.id)}setPathTool(e){const t=this.pathTool?this.pathTool.constructor.name:"null",n=e.constructor.name;O.debug("VekterPathEngine.setPathTool(): "+t+" -> "+n),this.pathTool&&this.pathTool.stop(),this.pathTool=e,e.engine=this.engine,e.pathEngine=this,e.start()}switchToDefault(){this.setPathTool(new v.PathDefaultTool),this.setActiveTool()}setActiveTool(){const{pathTool:e}=this,{selection:t,cmdKey:n}=this.engine,{tree:r,segmentSelection:i,selectionType:o,closestCurve:s,snapConstraint:a}=this;if(!this.engine.mouseDown&&(e instanceof v.PathDefaultTool||e instanceof C.PathSegmentAdditionTool))if(0!==t.length){if(1===i.length&&o===h.PathSelectionType.Segments){if(s&&!n&&!a){if(e instanceof v.PathDefaultTool)return;return void this.setPathTool(new v.PathDefaultTool)}const t=i[0],o=r.getNode(t.id);if(o&&u.default.isEndSegment(o.pathSegments,o.pathClosed,t.index)){if(this.pathTool instanceof C.PathSegmentAdditionTool)return;return void this.setPathTool(new C.PathSegmentAdditionTool)}}this.pathTool instanceof v.PathDefaultTool||this.setPathTool(new v.PathDefaultTool)}else{if(e instanceof C.PathSegmentAdditionTool)return;this.setPathTool(new C.PathSegmentAdditionTool)}}deleteHandle(){const{tree:e,segmentHandle:t}=this;if(!t)return;const n=e.getNode(t.id),r=n.pathSegments.update(t.index,e=>{const n={handleMirroring:"disconnected"};return t.handle===h.SegmentHandle.In?(n.handleInX=0,n.handleInY=0,0===e.handleOutX&&0===e.handleOutY&&(n.handleMirroring="straight")):(n.handleOutX=0,n.handleOutY=0,0===e.handleInX&&0===e.handleInY&&(n.handleMirroring="straight")),new s.PathSegment(e.merge(n))});this.setSegmentHandle(null),this.engine.updateNode(n.id,{pathSegments:r})}deleteSelectedPathSegments(){const{selection:e}=this.engine,{segmentSelection:t,tree:n}=this;if(0===t.length)return;const r=[];if(1===e.length&&1===t.length){const e=t[0],i=n.getNode(e.id);u.default.isFirstSegment(i.pathSegments,i.pathClosed,e.index)?r.push({id:i.id,index:0}):u.default.isLastSegment(i.pathSegments,i.pathClosed,e.index)&&r.push({id:i.id,index:i.pathSegments.count()-2})}const i=k.groupPathSegmentSelectors(t),o=Object.keys(i).map(e=>n.getNode(e));for(const s of o){const e=i[s.id],t=s.pathSegments.filter((t,n)=>-1===e.indexOf(n));0===t.count()?(this.deleteNode(s),r.length=0):n.updateNode(s,s.updateForPath({pathSegments:t}))}this.setSegmentSelection(r)}deleteCurves(){const{tree:e,segmentSelection:t}=this,n=k.groupPathSegmentSelectors(t),i=Object.keys(n).map(t=>e.getNode(t)),o=[...this.engine.selection];for(const s of i){const t=n[s.id],i=u.default.segmentIndexesToDelete(s.pathSegments,s.pathClosed,t);let a=s.pathClosed;const c=[];let l=[];c.push(l);for(let e=0,n=s.pathSegments.count();e<n;e++){const r=s.pathSegments.get(e);i[e]?e===n-1&&(a=!1):(l.push(r),-1!==t.indexOf(e)&&0!==l.length&&(l=[],c.push(l)))}if(a&&c.length>1){const e=c[0],t=c.pop();e.unshift(...t)}if(0===c[0].length){this.engine.deleteNode(s.id);const e=o.indexOf(s.id);-1!==e&&o.splice(e,1)}else for(let n=0,u=c.length;n<u;n++){const t=c[n];if(0===t.length)break;const i={pathSegments:r.List(t),pathClosed:!1};if(0===n)e.updateNode(s,s.updateForPath(i));else{const t=e.newId();k.cloneNodeAndUpdatePath(e,this.engine,s,i,t),o.push(t)}}}this.setSegmentSelection([]),this.setClosestCurve(null),this.engine.setSelection(o)}moveSelectedVectorSegments(e){const{engine:t,pointRounding:n,selectionType:r}=this,i=t.tree,o=k.generateSegmentSelection(i,this.segmentSelection,r),a=k.groupPathSegmentSelectors(o),c=Object.keys(a).map(l.nodeIDFromString);i.getNodes(c).forEach(t=>{const r=a[t.id],o=t.pathSegments.map((o,a)=>{if(-1!==r.indexOf(a)){const r=s.Point.add(i.convertPointToCanvas(t,o),Object.assign({x:0,y:0},e)),a=k.roundedPoint(r,n),c=i.convertPointToNode(t,a);return new s.PathSegment(o.merge(c))}return o});i.updateNode(t,t.updateForPath({pathSegments:o}))})}selectAll(){const{selection:e}=this.engine,{tree:t}=this,n=[];for(let r=0,i=e.length;r<i;r++){const i=t.getNode(e[r]);if(!(i instanceof l.PathNode))continue;const o=i.id,s=Array(i.pathSegments.count()).fill(null).map((e,t)=>({id:o,index:t}));n.push(...s)}this.setSegmentHandle(null),this.setSegmentSelection(n)}getClosestCurve(){const{selection:e,tree:t,mouse:n,zoom:r}=this.engine;if(!n)return;if(!n||this.pathTool instanceof m.PathCurveBendTool||this.pathTool instanceof S.PathSegmentMoveTool)return;const i=e.map(e=>t.getNode(e)),o=12/r;let s=null;for(const a of i){const e=k.closestCurve(t,a,n,r);if(e&&!(e.distance>o)){s=e;break}}this.setClosestCurve(s)}};function shouldIgnoreMouseEvents(e){return e instanceof p.PanTool||e instanceof f.ZoomTool||e instanceof g.ZoomSelectTool}function style(e){if(shouldIgnoreMouseEvents(e))return{pointerEvents:"none"}}t.default=class PathToolManager extends o.Component{render(){const{tree:e,selection:t,zoom:n,myTool:r}=this.props,i=r.pathTool,s=t.map(t=>e.getNode(t));return o.createElement("div",{style:style(i)},o.createElement(P.default,{tree:e,selection:t,zoom:n}),o.createElement(_.default,Object.assign({nodes:s},this.props)),this.activeToolElement(),o.createElement(x.default,Object.assign({},this.props,{pathTool:i})),o.createElement(w.default,Object.assign({},this.props,{pathTool:i})))}activeToolElement(){const e=this.props.myTool.pathTool;switch(e.constructor){case v.PathDefaultTool:return o.createElement(v.default,{pathTool:e});case C.PathSegmentAdditionTool:return o.createElement(C.default,{pathTool:e});case b.PathSegmentSelectTool:return o.createElement(b.PathSegmentSelect,{pathTool:e});case y.PathSegmentHandleMoveTool:return o.createElement(y.PathSegmentHandleMove,{pathTool:e});case m.PathCurveBendTool:return o.createElement(m.default,{pathTool:e});case p.PanTool:return o.createElement(p.Pan,null);case f.ZoomTool:return o.createElement(f.Zoom,{myTool:e});case g.ZoomSelectTool:return o.createElement(g.ZoomSelect,{myTool:e});default:return null}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(25),o=n(1),s=n(53),a=n(52),c=n(17),l=n(27),u=n(9),h=n(245);t.ZoomTool=class ZoomTool extends c.VekterTool{constructor(){super(...arguments),this.enum=u.Tools.Zoom,this.wantsAutoscrolling=!0,this.blurHandler=l.default.wrapHandler(()=>{this.exit()}),this.onKeyUp=e=>{"Z"===String.fromCharCode(e.which)&&this.exit()}}start(){a.getIpcRenderer().send(s.DocumentKeepMouseCursorVisible,!0),this.updateCursor(this.engine.altKey),window.addEventListener("blur",this.blurHandler)}stop(){window.removeEventListener("blur",this.blurHandler),this.engine.clearCursor(),a.getIpcRenderer().send(s.DocumentKeepMouseCursorVisible,!1)}update(){const{mouseDown:e,mouseRaw:t,mouseDownRaw:n,altKey:r}=this.engine,s=this.engine.previousInputState;r!==s.altKey&&this.updateCursor(r),t&&n&&o.Point.distance(t,n)>10?this.pathEngine?this.pathEngine.setPathTool(new h.ZoomSelectTool):this.engine.setTool(new h.ZoomSelectTool):s.mouseDown&&!e&&(r?this.engine.canvasStore.zoomOut(s.mouseDown):this.engine.canvasStore.zoomIn(s.mouseDown),i.triggerCanvasZoomEvent({source:"zoom_tool"}))}exit(){this.pathEngine?this.pathEngine.switchToDefault():this.engine.exitTool()}updateCursor(e){return e?this.engine.setCursor("zoom-out"):this.engine.setCursor("zoom-in")}};t.Zoom=class Zoom extends r.Component{render(){return null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(18),s=n(145),a=n(6),c=n(41),l=n(9),u=n(94),h=n(141);t.PathSegmentSelectTool=class PathSegmentSelectTool{constructor(){this.enum=l.Tools.Unknown,this.selectionAtStart=[]}start(){this.pathEngine.selectionType!==c.PathSelectionType.Curves&&(this.selectionAtStart=[...this.pathEngine.segmentSelection])}stop(){}update(){const{mouseDown:e,mouse:t,tree:n,selection:r,shiftKey:o}=this.engine,c=this.engine.previousInputState,l=c.mouseDown,u=c.mouse,d=s.default(u,t),p=c.shiftKey!==o;if(!e&&l)this.pathEngine.switchToDefault();else if((d||p)&&e){let s=[];const c=i.Rect.fromTwoPoints(e,t);if(r.map(e=>n.getNode(e)).filter(e=>e instanceof a.PathNode).forEach(e=>{e.pathSegments.forEach((t,r)=>{const o=n.convertPointToCanvas(e,i.PathSegment.point(t));i.Rect.containsPoint(c,o)&&s.push({id:e.id,index:r})})}),o){const e=h.intersection(s,this.selectionAtStart,equals);s=h.union(s,this.selectionAtStart,equals),s=h.without(s,e,equals)}this.pathEngine.setSegmentSelection(s)}}};function equals(e,t){return e.id===t.id&&e.index===t.index}t.PathSegmentSelect=class PathSegmentSelect extends r.Component{render(){const{mouseDown:e,mouse:t,zoom:n}=this.props.pathTool.engine;if(!e||!t)return null;const s=i.Rect.fromTwoPoints(e,t);return r.createElement(u.default,{frame:i.Rect.multiply(s,n),backgroundColor:o.theme.selectionBox,borderColor:o.theme.selectionBoxOutline,borderWidth:1})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(1),o=n(6),s=n(41),a=n(1),c=n(95),l=n(19),u=n(36),h=n(20),d=n(108),p=n(63);t.pathSegmentSnap=function pathSegmentSnap(e,t,n,o,s,a,l){let u;if(l){u=c.snapWithConstraint(e,n,a,l,[]);const t=i.isFiniteNumber(u.point.x)&&u.point.x!==l.a.x,o=i.isFiniteNumber(u.point.y)&&u.point.y!==l.a.y;t||o||(u={snapLines:{x:r.Set(),y:r.Set()},point:{}})}else u=c.snap(e,n,a,void 0,void 0);return i.isFiniteNumber(u.point.x)&&(a.x=u.point.x),i.isFiniteNumber(u.point.y)&&(a.y=u.point.y),[a,u.snapLines]},t.pathSegmentSnappingData=function pathSegmentSnappingData(e,t,n,c){let f=r.Set(),g=r.Set();const m=e.getGroundNodesOfType(o.FrameNode).map(e=>e.id);t.forEach(t=>{const n=e.getParent(t.id);n&&(o.isShapeContainerNode(n)&&n.sizeToFit||-1===m.indexOf(n.id)&&m.push(n.id))}),e.getNodes(m).map(t=>e.convertFrameToCanvas(t)).forEach(e=>{if(!a.Rect.intersects(c,e))return;const t=s.PointRounding.Half,{x:n,y:r}=l.roundedPoint({x:e.x,y:e.y},t),{x:i,y:o}=l.roundedPoint({x:e.x+e.width/2,y:e.y+e.height/2},t),{x:u,y:h}=l.roundedPoint({x:e.x+e.width,y:e.y+e.height},t);f=f.union([n,i,u]),g=g.union([r,o,h])});const v=l.groupPathSegmentSelectors(n),y=Object.keys(v);return e.getNodesInRect(c,!0).filter(e=>!(!u.hasShape(e)||h.hasChildren(e))&&-1===y.indexOf(e.id)).forEach(t=>{let n;(n=d.hasPath(t)?t.pathSegments:p.BasicShape.path(t)[0].pathSegments).forEach(n=>{const r=e.convertPointToCanvas(t,i.PathSegment.point(n)),o=l.roundedPoint(r,s.PointRounding.Half);f=f.add(o.x),g=g.add(o.y)})}),t.forEach(t=>{const n=v[t.id]||[];let o=r.Set(),a=r.Set();t.pathSegments.forEach((r,c)=>{if(-1===n.indexOf(c)){const n=e.convertPointToCanvas(t,i.PathSegment.point(r)),c=l.roundedPoint(n,s.PointRounding.Half);o=o.add(c.x),a=a.add(c.y)}});const c=s.PointRounding.Half,{x:u,y:h}=l.roundedPoint({x:o.min(),y:a.min()},c),{x:d,y:p}=l.roundedPoint({x:o.max(),y:a.max()},c),{x:m,y}=l.roundedPoint({x:(u+d)/2,y:(h+p)/2},c);if(o=o.add(m),a=a.add(y),u===d&&h!==p){const e=p-h;e>3&&(f=f.add(u-e).add(u+e))}else{const e=d-u;f=f.add(u-e).add(d+e)}if(h===p&&u!==d){const e=d-u;e>3&&(g=g.add(h-e).add(h+e))}else{const e=p-h;g=g.add(h-e).add(p+e)}f=f.concat(o),g=g.concat(a)}),{x:f,y:g}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(18),s=n(94);t.default=class ProjectedPoint extends r.Component{render(){const{tree:e,cmdKey:t,altKey:n,zoom:a}=this.props.pathTool.engine,{closestCurve:c,snapConstraint:l}=this.props.pathTool.pathEngine;if(!c||n||l)return null;const u=e.getNode(c.id);if(!u)return null;const h=t?c.projectedPoint:c.midPoint,d=i.Point.multiply(e.convertPointToCanvas(u,h,!0),a);return r.createElement(s.default,{frame:{x:d.x-4,y:d.y-4,width:8,height:8},backgroundColor:o.theme.segmentAnchorOutline,borderColor:"white",borderWidth:1,oval:!0})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Default=0]="Default",e[e.SegmentAddition=1]="SegmentAddition",e[e.SegmentMove=2]="SegmentMove",e[e.SegmentSelection=3]="SegmentSelection",e[e.SegmentHandleMove=4]="SegmentHandleMove",e[e.CurveBending=5]="CurveBending",e[e.Pan=6]="Pan",e[e.Zoom=7]="Zoom",e[e.ZoomSelect=8]="ZoomSelect"}(t.PathTool||(t.PathTool={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(53),o=n(52),s=n(17),a=n(27),c=n(6),l=n(133),u=n(90),h=n(72),d=n(89),p=n(61),f=n(64),g=n(93),m=n(233),v=n(60),y=n(9),S=n(825),b=n(105);t.SampleColorTool=class SampleColorTool extends s.VekterTool{constructor(){super(...arguments),this.enum=y.Tools.SampleColor,this.displaySelectionBox=!0}exit(){this.pathEngine?this.pathEngine.switchToDefault():this.gradientEngine?this.gradientEngine.setDefault():this.engine.exitTool()}update(){}stop(){}start(){const{tree:e,selection:t}=this.engine;if(0===t.length)return this.exit(),o.getIpcRenderer().send(i.DocumentKeepMouseCursorVisible,!0),void setTimeout(()=>{o.getIpcRenderer().send(i.DocumentKeepMouseCursorVisible,!1)},0);S.sampleColor().then(n=>{this.engine.processWhenReady(()=>{this.exit(),void 0!==n&&(a.default.beginUndoGroup(),e.getNodes(t).forEach(e=>{if(e instanceof c.TextNode){const t=e.styledText;a.default.updateNode(e.id,{styledText:v.StyledTextDraft.setColor(t,n,!1)})}else{const t=h.hasOptionalFill(e)&&!e.fillEnabled;if(function hasActiveGradient(e){const t=!h.hasOptionalFill(e)||!!e.fillEnabled;return h.supportsGradient(e)&&t&&("linear-gradient"===e.fillType||"radial-gradient"===e.fillType)&&!!e.fillLinearGradient&&!!e.fillRadialGradient}(e)&&e.fillLinearGradient){const t=e.fillLinearGradient.stops.update(a.default.documentSettings.gradientStopIndex,e=>new f.GradientColorStop(e.merge({value:n})));a.default.updateNode(e.id,{fillLinearGradient:g.linearGradientUpdate(e,{stops:t}),fillRadialGradient:g.radialGradientUpdate(e,{stops:t})})}else if(h.hasFill(e)&&!t)a.default.updateNode(e.id,{fillColor:n});else if(l.hasBorder(e)&&1===e.borderEnabled)a.default.updateNode(e.id,{borderColor:n});else if(p.hasStroke(e)&&1===e.strokeEnabled)a.default.updateNode(e.id,{strokeColor:n});else if(d.hasShadow(e)&&e.shadows&&e.shadows.first()){const t=e.shadows.first().merge({color:n}),r=new m.Shadow(t);a.default.updateNode(e.id,{shadows:e.shadows.set(0,r)})}else if(u.hasBoxShadow(e)&&e.boxShadows&&e.boxShadows.first()){const t=e.boxShadows.first().merge({color:n}),r=new m.BoxShadow(t);a.default.updateNode(e.id,{boxShadows:e.boxShadows.set(0,r)})}}}),a.default.endUndoGroup())})}).catch(b.unhandledError)}};t.SampleColor=class SampleColor extends r.Component{render(){return null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(177),o=n(110);class LinearGradientCoordinates{constructor(e){Object.assign(this,e)}}t.LinearGradientCoordinates=LinearGradientCoordinates;class RadialGradientCoordinates{constructor(e){Object.assign(this,e)}}t.RadialGradientCoordinates=RadialGradientCoordinates,t.gradientCoordinates=function gradientCoordinates(e,t,n){return i.isLinearGradient(n)?function linearGradientCoordinates(e,t,n){const i=e.getRect(t),o={x:i.width/2,y:i.height/2},s=e.convertPointToCanvas(t,o),a=n.angle*Math.PI/180,c={x:100*-Math.sin(a),y:100*Math.cos(a)},l=e.convertPointToCanvas(t,r.Point.add(o,c)),u=r.Line(s,l),h=r.Rect.cornerPoints(r.Rect.atOrigin(i)),d=Math.floor(n.angle/90)+3,p=h[d%4],f=e.convertPointToCanvas(t,p),g=h[(d+2)%4],m=e.convertPointToCanvas(t,g),v=r.Line.perpendicular(u,f),y=r.Line.intersection(v,u);if(!y)return null;const S=r.Point.subtract(s,y),b=r.Point.add(y,S,S),_=h[(d+1)%4],C=e.convertPointToCanvas(t,_),w=r.Line.perpendicular(v,C),x=r.Line.perpendicular(u,s),P=r.Line.intersection(w,x);if(!P)return null;const T={width:2*r.Point.distance(P,s),height:r.Point.distance(y,b)};return new LinearGradientCoordinates({start:y,end:b,center:s,startCorner:f,endCorner:m,size:T})}(e,t,n):o.isRadialGradient(n)?function radialGradientCoordinates(e,t,n){const r=e.getRect(t),i=n.centerAnchorX*r.width,o=n.centerAnchorY*r.height,s=n.widthFactor*r.width,a=n.heightFactor*r.height,c=s+i,l=o-a,u={width:2*s,height:2*a},h=e.convertPointToCanvas(t,{x:i,y:o}),d=e.convertPointToCanvas(t,{x:c,y:o}),p=e.convertPointToCanvas(t,{x:i,y:l}),{rotation:f}=e.convertRectToCanvasWithRotation(t);return new RadialGradientCoordinates({start:h,end:d,rotation:f,size:u,topCenter:p})}(e,t,n):null},t.gradientInRange=(e,t,n)=>{const{start:i,end:o}=e,s=r.Line(i,o),a=r.Line.perpendicular(s,t),c=r.Line.intersection(s,a);if(e instanceof RadialGradientCoordinates){if(r.Point.distance(t,e.topCenter)<n)return!0}if(!c)return!1;const l=r.Point.distance(t,c),u=r.Point.distance(t,i),h=r.Point.distance(t,o),d=r.Point.distance(i,o);if(u>d&&h<u){return Math.max(h,l)<n}if(h>d&&u<h){return Math.max(u,l)<n}return l<n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(17),o=n(9);t.TextEditTool=class TextEditTool extends i.VekterTool{constructor(e="none"){super(),this.enum=o.Tools.TextEdit,this.eventSource=e}start(){const{tree:e,selection:t}=this.engine;this.nodeId=t[0];const n=e.getNode(this.nodeId);n?(0!==n.styledText.text.length&&this.engine.beginUndoGroup(),n.cache.isEditable=!0):this.engine.exitTool()}update(){this.engine.mouseDown?this.engine.setToolEnum(o.Tools.Select):this.engine.selection[0]!==this.nodeId&&this.engine.exitTool()}stop(){const{tree:e}=this.engine,t=e.getNode(this.nodeId);t&&(0!==t.styledText.text.length||t.originalid?t.cache.isEditable=!1:this.engine.deleteNode(this.nodeId),this.engine.endUndoGroup())}};t.TextEdit=class TextEdit extends r.Component{render(){return null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(3),o=n(1),s=n(23),a=n(18),c=n(77);var l,u;!function(e){e[e.Up=0]="Up",e[e.Right=1]="Right",e[e.Down=2]="Down",e[e.Left=3]="Left"}(l=t.ArrowDirection||(t.ArrowDirection={}));function style(e,t,n){return{position:"absolute",transform:`translate(${e}px, ${t}px)`,willChange:"transform",overflow:"visible",pointerEvents:"none",zIndex:n?1e4:void 0}}function rectPosition(e,t){switch(t){case u.CenterTop:return{x:e.width/2,y:0};case u.MiddleRight:return{x:e.width,y:e.height/2};case u.CenterBottom:return{x:e.width/2,y:e.height};case u.MiddleLeft:return{x:0,y:e.height/2}}}t.Arrow=class Arrow extends r.PureComponent{render(){const e=this.props,{tintColor:t,active:n,direction:c,startOffsetX:u,startOffsetY:d,showArrowHead:p,background:f,zoom:b}=e,_={x:e.startX,y:e.startY},C={x:_.x+u,y:_.y+d};if(!f)return function offsetLine(e,t,n,i,o){if(!t)return null;const s=e.x*n,c=e.y*n,l=t.x*n,u=t.y*n,h=Math.min(s,l),d=Math.min(c,u),p=Math.max(s,l),f=Math.max(c,u),g=Math.max(p-h,1),m=Math.max(f-d,1),v=s-h,y=c-d,S=l-h,b=u-d;return r.createElement("svg",{style:style(h,d),width:g,height:m,fill:"transparent"},r.createElement("line",{x1:v,y1:y,x2:S,y2:b,strokeWidth:1,stroke:i?o:a.theme.navigationConnectionLine}))}(_,C,b,n,t);const w=e.startX*b,x=e.startY*b,P=C.x*b,T=C.y*b,k=e.endX*b,E=e.endY*b,O=Math.min(P,k),M=Math.min(T,E),F=Math.max(P,k),D=Math.max(T,E),I=Math.max(F-O,1),R=Math.max(D-M,1),N=w-O,A=x-M,B=P-O,L=T-M,j=function arrowHeadOffset(e,t){if(!e)return g;switch(t){case l.Right:return m;case l.Left:return v;case l.Down:return y;case l.Up:return S}}(p,c),z=k-O+j.x,U=E-M+j.y,H=function generatePath(e,t,n,r,a,c,u,d){const p=JSON.stringify([e,t,n,c,u]);return o.memoize(2e3,h,p,()=>{let h=0,p=0;switch(e){case l.Right:h=1;break;case l.Left:h=-1;break;case l.Down:p=1;break;case l.Up:p=-1}const f=Math.abs(t-c)/2,g=Math.min(f,20)*d+6;let m;m=r===c||a===u?i.List([new o.PathSegment({x:t,y:n}),new o.PathSegment({x:r,y:a}),new o.PathSegment({x:c,y:u})]):i.List([new o.PathSegment({x:t,y:n}),new o.PathSegment({x:r,y:a}),new o.PathSegment({x:r+6*h,y:a+6*p}),new o.PathSegment({x:r+g*h,y:a+g*p,radius:100}),new o.PathSegment({x:c-g*h,y:u-g*p,radius:100}),new o.PathSegment({x:c-6*h,y:u-6*p}),new o.PathSegment({x:c,y:u})]);const v=s.default.applyRadius(m,!1),y=o.toSVGPath(v);return y})}(c,N,A,B,L,z,U,b);return r.createElement("svg",{style:style(O,M,n),width:I,height:R,fill:"transparent"},r.createElement("path",{d:H,strokeWidth:1,stroke:n?t:a.theme.navigationConnectionLine}),p&&r.createElement("path",{d:arrowHead(z,U,c),stroke:n?a.theme.tint:a.theme.navigationConnectionLine,strokeWidth:1,strokeLinecap:"round"}))}},t.preferredArrowDirection=function preferredArrowDirection(e,t){const n=o.Rect.positions(e),r=o.Rect.positions(t);if(o.Rect.overlapHorizontally(e,t)){const e=r.minY>n.maxY,t=r.maxY<n.minY;if(e)return l.Down;if(t)return l.Up}return r.midX<n.midX?l.Left:l.Right},t.startPoint=function startPoint(e,t,n){let r;switch(n){case l.Right:r=rectPosition(e,u.MiddleRight);break;case l.Left:r=rectPosition(e,u.MiddleLeft);break;case l.Down:r=rectPosition(e,u.CenterBottom);break;case l.Up:default:r=rectPosition(e,u.CenterTop)}return c.default.convertPoint(t,r)},t.arrowPoints=function arrowPoints(e,t,n,r,i,s,a){let h,d;switch(s){case l.Right:h=rectPosition(t,u.MiddleRight),d=rectPosition(r,u.MiddleLeft);break;case l.Left:h=rectPosition(t,u.MiddleLeft),d=rectPosition(r,u.MiddleRight);break;case l.Down:h=rectPosition(t,u.CenterBottom),d=rectPosition(r,u.CenterTop);break;case l.Up:default:h=rectPosition(t,u.CenterTop),d=rectPosition(r,u.CenterBottom)}h=c.default.convertPoint(n,h);const p=a?function arrowSourceOffset(e,t,n,r){const i=function lineForArrowStartAndDirection(e,t){const n=Object.assign({},e);switch(t){case l.Right:case l.Left:n.x+=10;break;case l.Up:case l.Down:default:n.y+=10}return o.Line(e,n)}(n,r),s=function canvasSidesForNode(e,t){const n=o.Rect.cornerPoints(o.Rect.atOrigin(e.getRect(t))),[r,i,s,a]=n.map(n=>e.convertPointToCanvas(t,n)),c=o.Line(r,i),l=o.Line(i,s),u=o.Line(s,a),h=o.Line(a,r);return[c,l,u,h]}(e,t).map(e=>o.Line.intersection(e,i)),a=function bestIntersection(e,t,n){let r=null,i=1/0;for(const o of t){if(!o)continue;let t;switch(n){case l.Right:t=o.x-e.x;break;case l.Left:t=e.x-o.x;break;case l.Down:t=o.y-e.y;break;case l.Up:default:t=e.y-o.y}t<0||t>i||(i=t,r=o)}return r}(n,s,r);if(!a)return{x:0,y:0};switch(r){case l.Right:case l.Left:return{x:a.x-n.x,y:0};default:return{y:a.y-n.y,x:0}}}(e,a,h,s):{x:0,y:0};return{start:h,end:d=c.default.convertPoint(i,d),offset:p}},function(e){e[e.CenterTop=0]="CenterTop",e[e.MiddleRight=1]="MiddleRight",e[e.CenterBottom=2]="CenterBottom",e[e.MiddleLeft=3]="MiddleLeft"}(u||(u={})),t.topAncestor=function topAncestor(e,t){const n=e.getAncestors(t.id);if(0===n.length)return null;const r=n[n.length-1];return e.getNode(r)};const h=new Map;const d=4,p=3.1,f=d-p,g={x:0,y:0},m={x:-4,y:0},v={x:4,y:0},y={x:0,y:-4},S={x:0,y:4};function arrowHead(e,t,n){switch(n){case l.Left:return`M${e+p}, ${t-d} ${e-f}, ${t} ${e+p}, ${t+d}`;case l.Right:return`M${e-p}, ${t-d} ${e+f}, ${t} ${e-p}, ${t+d}`;case l.Down:return`M${e-d}, ${t-p} ${e}, ${t+f} ${e+d}, ${t-p}`;case l.Up:return`M${e-d}, ${t+p} ${e}, ${t-f} ${e+d}, ${t+p}`}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function assertNever(e){throw new Error("Unexpected object: "+e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(849);t.default=class ExportOptions extends r.ExportOptionsRecord{toJS(){const e=super.toJS();return e.__class=this.constructor.name,e}toJSON(){return this.toJS()}}},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function parseuri(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var s=n.exec(e||""),a={},c=14;c--;)a[r[c]]=s[c]||"";return-1!=i&&-1!=o&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(e,t,n){(function(t){e.exports=function isBuf(e){return n&&t.Buffer.isBuffer(e)||r&&(e instanceof t.ArrayBuffer||i(e))};var n="function"==typeof t.Buffer&&"function"==typeof t.Buffer.isBuffer,r="function"==typeof t.ArrayBuffer,i=r&&"function"==typeof t.ArrayBuffer.isView?t.ArrayBuffer.isView:function(e){return e.buffer instanceof t.ArrayBuffer}}).call(this,n(8))},function(e,t,n){var r=n(860),i=n(427),o=n(113),s=n(258),a=n(428),c=n(429),l=n(65)("socket.io-client:manager"),u=n(426),h=n(874),d=Object.prototype.hasOwnProperty;function Manager(e,t){if(!(this instanceof Manager))return new Manager(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=Manager,Manager.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)d.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},Manager.prototype.updateSocketIds=function(){for(var e in this.nsps)d.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},Manager.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},o(Manager.prototype),Manager.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},Manager.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},Manager.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},Manager.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},Manager.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},Manager.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},Manager.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},Manager.prototype.open=Manager.prototype.connect=function(e,t){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=a(n,"open",function(){i.onopen(),e&&e()}),s=a(n,"error",function(t){if(l("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var c=this._timeout;l("connect attempt will timeout after %d",c);var u=setTimeout(function(){l("connect attempt timed out after %d",c),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",c)},c);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(o),this.subs.push(s),this},Manager.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(a(e,"data",c(this,"ondata"))),this.subs.push(a(e,"ping",c(this,"onping"))),this.subs.push(a(e,"pong",c(this,"onpong"))),this.subs.push(a(e,"error",c(this,"onerror"))),this.subs.push(a(e,"close",c(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",c(this,"ondecoded")))},Manager.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},Manager.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},Manager.prototype.ondata=function(e){this.decoder.add(e)},Manager.prototype.ondecoded=function(e){this.emit("packet",e)},Manager.prototype.onerror=function(e){l("error",e),this.emitAll("error",e)},Manager.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new i(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",onConnecting),n.on("connect",function(){n.id=r.generateId(e)}),this.autoConnect&&onConnecting()}function onConnecting(){~u(r.connecting,n)||r.connecting.push(n)}return n},Manager.prototype.destroy=function(e){var t=u(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},Manager.prototype.packet=function(e){l("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},Manager.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},Manager.prototype.cleanup=function(){l("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},Manager.prototype.close=Manager.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},Manager.prototype.onclose=function(e){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},Manager.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();l("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(l("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(l("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(l("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},Manager.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){(function(e){var r=n(259),i=n(863),o=n(870),s=n(871);t.polling=function polling(t){var n=!1,s=!1,a=!1!==t.jsonp;if(e.location){var c="https:"===location.protocol,l=location.port;l||(l=c?443:80),n=t.hostname!==location.hostname||l!==t.port,s=t.secure!==c}if(t.xdomain=n,t.xscheme=s,"open"in new r(t)&&!t.forceJSONP)return new i(t);if(!a)throw new Error("JSONP disabled");return new o(t)},t.websocket=s}).call(this,n(8))},function(e,t,n){var r=n(260),i=n(188),o=n(114),s=n(189),a=n(425),c=n(65)("engine.io-client:polling");e.exports=Polling;var l=null!=new(n(259))({xdomain:!1}).responseType;function Polling(e){var t=e&&e.forceBase64;l&&!t||(this.supportsBinary=!1),r.call(this,e)}s(Polling,r),Polling.prototype.name="polling",Polling.prototype.doOpen=function(){this.poll()},Polling.prototype.pause=function(e){var t=this;function pause(){c("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(c("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){c("pre-pause polling complete"),--n||pause()})),this.writable||(c("we are currently writing - waiting to pause"),n++,this.once("drain",function(){c("pre-pause writing complete"),--n||pause()}))}else pause()},Polling.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},Polling.prototype.onData=function(e){var t=this;c("polling got data %s",e);o.decodePayload(e,this.socket.binaryType,function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},Polling.prototype.doClose=function(){var e=this;function close(){c("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),close()):(c("transport not open - deferring close"),this.once("open",close))},Polling.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};o.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},Polling.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){(function(t){var r=n(146),i=Object.prototype.toString,o="function"==typeof t.Blob||"[object BlobConstructor]"===i.call(t.Blob),s="function"==typeof t.File||"[object FileConstructor]"===i.call(t.File);e.exports=function hasBinary(e){if(!e||"object"!=typeof e)return!1;if(r(e)){for(var n=0,i=e.length;n<i;n++)if(hasBinary(e[n]))return!0;return!1}if("function"==typeof t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(e)||"function"==typeof t.ArrayBuffer&&e instanceof ArrayBuffer||o&&e instanceof Blob||s&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return hasBinary(e.toJSON(),!0);for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&hasBinary(e[a]))return!0;return!1}}).call(this,n(8))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,s={},a=0,c=0;function encode(e){var t="";do{t=i[e%o]+t,e=Math.floor(e/o)}while(e>0);return t}function yeast(){var e=encode(+new Date);return e!==r?(a=0,r=e):e+"."+encode(a++)}for(;c<o;c++)s[i[c]]=c;yeast.encode=encode,yeast.decode=function decode(e){var t=0;for(c=0;c<e.length;c++)t=t*o+s[e.charAt(c)];return t},e.exports=yeast},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(258),i=n(113),o=n(873),s=n(428),a=n(429),c=n(65)("socket.io-client:socket"),l=n(188),u=n(423);e.exports=Socket;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=i.prototype.emit;function Socket(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(Socket.prototype),Socket.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",a(this,"onopen")),s(e,"packet",a(this,"onpacket")),s(e,"close",a(this,"onclose"))]}},Socket.prototype.open=Socket.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},Socket.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},Socket.prototype.emit=function(e){if(h.hasOwnProperty(e))return d.apply(this,arguments),this;var t=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:u(t))?r.BINARY_EVENT:r.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},Socket.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},Socket.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?l.encode(this.query):this.query;c("sending connect packet with query %s",e),this.packet({type:r.CONNECT,query:e})}else this.packet({type:r.CONNECT})},Socket.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},Socket.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===r.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},Socket.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},Socket.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);c("sending ack %j",i),t.packet({type:u(i)?r.BINARY_ACK:r.ACK,id:e,data:i})}}},Socket.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},Socket.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},Socket.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},Socket.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},Socket.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},Socket.prototype.close=Socket.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},Socket.prototype.compress=function(e){return this.flags.compress=e,this},Socket.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){e.exports=function on(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t,n){(function(e){t.fetch=isFunction(e.fetch)&&isFunction(e.ReadableStream),t.writableStream=isFunction(e.WritableStream),t.abortController=isFunction(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(o){}var n;function getXHR(){if(void 0!==n)return n;if(e.XMLHttpRequest){n=new e.XMLHttpRequest;try{n.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(o){n=null}}else n=null;return n}function checkTypeSupport(e){var t=getXHR();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(o){}return!1}var r=void 0!==e.ArrayBuffer,i=r&&isFunction(e.ArrayBuffer.prototype.slice);function isFunction(e){return"function"==typeof e}t.arraybuffer=t.fetch||r&&checkTypeSupport("arraybuffer"),t.msstream=!t.fetch&&i&&checkTypeSupport("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&r&&checkTypeSupport("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!getXHR()&&isFunction(getXHR().overrideMimeType),t.vbArray=isFunction(e.VBArray),n=null}).call(this,n(8))},function(e,t,n){(function(e,r,i){var o=n(430),s=n(67),a=n(432),c=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=t.IncomingMessage=function(t,n,i){var s=this;if(a.Readable.call(s),s._mode=i,s.headers={},s.rawHeaders=[],s.trailers={},s.rawTrailers=[],s.on("end",function(){e.nextTick(function(){s.emit("close")})}),"fetch"===i){if(s._fetchResponse=n,s.url=n.url,s.statusCode=n.status,s.statusMessage=n.statusText,n.headers.forEach(function(e,t){s.headers[t.toLowerCase()]=e,s.rawHeaders.push(t,e)}),o.writableStream){var c=new WritableStream({write:function(e){return new Promise(function(t,n){s._destroyed||(s.push(new r(e))?t():s._resumeFetch=t)})},close:function(){s._destroyed||s.push(null)},abort:function(e){s._destroyed||s.emit("error",e)}});try{return void n.body.pipeTo(c)}catch(d){}}var l=n.body.getReader();!function read(){l.read().then(function(e){s._destroyed||(e.done?s.push(null):(s.push(new r(e.value)),read()))}).catch(function(e){s._destroyed||s.emit("error",e)})}()}else{if(s._xhr=t,s._pos=0,s.url=t.responseURL,s.statusCode=t.status,s.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===s.headers[n]&&(s.headers[n]=[]),s.headers[n].push(t[2])):void 0!==s.headers[n]?s.headers[n]+=", "+t[2]:s.headers[n]=t[2],s.rawHeaders.push(t[1],t[2])}}),s._charset="x-user-defined",!o.overrideMimeType){var u=s.rawHeaders["mime-type"];if(u){var h=u.match(/;\s*charset=([^;])(;|$)/);h&&(s._charset=h[1].toLowerCase())}s._charset||(s._charset="utf-8")}}};s(l,a.Readable),l.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},l.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==c.DONE)break;try{n=new i.VBArray(t.responseBody).toArray()}catch(u){}if(null!==n){e.push(new r(n));break}case"text":try{n=t.responseText}catch(u){e._mode="text:vbarray";break}if(n.length>e._pos){var o=n.substr(e._pos);if("x-user-defined"===e._charset){for(var s=new r(o.length),a=0;a<o.length;a++)s[a]=255&o.charCodeAt(a);e.push(s)}else e.push(o,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==c.DONE||!t.response)break;n=t.response,e.push(new r(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==c.LOADING||!n)break;e.push(new r(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==c.LOADING)break;var l=new i.MSStreamReader;l.onprogress=function(){l.result.byteLength>e._pos&&(e.push(new r(new Uint8Array(l.result.slice(e._pos)))),e._pos=l.result.byteLength)},l.onload=function(){e.push(null)},l.readAsArrayBuffer(n)}e._xhr.readyState===c.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,n(66),n(147).Buffer,n(8))},function(e,t,n){(t=e.exports=n(433)).Stream=t,t.Readable=t,t.Writable=n(437),t.Duplex=n(115),t.Transform=n(439),t.PassThrough=n(890)},function(e,t,n){"use strict";(function(t,r){var i=n(190);e.exports=Readable;var o,s=n(146);Readable.ReadableState=ReadableState;n(434).EventEmitter;var a=function(e,t){return e.listeners(t).length},c=n(435),l=n(191).Buffer,u=t.Uint8Array||function(){};var h=n(148);h.inherits=n(67);var d=n(886),p=void 0;p=d&&d.debuglog?d.debuglog("stream"):function(){};var f,g=n(887),m=n(436);h.inherits(Readable,c);var v=["error","close","destroy","pause","resume"];function ReadableState(e,t){o=o||n(115),e=e||{},this.objectMode=!!e.objectMode,t instanceof o&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=n(438).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function Readable(e){if(o=o||n(115),!(this instanceof Readable))return new Readable(e);this._readableState=new ReadableState(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function readableAddChunk(e,t,n,r,i){var o,s=e._readableState;null===t?(s.reading=!1,function onEofChunk(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,emitReadable(e)}(e,s)):(i||(o=function chunkInvalid(e,t){var n;(function _isUint8Array(e){return l.isBuffer(e)||e instanceof u})(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function _uint8ArrayToBuffer(e){return l.from(e)}(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):addChunk(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?addChunk(e,s,t,!1):maybeReadMore(e,s)):addChunk(e,s,t,!1))):r||(s.reading=!1));return function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function addChunk(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&emitReadable(e)),maybeReadMore(e,t)}Object.defineProperty(Readable.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),Readable.prototype.destroy=m.destroy,Readable.prototype._undestroy=m.undestroy,Readable.prototype._destroy=function(e,t){this.push(null),t(e)},Readable.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=l.from(e,t),t=""),n=!0),readableAddChunk(this,e,t,!1,n)},Readable.prototype.unshift=function(e){return readableAddChunk(this,e,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(e){return f||(f=n(438).StringDecoder),this._readableState.decoder=new f(e),this._readableState.encoding=e,this};var y=8388608;function howMuchToRead(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function computeNewHighWaterMark(e){return e>=y?e=y:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i(emitReadable_,e):emitReadable_(e))}function emitReadable_(e){p("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,i(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function nReadingNextTick(e){p("readable nexttick read 0"),e.read(0)}function resume_(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function fromList(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function fromListPartial(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function copyFromBufferString(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}(e,t):function copyFromBuffer(e,t){var n=l.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0===(e-=s)){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i(endReadableNT,t,e))}function endReadableNT(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function indexOf(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}Readable.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(0===(e=howMuchToRead(e,t))&&t.ended)return 0===t.length&&endReadable(this),null;var r,i=t.needReadable;return p("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",i=!0),t.ended||t.reading?p("reading or ended",i=!1):i&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(n,t))),null===(r=e>0?fromList(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&endReadable(this)),null!==r&&this.emit("data",r),r},Readable.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},Readable.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,t);var c=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?onend:unpipe;function onunpipe(t,r){p("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,function cleanup(){p("cleanup"),e.removeListener("close",onclose),e.removeListener("finish",onfinish),e.removeListener("drain",l),e.removeListener("error",onerror),e.removeListener("unpipe",onunpipe),n.removeListener("end",onend),n.removeListener("end",unpipe),n.removeListener("data",ondata),u=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l()}())}function onend(){p("onend"),e.end()}o.endEmitted?i(c):n.once("end",c),e.on("unpipe",onunpipe);var l=function pipeOnDrain(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,flow(e))}}(n);e.on("drain",l);var u=!1;var h=!1;function ondata(t){p("ondata"),h=!1,!1!==e.write(t)||h||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==indexOf(o.pipes,e))&&!u&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,h=!0),n.pause())}function onerror(t){p("onerror",t),unpipe(),e.removeListener("error",onerror),0===a(e,"error")&&e.emit("error",t)}function onclose(){e.removeListener("finish",onfinish),unpipe()}function onfinish(){p("onfinish"),e.removeListener("close",onclose),unpipe()}function unpipe(){p("unpipe"),n.unpipe(e)}return n.on("data",ondata),function prependListener(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",onerror),e.once("close",onclose),e.once("finish",onfinish),e.emit("pipe",n),o.flowing||(p("pipe resume"),n.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=indexOf(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},Readable.prototype.on=function(e,t){var n=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&emitReadable(this):i(nReadingNextTick,this))}return n},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i(resume_,e,t))}(this,e)),this},Readable.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;for(var i in e.on("end",function(){if(p("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){(p("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i)||(t.objectMode||i&&i.length)&&(r.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<v.length;o++)e.on(v[o],r.emit.bind(r,v[o]));return r._read=function(t){p("wrapped _read",t),n&&(n=!1,e.resume())},r},Readable._fromList=fromList}).call(this,n(8),n(66))},function(e,t){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}e.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!function isNumber(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,r,i,o,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var a=new Error('Uncaught, unspecified "error" event. ('+t+")");throw a.context=t,a}if(isUndefined(n=this._events[e]))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(isObject(n))for(i=Array.prototype.slice.call(arguments,1),r=(s=n.slice()).length,o=0;o<r;o++)s[o].apply(this,i);return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;function g(){this.removeListener(e,g),n||(n=!0,t.apply(this,arguments))}return g.listener=t,this.on(e,g),this},EventEmitter.prototype.removeListener=function(e,t){var n,r,i,o;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(n=this._events[e]).length,r=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(o=i;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(isFunction(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){return this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){e.exports=n(434).EventEmitter},function(e,t,n){"use strict";var r=n(190);function emitErrorNT(e,t){e.emit("error",t)}e.exports={destroy:function destroy(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;i||o?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r(emitErrorNT,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r(emitErrorNT,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}))},undestroy:function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";(function(t,r,i){var o=n(190);function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function onCorkedFinish(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=Writable;var s,a=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o;Writable.WritableState=WritableState;var c=n(148);c.inherits=n(67);var l={deprecate:n(889)},u=n(435),h=n(191).Buffer,d=i.Uint8Array||function(){};var p,f=n(436);function nop(){}function WritableState(e,t){s=s||n(115),e=e||{},this.objectMode=!!e.objectMode,t instanceof s&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function onwrite(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function onwriteError(e,t,n,r,i){--t.pendingcb,n?(o(i,r),o(finishMaybe,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),finishMaybe(e,t))}(e,n,r,t,i);else{var s=needFinish(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||clearBuffer(e,n),r?a(afterWrite,e,n,s,i):afterWrite(e,n,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(e){if(s=s||n(115),!(p.call(Writable,this)||this instanceof s))return new Writable(e);this._writableState=new WritableState(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function doWrite(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function afterWrite(e,t,n,r){n||function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),finishMaybe(e,t)}function clearBuffer(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,a=!0;n;)i[s]=n,n.isBuf||(a=!1),n=n.next,s+=1;i.allBuffers=a,doWrite(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new CorkedRequest(t)}else{for(;n;){var c=n.chunk,l=n.encoding,u=n.callback;if(doWrite(e,t,!1,t.objectMode?1:c.length,c,l,u),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function callFinal(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),finishMaybe(e,t)})}function finishMaybe(e,t){var n=needFinish(t);return n&&(!function prefinish(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o(callFinal,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}c.inherits(Writable,u),WritableState.prototype.getBuffer=function getBuffer(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||e&&e._writableState instanceof WritableState}})):p=function(e){return e instanceof this},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(e,t,n){var r=this._writableState,i=!1,s=function _isUint8Array(e){return h.isBuffer(e)||e instanceof d}(e)&&!r.objectMode;return s&&!h.isBuffer(e)&&(e=function _uint8ArrayToBuffer(e){return h.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=nop),r.ended?function writeAfterEnd(e,t){var n=new Error("write after end");e.emit("error",n),o(t,n)}(this,n):(s||function validChunk(e,t,n,r){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),o(r,s),i=!1),i}(this,r,e,n))&&(r.pendingcb++,i=function writeOrBuffer(e,t,n,r,i,o){if(!n){var s=function decodeChunk(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,n));return t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,a,r,i,o);return c}(this,r,s,e,t,n)),i},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function setDefaultEncoding(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Writable.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function endWritable(e,t,n){t.ending=!0,finishMaybe(e,t),n&&(t.finished?o(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(Writable.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),Writable.prototype.destroy=f.destroy,Writable.prototype._undestroy=f.undestroy,Writable.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(66),n(888).setImmediate,n(8))},function(e,t,n){"use strict";var r=n(191).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function StringDecoder(e){var t;switch(this.encoding=function normalizeEncoding(e){var t=function _normalizeEncoding(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,t=4;break;case"utf8":this.fillLast=utf8FillLast,t=4;break;case"base64":this.text=base64Text,this.end=base64End,t=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function utf8CheckByte(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function utf8FillLast(e){var t=this.lastTotal-this.lastNeed,n=function utf8CheckExtraBytes(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�".repeat(n);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�".repeat(n+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�".repeat(n+2)}}(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function utf16Text(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function utf16End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function base64Text(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function base64End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function simpleWrite(e){return e.toString(this.encoding)}function simpleEnd(e){return e&&e.length?this.write(e):""}t.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},StringDecoder.prototype.end=function utf8End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�".repeat(this.lastTotal-this.lastNeed):t},StringDecoder.prototype.text=function utf8Text(e,t){var n=function utf8CheckIncomplete(e,t,n){var r=t.length-1;if(r<n)return 0;var i=utf8CheckByte(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n)return 0;if((i=utf8CheckByte(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n)return 0;if((i=utf8CheckByte(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},StringDecoder.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=Transform;var r=n(115),i=n(148);function TransformState(e){this.afterTransform=function(t,n){return function afterTransform(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=n&&e.push(n);i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function Transform(e){if(!(this instanceof Transform))return new Transform(e);r.call(this,e),this._transformState=new TransformState(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,n){done(t,e,n)}):done(t)})}function done(e,t,n){if(t)return e.emit("error",t);null!=n&&e.push(n);var r=e._writableState,i=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(67),i.inherits(Transform,r),Transform.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},Transform.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},Transform.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Transform.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Transform.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){"use strict";var r=n(894),i=n(895);function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=urlParse,t.resolve=function urlResolve(e,t){return urlParse(e,!1,!0).resolve(t)},t.resolveObject=function urlResolveObject(e,t){return e?urlParse(e,!1,!0).resolveObject(t):t},t.format=function urlFormat(e){i.isString(e)&&(e=urlParse(e));return e instanceof Url?e.format():Url.prototype.format.call(e)},t.Url=Url;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),u=["%","/","?",";","#"].concat(l),h=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(896);function urlParse(e,t,n){if(e&&i.isObject(e)&&e instanceof Url)return e;var r=new Url;return r.parse(e,t,n),r}Url.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),c=-1!==s&&s<e.indexOf("#")?"?":"#",y=e.split(c);y[0]=y[0].replace(/\\/g,"/");var S=e=y.join(c);if(S=S.trim(),!n&&1===e.split("#").length){var b=a.exec(S);if(b)return this.path=S,this.href=S,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=o.exec(S);if(_){var C=(_=_[0]).toLowerCase();this.protocol=C,S=S.substr(_.length)}if(n||_||S.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===S.substr(0,2);!w||_&&g[_]||(S=S.substr(2),this.slashes=!0)}if(!g[_]&&(w||_&&!m[_])){for(var x,P,T=-1,k=0;k<h.length;k++){-1!==(E=S.indexOf(h[k]))&&(-1===T||E<T)&&(T=E)}-1!==(P=-1===T?S.lastIndexOf("@"):S.lastIndexOf("@",T))&&(x=S.slice(0,P),S=S.slice(P+1),this.auth=decodeURIComponent(x)),T=-1;for(k=0;k<u.length;k++){var E;-1!==(E=S.indexOf(u[k]))&&(-1===T||E<T)&&(T=E)}-1===T&&(T=S.length),this.host=S.slice(0,T),S=S.slice(T),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var M=this.hostname.split(/\./),F=(k=0,M.length);k<F;k++){var D=M[k];if(D&&!D.match(d)){for(var I="",R=0,N=D.length;R<N;R++)D.charCodeAt(R)>127?I+="x":I+=D[R];if(!I.match(d)){var A=M.slice(0,k),B=M.slice(k+1),L=D.match(p);L&&(A.push(L[1]),B.unshift(L[2])),B.length&&(S="/"+B.join(".")+S),this.hostname=A.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=r.toASCII(this.hostname));var j=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+j,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==S[0]&&(S="/"+S))}if(!f[C])for(k=0,F=l.length;k<F;k++){var U=l[k];if(-1!==S.indexOf(U)){var H=encodeURIComponent(U);H===U&&(H=escape(U)),S=S.split(U).join(H)}}var V=S.indexOf("#");-1!==V&&(this.hash=S.substr(V),S=S.slice(0,V));var W=S.indexOf("?");if(-1!==W?(this.search=S.substr(W),this.query=S.substr(W+1),t&&(this.query=v.parse(this.query)),S=S.slice(0,W)):t&&(this.search="",this.query={}),S&&(this.pathname=S),m[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var G=this.search||"";this.path=j+G}return this.href=this.format(),this},Url.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=v.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace("#","%23"))+r},Url.prototype.resolve=function(e){return this.resolveObject(urlParse(e,!1,!0)).format()},Url.prototype.resolveObject=function(e){if(i.isString(e)){var t=new Url;t.parse(e,!1,!0),e=t}for(var n=new Url,r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),c=0;c<a.length;c++){var l=a[c];"protocol"!==l&&(n[l]=e[l])}return m[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!m[e.protocol]){for(var u=Object.keys(e),h=0;h<u.length;h++){var d=u[h];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var f=n.pathname||"",v=n.search||"";n.path=f+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),S=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=S||y||n.host&&e.pathname,_=b,C=n.pathname&&n.pathname.split("/")||[],w=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!m[n.protocol]);if(w&&(n.hostname="",n.port=null,n.host&&(""===C[0]?C[0]=n.host:C.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),b=b&&(""===p[0]||""===C[0])),S)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,C=p;else if(p.length)C||(C=[]),C.pop(),C=C.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(w)n.hostname=n.host=C.shift(),(E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=E.shift(),n.host=n.hostname=E.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!C.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=C.slice(-1)[0],P=(n.host||e.host||C.length>1)&&("."===x||".."===x)||""===x,T=0,k=C.length;k>=0;k--)"."===(x=C[k])?C.splice(k,1):".."===x?(C.splice(k,1),T++):T&&(C.splice(k,1),T--);if(!b&&!_)for(;T--;T)C.unshift("..");!b||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),P&&"/"!==C.join("/").substr(-1)&&C.push("");var E,O=""===C[0]||C[0]&&"/"===C[0].charAt(0);w&&(n.hostname=n.host=O?"":C.length?C.shift():"",(E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=E.shift(),n.host=n.hostname=E.shift()));return(b=b||n.host&&C.length)&&!O&&C.unshift(""),C.length?n.pathname=C.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},Url.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(55),o=n(1),s=n(902),a=n(903),c=n(92),l=n(6),u=n(22),h=n(180),d=n(33),p=n(73),f=n(20),g=n(74),m=n(90),v=n(89),y=n(72);function getCache(e,t){return t?e.cache.reactElement:null}function setCache(e,t,n){return t&&(e.cache.reactElement=n),n}function getProps(e,t){if(t){const t=e.cache.props;if(t)return t}const n=e.getProps();return t&&(e.cache.props=n),n}function componentForNode(e,t){const n=getCache(e,t);if(n)return n;const i=getProps(e,t);if(e instanceof l.ShapeContainerNode){const n=e.children.map(e=>(function vectorForNode(e,t){const n=getCache(e,t);if(n)return n;const i=getProps(e,t);if(l.isShapeGroupNode(e)){const n=e.children.map(e=>vectorForNode(e,t));return setCache(e,t,r.createElement(o.VectorGroup,Object.assign({},i),n))}if(l.isVectorNode(e))return setCache(e,t,r.createElement(o.Vector,Object.assign({},i)));throw Error("WARNING: unknown vector node: "+e.constructor.name)})(e,t));return setCache(e,t,r.createElement(o.FrameWithMotion,Object.assign({},i),n))}if(e instanceof l.CodeComponentNode){const n=function codeComponentForNode(e,t){const n=e.component();if(!n||d.isErrorDefinition(n)||!o.isReactDefinition(n))return null;const i=e.getCodeComponentProps(),s=e.getComponentChildren(),a=e.getComponentSlotChildren();c.HardCodedCodeIdentifier.all.includes(n.identifier)&&(i.__fromCodeComponentNode=!0);const l=h.childrenRectsById(e,!1),u=s.map(e=>{const n=e.cache,r=l?l[e.id]:null;return r?(n.parentDirected=!0,o.Rect.isEqual(n.parentDirectedRect,r)||(n.parentDirectedRect=r,n.reactElement=null)):n.parentDirected&&(n.parentDirected=!1,n.parentDirectedRect=null,n.reactElement=null),componentForNode(e,t)});for(const[r,o]of Object.entries(a))i[r]=o.map(e=>componentForNode(e,!1));return i.placeholders=e.cache.placeholders,i.id=e.id,i.key=e.id,r.createElement(n.class,i,u)}(e,t);return setCache(e,t,r.createElement(o.ComponentContainer,Object.assign({},i),n))}if(e instanceof l.TextNode)return setCache(e,t,r.createElement(o.Text,Object.assign({},i)));if(e instanceof l.SVGNode)return setCache(e,t,r.createElement(o.SVG,Object.assign({},i)));if(e instanceof l.FrameNode){const n=e.children.map(e=>componentForNode(e,t));return setCache(e,t,r.createElement(o.FrameWithMotion,Object.assign({},i),n))}throw Error("WARNING: unknown node: "+e.constructor.name)}function setupElementCache(e,t){const n=e.cache;let r=!1;const i=e.children;if(i)for(let l=0,u=i.length;l<u;l++)setupElementCache(i[l],t)&&(r=!0);const o=function nodeHasImageOrShadow(e){return!(!(m.hasBoxShadow(e)&&e.boxShadows&&e.boxShadows.size>0)&&!(v.hasShadow(e)&&e.shadows&&e.shadows.size>0)&&(!y.hasFill(e)||!e.fillImage||y.hasOptionalFill(e)&&!e.fillEnabled))}(e),s=p.codeComponentWithChildInsertion(e)&&0===f.getChildren(e).length,a=l.isCodeComponentNode(e)&&!e.anySlotContent(),c=o||s||a||g.isSVGNode(e)?t:0;return n.canvasZoom!==c?(n.canvasZoom=c,n.reactElement=null,!0):!!r&&(n.reactElement=null,!0)}t.resetCodeComponentCache=function resetCodeComponentCache(e){e.getGroundNodes().forEach(e=>(function setupCodeComponentCache(e){const t=e.cache;let n=!1;const r=e.children;if(r)for(let i=0,o=r.length;i<o;i++)setupCodeComponentCache(r[i])&&(n=!0);return!(!n&&!l.isCodeComponentNode(e)||(t.reactElement=null,0))})(e))};const S={static:!0};let b=0;t.renderFramerElements=function renderFramerElements(e){const{tree:t,zoom:n,imageBaseURL:c,isInteractive:l}=e;o.setGlobalRenderEnvironment({target:o.RenderTarget.canvas,zoom:n,imageBaseURL:c}),l&&n!==b&&(b=n,t.getGroundNodes().forEach(e=>setupElementCache(e,n)));const u=t.getGroundNodes().map(e=>r.createElement(a.GroundNodeWrapper,{key:e.id+"-wrapper",node:e},componentForNode(e,!0)));return r.createElement(i.MotionContext.Provider,{value:S},r.createElement("div",{key:"CanvasElements",ref:s.repairStrokedSVGs},u))},t.cacheUpdateFunction=function cacheUpdateFunction(e,t,n,r,i){const s=e.cache,a=t&&!1!==e.visible&&!u.isHiddenMaster(e);if(!i&&s.visible===a&&s.lastUpdate===e.update&&o.Rect.equals(s.parentRect,n))return;if(s.reset(),s.visible=a,s.lastUpdate=e.update,s.parentRect=n,s.parentDirected=void 0!==i,!a)return;const c=i&&i[e.id];s.parentDirectedRect=c||null;const l=c||e.rect(n),d=e.children;if(!d)return;const p=h.childrenRectsById(e,!1);for(let o=0,u=d.length;o<u;o++)cacheUpdateFunction(d[o],a,l,null,p)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(80);n(443);const o=n(18),s=n(602);o.theme.addGlobalStyle(".framerInternalUI-canvasPlaceholder, .framerInternalUI-canvasComponentPlaceholder, .framerInternalUI-canvasErrorPlaceholder",{border:"calc(1px * var(--framerInternalCanvas-canvasPlaceholderContentScaleFactor, 1)) dashed currentColor",borderRadius:"calc(2px * var(--framerInternalCanvas-canvasPlaceholderContentScaleFactor, 1))",fontSize:"calc(12px * var(--framerInternalCanvas-canvasPlaceholderContentScaleFactor, 1))"}),o.theme.addGlobalStyle(".framerInternalUI-canvasPlaceholder",{color:"rgba(0, 153, 255, 1)",backgroundColor:"rgba(0, 153, 255, 0.3)",borderColor:"rgba(0, 153, 255, 0.15)"}),o.theme.addGlobalStyle(".framerInternalUI-canvasComponentPlaceholder",{color:"rgb(136, 85, 255)",backgroundColor:"rgba(137, 87, 255, 0.1)",borderColor:"rgba(137, 87, 255, 0.15)"}),o.theme.addGlobalStyle(".framerInternalUI-canvasErrorPlaceholder",{color:"rgb(255, 0, 85)",backgroundColor:"rgba(255, 0, 85, .1)",borderColor:"rgba(255, 0, 85, 0.15)",borderStyle:"solid"}),i.render(r.createElement(s.CanvasRenderer,null),document.querySelector("main"))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(15);document.elementsFromPoint||(document.elementsFromPoint=function elementsFromPoint(e,t){const n=[];let r=null;do{r!==document.elementFromPoint(e,t)?(r=document.elementFromPoint(e,t),n.push(r),r.style.pointerEvents="none"):r=null}while(null!==r);return n.forEach(function(e){return e.style.pointerEvents="all"}),n}),r.safeWindow.WebKitCSSMatrix||(r.safeWindow.WebKitCSSMatrix=n(261)),e&&!e.WebKitCSSMatrix&&(e.WebKitCSSMatrix=n(261)),n(450)}).call(this,n(8))},function(e,t,n){var r={angles:n(445),matrix:n(446),transp:n(449),funcs:{onlyFirstArg:function(e,t){return t=t||this,function(n){return e.call(t,n)}}}};function XCSSMatrix(e){this.m11=this.m22=this.m33=this.m44=1,this.m12=this.m13=this.m14=this.m21=this.m23=this.m24=this.m31=this.m32=this.m34=this.m41=this.m42=this.m43=0,"string"==typeof e&&this.setMatrixValue(e)}XCSSMatrix.displayName="XCSSMatrix";var i=["a","b","c","d","e","f"],o=["m11","m12","m13","m14","m21","m22","m23","m24","m31","m32","m33","m34","m41","m42","m43","m44"];function indextoKey2d(e){return String.fromCharCode(e+97)}function indextoKey3d(e){return"m"+(Math.floor(e/4)+1)+(e%4+1)}[["m11","a"],["m12","b"],["m21","c"],["m22","d"],["m41","e"],["m42","f"]].forEach(function(e){var t=e[0],n=e[1];Object.defineProperty(XCSSMatrix.prototype,n,{set:function(e){this[t]=e},get:function(){return this[t]},enumerable:!0,configurable:!0})}),XCSSMatrix.prototype.multiply=function(e){return r.matrix.multiply(this,e)},XCSSMatrix.prototype.inverse=function(){return r.matrix.inverse(this)},XCSSMatrix.prototype.rotate=function(e,t,n){("number"!=typeof e||isNaN(e))&&(e=0),"number"==typeof t&&!isNaN(t)||"number"==typeof n&&!isNaN(n)||(n=e,e=0,t=0),("number"!=typeof t||isNaN(t))&&(t=0),("number"!=typeof n||isNaN(n))&&(n=0),e=r.angles.deg2rad(e),t=r.angles.deg2rad(t),n=r.angles.deg2rad(n);var i,o,s,a=new XCSSMatrix,c=new XCSSMatrix,l=new XCSSMatrix;n/=2,i=Math.sin(n),o=Math.cos(n),s=i*i,l.m11=l.m22=1-2*s,l.m12=l.m21=2*i*o,l.m21*=-1,t/=2,i=Math.sin(t),o=Math.cos(t),s=i*i,c.m11=c.m33=1-2*s,c.m13=c.m31=2*i*o,c.m13*=-1,e/=2,i=Math.sin(e),o=Math.cos(e),s=i*i,a.m22=a.m33=1-2*s,a.m23=a.m32=2*i*o,a.m32*=-1;var u=new XCSSMatrix;return this.toString()===u.toString()?l.multiply(c).multiply(a):this.multiply(a).multiply(c).multiply(l)},XCSSMatrix.prototype.rotateAxisAngle=function(e,t,n,i){("number"!=typeof e||isNaN(e))&&(e=0),("number"!=typeof t||isNaN(t))&&(t=0),("number"!=typeof n||isNaN(n))&&(n=0),("number"!=typeof i||isNaN(i))&&(i=0),0===e&&0===t&&0===n&&(n=1),i=(r.angles.deg2rad(i)||0)/2;var o,s,a,c=new XCSSMatrix,l=Math.sqrt(e*e+t*t+n*n),u=Math.cos(i),h=Math.sin(i),d=h*h,p=h*u,f=function(e){return parseFloat(e.toFixed(6))};return 0===l?(e=0,t=0,n=1):1!==l&&(e/=l,t/=l,n/=l),1===e&&0===t&&0===n?(c.m22=c.m33=1-2*d,c.m23=c.m32=2*p,c.m32*=-1):0===e&&1===t&&0===n?(c.m11=c.m33=1-2*d,c.m13=c.m31=2*p,c.m13*=-1):0===e&&0===t&&1===n?(c.m11=c.m22=1-2*d,c.m12=c.m21=2*p,c.m21*=-1):(o=e*e,s=t*t,a=n*n,c.m11=f(1-2*(s+a)*d),c.m12=f(2*(e*t*d+n*p)),c.m13=f(2*(e*n*d-t*p)),c.m21=f(2*(e*t*d-n*p)),c.m22=f(1-2*(o+a)*d),c.m23=f(2*(t*n*d+e*p)),c.m31=f(2*(e*n*d+t*p)),c.m32=f(2*(t*n*d-e*p)),c.m33=f(1-2*(o+s)*d)),this.multiply(c)},XCSSMatrix.prototype.scale=function(e,t,n){var r=new XCSSMatrix;return("number"!=typeof e||isNaN(e))&&(e=1),("number"!=typeof t||isNaN(t))&&(t=e),("number"!=typeof n||isNaN(n))&&(n=1),r.m11=e,r.m22=t,r.m33=n,this.multiply(r)},XCSSMatrix.prototype.skewX=function(e){var t=r.angles.deg2rad(e),n=new XCSSMatrix;return n.c=Math.tan(t),this.multiply(n)},XCSSMatrix.prototype.skewY=function(e){var t=r.angles.deg2rad(e),n=new XCSSMatrix;return n.b=Math.tan(t),this.multiply(n)},XCSSMatrix.prototype.translate=function(e,t,n){var r=new XCSSMatrix;return("number"!=typeof e||isNaN(e))&&(e=0),("number"!=typeof t||isNaN(t))&&(t=0),("number"!=typeof n||isNaN(n))&&(n=0),r.m41=e,r.m42=t,r.m43=n,this.multiply(r)},XCSSMatrix.prototype.setMatrixValue=function(e){var t=function toMatrixString(e){var t=r.transp.stringToStatements(e);if(1===t.length&&/^matrix/.test(e))return e;var n=r.funcs.onlyFirstArg(r.transp.statementToObject),i=t.map(n),o=new XCSSMatrix;return i.reduce(transformMatrix,o).toString()}(e.trim()),n=r.transp.statementToObject(t);if(n){var i=n.key===r.transp.matrixFn3d,o=i?indextoKey3d:indextoKey2d,s=n.value,a=s.length;i&&16!==a||!i&&6!==a||s.forEach(function(e,t){this[o(t)]=e.value},this)}},XCSSMatrix.prototype.toString=function(){var e,t;return r.matrix.isAffine(this)?(t=r.transp.matrixFn2d,e=i):(t=r.transp.matrixFn3d,e=o),t+"("+e.map(function(e){return this[e].toFixed(6)},this).join(", ")+")"};var s={matrix:function(e,t){var n=new XCSSMatrix(t.unparsed);return e.multiply(n)},matrix3d:function(e,t){var n=new XCSSMatrix(t.unparsed);return e.multiply(n)},perspective:function(e,t){var n=new XCSSMatrix;return n.m34-=1/t.value[0].value,e.multiply(n)},rotate:function(e,t){return e.rotate.apply(e,t.value.map(objectValues))},rotate3d:function(e,t){return e.rotateAxisAngle.apply(e,t.value.map(objectValues))},rotateX:function(e,t){return e.rotate.apply(e,[t.value[0].value,0,0])},rotateY:function(e,t){return e.rotate.apply(e,[0,t.value[0].value,0])},rotateZ:function(e,t){return e.rotate.apply(e,[0,0,t.value[0].value])},scale:function(e,t){return e.scale.apply(e,t.value.map(objectValues))},scale3d:function(e,t){return e.scale.apply(e,t.value.map(objectValues))},scaleX:function(e,t){return e.scale.apply(e,t.value.map(objectValues))},scaleY:function(e,t){return e.scale.apply(e,[0,t.value[0].value,0])},scaleZ:function(e,t){return e.scale.apply(e,[0,0,t.value[0].value])},skew:function(e,t){var n=new XCSSMatrix("skewX("+t.value[0].unparsed+")"),r=new XCSSMatrix("skewY("+(t.value[1]&&t.value[1].unparsed||0)+")"),i=new XCSSMatrix("matrix(1.00000, "+r.b+", "+n.c+", 1.000000, 0.000000, 0.000000)");return e.multiply(i)},skewX:function(e,t){return e.skewX.apply(e,[t.value[0].value])},skewY:function(e,t){return e.skewY.apply(e,[t.value[0].value])},translate:function(e,t){return e.translate.apply(e,t.value.map(objectValues))},translate3d:function(e,t){return e.translate.apply(e,t.value.map(objectValues))},translateX:function(e,t){return e.translate.apply(e,[t.value[0].value,0,0])},translateY:function(e,t){return e.translate.apply(e,[0,t.value[0].value,0])},translateZ:function(e,t){return e.translate.apply(e,[0,0,t.value[0].value])}};function objectValues(e){return e.value}function parsedToDegrees(e){return"rad"===e.units?(e.value=r.angles.rad2deg(e.value),e.units="deg"):"grad"===e.units&&(e.value=r.angles.grad2deg(e.value),e.units="deg"),e}function transformMatrix(e,t){return t.value=t.value.map(parsedToDegrees),function cssFunctionToJsFunction(e){return s[e]}(t.key)(e,t)||e}e.exports=XCSSMatrix},function(e,t){e.exports={deg2rad:function deg2rad(e){return e*Math.PI/180},rad2deg:function rad2deg(e){return e*(180/Math.PI)},grad2deg:function grad2deg(e){return e/(400/360)}}},function(e,t,n){function determinant2x2(e,t,n,r){return e*r-t*n}function determinant3x3(e,t,n,r,i,o,s,a,c){return e*determinant2x2(i,o,a,c)-r*determinant2x2(t,n,a,c)+s*determinant2x2(t,n,i,o)}function determinant4x4(e){var t=e,n=t.m11,r=t.m21,i=t.m31,o=t.m41,s=t.m12,a=t.m22,c=t.m32,l=t.m42,u=t.m13,h=t.m23,d=t.m33,p=t.m43,f=t.m14,g=t.m24,m=t.m34,v=t.m44;return n*determinant3x3(a,h,g,c,d,m,l,p,v)-r*determinant3x3(s,u,f,c,d,m,l,p,v)+i*determinant3x3(s,u,f,a,h,g,l,p,v)-o*determinant3x3(s,u,f,a,h,g,c,d,m)}function isIdentityOrTranslation(e){var t=e;return 1===t.m11&&0===t.m12&&0===t.m13&&0===t.m14&&0===t.m21&&1===t.m22&&0===t.m23&&0===t.m24&&0===t.m31&&0===t.m31&&1===t.m33&&0===t.m34&&1===t.m44}function adjoint(e){var t=e,n=new e.constructor,r=t.m11,i=t.m12,o=t.m13,s=t.m14,a=t.m21,c=t.m22,l=t.m23,u=t.m24,h=t.m31,d=t.m32,p=t.m33,f=t.m34,g=t.m41,m=t.m42,v=t.m43,y=t.m44;return n.m11=determinant3x3(c,d,m,l,p,v,u,f,y),n.m21=-determinant3x3(a,h,g,l,p,v,u,f,y),n.m31=determinant3x3(a,h,g,c,d,m,u,f,y),n.m41=-determinant3x3(a,h,g,c,d,m,l,p,v),n.m12=-determinant3x3(i,d,m,o,p,v,s,f,y),n.m22=determinant3x3(r,h,g,o,p,v,s,f,y),n.m32=-determinant3x3(r,h,g,i,d,m,s,f,y),n.m42=determinant3x3(r,h,g,i,d,m,o,p,v),n.m13=determinant3x3(i,c,m,o,l,v,s,u,y),n.m23=-determinant3x3(r,a,g,o,l,v,s,u,y),n.m33=determinant3x3(r,a,g,i,c,m,s,u,y),n.m43=-determinant3x3(r,a,g,i,c,m,o,l,v),n.m14=-determinant3x3(i,c,d,o,l,p,s,u,f),n.m24=determinant3x3(r,a,h,o,l,p,s,u,f),n.m34=-determinant3x3(r,a,h,i,c,d,s,u,f),n.m44=determinant3x3(r,a,h,i,c,d,o,l,p),n}function inverse(e){var t;if(isIdentityOrTranslation(e))return t=new e.constructor,0===e.m41&&0===e.m42&&0===e.m43||(t.m41=-e.m41,t.m42=-e.m42,t.m43=-e.m43),t;var n=adjoint(e),r=determinant4x4(e);if(Math.abs(r)<1e-8)return null;for(var i=1;i<5;i++)for(var o=1;o<5;o++)n["m"+i+o]/=r;return n}e.exports={determinant2x2,determinant3x3,determinant4x4,isAffine:function isAffine(e){return 0===e.m13&&0===e.m14&&0===e.m23&&0===e.m24&&0===e.m31&&0===e.m32&&1===e.m33&&0===e.m34&&0===e.m43&&1===e.m44},isIdentityOrTranslation,adjoint,inverse,multiply:function multiply(e,t){if(!t)return null;var n=t,r=e,i=new e.constructor;return i.m11=n.m11*r.m11+n.m12*r.m21+n.m13*r.m31+n.m14*r.m41,i.m12=n.m11*r.m12+n.m12*r.m22+n.m13*r.m32+n.m14*r.m42,i.m13=n.m11*r.m13+n.m12*r.m23+n.m13*r.m33+n.m14*r.m43,i.m14=n.m11*r.m14+n.m12*r.m24+n.m13*r.m34+n.m14*r.m44,i.m21=n.m21*r.m11+n.m22*r.m21+n.m23*r.m31+n.m24*r.m41,i.m22=n.m21*r.m12+n.m22*r.m22+n.m23*r.m32+n.m24*r.m42,i.m23=n.m21*r.m13+n.m22*r.m23+n.m23*r.m33+n.m24*r.m43,i.m24=n.m21*r.m14+n.m22*r.m24+n.m23*r.m34+n.m24*r.m44,i.m31=n.m31*r.m11+n.m32*r.m21+n.m33*r.m31+n.m34*r.m41,i.m32=n.m31*r.m12+n.m32*r.m22+n.m33*r.m32+n.m34*r.m42,i.m33=n.m31*r.m13+n.m32*r.m23+n.m33*r.m33+n.m34*r.m43,i.m34=n.m31*r.m14+n.m32*r.m24+n.m33*r.m34+n.m34*r.m44,i.m41=n.m41*r.m11+n.m42*r.m21+n.m43*r.m31+n.m44*r.m41,i.m42=n.m41*r.m12+n.m42*r.m22+n.m43*r.m32+n.m44*r.m42,i.m43=n.m41*r.m13+n.m42*r.m23+n.m43*r.m33+n.m44*r.m43,i.m44=n.m41*r.m14+n.m42*r.m24+n.m43*r.m34+n.m44*r.m44,i},decompose:function decompose(e){var t,n,i,o,s,a,c,l,u,h,d,p,f;if(0==e.m33)return!1;for(l=1;l<=4;l++)for(j=1;j<4;j++)e["m"+l+j]/=e.m44;if((t=e).m14=0,t.m24=0,t.m34=0,t.m44=1,0==determinant4x4(t))return!1;0!=e.m14||0!=e.m24||0!=e.m34?(n=new r(e.m14,e.m24,e.m34,e.m44),i=inverse(t),o=function transpose(e){var t,n=new e.constructor,r=4;for(;r;){for(t=4;t;)n["m"+r+t]=e["m"+t+r],t--;r--}return n}(i),s=n.multiplyByMatrix(o)):s=new r(0,0,0,1);for(a=new r(e.m41,e.m42,e.m43),c=[new r,new r,new r],l=1,u=c.length;l<u;l++)c[l-1].x=e["m"+l+"1"],c[l-1].y=e["m"+l+"2"],c[l-1].z=e["m"+l+"3"];if(h=new r,d=new r,h.x=c[0].length(),c[0]=c[0].normalize(),d.x=c[0].dot(c[1]),c[1]=c[1].combine(c[0],1,-d.x),h.y=c[1].length(),c[1]=c[1].normalize(),d.x/=h.y,d.y=c[0].dot(c[2]),c[2]=c[2].combine(c[0],1,-d.y),d.z=c[1].dot(c[2]),c[2]=c[2].combine(c[1],1,-d.z),h.z=c[2].length(),c[2]=c[2].normalize(),d.y=d.y/h.z||0,d.z=d.z/h.z||0,p=c[1].cross(c[2]),c[0].dot(p)<0)for(l=0;l<3;l++)h.x*=-1,c[l].x*=-1,c[l].y*=-1,c[l].z*=-1;(f=new r).x=.5*Math.sqrt(Math.max(1+c[0].x-c[1].y-c[2].z,0)),f.y=.5*Math.sqrt(Math.max(1-c[0].x+c[1].y-c[2].z,0)),f.z=.5*Math.sqrt(Math.max(1-c[0].x-c[1].y+c[2].z,0)),f.w=.5*Math.sqrt(Math.max(1+c[0].x+c[1].y+c[2].z,0)),f.y=Math.asin(-c[0].z),0!=Math.cos(f.y)?(f.x=Math.atan2(c[1].z,c[2].z),f.z=Math.atan2(c[0].y,c[0].x)):(f.x=Math.atan2(-c[2].x,c[1].y),f.z=0);return{perspective:s,translate:a,skew:d,scale:h,rotate:f}}};var r=n(447)},function(e,t,n){var r=n(448);function Vector4(e,t,n,r){this.x=e,this.y=t,this.z=n,this.w=r,this.checkValues()}e.exports=Vector4,Vector4.prototype.checkValues=function(){this.x=this.x||0,this.y=this.y||0,this.z=this.z||0,this.w=this.w||0},Vector4.prototype.length=function(){return this.checkValues(),r.length(this)},Vector4.prototype.normalize=function(){return r.normalize(this)},Vector4.prototype.dot=function(e){return r.dot(this,e)},Vector4.prototype.cross=function(e){return r.cross(this,e)},Vector4.prototype.combine=function(e,t,n){return r.combine(this,e,t,n)},Vector4.prototype.multiplyByMatrix=function(e){return r.multiplyByMatrix(this,e)}},function(e,t){function length(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z)}e.exports={length,normalize:function normalize(e){var t=length(e);return new e.constructor(e.x/t,e.y/t,e.z/t)},dot:function dot(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},cross:function cross(e,t){return new e.constructor(e.y*t.z-e.z*t.y,e.z*t.x-e.x*t.z,e.x*t.y-e.y*t.x)},combine:function combine(e,t,n,r){return new e.constructor(n*e.x+r*t.x,n*e.y+r*t.y,n*e.z+r*t.z)},multiplyByMatrix:function multiplyByMatrix(e,t){return new e.constructor(t.m11*e.x+t.m12*e.y+t.m13*e.z,t.m21*e.x+t.m22*e.y+t.m23*e.z,t.m31*e.x+t.m32*e.y+t.m33*e.z)}}},function(e,t){function valueToObject(e){var t=e.match(/([\-\+]?[0-9]+[\.0-9]*)(deg|rad|grad|px|%)*/)||[];return{value:parseFloat(t[1]),units:t[2],unparsed:e}}e.exports={matrixFn2d:"matrix",matrixFn3d:"matrix3d",valueToObject,statementToObject:function statementToObject(e,t){var n=e.toString().match(/(\w+)\(([^\)]+)\)/i).slice(1),r=n[0],i=n[1].split(/, ?/),o=!t&&i.map(valueToObject);return{key:r,value:o||i,unparsed:e}},stringToStatements:function stringToStatements(e){return e.match(/(\w+)\([^\)]+\)/gi)||[]}}},function(e,t,n){(function(t){var n;n=void 0!==t?t:this,e.exports=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,n=String(e),r=n.length,i=-1,o="",s=n.charCodeAt(0);++i<r;)0!=(t=n.charCodeAt(i))?o+=t>=1&&t<=31||127==t||0==i&&t>=48&&t<=57||1==i&&t>=48&&t<=57&&45==s?"\\"+t.toString(16)+" ":0==i&&1==r&&45==t||!(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)?"\\"+n.charAt(i):n.charAt(i):o+="�";return o};return e.CSS||(e.CSS={}),e.CSS.escape=t,t}(n)}).call(this,n(8))},function(e,t,n){(function(e,r){var i=/%[sdj%]/g;t.format=function(e){if(!isString(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(inspect(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),a=r[n];n<o;a=r[++n])isNull(a)||!isObject(a)?s+=" "+a:s+=" "+inspect(a);return s},t.deprecate=function(n,i){if(isUndefined(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return function deprecated(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}};var o,s={};function inspect(e,n){var r={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),isBoolean(n)?r.showHidden=n:n&&t._extend(r,n),isUndefined(r.showHidden)&&(r.showHidden=!1),isUndefined(r.depth)&&(r.depth=2),isUndefined(r.colors)&&(r.colors=!1),isUndefined(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=stylizeWithColor),formatValue(r,e,r.depth)}function stylizeWithColor(e,t){var n=inspect.styles[t];return n?"["+inspect.colors[n][0]+"m"+e+"["+inspect.colors[n][1]+"m":e}function stylizeNoColor(e,t){return e}function formatValue(e,n,r){if(e.customInspect&&n&&isFunction(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return isString(i)||(i=formatValue(e,i,r)),i}var o=function formatPrimitive(e,t){if(isUndefined(t))return e.stylize("undefined","undefined");if(isString(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(isNumber(t))return e.stylize(""+t,"number");if(isBoolean(t))return e.stylize(""+t,"boolean");if(isNull(t))return e.stylize("null","null")}(e,n);if(o)return o;var s=Object.keys(n),a=function arrayToHash(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),isError(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return formatError(n);if(0===s.length){if(isFunction(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(isRegExp(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(isDate(n))return e.stylize(Date.prototype.toString.call(n),"date");if(isError(n))return formatError(n)}var l,u="",h=!1,d=["{","}"];(isArray(n)&&(h=!0,d=["[","]"]),isFunction(n))&&(u=" [Function"+(n.name?": "+n.name:"")+"]");return isRegExp(n)&&(u=" "+RegExp.prototype.toString.call(n)),isDate(n)&&(u=" "+Date.prototype.toUTCString.call(n)),isError(n)&&(u=" "+formatError(n)),0!==s.length||h&&0!=n.length?r<0?isRegExp(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=h?function formatArray(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)hasOwnProperty(t,String(s))?o.push(formatProperty(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,t,n,r,i,!0))}),o}(e,n,r,a,s):s.map(function(t){return formatProperty(e,n,r,a,t,h)}),e.seen.pop(),function reduceToSingleString(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,u,d)):d[0]+u+d[1]}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatProperty(e,t,n,r,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),hasOwnProperty(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=isNull(n)?formatValue(e,c.value,null):formatValue(e,c.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),isUndefined(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(isUndefined(o)&&(o=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=r.pid;s[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else s[e]=function(){};return s[e]},t.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=isArray,t.isBoolean=isBoolean,t.isNull=isNull,t.isNullOrUndefined=function isNullOrUndefined(e){return null==e},t.isNumber=isNumber,t.isString=isString,t.isSymbol=function isSymbol(e){return"symbol"==typeof e},t.isUndefined=isUndefined,t.isRegExp=isRegExp,t.isObject=isObject,t.isDate=isDate,t.isError=isError,t.isFunction=isFunction,t.isPrimitive=function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(452);var a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var e=new Date,t=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),a[e.getMonth()],t].join(" ")}function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",timestamp(),t.format.apply(t,arguments))},t.inherits=n(67),t._extend=function(e,t){if(!t||!isObject(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,n(8),n(66))},function(e,t){e.exports=function isBuffer(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t){var n=n||{};n.Geometry=function(){},n.Geometry.intersectLineLine=function(e,t){var n=(e.intercept-t.intercept)/(t.slope-e.slope);return{x:n,y:e.slope*n+e.intercept}},n.Geometry.distanceFromOrigin=function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))},n.Geometry.distanceLineFromOrigin=function(e){return Math.abs(e.intercept)/Math.sqrt(Math.pow(e.slope,2)+1)},n.Geometry.perpendicularThroughPoint=function(e,t){var n=-1/e.slope;return{slope:n,intercept:t.y-n*t.x}},n.Geometry.angleFromOrigin=function(e){return Math.atan2(e.y,e.x)},n.Geometry.normalizeAngle=function(e){var t=2*Math.PI;return(e%t+t)%t},n.Geometry.lengthOfRayUntilIntersect=function(e,t){return t.intercept/(Math.sin(e)-t.slope*Math.cos(e))},n.Hsluv=function(){},n.Hsluv.getBounds=function(e){for(var t=[],r=Math.pow(e+16,3)/1560896,i=r>n.Hsluv.epsilon?r:e/n.Hsluv.kappa,o=0;o<3;)for(var s=o++,a=n.Hsluv.m[s][0],c=n.Hsluv.m[s][1],l=n.Hsluv.m[s][2],u=0;u<2;){var h=u++,d=(284517*a-94839*l)*i,p=(838422*l+769860*c+731718*a)*e*i-769860*h*e,f=(632260*l-126452*c)*i+126452*h;t.push({slope:d/f,intercept:p/f})}return t},n.Hsluv.maxSafeChromaForL=function(e){for(var t=n.Hsluv.getBounds(e),r=1/0,i=0;i<t.length;){var o=t[i];++i;var s=n.Geometry.distanceLineFromOrigin(o);r=Math.min(r,s)}return r},n.Hsluv.maxChromaForLH=function(e,t){for(var r=t/360*Math.PI*2,i=n.Hsluv.getBounds(e),o=1/0,s=0;s<i.length;){var a=i[s];++s;var c=n.Geometry.lengthOfRayUntilIntersect(r,a);c>=0&&(o=Math.min(o,c))}return o},n.Hsluv.dotProduct=function(e,t){for(var n=0,r=0,i=e.length;r<i;){var o=r++;n+=e[o]*t[o]}return n},n.Hsluv.fromLinear=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,.4166666666666667)-.055},n.Hsluv.toLinear=function(e){return e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92},n.Hsluv.xyzToRgb=function(e){return[n.Hsluv.fromLinear(n.Hsluv.dotProduct(n.Hsluv.m[0],e)),n.Hsluv.fromLinear(n.Hsluv.dotProduct(n.Hsluv.m[1],e)),n.Hsluv.fromLinear(n.Hsluv.dotProduct(n.Hsluv.m[2],e))]},n.Hsluv.rgbToXyz=function(e){var t=[n.Hsluv.toLinear(e[0]),n.Hsluv.toLinear(e[1]),n.Hsluv.toLinear(e[2])];return[n.Hsluv.dotProduct(n.Hsluv.minv[0],t),n.Hsluv.dotProduct(n.Hsluv.minv[1],t),n.Hsluv.dotProduct(n.Hsluv.minv[2],t)]},n.Hsluv.yToL=function(e){return e<=n.Hsluv.epsilon?e/n.Hsluv.refY*n.Hsluv.kappa:116*Math.pow(e/n.Hsluv.refY,.3333333333333333)-16},n.Hsluv.lToY=function(e){return e<=8?n.Hsluv.refY*e/n.Hsluv.kappa:n.Hsluv.refY*Math.pow((e+16)/116,3)},n.Hsluv.xyzToLuv=function(e){var t=e[0],r=e[1],i=t+15*r+3*e[2],o=4*t,s=9*r;0!=i?(o/=i,s/=i):(o=NaN,s=NaN);var a=n.Hsluv.yToL(r);return 0==a?[0,0,0]:[a,13*a*(o-n.Hsluv.refU),13*a*(s-n.Hsluv.refV)]},n.Hsluv.luvToXyz=function(e){var t=e[0],r=e[1],i=e[2];if(0==t)return[0,0,0];var o=r/(13*t)+n.Hsluv.refU,s=i/(13*t)+n.Hsluv.refV,a=n.Hsluv.lToY(t),c=0-9*a*o/((o-4)*s-o*s);return[c,a,(9*a-15*s*a-s*c)/(3*s)]},n.Hsluv.luvToLch=function(e){var t,n=e[0],r=e[1],i=e[2],o=Math.sqrt(r*r+i*i);o<1e-8?t=0:(t=180*Math.atan2(i,r)/Math.PI)<0&&(t=360+t);return[n,o,t]},n.Hsluv.lchToLuv=function(e){var t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,Math.cos(r)*n,Math.sin(r)*n]},n.Hsluv.hsluvToLch=function(e){var t=e[0],r=e[1],i=e[2];return i>99.9999999?[100,0,t]:i<1e-8?[0,0,t]:[i,n.Hsluv.maxChromaForLH(i,t)/100*r,t]},n.Hsluv.lchToHsluv=function(e){var t=e[0],r=e[1],i=e[2];return t>99.9999999?[i,0,100]:t<1e-8?[i,0,0]:[i,r/n.Hsluv.maxChromaForLH(t,i)*100,t]},n.Hsluv.hpluvToLch=function(e){var t=e[0],r=e[1],i=e[2];return i>99.9999999?[100,0,t]:i<1e-8?[0,0,t]:[i,n.Hsluv.maxSafeChromaForL(i)/100*r,t]},n.Hsluv.lchToHpluv=function(e){var t=e[0],r=e[1],i=e[2];return t>99.9999999?[i,0,100]:t<1e-8?[i,0,0]:[i,r/n.Hsluv.maxSafeChromaForL(t)*100,t]},n.Hsluv.rgbToHex=function(e){for(var t="#",r=0;r<3;){var i=e[r++],o=Math.round(255*i),s=o%16,a=(o-s)/16|0;t+=n.Hsluv.hexChars.charAt(a)+n.Hsluv.hexChars.charAt(s)}return t},n.Hsluv.hexToRgb=function(e){e=e.toLowerCase();for(var t=[],r=0;r<3;){var i=r++,o=16*n.Hsluv.hexChars.indexOf(e.charAt(2*i+1))+n.Hsluv.hexChars.indexOf(e.charAt(2*i+2));t.push(o/255)}return t},n.Hsluv.lchToRgb=function(e){return n.Hsluv.xyzToRgb(n.Hsluv.luvToXyz(n.Hsluv.lchToLuv(e)))},n.Hsluv.rgbToLch=function(e){return n.Hsluv.luvToLch(n.Hsluv.xyzToLuv(n.Hsluv.rgbToXyz(e)))},n.Hsluv.hsluvToRgb=function(e){return n.Hsluv.lchToRgb(n.Hsluv.hsluvToLch(e))},n.Hsluv.rgbToHsluv=function(e){return n.Hsluv.lchToHsluv(n.Hsluv.rgbToLch(e))},n.Hsluv.hpluvToRgb=function(e){return n.Hsluv.lchToRgb(n.Hsluv.hpluvToLch(e))},n.Hsluv.rgbToHpluv=function(e){return n.Hsluv.lchToHpluv(n.Hsluv.rgbToLch(e))},n.Hsluv.hsluvToHex=function(e){return n.Hsluv.rgbToHex(n.Hsluv.hsluvToRgb(e))},n.Hsluv.hpluvToHex=function(e){return n.Hsluv.rgbToHex(n.Hsluv.hpluvToRgb(e))},n.Hsluv.hexToHsluv=function(e){return n.Hsluv.rgbToHsluv(n.Hsluv.hexToRgb(e))},n.Hsluv.hexToHpluv=function(e){return n.Hsluv.rgbToHpluv(n.Hsluv.hexToRgb(e))},n.Hsluv.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],n.Hsluv.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]],n.Hsluv.refY=1,n.Hsluv.refU=.19783000664283,n.Hsluv.refV=.46831999493879,n.Hsluv.kappa=903.2962962,n.Hsluv.epsilon=.0088564516,n.Hsluv.hexChars="0123456789abcdef";var r={hsluvToRgb:n.Hsluv.hsluvToRgb,rgbToHsluv:n.Hsluv.rgbToHsluv,hpluvToRgb:n.Hsluv.hpluvToRgb,rgbToHpluv:n.Hsluv.rgbToHpluv,hsluvToHex:n.Hsluv.hsluvToHex,hexToHsluv:n.Hsluv.hexToHsluv,hpluvToHex:n.Hsluv.hpluvToHex,hexToHpluv:n.Hsluv.hexToHpluv,lchToHpluv:n.Hsluv.lchToHpluv,hpluvToLch:n.Hsluv.hpluvToLch,lchToHsluv:n.Hsluv.lchToHsluv,hsluvToLch:n.Hsluv.hsluvToLch,lchToLuv:n.Hsluv.lchToLuv,luvToLch:n.Hsluv.luvToLch,xyzToLuv:n.Hsluv.xyzToLuv,luvToXyz:n.Hsluv.luvToXyz,xyzToRgb:n.Hsluv.xyzToRgb,rgbToXyz:n.Hsluv.rgbToXyz,lchToRgb:n.Hsluv.lchToRgb,rgbToLch:n.Hsluv.rgbToLch};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(193),i=n(264);!function(e){e.hueRotate=function hueRotate(e,t){return r.Color.toHslString(r.Color.hueRotate(r.Color(e),t))},e.setAlpha=function setAlpha(e,t){return r.Color.toRgbString(r.Color.alpha(r.Color(e),t))},e.getAlpha=function getAlpha(e){const t=i.stringToObject(e);return t?t.a:1},e.multiplyAlpha=function multiplyAlpha(e,t){return r.Color.toRgbString(r.Color.multiplyAlpha(r.Color(e),t))},e.toHex=function toHex(e){return r.Color.toHexString(r.Color(e)).toUpperCase()},e.toRgb=function toRgb(e){return r.Color.toRgb(r.Color(e))},e.toRgbString=function toRgbString(e){return r.Color.toRgbString(r.Color(e))},e.toHSV=function toHSV(e){return r.Color.toHsv(r.Color(e))},e.toHSL=function toHSL(e){return r.Color.toHsl(r.Color(e))},e.toHslString=function toHslString(e){return r.Color.toHslString(r.Color(e))},e.toHsvString=function toHsvString(e){return r.Color.toHsvString(r.Color(e))},e.hsvToHSLString=function hsvToHSLString(e){return r.Color.toHslString(r.Color(i.hsvToStr(e.h,e.s,e.v,e.a)))},e.hsvToString=function hsvToString(e){return i.hsvToStr(e.h,e.s,e.v)},e.rgbaToString=function rgbaToString(e){return r.Color.toRgbString(r.Color(e))},e.hslToString=function hslToString(e){return r.Color.toRgbString(r.Color(e))},e.toColorPickerSquare=function toColorPickerSquare(e){return r.Color.toRgbString(r.Color({h:e,s:1,l:.5,a:1}))},e.isValid=function isValid(e){return!1!==r.Color(e).isValid},e.equals=function equals(e,t){return"string"==typeof e&&(e=r.Color(e)),"string"==typeof t&&(t=r.Color(t)),r.Color.equal(e,t)},e.toHexOrRgbaString=function toHexOrRgbaString(e){const t=r.Color(e);return 1!==t.a?r.Color.toRgbString(t):r.Color.toHexString(t)}}(t.ConvertColor||(t.ConvertColor={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(97),i=n(15);t.ready=e=>{"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",()=>setTimeout(e))},t.frameFromElement=e=>{const t=r.Rect.fromRect(e.getBoundingClientRect());return t.x=t.x+i.safeWindow.scrollX,t.y=t.y+i.safeWindow.scrollY,t},t.frameFromElements=e=>r.Rect.merge(...e.map(t.frameFromElement)),t.convertToPageFrame=(e,n)=>{const r=t.convertToPagePoint(e,n);return{x:r.x,y:r.y,width:e.width,height:e.height}},t.convertFromPageFrame=(e,n)=>{const r=t.convertFromPagePoint(e,n);return{x:r.x,y:r.y,width:e.width,height:e.height}},t.getPageFrame=e=>{const t=e.getBoundingClientRect();return{x:t.left+i.safeWindow.scrollX,y:t.top+i.safeWindow.scrollY,width:t.width,height:t.height}},t.fromEventForPage=e=>({x:e.pageX,y:e.pageY}),t.fromEventForClient=e=>({x:e.clientX,y:e.clientY}),t.convertToPagePoint=(e,n)=>{const r=t.getPageFrame(n);return{x:e.x+r.x,y:e.y+r.y}},t.convertFromPagePoint=(e,n)=>{const r=t.getPageFrame(n);return{x:e.x-r.x,y:e.y-r.y}},t.dispatchKeyDownEvent=(e,t={})=>{const n=new KeyboardEvent("keydown",Object.assign({bubbles:!0,keyCode:e},t)),r=document.activeElement;r&&r.dispatchEvent(n)},t.DOM={frameFromElement:t.frameFromElement,frameFromElements:t.frameFromElements,convertToPageFrame:t.convertToPageFrame,convertFromPageFrame:t.convertFromPageFrame,getPageFrame:t.getPageFrame,fromEventForPage:t.fromEventForPage,fromEventForClient:t.fromEventForClient,convertToPagePoint:t.convertToPagePoint,convertFromPagePoint:t.convertFromPagePoint}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.collectOverflowFromProps=function collectOverflowFromProps(e,t){e.overflow&&(t.overflow=e.overflow)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(37);t.collectTextColorFromProps=function collectTextColorFromProps(e,t){const{color:n}=e;"string"==typeof n?t.color=n:r.Color.isColorObject(n)&&(t.color=n.initialValue||r.Color.toRgbString(n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r="calculatedPaths";t.withShape=function withShape(e){return r in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(118),i=n(149);t.gradientForShape=function gradientForShape(e,t){return r.LinearGradient.isLinearGradient(t.fill)?i.elementPropertiesForLinearGradient(t.fill,e):r.RadialGradient.isRadialGradient(t.fill)?i.elementPropertiesForRadialGradient(t.fill,e):void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15);t.debounce=function debounce(e,t){let n;return(...i)=>{r.safeWindow.clearTimeout(n),n=r.safeWindow.setTimeout(e,t,...i)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15);t.throttle=function throttle(e,t){let n,i=0;const o=(...t)=>{i=Date.now(),n=void 0,e(...t)};return(...s)=>{const a=Date.now(),c=t-(a-i);c<=0||c>t?(n&&(r.safeWindow.clearTimeout(n),n=void 0),i=a,e(...s)):n||(n=r.safeWindow.setTimeout(o,c,...s))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDesignDefinition=function isDesignDefinition(e){return"master"===e.type},t.isNonUserFacing=function isNonUserFacing(e){return"device"===e.type||"deviceSkin"===e.type||"deviceHand"===e.type},t.isOverride=function isOverride(e){return"override"===e.type},t.isAction=function isAction(e){return"action"===e.type},t.isReactDefinition=function isReactDefinition(e){return"master"!==e.type}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Boolean="boolean",e.Number="number",e.String="string",e.FusedNumber="fusednumber",e.Enum="enum",e.SegmentedEnum="segmentedenum",e.Color="color",e.Image="image",e.File="file",e.ComponentInstance="componentinstance",e.Array="array",e.EventHandler="eventHandler"}(t.ControlType||(t.ControlType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r="_isStylable";t.withStylable=function withStylable(e){return r in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.annotateTypeOnStringify=function annotateTypeOnStringify(e,t){const n=e.prototype.toJSON;return e.prototype.toJSON=function(){const e=n?n.apply(this):this;return Object.assign({},e,{__type__:t})},e},t.isOfAnnotatedType=function isOfAnnotatedType(e,t){return e&&e.__type__&&e.__type__===t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);t.PathSegmentRecord=r.Record({x:0,y:0,handleMirroring:"straight",handleOutX:0,handleOutY:0,handleInX:0,handleInY:0,radius:0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);function Line(e,t){return{a:e,b:t}}t.Line=Line,function(e){function intersection(e,t){const n=e.a.x,r=e.a.y,i=e.b.x,o=e.b.y,s=t.a.x,a=t.a.y,c=t.b.x,l=t.b.y,u=(n-i)*(a-l)-(r-o)*(s-c);return 0===u?null:{x:((s-c)*(n*o-r*i)-(n-i)*(s*l-a*c))/u,y:((a-l)*(n*o-r*i)-(r-o)*(s*l-a*c))/u}}e.intersection=intersection,e.isOrthogonal=e=>e.a.x===e.b.x||e.a.y===e.b.y,e.perpendicular=(t,n)=>{const i=t.a.x-t.b.x,o=t.a.y-t.b.y,s=r.Point(n.x-o,n.y+i);return e(s,n)},e.projectPoint=function projectPoint(t,n){return intersection(t,e.perpendicular(t,n))}}(Line||(Line={})),t.Line=Line},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(200),o=n(287),s=n(121),a={onMouseEnter:"mouseenter",onMouseLeave:"mouseleave"},c=Object.keys(a),l={panstart:["onPanStart"],pan:["onPan"],panend:["onPanEnd"],tapstart:["onTapStart","onMouseDown"],tap:["onTap","onClick"],tapend:["onTapEnd","onMouseUp"],mousewheelstart:["onMouseWheelStart"],mousewheel:["onMouseWheel"],mousewheelend:["onMouseWheelEnd"]},u=new Set(["tapstart","tap","tapend"]);t.WithEvents=function WithEvents(e){var t;const n=((t=class WithEventsHOC extends r.Component{constructor(){super(...arguments),this.shouldCancelTap=!1,this.activeEventListeners=new Map,this.hasFramerEventListener=!1,this.component=r.createRef()}get element(){return this.component.current&&this.component.current.element}componentDidMount(){this.addEventListeners()}componentDidUpdate(e){this.addEventListeners(e)}componentWillUnmount(){this.removeEventListeners()}addEventListeners(e){this.element&&!this.hasFramerEventListener?(this.element.addEventListener("FramerEvent",({detail:e})=>{const t=e.type,n=e.event;this.handleEvent(t,n)}),c.forEach(e=>this.addHoverEvent(e)),this.hasFramerEventListener=!0):this.element&&e?c.forEach(t=>this.checkHoverEvent(t,e)):this.element||(this.hasFramerEventListener=!1)}removeEventListeners(){c.forEach(e=>this.removeHoverEvent(e))}addHoverEvent(e){const t=this.props[e];if(this.element&&t){const n=e=>{const n=new i.FramerEvent(e);t(n)};this.activeEventListeners.set(e,n);const r=a[e];this.element.addEventListener(r,n)}}removeHoverEvent(e){const t=this.activeEventListeners.get(e);if(this.element&&t){const n=a[e];this.element.removeEventListener(n,t),this.activeEventListeners.delete(e)}}checkHoverEvent(e,t){t[e]!==this.props[e]&&(this.removeHoverEvent(e),this.addHoverEvent(e))}handleEvent(e,t){const n=l[e];n&&n.forEach(e=>{const n=this.props[e],r=this.shouldCancelTap&&u.has(e);n&&!r&&n(t)})}render(){return r.createElement(o.DraggingContext.Consumer,null,t=>(this.shouldCancelTap=t.dragging,r.createElement(e,Object.assign({},this.props,{ref:this.component}))))}}).defaultProps=Object.assign({},e.defaultProps),t);return s(n,e),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15).safeWindow.requestAnimationFrame||(e=>{setTimeout(e,1/60)});t.raf=e=>r(e)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(285);t.EventEmitter=class EventEmitter{constructor(){this._emitter=new r.EventEmitter}eventNames(){return this._emitter.eventNames()}eventListeners(){const e={};for(const t of this._emitter.eventNames())e[t]=this._emitter.listeners(t);return e}on(e,t){this.addEventListener(e,t,!1,!1,this)}off(e,t){this.removeEventListeners(e,t)}once(e,t){this.addEventListener(e,t,!0,!1,this)}unique(e,t){this.addEventListener(e,t,!1,!0,this)}addEventListener(e,t,n,r,i){if(r)for(const o of this._emitter.eventNames())if(t===this._emitter.listeners(o))return;!0===n?this._emitter.once(e,t,i):this._emitter.addListener(e,t,i)}removeEventListeners(e,t){e?this._emitter.removeListener(e,t):this.removeAllEventListeners()}removeAllEventListeners(){this._emitter.removeAllListeners()}countEventListeners(e,t){if(e)return this._emitter.listeners(e).length;{let e=0;for(const t of this._emitter.eventNames())e+=this._emitter.listeners(t).length;return e}}emit(e,...t){this._emitter.emit(e,...t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=.001,i=.01,o=10,s=Number.MIN_VALUE,a=1;function angularFrequency(e,t){return e*Math.sqrt(1-Math.pow(t,2))}!function(e){function computeDampingRatio(e,t,n=1){return t/(2*Math.sqrt(n*e))}e.computeDampingRatio=computeDampingRatio,e.computeDuration=function computeDuration(e,t,n=0,i=1){let o;const s=computeDampingRatio(e,t),a=Math.sqrt(e/i);if(!(s<1))return null;{const e=Math.sqrt(1-Math.pow(s,2)),t=-(n/(e*a)-s/e)/r;if(t<=0)return null;o=Math.log(t)/(s*a)}return o},e.computeDerivedCurveOptions=function computeDerivedCurveOptions(e,t,n=0,c=1){let l,u;e=Math.max(Math.min(e,a),s),t=Math.max(Math.min(t,o),i),e<1?(u=function(i){const o=i*e,s=o*t,a=o-n,c=angularFrequency(i,e),l=Math.exp(-s);return r-a/c*l},l=function(i){const o=i*e*t,s=o*n+n,a=Math.pow(e,2)*Math.pow(i,2)*t,c=Math.exp(-o),l=angularFrequency(Math.pow(i,2),e);return(-u(i)+r>0?-1:1)*((s-a)*c)/l}):(u=function(e){return Math.exp(-e*t)*((e-n)*t+1)-r},l=function(e){return Math.exp(-e*t)*((n-e)*Math.pow(t,2))});const h={tension:100,friction:10,velocity:n},d=function approximateRoot(e,t,n,r=12){let i=n;for(let o=1,s=r,a=1<=s;a?o<s:o>s;a?o++:o--)i-=e(i)/t(i);return i}(u,l,5/t);return isNaN(d)||(h.tension=Math.pow(d,2)*c,h.friction=2*e*Math.sqrt(c*h.tension)),h}}(t.SpringCurveValueConverter||(t.SpringCurveValueConverter={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(292),i=n(293),o=n(294),s=n(193),a=n(295),c=n(96),l=n(98),u={colorModel:c.ColorMixModelType.HUSL};class ValueInterpolation{constructor(e=u){this.interpolate=(e,t)=>([e,t]=l.Interpolation.handleUndefined(e,t),this.interPolationForValue(e).interpolate(e,t)),this.difference=(e,t)=>{return this.interPolationForValue(e).difference(e,t)},this.options=Object.assign({},u,e)}interPolationForValue(e){const t=typeof e;if("number"===t)return r.NumberInterpolation;if("boolean"===t||"function"===t)return o.NoInterpolation;if(s.Color.isColor(e))return a.ColorInterpolation(this.options.colorModel);if("object"===t){if(null===e)return o.NoInterpolation;const t=e.constructor;if(t&&l.isInterpolatable(t)){const n=t.interpolationFor(e,this);if(n&&n!==this&&n.constructor!==ValueInterpolation)return n}return i.ObjectInterpolation(this)}return console.warn(`No interpolation defined for ${e}`),o.NoInterpolation}}t.ValueInterpolation=ValueInterpolation,t.AnyInterpolation=new ValueInterpolation},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AnimationDriver=class AnimationDriver{constructor(e,t,n){this.animator=e,this.updateCallback=t,this.finishedCallback=n,this.update=(e,t)=>{if(this.animator.isFinished())this.finish();else{const e=this.animator.next(t);this.updateCallback(e)}},this.animator.isReady()||console.warn("AnimationDriver initialized with animator that isn't ready")}finish(){this.finishedCallback&&this.finishedCallback(this.animator.isFinished())}isFinished(){return this.animator.isFinished()}}},function(e,t,n){"use strict";e.exports=n(483)},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.async_mode"):60111,p=i?Symbol.for("react.concurrent_mode"):60111,f=i?Symbol.for("react.forward_ref"):60112,g=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116;function t(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case p:case a:case l:case c:case g:return e;default:switch(e=e&&e.$$typeof){case h:case f:case u:return e;default:return t}}case y:case m:case s:return t}}}function v(e){return t(e)===p}n.typeOf=t,n.AsyncMode=d,n.ConcurrentMode=p,n.ContextConsumer=h,n.ContextProvider=u,n.Element=o,n.ForwardRef=f,n.Fragment=a,n.Lazy=y,n.Memo=m,n.Portal=s,n.Profiler=l,n.StrictMode=c,n.Suspense=g,n.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===l||e===c||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===u||e.$$typeof===h||e.$$typeof===f)},n.isAsyncMode=function(e){return v(e)||t(e)===d},n.isConcurrentMode=v,n.isContextConsumer=function(e){return t(e)===h},n.isContextProvider=function(e){return t(e)===u},n.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},n.isForwardRef=function(e){return t(e)===f},n.isFragment=function(e){return t(e)===a},n.isLazy=function(e){return t(e)===y},n.isMemo=function(e){return t(e)===m},n.isPortal=function(e){return t(e)===s},n.isProfiler=function(e){return t(e)===l},n.isStrictMode=function(e){return t(e)===c},n.isSuspense=function(e){return t(e)===g}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15);t.optionalReactDOM=function optionalReactDOM(){if(void 0!==r.safeWindow&&r.safeWindow.ReactDOM)return r.safeWindow.ReactDOM}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(24),i=n(16),o=n(79),s=n(68),{getNumber:a}=r.Animatable;function getRotation(e,t){return"string"==typeof t&&(t=parseFloat(t)),s.isFiniteNumber(t)?t:a(e)}t.transformDefaults={z:0,rotation:0,rotationX:0,rotationY:0,rotationZ:0,scale:1,scaleX:1,scaleY:1,scaleZ:1,skew:0,skewX:0,skewY:0,originX:.5,originY:.5,originZ:0},t.collectTransformFromProps=function collectTransformFromProps(e,t,n){const r=n,s="number"==typeof t.x?`${t.x}px`:t.x,c="number"==typeof t.y?`${t.y}px`:t.y,l=a(e.z),u=a(e.scaleZ),h=a(e.originZ),d=getRotation(e.rotationZ,o.unwrapMotionValue(r.rotateZ)),p=getRotation(e.rotationX,o.unwrapMotionValue(r.rotateX)),f=getRotation(e.rotationY,o.unwrapMotionValue(r.rotateY)),g=a(e.scale),m=a(e.scaleX),v=a(e.scaleY),y=a(e.skew),S=a(e.skewX),b=a(e.skewY),_=getRotation(e.rotation,o.unwrapMotionValue(r.rotate)),C=i.RenderEnvironment.target===i.RenderTarget.export;n.transform=C||0!==l||1!==u||0!==h||0!==d||0!==p||0!==f?`\n            ${`translate3d(${s}, ${c}, ${l}px)`}\n            scale3d(${m*g}, ${v*g}, ${u})\n            skew(${y}deg,${y}deg)\n            skewX(${S}deg)\n            skewY(${b}deg)\n            translateZ(${h}px)\n            rotateX(${p}deg)\n            rotateY(${f}deg)\n            rotateZ(${(_+d).toFixed(4)}deg)\n            translateZ(${-h}px)`:`\n            ${`translate(${s}, ${c})`}\n            scale(${m*g}, ${v*g})\n            skew(${y}deg,${y}deg)\n            skewX(${S}deg)\n            skewY(${b}deg)\n            rotate(${_.toFixed(4)}deg)`;const w=`${100*a(e.originX)}% ${100*a(e.originY)}%`;n.transformOrigin=w,n.WebkitTransformOrigin=w}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(487),i=n(198);t.hasLeftAndRight=function hasLeftAndRight(e){return!!e&&void 0!==e.left&&void 0!==e.right},t.hasTopAndBottom=function hasTopAndBottom(e){return!!e&&void 0!==e.top&&void 0!==e.bottom},t.getStyleForFrameProps=function getStyleForFrameProps(e){if(!e)return{};const t={};return!0===e.preserve3d?t.transformStyle="preserve-3d":!1===e.preserve3d&&(t.transformStyle="flat"),!0===e.backfaceVisible?t.backfaceVisibility="visible":!1===e.backfaceVisible&&(t.backfaceVisibility="hidden"),t.backfaceVisibility&&(t.WebkitBackfaceVisibility=t.backfaceVisibility),void 0!==e.perspective&&(t.perspective=t.WebkitPerspective=e.perspective),!0===e.center?(t.left="50%",t.top="50%"):"x"===e.center?t.left="50%":"y"===e.center&&(t.top="50%"),r.extractStyleFromProps(e,"size",t),r.extractStyleFromProps(e,"image",t),r.extractStyleFromProps(e,"width",t),r.extractStyleFromProps(e,"height",t),r.extractStyleFromProps(e,"top",t),r.extractStyleFromProps(e,"right",t),r.extractStyleFromProps(e,"bottom",t),r.extractStyleFromProps(e,"left",t),r.extractStyleFromProps(e,"position",t),r.extractStyleFromProps(e,"overflow",t),r.extractStyleFromProps(e,"opacity",t),e._border&&e._border.borderWidth||r.extractStyleFromProps(e,"border",t),r.extractStyleFromProps(e,"borderRadius",t),r.extractStyleFromProps(e,"radius",t,"borderRadius"),r.extractStyleFromProps(e,"color",t),r.extractStyleFromProps(e,"shadow",t,"boxShadow"),r.extractStyleFromProps(e,"x",t),r.extractStyleFromProps(e,"y",t),r.extractStyleFromProps(e,"z",t),r.extractStyleFromProps(e,"rotate",t),r.extractStyleFromProps(e,"rotateX",t),r.extractStyleFromProps(e,"rotateY",t),r.extractStyleFromProps(e,"rotateZ",t),r.extractStyleFromProps(e,"scale",t),r.extractStyleFromProps(e,"scaleX",t),r.extractStyleFromProps(e,"scaleY",t),r.extractStyleFromProps(e,"skew",t),r.extractStyleFromProps(e,"skewX",t),r.extractStyleFromProps(e,"skewY",t),r.extractStyleFromProps(e,"originX",t),r.extractStyleFromProps(e,"originY",t),r.extractStyleFromProps(e,"originZ",t),i.collectBackgroundFromProps(e,t),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractStyleFromProps=function extractStyleFromProps(e,t,n,r){void 0===r&&(r=t),void 0===e[t]||(n[r]=e[t])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),i=n(2),o=n(37),s=(e,t)=>t&&"object"==typeof t?(r.invariant((e=>Boolean(e&&"object"==typeof e&&e.mix&&e.toValue))(t),"Motion styles must be numbers, strings, or an instance with a `toValue` and `mix` methods."),t.toValue()):(e=>"background"===e||e.endsWith("color")||e.endsWith("Color"))(e)&&"string"==typeof t&&o.Color.isColor(t)?o.Color(t).toValue():t,a=(e,t)=>{if(Array.isArray(t)){const n=t.length,r=[];for(let i=0;i<n;i++)r.push(s(e,t[i]));return r}return s(e,t)},c={size:{set:(e,t,n)=>{void 0===e.height&&(t.height=n),void 0===e.width&&(t.width=n)},type:i.px},image:{set:(e,t,n)=>{t.backgroundImage=n.startsWith("url(")?n:`url('${n}')`,void 0===e.backgroundSize&&(t.backgroundSize="cover")}},radius:{set:(e,t,n)=>{t.borderRadius=n},type:i.px},shadow:{set:(e,t,n)=>{t.boxShadow=n},type:i.complex}};t.transformValues=e=>{const t={};for(const n in e){const r=a(n,e[n]),i=c[n];if(i){const r=i.type&&"number"==typeof e[n]?i.type.transform(e[n]):e[n];i.set(e,t,r)}else t[n]=r}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new Set;let i;t.add=function add(e){r.has(e)||"undefined"==typeof document||(r.add(e),i||((i=document.createElement("style")).type="text/css",document.head&&document.head.appendChild(i)),i.appendChild(document.createTextNode(e)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=(n(15),n(48)),o=n(37),s=n(272),a=n(276),c=n(199),l=n(192),u=n(16),h=n(32),d=n(24),p=n(1),f=n(303),g=n(124),m=n(299),v=n(298),y=n(149);function sizeSVG(e,t){const n=e.current;if(h.constraintsEnabled(t)||!n)return;const r=n.firstElementChild;if(!(r&&r instanceof SVGSVGElement))return;const{intrinsicWidth:i,intrinsicHeight:o,_constraints:s}=t;0===r.viewBox.baseVal.width&&0===r.viewBox.baseVal.height&&p.isFiniteNumber(i)&&p.isFiniteNumber(o)&&r.setAttribute("viewBox",`0 0 ${i} ${o}`),s&&s.aspectRatio?r.setAttribute("preserveAspectRatio",""):r.setAttribute("preserveAspectRatio","none"),r.setAttribute("width","100%"),r.setAttribute("height","100%")}t.SVG=function SVG(e){const t=h.useParentSize();return r.createElement(SVGComponent,Object.assign({},e,{parentSize:t}))};class SVGComponent extends i.Layer{constructor(){super(...arguments),this.container=r.createRef()}static frame(e){return h.calculateRect(e,e.parentSize||h.ParentSizeState.Unknown)}get frame(){return h.calculateRect(this.props,this.props.parentSize||h.ParentSizeState.Unknown)}componentDidMount(){sizeSVG(this.container,this.props)}componentDidUpdate(e){super.componentDidUpdate(e);const{fill:t}=this.props;if(p.BackgroundImage.isImageObject(t)&&p.BackgroundImage.isImageObject(e.fill)&&t.src!==e.fill.src){const e=m.elementForComponent(this);v.resetSetStyle(e,"fill",null,!1)}sizeSVG(this.container,this.props)}render(){const{id:e,visible:t,fill:n,rotation:i,svg:m,intrinsicHeight:v,intrinsicWidth:S,willChangeTransform:b,width:_,height:C}=this.props;if(!t||!e)return null;g.injectComponentCSSRules();const w=this.frame,x=w||{width:S||100,height:v||100},P={transform:`rotate(${d.Animatable.getNumber(i).toFixed(4)}deg)`,imageRendering:"pixelated",opacity:p.isFiniteNumber(this.props.opacity)?this.props.opacity:1},T={};if(w){Object.assign(P,{transform:`translate(${w.x}px, ${w.y}px) ${P.transform}`,width:`${w.width}px`,height:`${w.height}px`}),h.constraintsEnabled(this.props)&&(P.position="absolute");const e=w.width/(S||1),t=w.height/(v||1),{zoom:n}=u.RenderEnvironment,r=n>1?n:1;T.transform=`scale(${e*r}, ${t*r})`,T.transformOrigin="top left",T.zoom=1/r,S&&v&&(T.width=S,T.height=v)}else{const{left:e,right:t,top:n,bottom:r,center:i}=this.props;Object.assign(P,{left:e,right:t,top:n,bottom:r,width:_,height:C});let o="";!0===i?o="translate(-50%, -50%) ":"x"===i?o="translateX(-50%) ":"y"===i&&(o="translateY(-50%) "),P.transform=`${o}${P.transform}`,Object.assign(T,{left:0,top:0,bottom:0,right:0,position:"absolute"})}c.collectOpacityFromProps(this.props,P),l.collectFiltersFromProps(this.props,P),b&&(P.willChange="transform");let k=null;if("string"==typeof n||o.Color.isColorObject(n)){const e=o.Color.isColorObject(n)?n.initialValue||o.Color.toRgbString(n):n;P.fill=e,P.color=e}else if(s.LinearGradient.isLinearGradient(n)){const t=n,i=`${encodeURI(e||"")}g${s.LinearGradient.hash(t)}`;P.fill=`url(#${i})`;const o=y.elementPropertiesForLinearGradient(t,e);k=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",style:{position:"absolute"}},r.createElement("linearGradient",{id:i,gradientTransform:`rotate(${o.angle}, 0.5, 0.5)`},o.stops.map((e,t)=>r.createElement("stop",{key:t,offset:e.position,stopColor:e.color,stopOpacity:e.alpha}))))}else if(a.RadialGradient.isRadialGradient(n)){const t=n,i=`${encodeURI(e||"")}g${a.RadialGradient.hash(t)}`;P.fill=`url(#${i})`;const o=y.elementPropertiesForRadialGradient(t,e);k=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",style:{position:"absolute"}},r.createElement("radialGradient",{id:i,cy:t.centerAnchorY,cx:t.centerAnchorX,r:t.widthFactor},o.stops.map((e,t)=>r.createElement("stop",{key:t,offset:e.position,stopColor:e.color,stopOpacity:e.alpha}))))}else if(p.BackgroundImage.isImageObject(n)){const t=p.imagePatternPropsForFill(n,x,e);t&&(P.fill=`url(#${t.id})`,k=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"100%",height:"100%",style:{position:"absolute"}},r.createElement("defs",null,r.createElement(f.ImagePatternElement,Object.assign({},t)))))}return r.createElement("div",Object.assign({},{"data-framer-component-type":"SVG"},{id:e,style:P}),k,r.createElement("div",{key:p.BackgroundImage.isImageObject(n)?n.src:"",className:"svgContainer",style:T,ref:this.container,dangerouslySetInnerHTML:{__html:m}}))}}SVGComponent.supportsConstraints=!0,SVGComponent.defaultSVGProps={left:void 0,right:void 0,top:void 0,bottom:void 0,_constraints:{enabled:!0,aspectRatio:null},parentSize:h.ParentSizeState.Unknown,rotation:0,visible:!0,svg:"",shadows:[]},SVGComponent.defaultProps=Object.assign({},i.Layer.defaultProps,SVGComponent.defaultSVGProps)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(125),i=(n(15),n(0)),o=n(24),s=n(202),a=n(218),c=n(332),l=n(116),u=n(32),h=n(16),d=n(192),p=n(124),f=n(333),g=n(48),m=n(335);t.Text=function Text(e){const t=u.useParentSize();return i.createElement(TextComponent,Object.assign({},e,{parentSize:t}))};class TextComponent extends g.Layer{constructor(){super(...arguments),this.renderMain=e=>{const{font:t,fonts:n,visible:s,rotation:u,alignment:f,autoSize:g,clip:m,calculatedSize:v,opacity:y,willChangeTransform:S,id:b,_forwardedOverrides:_}=this.props,{zoom:C}=h.RenderEnvironment,w=this.frame;if(!s)return null;n&&a.fontStore.loadWebFontsFromSelectors(n),p.injectComponentCSSRules();const x=this.props.environment()===h.RenderTarget.canvas&&!e,P={wordWrap:"break-word",outline:"none",display:"inline-block",opacity:this.props.isEditable&&x?0:y,transform:`rotate(${o.Animatable.getNumber(u).toFixed(4)}deg)`},T={"data-framer-component-type":"Text"};if(w&&h.RenderTarget.hasRestrictions())Object.assign(P,{transform:`translate(${w.x}px, ${w.y}px) ${P.transform}`,width:g?"auto":`${w.width}px`,minWidth:`${w.width}px`,height:`${w.height}px`});else{const{left:e,right:t,top:n,bottom:r,width:i,height:o,center:s}=this.props;Object.assign(P,{left:e,right:t,top:n,bottom:r,width:g?"auto":i,minWidth:i,height:o});let a="";!0===s?a="translate(-50%, -50%) ":"x"===s?a="translateX(-50%) ":"y"===s&&(a="translateY(-50%) "),P.transform=`${a}${P.transform}`}d.collectFiltersFromProps(this.props,P),C>=8||l.collectTextShadowsForProps(this.props,P),1!==P.opacity&&void 0!==P.opacity||delete P.opacity,S&&(P.willChange="transform"),(m||!g&&w&&v.height>w.height)&&(P.overflow="hidden");let k=this.props.rawHTML,E=this.props.contentState,O=void 0;if(b&&_){"string"==typeof _[b]&&(O=_[b])}else O=this.props.text;return void 0!==O&&(k?k=function replaceHTMLWithText(e,t){return e.split('<span data-text="true">')[0]+'<span data-text="true">'+t+"</span></span>"}(k,O):E?E=function replaceContentStateWithText(e,t){const n=e.blocks[0]||{inlineStyleRanges:[]},r=t.length,i=[];return n.inlineStyleRanges.forEach(e=>{0===e.offset&&i.push(Object.assign({},e,{length:r}))}),{blocks:[Object.assign({},n,{text:t,inlineStyleRanges:i})],entityMap:{}}}(E,O):k=`<p style="font: ${t}">${O}</p>`),this.props.style&&Object.assign(P,this.props.style),k?(P.textAlign=f,P.whiteSpace="pre-wrap",P.wordWrap="break-word",P.lineHeight="1px",i.createElement("div",Object.assign({style:P},T,{dangerouslySetInnerHTML:{__html:k}}))):(this.editorState&&this.editorText===O||(this.editorText=O,this.editorState=this.editorStateForContentState(E)),i.createElement("div",Object.assign({style:P},T),i.createElement(r.Editor,{editorState:this.editorState,onChange:this.onChange,readOnly:!0,customStyleFn:c.draftStyleFunction,blockRendererFn:this.blockRendererFn,textAlignment:f})))},this.blockRendererFn=e=>m.draftBlockRendererFunction({editable:!1,alignment:this.props.alignment})(e),this.onChange=e=>{}}get frame(){return u.calculateRect(this.props,this.props.parentSize||u.ParentSizeState.Unknown,!1)}editorStateForContentState(e){return e?(e instanceof r.ContentState||(e=r.convertFromRaw(e)),r.EditorState.createWithContent(e)):r.EditorState.createEmpty()}componentWillReceiveProps(e){e.contentState!==this.props.contentState&&(this.editorState=this.editorStateForContentState(e.contentState))}render(){return i.createElement(f.ComponentContainerContext.Consumer,null,this.renderMain)}}TextComponent.supportsConstraints=!0,TextComponent.defaultTextProps={opacity:void 0,left:void 0,right:void 0,top:void 0,bottom:void 0,_constraints:{enabled:!0,aspectRatio:null},rotation:0,clip:!1,visible:!0,contentState:void 0,alignment:void 0,autoSize:!0,calculatedSize:{width:1,height:0},shadows:[],font:"16px "+s.deviceFont()},TextComponent.defaultProps=Object.assign({},g.Layer.defaultProps,TextComponent.defaultTextProps,{isEditable:!1,environment:h.RenderTarget.current})},function(e,t,n){"use strict";var r=n(126),i=n(42),o=n(84),s=n(31),a=n(14),c=n(3),l=(n(127),n(49)),u=n(508),h=c.List,d=c.Repeat,p={insertAtomicBlock:function insertAtomicBlock(e,t,n){var c=e.getCurrentContent(),u=e.getSelection(),p=s.removeRange(c,u,"backward"),f=p.getSelectionAfter(),g=s.splitBlock(p,f),m=g.getSelectionAfter(),v=s.setBlockType(g,m,"atomic"),y=i.create({entity:t}),S=[new o({key:l(),type:"atomic",text:n,characterList:h(d(y,n.length))}),new o({key:l(),type:"unstyled",text:"",characterList:h()})],b=r.createFromArray(S),_=s.replaceWithFragment(v,m,b),C=_.merge({selectionBefore:u,selectionAfter:_.getSelectionAfter().set("hasFocus",!0)});return a.push(e,C,"insert-fragment")},moveAtomicBlock:function moveAtomicBlock(e,t,n,r){var i=e.getCurrentContent(),o=e.getSelection(),c=void 0;if("before"===r||"after"===r){var l=i.getBlockForKey("before"===r?n.getStartKey():n.getEndKey());c=u(i,t,l,r)}else{var h=s.removeRange(i,n,"backward"),d=h.getSelectionAfter(),p=h.getBlockForKey(d.getFocusKey());if(0===d.getStartOffset())c=u(h,t,p,"before");else if(d.getEndOffset()===p.getLength())c=u(h,t,p,"after");else{var f=s.splitBlock(h,d),g=f.getSelectionAfter(),m=f.getBlockForKey(g.getFocusKey());c=u(f,t,m,"before")}}var v=c.merge({selectionBefore:o,selectionAfter:c.getSelectionAfter().set("hasFocus",!0)});return a.push(e,v,"move-block")}};e.exports=p},function(e,t,n){"use strict";var r=n(42),i=n(3).Map,o={add:function add(e,t,n){return modifyInlineStyle(e,t,n,!0)},remove:function remove(e,t,n){return modifyInlineStyle(e,t,n,!1)}};function modifyInlineStyle(e,t,n,o){var s=e.getBlockMap(),a=t.getStartKey(),c=t.getStartOffset(),l=t.getEndKey(),u=t.getEndOffset(),h=s.skipUntil(function(e,t){return t===a}).takeUntil(function(e,t){return t===l}).concat(i([[l,s.get(l)]])).map(function(e,t){var i,s;a===l?(i=c,s=u):(i=t===a?c:0,s=t===l?u:e.getLength());for(var h,d=e.getCharacterList();i<s;)h=d.get(i),d=d.set(i,o?r.applyStyle(h,n):r.removeStyle(h,n)),i++;return e.set("characterList",d)});return e.merge({blockMap:s.merge(h),selectionBefore:t,selectionAfter:t})}e.exports=o},function(e,t,n){"use strict";e.exports={draft_killswitch_allow_nontextnodes:!1,draft_segmented_entities_behavior:!1}},function(e,t,n){"use strict";var r=n(3),i=n(497);e.exports=function applyEntityToContentState(e,t,n){var o=e.getBlockMap(),s=t.getStartKey(),a=t.getStartOffset(),c=t.getEndKey(),l=t.getEndOffset(),u=o.skipUntil(function(e,t){return t===s}).takeUntil(function(e,t){return t===c}).toOrderedMap().merge(r.OrderedMap([[c,o.get(c)]])).map(function(e,t){var r=t===s?a:0,o=t===c?l:e.getLength();return i(e,r,o,n)});return e.merge({blockMap:o.merge(u),selectionBefore:t,selectionAfter:t})}},function(e,t,n){"use strict";var r=n(42);e.exports=function applyEntityToContentBlock(e,t,n,i){for(var o=e.getCharacterList();t<n;)o=o.set(t,r.applyEntity(o.get(t),i)),t++;return e.set("characterList",o)}},function(e,t,n){"use strict";var r=n(499),i=n(500),o=n(13);function getEntityRemovalRange(e,t,n,s,a,c,l){var u=n.getStartOffset(),h=n.getEndOffset(),d=e.__get(a).getMutability(),p=l?u:h;if("MUTABLE"===d)return n;var f=i(t,a).filter(function(e){return p<=e.end&&p>=e.start});1!=f.length&&o(!1);var g=f[0];if("IMMUTABLE"===d)return n.merge({anchorOffset:g.start,focusOffset:g.end,isBackward:!1});c||(l?h=g.end:u=g.start);var m=r.getRemovalRange(u,h,t.getText().slice(g.start,g.end),g.start,s);return n.merge({anchorOffset:m.start,focusOffset:m.end,isBackward:!1})}e.exports=function getCharacterRemovalRange(e,t,n,r,i){var o=r.getStartOffset(),s=r.getEndOffset(),a=t.getEntityAt(o),c=n.getEntityAt(s-1);if(!a&&!c)return r;var l=r;if(a&&a===c)l=getEntityRemovalRange(e,t,l,i,a,!0,!0);else if(a&&c){var u=getEntityRemovalRange(e,t,l,i,a,!1,!0),h=getEntityRemovalRange(e,n,l,i,c,!1,!1);l=l.merge({anchorOffset:u.getAnchorOffset(),focusOffset:h.getFocusOffset(),isBackward:!1})}else if(a){var d=getEntityRemovalRange(e,t,l,i,a,!1,!0);l=l.merge({anchorOffset:d.getStartOffset(),isBackward:!1})}else if(c){var p=getEntityRemovalRange(e,n,l,i,c,!1,!1);l=l.merge({focusOffset:p.getEndOffset(),isBackward:!1})}return l}},function(e,t,n){"use strict";e.exports={getRemovalRange:function getRemovalRange(e,t,n,r,i){var o=n.split(" ");o=o.map(function(e,t){if("forward"===i){if(t>0)return" "+e}else if(t<o.length-1)return e+" ";return e});for(var s,a=r,c=null,l=null,u=0;u<o.length;u++){if(e<(s=a+o[u].length)&&a<t)null!==c?l=s:(c=a,l=s);else if(null!==c)break;a=s}var h=r+n.length,d=c===r,p=l===h;return(!d&&p||d&&!p)&&("forward"===i?l!==h&&l++:c!==r&&c--),{start:c,end:l}}}},function(e,t,n){"use strict";var r=n(13);e.exports=function getRangesForDraftEntity(e,t){var n=[];return e.findEntityRanges(function(e){return e.getEntity()===t},function(e,t){n.push({start:e,end:t})}),n.length||r(!1),n}},function(e,t,n){"use strict";var r=n(126),i=n(49),o=n(306),s=n(13);e.exports=function insertFragmentIntoContentState(e,t,n){t.isCollapsed()||s(!1);var a,c,l=t.getStartKey(),u=t.getStartOffset(),h=e.getBlockMap(),d=n.size;if(1===d){var p=h.get(l),f=n.first(),g=p.getText(),m=p.getCharacterList(),v=p.merge({text:g.slice(0,u)+f.getText()+g.slice(u),characterList:o(m,f.getCharacterList(),u),data:f.getData()});return a=l,c=u+f.getText().length,e.merge({blockMap:h.set(l,v),selectionBefore:t,selectionAfter:t.merge({anchorKey:a,anchorOffset:c,focusKey:a,focusOffset:c,isBackward:!1})})}var y=[];return e.getBlockMap().forEach(function(e,t){if(t===l){var r=e.getText(),o=e.getCharacterList(),s=r.length,c=r.slice(0,u),h=o.slice(0,u),p=n.first(),f=e.merge({text:c+p.getText(),characterList:h.concat(p.getCharacterList()),type:c?e.getType():p.getType(),data:p.getData()});y.push(f),n.slice(1,d-1).forEach(function(e){y.push(e.set("key",i()))});var g=r.slice(u,s),m=o.slice(u,s),v=n.last();a=i();var S=v.merge({key:a,text:v.getText()+g,characterList:v.getCharacterList().concat(m),data:v.getData()});y.push(S)}else y.push(e)}),c=n.last().getLength(),e.merge({blockMap:r.createFromArray(y),selectionBefore:t,selectionAfter:t.merge({anchorKey:a,anchorOffset:c,focusKey:a,focusOffset:c,isBackward:!1})})}},function(e,t,n){"use strict";var r=n(3),i=n(306),o=n(13),s=r.Repeat;e.exports=function insertTextIntoContentState(e,t,n,r){t.isCollapsed()||o(!1);var a=n.length;if(!a)return e;var c=e.getBlockMap(),l=t.getStartKey(),u=t.getStartOffset(),h=c.get(l),d=h.getText(),p=h.merge({text:d.slice(0,u)+n+d.slice(u,h.getLength()),characterList:i(h.getCharacterList(),s(r,a).toList(),u)}),f=u+a;return e.merge({blockMap:c.set(l,p),selectionAfter:t.merge({anchorOffset:f,focusOffset:f})})}},function(e,t,n){"use strict";var r=n(3).Map;e.exports=function modifyBlockForContentState(e,t,n){var i=t.getStartKey(),o=t.getEndKey(),s=e.getBlockMap(),a=s.toSeq().skipUntil(function(e,t){return t===i}).takeUntil(function(e,t){return t===o}).concat(r([[o,s.get(o)]])).map(n);return e.merge({blockMap:s.merge(a),selectionBefore:t,selectionAfter:t})}},function(e,t,n){"use strict";var r=n(3);e.exports=function removeRangeFromContentState(e,t){if(t.isCollapsed())return e;var n,i=e.getBlockMap(),o=t.getStartKey(),s=t.getStartOffset(),a=t.getEndKey(),c=t.getEndOffset(),l=i.get(o),u=i.get(a);n=l===u?function removeFromList(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),i=e.slice(n);e=r.concat(i).toList()}return e}(l.getCharacterList(),s,c):l.getCharacterList().slice(0,s).concat(u.getCharacterList().slice(c));var h=l.merge({text:l.getText().slice(0,s)+u.getText().slice(c),characterList:n}),d=i.toSeq().skipUntil(function(e,t){return t===o}).takeUntil(function(e,t){return t===a}).concat(r.Map([[a,null]])).map(function(e,t){return t===o?h:null});return i=i.merge(d).filter(function(e){return!!e}),e.merge({blockMap:i,selectionBefore:t,selectionAfter:t.merge({anchorKey:o,anchorOffset:s,focusKey:o,focusOffset:s,isBackward:!1})})}},function(e,t,n){"use strict";var r=n(3),i=n(49),o=n(13),s=r.Map;e.exports=function splitBlockInContentState(e,t){t.isCollapsed()||o(!1);var n=t.getAnchorKey(),r=t.getAnchorOffset(),a=e.getBlockMap(),c=a.get(n),l=c.getText(),u=c.getCharacterList(),h=c.merge({text:l.slice(0,r),characterList:u.slice(0,r)}),d=i(),p=h.merge({key:d,text:l.slice(r),characterList:u.slice(r),data:s()}),f=a.toSeq().takeUntil(function(e){return e===c}),g=a.toSeq().skipUntil(function(e){return e===c}).rest(),m=f.concat([[h.getKey(),h],[p.getKey(),p]],g).toOrderedMap();return e.merge({blockMap:m,selectionBefore:t,selectionAfter:t.merge({anchorKey:d,anchorOffset:0,focusKey:d,focusOffset:0,isBackward:!1})})}},function(e,t,n){"use strict";var r,i=n(3),o=n(507),s=n(38),a=i.OrderedMap,c={getDirectionMap:function getDirectionMap(e,t){r?r.reset():r=new o;var n=e.getBlockMap(),c=n.valueSeq().map(function(e){return s(r).getDirection(e.getText())}),l=a(n.keySeq().zip(c));return null!=t&&i.is(t,l)?t:l}};e.exports=c},function(e,t,n){"use strict";var r=n(309),i=n(208),o=n(13),s=function(){function UnicodeBidiService(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UnicodeBidiService),e?i.isStrong(e)||o(!1):e=i.getGlobalDir(),this._defaultDir=e,this.reset()}return UnicodeBidiService.prototype.reset=function reset(){this._lastDir=this._defaultDir},UnicodeBidiService.prototype.getDirection=function getDirection(e){return this._lastDir=r.getDirection(e,this._lastDir),this._lastDir},UnicodeBidiService}();e.exports=s},function(e,t,n){"use strict";var r=n(13);e.exports=function moveBlockInContentState(e,t,n,i){t.getKey()===n.getKey()&&r(!1),"replace"===i&&r(!1);var o=n.getKey(),s=e.getBlockBefore(o),a=e.getBlockAfter(o),c=e.getBlockMap().delete(t.getKey()),l=c.toSeq().takeUntil(function(e){return e===n}),u=c.toSeq().skipUntil(function(e){return e===n}).skip(1),h=void 0;return"before"===i?(s&&s.getKey()===t.getKey()&&r(!1),h=l.concat([[t.getKey(),t],[n.getKey(),n]],u).toOrderedMap()):"after"===i&&(a&&a.getKey()===t.getKey()&&r(!1),h=l.concat([[n.getKey(),n],[t.getKey(),t]],u).toOrderedMap()),e.merge({blockMap:h,selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:t.getKey(),focusKey:t.getKey()})})}},function(e,t,n){"use strict";var r=n(3).List,i=function(){function CompositeDraftDecorator(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CompositeDraftDecorator),this._decorators=e.slice()}return CompositeDraftDecorator.prototype.getDecorations=function getDecorations(e,t){var n=Array(e.getText().length).fill(null);return this._decorators.forEach(function(r,i){var o=0;(0,r.strategy)(e,function callback(e,t){(function canOccupySlice(e,t,n){for(var r=t;r<n;r++)if(null!=e[r])return!1;return!0})(n,e,t)&&(function occupySlice(e,t,n,r){for(var i=t;i<n;i++)e[i]=r}(n,e,t,i+"."+o),o++)},t)}),r(n)},CompositeDraftDecorator.prototype.getComponentForKey=function getComponentForKey(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].component},CompositeDraftDecorator.prototype.getPropsForKey=function getPropsForKey(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].props},CompositeDraftDecorator}();e.exports=i},function(e,t,n){"use strict";var r=n(70)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var i=n(209),o=n(310),s=n(511),a=n(512),c=n(534),l=n(537),u=n(569),h=n(14),d=n(0),p=n(80),f=n(314),g=n(213),m=n(50),v=n(128),y=n(205),S=n(49),b=n(328),_=n(214),C=n(13),w=n(38),x=m.isBrowser("IE"),P=!x,T={edit:l,composite:s,drag:c,cut:null,render:null},k=function(e){function DraftEditor(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DraftEditor);var n=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t));return n._blockSelectEvents=!1,n._clipboard=null,n._handler=null,n._dragCount=0,n._editorKey=t.editorKey||S(),n._placeholderAccessibilityID="placeholder-"+n._editorKey,n._latestEditorState=t.editorState,n._latestCommittedEditorState=t.editorState,n._onBeforeInput=n._buildHandler("onBeforeInput"),n._onBlur=n._buildHandler("onBlur"),n._onCharacterData=n._buildHandler("onCharacterData"),n._onCompositionEnd=n._buildHandler("onCompositionEnd"),n._onCompositionStart=n._buildHandler("onCompositionStart"),n._onCopy=n._buildHandler("onCopy"),n._onCut=n._buildHandler("onCut"),n._onDragEnd=n._buildHandler("onDragEnd"),n._onDragOver=n._buildHandler("onDragOver"),n._onDragStart=n._buildHandler("onDragStart"),n._onDrop=n._buildHandler("onDrop"),n._onInput=n._buildHandler("onInput"),n._onFocus=n._buildHandler("onFocus"),n._onKeyDown=n._buildHandler("onKeyDown"),n._onKeyPress=n._buildHandler("onKeyPress"),n._onKeyUp=n._buildHandler("onKeyUp"),n._onMouseDown=n._buildHandler("onMouseDown"),n._onMouseUp=n._buildHandler("onMouseUp"),n._onPaste=n._buildHandler("onPaste"),n._onSelect=n._buildHandler("onSelect"),n.focus=n._focus.bind(n),n.blur=n._blur.bind(n),n.setMode=n._setMode.bind(n),n.exitCurrentMode=n._exitCurrentMode.bind(n),n.restoreEditorDOM=n._restoreEditorDOM.bind(n),n.setClipboard=n._setClipboard.bind(n),n.getClipboard=n._getClipboard.bind(n),n.getEditorKey=function(){return n._editorKey},n.update=n._update.bind(n),n.onDragEnter=n._onDragEnter.bind(n),n.onDragLeave=n._onDragLeave.bind(n),n.state={contentsKey:0},n}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(DraftEditor,e),DraftEditor.prototype._buildHandler=function _buildHandler(e){var t=this;return function(n){if(!t.props.readOnly){var r=t._handler&&t._handler[e];r&&r(t,n)}}},DraftEditor.prototype._showPlaceholder=function _showPlaceholder(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},DraftEditor.prototype._renderPlaceholder=function _renderPlaceholder(){return this._showPlaceholder()?d.createElement(u,{text:w(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID}):null},DraftEditor.prototype.render=function render(){var e=this.props,t=e.readOnly,n=e.textAlignment,i=v({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===n,"DraftEditor/alignRight":"right"===n,"DraftEditor/alignCenter":"center"===n}),s=this.props.role||"textbox",c="combobox"===s?!!this.props.ariaExpanded:null;return d.createElement("div",{className:i},this._renderPlaceholder(),d.createElement("div",{className:v("DraftEditor/editorContainer"),ref:"editorContainer"},d.createElement("div",{"aria-activedescendant":t?null:this.props.ariaActiveDescendantID,"aria-autocomplete":t?null:this.props.ariaAutoComplete,"aria-controls":t?null:this.props.ariaControls,"aria-describedby":this._showPlaceholder()?this._placeholderAccessibilityID:null,"aria-expanded":t?null:c,"aria-label":this.props.ariaLabel,"aria-multiline":this.props.ariaMultiline,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:v({notranslate:!t,"public/DraftEditor/content":!0}),contentEditable:!t,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:"editor",role:t?null:s,spellCheck:P&&this.props.spellCheck,style:{outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},d.createElement(a,{blockRenderMap:this.props.blockRenderMap,blockRendererFn:this.props.blockRendererFn,blockStyleFn:this.props.blockStyleFn,customStyleMap:r({},o,this.props.customStyleMap),customStyleFn:this.props.customStyleFn,editorKey:this._editorKey,editorState:this.props.editorState,key:"contents"+this.state.contentsKey,textDirectionality:this.props.textDirectionality}))))},DraftEditor.prototype.componentDidMount=function componentDidMount(){this.setMode("edit"),x&&document.execCommand("AutoUrlDetect",!1,!1)},DraftEditor.prototype.componentWillUpdate=function componentWillUpdate(e){this._blockSelectEvents=!0,this._latestEditorState=e.editorState},DraftEditor.prototype.componentDidUpdate=function componentDidUpdate(){this._blockSelectEvents=!1,this._latestCommittedEditorState=this.props.editorState},DraftEditor.prototype._focus=function _focus(e){var t=this.props.editorState,n=t.getSelection().getHasFocus(),r=p.findDOMNode(this.refs.editor);if(r){var i=g.getScrollParent(r),o=e||_(i),s=o.x,a=o.y;r instanceof HTMLElement||C(!1),r.focus(),i===window?window.scrollTo(s,a):f.setTop(i,a),n||this.update(h.forceSelection(t,t.getSelection()))}},DraftEditor.prototype._blur=function _blur(){var e=p.findDOMNode(this.refs.editor);e instanceof HTMLElement||C(!1),e.blur()},DraftEditor.prototype._setMode=function _setMode(e){this._handler=T[e]},DraftEditor.prototype._exitCurrentMode=function _exitCurrentMode(){this.setMode("edit")},DraftEditor.prototype._restoreEditorDOM=function _restoreEditorDOM(e){var t=this;this.setState({contentsKey:this.state.contentsKey+1},function(){t._focus(e)})},DraftEditor.prototype._setClipboard=function _setClipboard(e){this._clipboard=e},DraftEditor.prototype._getClipboard=function _getClipboard(){return this._clipboard},DraftEditor.prototype._update=function _update(e){this._latestEditorState=e,this.props.onChange(e)},DraftEditor.prototype._onDragEnter=function _onDragEnter(){this._dragCount++},DraftEditor.prototype._onDragLeave=function _onDragLeave(){this._dragCount--,0===this._dragCount&&this.exitCurrentMode()},DraftEditor}(d.Component);k.defaultProps={blockRenderMap:i,blockRendererFn:y.thatReturnsNull,blockStyleFn:y.thatReturns(""),keyBindingFn:b,readOnly:!1,spellCheck:!1,stripPastedStyles:!1},e.exports=k},function(e,t,n){"use strict";var r=n(31),i=n(14),o=n(210),s=n(211),a=n(311),c=!1,l=!1,u="",h={onBeforeInput:function onBeforeInput(e,t){u=(u||"")+t.data},onCompositionStart:function onCompositionStart(e){l=!0},onCompositionEnd:function onCompositionEnd(e){c=!1,l=!1,setTimeout(function(){c||h.resolveComposition(e)},20)},onKeyDown:function onKeyDown(e,t){if(!l)return h.resolveComposition(e),void e._onKeyDown(t);t.which!==o.RIGHT&&t.which!==o.LEFT||t.preventDefault()},onKeyPress:function onKeyPress(e,t){t.which===o.RETURN&&t.preventDefault()},resolveComposition:function resolveComposition(e){if(!l){c=!0;var t=u;u="";var n=i.set(e._latestEditorState,{inCompositionMode:!1}),o=n.getCurrentInlineStyle(),h=s(n.getCurrentContent(),n.getSelection()),d=!t||a(n)||o.size>0||null!==h;if(d&&e.restoreEditorDOM(),e.exitCurrentMode(),t){var p=r.replaceText(n.getCurrentContent(),n.getSelection(),t,o,h);e.update(i.push(n,p,"insert-characters"))}else d&&e.update(i.set(n,{nativelyRenderedContent:null,forceSelection:!0}))}}};e.exports=h},function(e,t,n){"use strict";var r=n(70)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var i=n(312),o=n(157),s=(n(14),n(0)),a=n(128),c=n(533),l=n(38),u=function(e){function DraftEditorContents(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DraftEditorContents),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(DraftEditorContents,e),DraftEditorContents.prototype.shouldComponentUpdate=function shouldComponentUpdate(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),i=t.isInCompositionMode(),o=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||i&&o)return!1;var s=t.getCurrentContent(),a=n.getCurrentContent(),c=t.getDecorator(),l=n.getDecorator();return i!==o||s!==a||c!==l||n.mustForceSelection()},DraftEditorContents.prototype.render=function render(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,a=e.customStyleMap,u=e.customStyleFn,h=e.editorState,d=h.getCurrentContent(),p=h.getSelection(),f=h.mustForceSelection(),g=h.getDecorator(),m=l(h.getDirectionMap()),v=d.getBlocksAsArray(),y=[],S=null,b=null,_=0;_<v.length;_++){var C=v[_],w=C.getKey(),x=C.getType(),P=n(C),T=void 0,k=void 0,E=void 0;P&&(T=P.component,k=P.props,E=P.editable);var O=this.props.textDirectionality,M=O||m.get(w),F=o.encode(w,0,0),D={contentState:d,block:C,blockProps:k,customStyleMap:a,customStyleFn:u,decorator:g,direction:M,forceSelection:f,key:w,offsetKey:F,selection:p,tree:h.getBlockTree(w)},I=t.get(x)||t.get("unstyled"),R=I.wrapper,N=I.element||t.get("unstyled").element,A=C.getDepth(),B=this.props.blockStyleFn(C);if("li"===N)B=c(B,getListItemClasses(x,A,b!==R||null===S||A>S,M));var L=T||i,j={className:B,"data-block":!0,"data-editor":this.props.editorKey,"data-offset-key":F,key:w};void 0!==E&&(j=r({},j,{contentEditable:E,suppressContentEditableWarning:!0}));var z=s.createElement(N,j,s.createElement(L,D));y.push({block:z,wrapperTemplate:R,key:w,offsetKey:F}),S=R?C.getDepth():null,b=R}for(var U=[],H=0;H<y.length;){var V=y[H];if(V.wrapperTemplate){var W=[];do{W.push(y[H].block),H++}while(H<y.length&&y[H].wrapperTemplate===V.wrapperTemplate);var G=s.cloneElement(V.wrapperTemplate,{key:V.key+"-wrap","data-offset-key":V.offsetKey},W);U.push(G)}else U.push(V.block),H++}return s.createElement("div",{"data-contents":"true"},U)},DraftEditorContents}(s.Component);function getListItemClasses(e,t,n,r){return a({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":n,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":4===t,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})}e.exports=u},function(e,t,n){"use strict";var r=n(70);n(84);var i=n(514),o=n(0),s=n(80),a=n(13),c=n(521),l=function(e){function DraftEditorLeaf(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DraftEditorLeaf),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(DraftEditorLeaf,e),DraftEditorLeaf.prototype._setSelection=function _setSelection(){var e=this.props.selection;if(null!=e&&e.getHasFocus()){var t=this.props,n=t.block,r=t.start,i=t.text,o=n.getKey(),l=r+i.length;if(e.hasEdgeWithin(o,r,l)){var u=s.findDOMNode(this);u||a(!1);var h=u.firstChild;h||a(!1);var d=void 0;h.nodeType===Node.TEXT_NODE?d=h:"BR"===h.tagName?d=u:(d=h.firstChild)||a(!1),c(e,d,o,r,l)}}},DraftEditorLeaf.prototype.shouldComponentUpdate=function shouldComponentUpdate(e){var t=s.findDOMNode(this.refs.leaf);return t||a(!1),t.textContent!==e.text||e.styleSet!==this.props.styleSet||e.forceSelection},DraftEditorLeaf.prototype.componentDidUpdate=function componentDidUpdate(){this._setSelection()},DraftEditorLeaf.prototype.componentDidMount=function componentDidMount(){this._setSelection()},DraftEditorLeaf.prototype.render=function render(){var e=this.props.block,t=this.props.text;t.endsWith("\n")&&this.props.isLast&&(t+="\n");var n=this.props,s=n.customStyleMap,a=n.customStyleFn,c=n.offsetKey,l=n.styleSet,u=l.reduce(function(e,t){var n={},i=s[t];return void 0!==i&&e.textDecoration!==i.textDecoration&&(n.textDecoration=[e.textDecoration,i.textDecoration].join(" ").trim()),r(e,i,n)},{});if(a){var h=a(l,e);u=r(u,h)}return o.createElement("span",{"data-offset-key":c,ref:"leaf",style:u},o.createElement(i,null,t))},DraftEditorLeaf}(o.Component);e.exports=l},function(e,t,n){"use strict";var r=n(0),i=n(80),o=n(50),s=n(13),a=o.isBrowser("IE <= 11");var c=a?r.createElement("span",{key:"A","data-text":"true"},"\n"):r.createElement("br",{key:"A","data-text":"true"}),l=a?r.createElement("span",{key:"B","data-text":"true"},"\n"):r.createElement("br",{key:"B","data-text":"true"}),u=function(e){function DraftEditorTextNode(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DraftEditorTextNode);var n=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t));return n._forceFlag=!1,n}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(DraftEditorTextNode,e),DraftEditorTextNode.prototype.shouldComponentUpdate=function shouldComponentUpdate(e){var t=i.findDOMNode(this),n=""===e.children;return t instanceof Element||s(!1),n?!function isNewline(e){return a?"\n"===e.textContent:"BR"===e.tagName}(t):t.textContent!==e.children},DraftEditorTextNode.prototype.componentWillUpdate=function componentWillUpdate(){this._forceFlag=!this._forceFlag},DraftEditorTextNode.prototype.render=function render(){return""===this.props.children?this._forceFlag?c:l:r.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true"},this.props.children)},DraftEditorTextNode}(r.Component);e.exports=u},function(e,t,n){"use strict";var r=n(516),i="Unknown",o={"Mac OS":"Mac OS X"};var s=(new r).getResult(),a=function getBrowserVersion(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}(s.browser.version),c={browserArchitecture:s.cpu.architecture||i,browserFullVersion:s.browser.version||i,browserMinorVersion:a.minor||i,browserName:s.browser.name||i,browserVersion:s.browser.major||i,deviceName:s.device.model||i,engineName:s.engine.name||i,engineVersion:s.engine.version||i,platformArchitecture:s.cpu.architecture||i,platformName:function convertPlatformName(e){return o[e]||e}(s.os.name)||i,platformVersion:s.os.version||i,platformFullVersion:s.os.version||i};e.exports=c},function(e,t,n){var r;!function(i,o){"use strict";var s="model",a="name",c="type",l="vendor",u="version",h="mobile",d="tablet",p={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},f={rgx:function(e,t){for(var n,r,i,o,s,a,c=0;c<t.length&&!s;){var l=t[c],u=t[c+1];for(n=r=0;n<l.length&&!s;)if(s=l[n++].exec(e))for(i=0;i<u.length;i++)a=s[++r],"object"==typeof(o=u[i])&&o.length>0?2==o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,a):this[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=a?a.replace(o[1],o[2]):void 0:this[o[0]]=a?o[1].call(this,a,o[2]):void 0:4==o.length&&(this[o[0]]=a?o[3].call(this,a.replace(o[1],o[2])):void 0):this[o]=a||void 0;c+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(p.has(t[n][r],e))return"?"===n?void 0:n}else if(p.has(t[n],e))return"?"===n?void 0:n;return e}},g={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},m={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,u],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],u],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[a,u],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],u],[/(edge|edgios|edgea)\/((\d+)?[\w\.]+)/i],[[a,"Edge"],u],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],u],[/(puffin)\/([\w\.]+)/i],[[a,"Puffin"],u],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],u],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],u],[/(qqbrowserlite)\/([\w\.]+)/i],[a,u],[/(QQ)\/([\d\.]+)/i],[a,u],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[a,u],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[a,u],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[a,u],[/(MetaSr)[\/\s]?([\w\.]+)/i],[a],[/(LBBROWSER)/i],[a],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[u,[a,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[u,[a,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[u,[a,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],u],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[a,/(.+(?:g|us))(.+)/,"$1 $2"],u],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[u,[a,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[a,u],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],u],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],u],[/(coast)\/([\w\.]+)/i],[[a,"Opera Coast"],u],[/fxios\/([\w\.-]+)/i],[u,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[u,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[u,a],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[a,"GSA"],u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[u,f.str,g.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[a,u],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],u],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,u]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",p.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",p.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",p.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[s,l,[c,d]],[/applecoremedia\/[\w\.]+ \((ipad)/],[s,[l,"Apple"],[c,d]],[/(apple\s{0,1}tv)/i],[[s,"Apple TV"],[l,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[l,s,[c,d]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[s,[l,"Amazon"],[c,d]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[s,f.str,g.device.amazon.model],[l,"Amazon"],[c,h]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[s,l,[c,h]],[/\((ip[honed|\s\w*]+);/i],[s,[l,"Apple"],[c,h]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[l,s,[c,h]],[/\(bb10;\s(\w+)/i],[s,[l,"BlackBerry"],[c,h]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[s,[l,"Asus"],[c,d]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[l,"Sony"],[s,"Xperia Tablet"],[c,d]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[s,[l,"Sony"],[c,h]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[l,s,[c,"console"]],[/android.+;\s(shield)\sbuild/i],[s,[l,"Nvidia"],[c,"console"]],[/(playstation\s[34portablevi]+)/i],[s,[l,"Sony"],[c,"console"]],[/(sprint\s(\w+))/i],[[l,f.str,g.device.sprint.vendor],[s,f.str,g.device.sprint.model],[c,h]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[l,s,[c,d]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[l,[s,/_/g," "],[c,h]],[/(nexus\s9)/i],[s,[l,"HTC"],[c,d]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[s,[l,"Huawei"],[c,h]],[/(microsoft);\s(lumia[\s\w]+)/i],[l,s,[c,h]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[s,[l,"Microsoft"],[c,"console"]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[l,"Microsoft"],[c,h]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[s,[l,"Motorola"],[c,h]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[l,"Motorola"],[c,d]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,p.trim],[s,p.trim],[c,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[l,"Samsung"],[c,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[s,[l,"Sharp"],[c,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[l,"Samsung"],s,[c,d]],[/smart-tv.+(samsung)/i],[l,[c,"smarttv"],s],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[l,"Samsung"],s,[c,h]],[/sie-(\w*)/i],[s,[l,"Siemens"],[c,h]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[l,"Nokia"],s,[c,h]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[s,[l,"Acer"],[c,d]],[/android.+([vl]k\-?\d{3})\s+build/i],[s,[l,"LG"],[c,d]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[l,"LG"],s,[c,d]],[/(lg) netcast\.tv/i],[l,s,[c,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[s,[l,"LG"],[c,h]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[s,[l,"Lenovo"],[c,d]],[/linux;.+((jolla));/i],[l,s,[c,h]],[/((pebble))app\/[\d\.]+\s/i],[l,s,[c,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[l,s,[c,h]],[/crkey/i],[[s,"Chromecast"],[l,"Google"]],[/android.+;\s(glass)\s\d/i],[s,[l,"Google"],[c,"wearable"]],[/android.+;\s(pixel c)\s/i],[s,[l,"Google"],[c,d]],[/android.+;\s(pixel xl|pixel)\s/i],[s,[l,"Google"],[c,h]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[s,/_/g," "],[l,"Xiaomi"],[c,h]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[s,/_/g," "],[l,"Xiaomi"],[c,d]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[s,[l,"Meizu"],[c,d]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[s,[l,"OnePlus"],[c,h]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[s,[l,"RCA"],[c,d]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[s,[l,"Dell"],[c,d]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[s,[l,"Verizon"],[c,d]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[l,"Barnes & Noble"],s,[c,d]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[s,[l,"NuVision"],[c,d]],[/android.+;\s(k88)\sbuild/i],[s,[l,"ZTE"],[c,d]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[s,[l,"Swiss"],[c,h]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[s,[l,"Swiss"],[c,d]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[s,[l,"Zeki"],[c,d]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[l,"Dragon Touch"],s,[c,d]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[s,[l,"Insignia"],[c,d]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[s,[l,"NextBook"],[c,d]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[l,"Voice"],s,[c,h]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[l,"LvTel"],s,[c,h]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[s,[l,"Envizen"],[c,d]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[l,s,[c,d]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[s,[l,"MachSpeed"],[c,d]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[l,s,[c,d]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[s,[l,"Rotor"],[c,d]],[/android.+(KS(.+))\s+build/i],[s,[l,"Amazon"],[c,d]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[l,s,[c,d]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,p.lowerize],l,s],[/(android[\w\.\s\-]{0,9});.+build/i],[s,[l,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[u,[a,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,u],[/rv\:([\w\.]{1,9}).+(gecko)/i],[u,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[u,f.str,g.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[u,f.str,g.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[a,u],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[a,"Symbian"],u],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],u],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[a,u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],u],[/(sunos)\s?([\w\.\d]*)/i],[[a,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[a,u],[/(haiku)\s(\w+)/i],[a,u],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[u,/_/g,"."],[a,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]*)/i],[a,u]]},v=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof v))return new v(e,t).getResult();var n=e||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?p.extend(m,t):m;return this.getBrowser=function(){var e={name:void 0,version:void 0};return f.rgx.call(e,n,r.browser),e.major=p.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return f.rgx.call(e,n,r.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return f.rgx.call(e,n,r.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return f.rgx.call(e,n,r.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return f.rgx.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};v.VERSION="0.7.18",v.BROWSER={NAME:a,MAJOR:"major",VERSION:u},v.CPU={ARCHITECTURE:"architecture"},v.DEVICE={MODEL:s,VENDOR:l,TYPE:c,CONSOLE:"console",MOBILE:h,SMARTTV:"smarttv",TABLET:d,WEARABLE:"wearable",EMBEDDED:"embedded"},v.ENGINE={NAME:a,VERSION:u},v.OS={NAME:a,VERSION:u},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=v),t.UAParser=v):n(517)?void 0===(r=function(){return v}.call(t,n,t,e))||(e.exports=r):i&&(i.UAParser=v);var y=i&&(i.jQuery||i.Zepto);if(void 0!==y){var S=new v;y.ua=S.getResult(),y.ua.get=function(){return S.getUA()},y.ua.set=function(e){S.setUA(e);var t=S.getResult();for(var n in t)y.ua[n]=t[n]}}}("object"==typeof window?window:this)},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";var r=n(13),i=/\./,o=/\|\|/,s=/\s+\-\s+/,a=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,c=/^(\d*)(.*)/;function checkOrExpression(e,t){var n=e.split(o);return n.length>1?n.some(function(e){return l.contains(e,t)}):function checkRangeExpression(e,t){var n=e.split(s);if(n.length>0&&n.length<=2||r(!1),1===n.length)return checkSimpleExpression(n[0],t);var i=n[0],o=n[1];return isSimpleVersion(i)&&isSimpleVersion(o)||r(!1),checkSimpleExpression(">="+i,t)&&checkSimpleExpression("<="+o,t)}(e=n[0].trim(),t)}function checkSimpleExpression(e,t){if(""===(e=e.trim()))return!0;var n=t.split(i),r=getModifierAndComponents(e),o=r.modifier,s=r.rangeComponents;switch(o){case"<":return checkLessThan(n,s);case"<=":return function checkLessThanOrEqual(e,t){var n=compareComponents(e,t);return-1===n||0===n}(n,s);case">=":return checkGreaterThanOrEqual(n,s);case">":return function checkGreaterThan(e,t){return 1===compareComponents(e,t)}(n,s);case"~":case"~>":return function checkApproximateVersion(e,t){var n=t.slice(),r=t.slice();r.length>1&&r.pop();var i=r.length-1,o=parseInt(r[i],10);isNumber(o)&&(r[i]=o+1+"");return checkGreaterThanOrEqual(e,n)&&checkLessThan(e,r)}(n,s);default:return function checkEqual(e,t){return 0===compareComponents(e,t)}(n,s)}}function checkLessThan(e,t){return-1===compareComponents(e,t)}function checkGreaterThanOrEqual(e,t){var n=compareComponents(e,t);return 1===n||0===n}function getModifierAndComponents(e){var t=e.split(i),n=t[0].match(a);return n||r(!1),{modifier:n[1],rangeComponents:[n[2]].concat(t.slice(1))}}function isNumber(e){return!isNaN(e)&&isFinite(e)}function isSimpleVersion(e){return!getModifierAndComponents(e).modifier}function zeroPad(e,t){for(var n=e.length;n<t;n++)e[n]="0"}function compareNumeric(e,t){var n=e.match(c)[1],r=t.match(c)[1],i=parseInt(n,10),o=parseInt(r,10);return isNumber(i)&&isNumber(o)&&i!==o?compare(i,o):compare(e,t)}function compare(e,t){return typeof e!=typeof t&&r(!1),e>t?1:e<t?-1:0}function compareComponents(e,t){for(var n=function normalizeVersions(e,t){zeroPad(e=e.slice(),(t=t.slice()).length);for(var n=0;n<t.length;n++){var r=t[n].match(/^[x*]$/i);if(r&&(t[n]=e[n]="0","*"===r[0]&&n===t.length-1))for(var i=n;i<e.length;i++)e[i]="0"}return zeroPad(t,e.length),[e,t]}(e,t),r=n[0],i=n[1],o=0;o<i.length;o++){var s=compareNumeric(r[o],i[o]);if(s)return s}return 0}var l={contains:function contains(e,t){return checkOrExpression(e.trim(),t.trim())}};e.exports=l},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;e.exports=function mapObject(e,t,n){if(!e)return null;var i={};for(var o in e)r.call(e,o)&&(i[o]=t.call(n,e[o],o,e));return i}},function(e,t,n){"use strict";e.exports=function memoizeStringOnly(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},function(e,t,n){"use strict";(function(t){var r=n(522),i=n(212),o=n(313),s=n(13);function getAnonymizedDOM(e,t){if(!e)return"[empty]";var n=function anonymizeTextWithin(e,t){var n=void 0!==t?t(e):[];if(e.nodeType===Node.TEXT_NODE){var r=e.textContent.length;return document.createTextNode("[text "+r+(n.length?" | "+n.join(", "):"")+"]")}var i=e.cloneNode();1===i.nodeType&&n.length&&i.setAttribute("data-labels",n.join(", "));var o=e.childNodes;for(var s=0;s<o.length;s++)i.appendChild(anonymizeTextWithin(o[s],t));return i}(e,t);return n.nodeType===Node.TEXT_NODE?n.textContent:(n instanceof Element||s(!1),n.outerHTML)}function getAnonymizedEditorDOM(e,t){for(var n=e;n;){if(n instanceof Element&&n.hasAttribute("contenteditable"))return getAnonymizedDOM(n,t);n=n.parentNode}return"Could not find contentEditable parent of node"}function getNodeLength(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function addFocusToSelection(e,t,n,s){var a=o();if(e.extend&&i(a,t)){n>getNodeLength(t)&&r.logSelectionStateFailure({anonymizedDom:getAnonymizedEditorDOM(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(s.toJS())});var c=t===e.focusNode;try{e.extend(t,n)}catch(u){throw r.logSelectionStateFailure({anonymizedDom:getAnonymizedEditorDOM(t,function(t){var n=[];return t===a&&n.push("active element"),t===e.anchorNode&&n.push("selection anchor node"),t===e.focusNode&&n.push("selection focus node"),n}),extraParams:JSON.stringify({activeElementName:a?a.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:c,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:u?""+u:null,offset:n},null,2),selectionState:JSON.stringify(s.toJS(),null,2)}),u}}else{var l=e.getRangeAt(0);l.setEnd(t,n),e.addRange(l.cloneRange())}}function addPointToSelection(e,t,n,i){var o=document.createRange();n>getNodeLength(t)&&r.logSelectionStateFailure({anonymizedDom:getAnonymizedEditorDOM(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(i.toJS())}),o.setStart(t,n),e.addRange(o)}e.exports=function setDraftEditorSelection(e,n,r,o,s){if(i(document.documentElement,n)){var a=t.getSelection(),c=e.getAnchorKey(),l=e.getAnchorOffset(),u=e.getFocusKey(),h=e.getFocusOffset(),d=e.getIsBackward();if(!a.extend&&d){var p=c,f=l;c=u,l=h,u=p,h=f,d=!1}var g=c===r&&o<=l&&s>=l,m=u===r&&o<=h&&s>=h;if(g&&m)return a.removeAllRanges(),addPointToSelection(a,n,l-o,e),void addFocusToSelection(a,n,h-o,e);if(d){if(m&&(a.removeAllRanges(),addPointToSelection(a,n,h-o,e)),g){var v=a.focusNode,y=a.focusOffset;a.removeAllRanges(),addPointToSelection(a,n,l-o,e),addFocusToSelection(a,v,y,e)}}else g&&(a.removeAllRanges(),addPointToSelection(a,n,l-o,e)),m&&addFocusToSelection(a,n,h-o,e)}}}).call(this,n(8))},function(e,t,n){"use strict";e.exports={logSelectionStateFailure:function logSelectionStateFailure(){return null}}},function(e,t,n){"use strict";var r=n(524);e.exports=function isTextNode(e){return r(e)&&3==e.nodeType}},function(e,t,n){"use strict";e.exports=function isNode(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},function(e,t,n){"use strict";var r=n(526),i=n(527);function asString(e){return null==e?e:String(e)}e.exports=function getStyleProperty(e,t){var n=void 0;if(window.getComputedStyle&&(n=window.getComputedStyle(e,null)))return asString(n.getPropertyValue(i(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(e,null))return asString(n.getPropertyValue(i(t)));if("display"===t)return"none"}return e.currentStyle?asString("float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[r(t)]):asString(e.style&&e.style[r(t)])}},function(e,t,n){"use strict";var r=/-(.)/g;e.exports=function camelize(e){return e.replace(r,function(e,t){return t.toUpperCase()})}},function(e,t,n){"use strict";var r=/([A-Z])/g;e.exports=function hyphenate(e){return e.replace(r,"-$1").toLowerCase()}},function(e,t,n){"use strict";var r=n(529);e.exports=function getElementPosition(e){var t=r(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}},function(e,t,n){"use strict";var r=n(212);e.exports=function getElementRect(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e&&r(t,e)))return{left:0,right:0,top:0,bottom:0};var n=e.getBoundingClientRect();return{left:Math.round(n.left)-t.clientLeft,right:Math.round(n.right)-t.clientLeft,top:Math.round(n.top)-t.clientTop,bottom:Math.round(n.bottom)-t.clientTop}}},function(e,t,n){"use strict";var r="undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=function getDocumentScrollElement(e){return(e=e||document).scrollingElement?e.scrollingElement:r||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}},function(e,t,n){"use strict";e.exports=function getUnboundedScrollPosition(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},function(e,t,n){"use strict";function getViewportWidth(){var e=void 0;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function getViewportHeight(){var e=void 0;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function getViewportDimensions(){return{width:window.innerWidth||getViewportWidth(),height:window.innerHeight||getViewportHeight()}}getViewportDimensions.withoutScrollbars=function(){return{width:getViewportWidth(),height:getViewportHeight()}},e.exports=getViewportDimensions},function(e,t,n){"use strict";e.exports=function joinClasses(e){e||(e="");var t=void 0,n=arguments.length;if(n>1)for(var r=1;r<n;r++)(t=arguments[r])&&(e=(e?e+" ":"")+t);return e}},function(e,t,n){"use strict";var r=n(315),i=n(31),o=n(14),s=n(215),a=n(317),c=n(318),l=n(158),u=n(38);var h={onDragEnd:function onDragEnd(e){e.exitCurrentMode()},onDrop:function onDrop(e,t){var n=new r(t.nativeEvent.dataTransfer),h=e._latestEditorState,d=function getSelectionForEvent(e,t){var n=null,r=null;if("function"==typeof document.caretRangeFromPoint){var i=document.caretRangeFromPoint(e.x,e.y);n=i.startContainer,r=i.startOffset}else{if(!e.rangeParent)return null;n=e.rangeParent,r=e.rangeOffset}n=u(n),r=u(r);var o=u(s(n));return c(t,o,r,o,r)}(t.nativeEvent,h);if(t.preventDefault(),e.exitCurrentMode(),null!=d){var p=n.getFiles();if(p.length>0){if(e.props.handleDroppedFiles&&l(e.props.handleDroppedFiles(d,p)))return;a(p,function(t){t&&e.update(insertTextAtSelection(h,d,t))})}else{var f=e._internalDrag?"internal":"external";e.props.handleDrop&&l(e.props.handleDrop(d,n,f))||(e._internalDrag?e.update(function moveText(e,t){var n=i.moveText(e.getCurrentContent(),e.getSelection(),t);return o.push(e,n,"insert-fragment")}(h,d)):e.update(insertTextAtSelection(h,d,n.getText())))}}}};function insertTextAtSelection(e,t,n){var r=i.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return o.push(e,r,"insert-fragment")}e.exports=h},function(e,t,n){"use strict";var r={isImage:function isImage(e){return"image"===getParts(e)[0]},isJpeg:function isJpeg(e){var t=getParts(e);return r.isImage(e)&&("jpeg"===t[1]||"pjpeg"===t[1])}};function getParts(e){return e.split("/")}e.exports=r},function(e,t,n){"use strict";var r=n(13);e.exports=function createArrayFromMixed(e){return function hasArrayNature(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():function toArray(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&r(!1),"number"!=typeof t&&r(!1),0===t||t-1 in e||r(!1),"function"==typeof e.callee&&r(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(o){}for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}(e):[e]}},function(e,t,n){"use strict";var r={onBeforeInput:n(538),onBlur:n(540),onCompositionStart:n(541),onCopy:n(542),onCut:n(543),onDragOver:n(544),onDragStart:n(545),onFocus:n(546),onInput:n(547),onKeyDown:n(548),onPaste:n(562),onSelect:n(567)};e.exports=r},function(e,t,n){"use strict";(function(t){var r=n(307),i=n(31),o=n(14),s=n(50),a=n(211),c=n(158),l=n(311),u=n(38),h=n(539),d="'",p="/",f=s.isBrowser("Firefox");function replaceText(e,t,n,r){var s=i.replaceText(e.getCurrentContent(),e.getSelection(),t,n,r);return o.push(e,s,"insert-characters")}e.exports=function editOnBeforeInput(e,n){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var i=e._latestEditorState,s=n.data;if(s)if(e.props.handleBeforeInput&&c(e.props.handleBeforeInput(s,i)))n.preventDefault();else{var g=i.getSelection(),m=g.getStartOffset(),v=g.getEndOffset(),y=g.getAnchorKey();if(!g.isCollapsed())return n.preventDefault(),void(s===i.getCurrentContent().getPlainText().slice(m,v)?this.update(o.forceSelection(i,g.merge({focusOffset:v}))):e.update(replaceText(i,s,i.getCurrentInlineStyle(),a(i.getCurrentContent(),i.getSelection()))));var S=replaceText(i,s,i.getCurrentInlineStyle(),a(i.getCurrentContent(),i.getSelection())),b=!1;if(b||(b=l(e._latestCommittedEditorState)),!b){var _=t.getSelection();if(_.anchorNode&&_.anchorNode.nodeType===Node.TEXT_NODE){var C=_.anchorNode.parentNode;b="SPAN"===C.nodeName&&C.firstChild.nodeType===Node.TEXT_NODE&&-1!==C.firstChild.nodeValue.indexOf("\t")}}if(b||(b=r.getFingerprint(i.getBlockTree(y))!==r.getFingerprint(S.getBlockTree(y))),b||(b=function mustPreventDefaultForCharacter(e){return f&&(e==d||e==p)}(s)),b||(b=u(S.getDirectionMap()).get(y)!==u(i.getDirectionMap()).get(y)),b)return n.preventDefault(),void e.update(S);S=o.set(S,{nativelyRenderedContent:S.getCurrentContent()}),e._pendingStateFromBeforeInput=S,h(function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)})}}}).call(this,n(8))},function(e,t,n){"use strict";(function(t){n(319),e.exports=t.setImmediate}).call(this,n(8))},function(e,t,n){"use strict";(function(t){var r=n(14),i=n(212),o=n(313);e.exports=function editOnBlur(e,n){if(o()===document.body){var s=t.getSelection(),a=e.refs.editor;1===s.rangeCount&&i(a,s.anchorNode)&&i(a,s.focusNode)&&s.removeAllRanges()}var c=e._latestEditorState,l=c.getSelection();if(l.getHasFocus()){var u=l.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(n),e.update(r.acceptSelection(c,u))}}}).call(this,n(8))},function(e,t,n){"use strict";var r=n(14);e.exports=function editOnCompositionStart(e,t){e.setMode("composite"),e.update(r.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}},function(e,t,n){"use strict";var r=n(320);e.exports=function editOnCopy(e,t){e._latestEditorState.getSelection().isCollapsed()?t.preventDefault():e.setClipboard(r(e._latestEditorState))}},function(e,t,n){"use strict";var r=n(31),i=n(14),o=n(213),s=n(320),a=n(214);e.exports=function editOnCut(e,t){var n=e._latestEditorState;if(n.getSelection().isCollapsed())t.preventDefault();else{var c=o.getScrollParent(t.target),l=a(c),u=l.x,h=l.y,d=s(n);e.setClipboard(d),e.setMode("cut"),setTimeout(function(){e.restoreEditorDOM({x:u,y:h}),e.exitCurrentMode(),e.update(function removeFragment(e){var t=r.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return i.push(e,t,"remove-range")}(n))},0)}}},function(e,t,n){"use strict";e.exports=function editOnDragOver(e,t){e._internalDrag=!1,e.setMode("drag"),t.preventDefault()}},function(e,t,n){"use strict";e.exports=function editOnDragStart(e){e._internalDrag=!0,e.setMode("drag")}},function(e,t,n){"use strict";var r=n(14),i=n(50);e.exports=function editOnFocus(e,t){var n=e._latestEditorState,o=n.getSelection();if(!o.getHasFocus()){var s=o.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),i.isBrowser("Chrome < 60.0.3081.0")?e.update(r.forceSelection(n,s)):e.update(r.acceptSelection(n,s))}}},function(e,t,n){"use strict";(function(t){var r=n(304),i=n(31),o=n(157),s=n(14),a=n(50),c=n(215),l=n(38),u=a.isEngine("Gecko"),h="\n\n";e.exports=function editOnInput(e){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=t.getSelection(),a=n.anchorNode,d=n.isCollapsed,p=a.nodeType!==Node.TEXT_NODE,f=a.nodeType!==Node.TEXT_NODE&&a.nodeType!==Node.ELEMENT_NODE;if(r.draft_killswitch_allow_nontextnodes){if(p)return}else if(f)return;if(a.nodeType===Node.TEXT_NODE&&(null!==a.previousSibling||null!==a.nextSibling)){var g=a.parentNode;a.nodeValue=g.textContent;for(var m=g.firstChild;null!==m;m=m.nextSibling)m!==a&&g.removeChild(m)}var v=a.textContent,y=e._latestEditorState,S=l(c(a)),b=o.decode(S),_=b.blockKey,C=b.decoratorKey,w=b.leafKey,x=y.getBlockTree(_).getIn([C,"leaves",w]),P=x.start,T=x.end,k=y.getCurrentContent(),E=k.getBlockForKey(_),O=E.getText().slice(P,T);if(v.endsWith(h)&&(v=v.slice(0,-1)),v!==O){var M,F,D,I,R=y.getSelection(),N=R.merge({anchorOffset:P,focusOffset:T,isBackward:!1}),A=E.getEntityAt(P),B=A&&k.getEntity(A),L="MUTABLE"===(B&&B.getMutability()),j=L?"spellcheck-change":"apply-entity",z=i.replaceText(k,N,v,E.getInlineStyleAt(P),L?E.getEntityAt(P):null);if(u)M=n.anchorOffset,F=n.focusOffset,I=(D=P+Math.min(M,F))+Math.abs(M-F),M=D,F=I;else{var U=v.length-O.length;D=R.getStartOffset(),I=R.getEndOffset(),M=d?I+U:D,F=I+U}var H=z.merge({selectionBefore:k.getSelectionAfter(),selectionAfter:R.merge({anchorOffset:M,focusOffset:F})});e.update(s.push(y,H,j))}}}).call(this,n(8))},function(e,t,n){"use strict";var r=n(31),i=n(14),o=n(216),s=n(210),a=n(549),c=n(50),l=n(158),u=n(550),h=n(552),d=n(554),p=n(555),f=n(556),g=n(557),m=n(558),v=n(559),y=n(560),S=n(561),b=o.isOptionKeyCommand,_=c.isBrowser("Chrome");e.exports=function editOnKeyDown(e,t){var n=t.which,o=e._latestEditorState;switch(n){case s.RETURN:if(t.preventDefault(),e.props.handleReturn&&l(e.props.handleReturn(t,o)))return;break;case s.ESC:return t.preventDefault(),void(e.props.onEscape&&e.props.onEscape(t));case s.TAB:return void(e.props.onTab&&e.props.onTab(t));case s.UP:return void(e.props.onUpArrow&&e.props.onUpArrow(t));case s.RIGHT:return void(e.props.onRightArrow&&e.props.onRightArrow(t));case s.DOWN:return void(e.props.onDownArrow&&e.props.onDownArrow(t));case s.LEFT:return void(e.props.onLeftArrow&&e.props.onLeftArrow(t));case s.SPACE:if(_&&b(t)){t.preventDefault();var c=r.replaceText(o.getCurrentContent(),o.getSelection()," ");return void e.update(i.push(o,c,"insert-characters"))}}var C=e.props.keyBindingFn(t);if(C)if("undo"!==C){if(t.preventDefault(),!e.props.handleKeyCommand||!l(e.props.handleKeyCommand(C,o))){var w=function onKeyCommand(e,t){switch(e){case"redo":return i.redo(t);case"delete":return v(t);case"delete-word":return d(t);case"backspace":return m(t);case"backspace-word":return h(t);case"backspace-to-start-of-line":return u(t);case"split-block":return p(t);case"transpose-characters":return y(t);case"move-selection-to-start-of-block":return g(t);case"move-selection-to-end-of-block":return f(t);case"secondary-cut":return a.cut(t);case"secondary-paste":return a.paste(t);default:return t}}(C,o);w!==o&&e.update(w)}}else S(t,o,e.update)}},function(e,t,n){"use strict";var r=n(31),i=n(14),o=n(155),s=n(38),a=null,c={cut:function cut(e){var t=e.getCurrentContent(),n=e.getSelection(),c=null;if(n.isCollapsed()){var l=n.getAnchorKey(),u=t.getBlockForKey(l).getLength();if(u===n.getAnchorOffset())return e;c=n.set("focusOffset",u)}else c=n;c=s(c),a=o(t,c);var h=r.removeRange(t,c,"forward");return h===t?e:i.push(e,h,"remove-range")},paste:function paste(e){if(!a)return e;var t=r.replaceWithFragment(e.getCurrentContent(),e.getSelection(),a);return i.push(e,t,"insert-fragment")}};e.exports=c},function(e,t,n){"use strict";(function(t){var r=n(14),i=n(551),o=n(322),s=n(217),a=n(129);e.exports=function keyCommandBackspaceToStartOfLine(e){var n=a(e,function(e){var n=e.getSelection();if(n.isCollapsed()&&0===n.getAnchorOffset())return s(e,1);var r=t.getSelection().getRangeAt(0);return r=i(r),o(e,null,r.endContainer,r.endOffset,r.startContainer,r.startOffset).selectionState},"backward");return n===e.getCurrentContent()?e:r.push(e,n,"remove-range")}}).call(this,n(8))},function(e,t,n){"use strict";var r=n(85),i=n(321),o=n(13);function areRectsOnOneLine(e,t){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,s=0;s<e.length;s++){var a=e[s];0!==a.width&&1!==a.width&&(n=Math.min(n,a.top),r=Math.min(r,a.bottom),i=Math.max(i,a.top),o=Math.max(o,a.bottom))}return i<=r&&i-n<t&&o-r<t}function getNodeLength(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}e.exports=function expandRangeToStartOfLine(e){e.collapsed||o(!1);var t=(e=e.cloneRange()).startContainer;1!==t.nodeType&&(t=t.parentNode);var n=function getLineHeightPx(e){var t=getComputedStyle(e),n=document.createElement("div");n.style.fontFamily=t.fontFamily,n.style.fontSize=t.fontSize,n.style.fontStyle=t.fontStyle,n.style.fontWeight=t.fontWeight,n.style.lineHeight=t.lineHeight,n.style.position="absolute",n.textContent="M";var r=document.body;r||o(!1),r.appendChild(n);var i=n.getBoundingClientRect();return r.removeChild(n),i.height}(t),s=e.endContainer,a=e.endOffset;for(e.setStart(e.startContainer,0);areRectsOnOneLine(i(e),n)&&(s=e.startContainer,a=e.startOffset,s.parentNode||o(!1),e.setStartBefore(s),1!==s.nodeType||"inline"===getComputedStyle(s).display););for(var c=s,l=a-1;;){for(var u=c.nodeValue,h=l;h>=0;h--)if(!(null!=u&&h>0&&r.isSurrogatePair(u,h-1))){if(e.setStart(c,h),!areRectsOnOneLine(i(e),n))break;s=c,a=h}if(-1===h||0===c.childNodes.length)break;l=getNodeLength(c=c.childNodes[h])}return e.setStart(s,a),e}},function(e,t,n){"use strict";var r=n(323),i=n(14),o=n(217),s=n(129);e.exports=function keyCommandBackspaceWord(e){var t=s(e,function(e){var t=e.getSelection(),n=t.getStartOffset();if(0===n)return o(e,1);var i=t.getStartKey(),s=e.getCurrentContent().getBlockForKey(i).getText().slice(0,n),a=r.getBackward(s);return o(e,a.length||1)},"backward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}},function(e,t,n){"use strict";e.exports={getPunctuation:function getPunctuation(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;・、。〈-】〔-〟：-？！-／［-｀｛-･⸮؟٪-٬؛،؍﴾﴿᠁।၊။‐-‧‰-⁞¡-±´-¸º»¿]"}}},function(e,t,n){"use strict";var r=n(323),i=n(14),o=n(324),s=n(129);e.exports=function keyCommandDeleteWord(e){var t=s(e,function(e){var t=e.getSelection(),n=t.getStartOffset(),i=t.getStartKey(),s=e.getCurrentContent().getBlockForKey(i).getText().slice(n),a=r.getForward(s);return o(e,a.length||1)},"forward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}},function(e,t,n){"use strict";var r=n(31),i=n(14);e.exports=function keyCommandInsertNewline(e){var t=r.splitBlock(e.getCurrentContent(),e.getSelection());return i.push(e,t,"split-block")}},function(e,t,n){"use strict";var r=n(14);e.exports=function keyCommandMoveSelectionToEndOfBlock(e){var t=e.getSelection(),n=t.getEndKey(),i=e.getCurrentContent().getBlockForKey(n).getLength();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i,isBackward:!1}),forceSelection:!0})}},function(e,t,n){"use strict";var r=n(14);e.exports=function keyCommandMoveSelectionToStartOfBlock(e){var t=e.getSelection(),n=t.getStartKey();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}},function(e,t,n){"use strict";var r=n(14),i=n(85),o=n(217),s=n(129);e.exports=function keyCommandPlainBackspace(e){var t=s(e,function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),s=t.getAnchorOffset(),a=n.getBlockForKey(r).getText()[s-1];return o(e,a?i.getUTF16Length(a,0):1)},"backward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}},function(e,t,n){"use strict";var r=n(14),i=n(85),o=n(324),s=n(129);e.exports=function keyCommandPlainDelete(e){var t=s(e,function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),s=t.getAnchorOffset(),a=n.getBlockForKey(r).getText()[s];return o(e,a?i.getUTF16Length(a,0):1)},"forward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}},function(e,t,n){"use strict";var r=n(31),i=n(14),o=n(155);e.exports=function keyCommandTransposeCharacters(e){var t=e.getSelection();if(!t.isCollapsed())return e;var n=t.getAnchorOffset();if(0===n)return e;var s,a,c=t.getAnchorKey(),l=e.getCurrentContent(),u=l.getBlockForKey(c).getLength();if(u<=1)return e;n===u?(s=t.set("anchorOffset",n-1),a=t):a=(s=t.set("focusOffset",n+1)).set("anchorOffset",n+1);var h=o(l,s),d=r.removeRange(l,s,"backward"),p=d.getSelectionAfter(),f=p.getAnchorOffset()-1,g=p.merge({anchorOffset:f,focusOffset:f}),m=r.replaceWithFragment(d,g,h),v=i.push(e,m,"insert-fragment");return i.acceptSelection(v,a)}},function(e,t,n){"use strict";var r=n(14);e.exports=function keyCommandUndo(e,t,n){var i=r.undo(t);if("spellcheck-change"!==t.getLastChangeType())e.preventDefault(),t.getNativelyRenderedContent()?(n(r.set(t,{nativelyRenderedContent:null})),setTimeout(function(){n(i)},0)):n(i);else{var o=i.getCurrentContent();n(r.set(i,{nativelyRenderedContent:o}))}}},function(e,t,n){"use strict";var r=n(126),i=n(42),o=n(315),s=n(31),a=n(563),c=n(14),l=n(327),u=n(211),h=n(317),d=n(158),p=n(566);function insertFragment(e,t,n){var r=s.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return c.push(e,r.set("entityMap",n),"insert-fragment")}e.exports=function editOnPaste(e,t){t.preventDefault();var n=new o(t.clipboardData);if(!n.isRichText()){var f=n.getFiles(),g=n.getText();if(f.length>0){if(e.props.handlePastedFiles&&d(e.props.handlePastedFiles(f)))return;return void h(f,function(t){if(t=t||g){var n=e._latestEditorState,o=p(t),h=i.create({style:n.getCurrentInlineStyle(),entity:u(n.getCurrentContent(),n.getSelection())}),d=l.getCurrentBlockType(n),f=a.processText(o,h,d),m=r.createFromArray(f),v=s.replaceWithFragment(n.getCurrentContent(),n.getSelection(),m);e.update(c.push(n,v,"insert-fragment"))}})}}var m=[],v=n.getText(),y=n.getHTML(),S=e._latestEditorState;if(!e.props.handlePastedText||!d(e.props.handlePastedText(v,y,S))){if(v&&(m=p(v)),!e.props.stripPastedStyles){var b=e.getClipboard();if(n.isRichText()&&b){if(-1!==y.indexOf(e.getEditorKey())||1===m.length&&1===b.size&&b.first().getText()===v)return void e.update(insertFragment(e._latestEditorState,b))}else if(b&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&function areTextBlocksAndClipboardEqual(e,t){return e.length===t.size&&t.valueSeq().every(function(t,n){return t.getText()===e[n]})}(m,b))return void e.update(insertFragment(e._latestEditorState,b));if(y){var _=a.processHTML(y,e.props.blockRenderMap);if(_){var C=_.contentBlocks,w=_.entityMap;if(C){var x=r.createFromArray(C);return void e.update(insertFragment(e._latestEditorState,x,w))}}}e.setClipboard(null)}if(m.length){var P=i.create({style:S.getCurrentInlineStyle(),entity:u(S.getCurrentContent(),S.getSelection())}),T=l.getCurrentBlockType(S),k=a.processText(m,P,T),E=r.createFromArray(k);e.update(insertFragment(e._latestEditorState,E))}}}},function(e,t,n){"use strict";n(42);var r=n(84),i=n(3),o=n(325),s=n(49),a=n(326),c=n(207),l=i.List,u=i.Repeat,h={processHTML:function processHTML(e,t){return o(e,a,t)},processText:function processText(e,t,n){return e.map(function(e){return e=c(e),new r({key:s(),type:n,text:e,characterList:l(u(t,e.length))})})}};e.exports=h},function(e,t,n){"use strict";var r=function(){function URI(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,URI),this._uri=e}return URI.prototype.toString=function toString(){return this._uri},URI}();e.exports=r},function(e,t,n){"use strict";e.exports=function adjustBlockDepthForContentState(e,t,n,r){var i=t.getStartKey(),o=t.getEndKey(),s=e.getBlockMap(),a=s.toSeq().skipUntil(function(e,t){return t===i}).takeUntil(function(e,t){return t===o}).concat([[o,s.get(o)]]).map(function(e){var t=e.getDepth()+n;return t=Math.max(0,Math.min(t,r)),e.set("depth",t)});return s=s.merge(a),e.merge({blockMap:s,selectionBefore:t,selectionAfter:t})}},function(e,t,n){"use strict";var r=/\r\n?|\n/g;e.exports=function splitTextIntoTextBlocks(e){return e.split(r)}},function(e,t,n){"use strict";var r=n(14),i=n(80),o=n(568),s=n(13);e.exports=function editOnSelect(e){if(!e._blockSelectEvents&&e._latestEditorState===e.props.editorState){var t=e.props.editorState,n=i.findDOMNode(e.refs.editorContainer);n||s(!1),n.firstChild instanceof HTMLElement||s(!1);var a=o(t,n.firstChild),c=a.selectionState;c!==t.getSelection()&&(t=a.needsRecovery?r.forceSelection(t,c):r.acceptSelection(t,c),e.update(t))}}},function(e,t,n){"use strict";(function(t){var r=n(322);e.exports=function getDraftEditorSelection(e,n){var i=t.getSelection();return 0===i.rangeCount?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:r(e,n,i.anchorNode,i.anchorOffset,i.focusNode,i.focusOffset)}}).call(this,n(8))},function(e,t,n){"use strict";var r=n(0),i=n(128),o=function(e){function DraftEditorPlaceholder(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DraftEditorPlaceholder),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(DraftEditorPlaceholder,e),DraftEditorPlaceholder.prototype.shouldComponentUpdate=function shouldComponentUpdate(e){return this.props.text!==e.text||this.props.editorState.getSelection().getHasFocus()!==e.editorState.getSelection().getHasFocus()},DraftEditorPlaceholder.prototype.render=function render(){var e=this.props.editorState.getSelection().getHasFocus(),t=i({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":e});return r.createElement("div",{className:t},r.createElement("div",{className:i("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID},this.props.text))},DraftEditorPlaceholder}(r.Component);e.exports=o},function(e,t,n){"use strict";var r=n(329),i=n(571),o=n(572);e.exports=function convertFromDraftStateToRaw(e){var t=0,n={},s=[];e.getBlockMap().forEach(function(e,a){e.findEntityRanges(function(e){return null!==e.getEntity()},function(i){var o=r.stringify(e.getEntityAt(i));n.hasOwnProperty(o)||(n[o]=""+t++)}),s.push({key:a,text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:o(e),entityRanges:i(e,n),data:e.getData().toObject()})});var a=Object.keys(n),c={};return a.forEach(function(t,n){var i=e.getEntity(r.unstringify(t));c[n]={type:i.getType(),mutability:i.getMutability(),data:i.getData()}}),{entityMap:c,blocks:s}}},function(e,t,n){"use strict";var r=n(329),i=n(85).strlen;e.exports=function encodeEntityRanges(e,t){var n=[];return e.findEntityRanges(function(e){return!!e.getEntity()},function(o,s){var a=e.getText(),c=e.getEntityAt(o);n.push({offset:i(a.slice(0,o)),length:i(a.slice(o,s)),key:Number(t[r.stringify(c)])})}),n}},function(e,t,n){"use strict";var r=n(85),i=n(154),o=function areEqual(e,t){return e===t},s=function isTruthy(e){return!!e},a=[];e.exports=function encodeInlineStyleRanges(e){var t=e.getCharacterList().map(function(e){return e.getStyle()}).toList(),n=t.flatten().toSet().map(function(n){return function getEncodedInlinesForType(e,t,n){var a=[],c=t.map(function(e){return e.has(n)}).toList();return i(c,o,s,function(t,i){var o=e.getText();a.push({offset:r.strlen(o.slice(0,t)),length:r.strlen(o.slice(t,i)),style:n})}),a}(e,t,n)});return Array.prototype.concat.apply(a,n.toJS())}},function(e,t,n){"use strict";var r=n(70)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(84),o=n(206),s=n(156),a=n(3),c=n(574),l=n(575),u=n(576),h=n(49),d=a.Map;e.exports=function convertFromRawToDraftState(e){var t=e.blocks,n=e.entityMap,a={};Object.keys(n).forEach(function(e){var t=n[e],r=t.type,i=t.mutability,o=t.data,c=s.__create(r,i,o||{});a[e]=c});var p=t.map(function(e){var t=e.key,n=e.type,o=e.text,s=e.depth,p=e.inlineStyleRanges,f=e.entityRanges,g=e.data;t=t||h(),n=n||"unstyled",s=s||0,p=p||[],f=f||[],g=d(g);var m=u(o,p),v=f.filter(function(e){return a.hasOwnProperty(e.key)}).map(function(e){return r({},e,{key:a[e.key]})}),y=l(o,v),S=c(m,y);return new i({key:t,type:n,text:o,depth:s,characterList:S,data:g})});return o.createFromBlockArray(p)}},function(e,t,n){"use strict";var r=n(42),i=n(3).List;e.exports=function createCharacterList(e,t){var n=e.map(function(e,n){var i=t[n];return r.create({style:e,entity:i})});return i(n)}},function(e,t,n){"use strict";var r=n(85).substr;e.exports=function decodeEntityRanges(e,t){var n=Array(e.length).fill(null);return t&&t.forEach(function(t){for(var i=r(e,0,t.offset).length,o=i+r(e,t.offset,t.length).length,s=i;s<o;s++)n[s]=t.key}),n}},function(e,t,n){"use strict";var r=n(3).OrderedSet,i=n(85).substr,o=r();e.exports=function decodeInlineStyleRanges(e,t){var n=Array(e.length).fill(o);return t&&t.forEach(function(t){for(var r=i(e,0,t.offset).length,o=r+i(e,t.offset,t.length).length;r<o;)n[r]=n[r].add(t.style),r++}),n}},function(e,t,n){"use strict";var r=n(578);e.exports=function getVisibleSelectionRect(e){var t=e.getSelection();if(!t.rangeCount)return null;var n=t.getRangeAt(0),i=r(n),o=i.top,s=i.right,a=i.bottom,c=i.left;return 0===o&&0===s&&0===a&&0===c?null:i}},function(e,t,n){"use strict";var r=n(321);e.exports=function getRangeBoundingClientRect(e){var t=r(e),n=0,i=0,o=0,s=0;if(t.length){if(t.length>1&&0===t[0].width){var a=t[1];n=a.top,i=a.right,o=a.bottom,s=a.left}else{var c=t[0];n=c.top,i=c.right,o=c.bottom,s=c.left}for(var l=1;l<t.length;l++){var u=t[l];0!==u.height&&0!==u.width&&(n=Math.min(n,u.top),i=Math.max(i,u.right),o=Math.max(o,u.bottom),s=Math.min(s,u.left))}}return{top:n,right:i,bottom:o,left:s,width:i-s,height:o-n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99),i=n(580);t.googleFontSelectorPrefix="GF;";t.GoogleFontSource=class GoogleFontSource{constructor(){this.name=r.TypefaceSourceNames.Google,this.typefaces=[],this.byFamily=new Map}parseSelector(e){if(!e.startsWith(t.googleFontSelectorPrefix))return null;const n=e.split("-");return 2!==n.length?null:{family:n[0].replace(t.googleFontSelectorPrefix,""),variant:n[1],source:this.name}}createTypeface(e){const t={family:e,fonts:[],source:this.name};return this.addTypeface(t),t}addTypeface(e){this.typefaces.push(e),this.byFamily.set(e.family,e)}loadWebFont(e,t,n){return i.loadWebFont(e,t,n)}importFonts(e){let t=[];return e.forEach(e=>{const n=e.variants.map(t=>({source:this.name,variant:t,family:e.family}));t=t.concat(n)}),t}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(t){o(t)}}function rejected(e){try{step(r.throw(e))}catch(t){o(t)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(581),o=n(99);t.loadWebFont=function loadWebFont(e,t,n){const c=t&&t.length?`${e}:${t.join(",")}`:e,l=s.get(c);if(l)return l;const u=function loadWebFontNoCache(e,t){return r(this,void 0,void 0,function*(){yield new Promise((n,r)=>{i.load({active:()=>{n()},inactive:()=>{r()},fontactive:(e,n)=>{if(!t)return;const r=function fvdToVariant(e){return a.fontWeight[e[1]]+a.fontStyle[e[0]]||"regular"}(n),i={family:e,variant:r,source:o.TypefaceSourceNames.Google};t(i)},google:{families:[e]}})})})}(c,n);return s.set(c,u),u};const s=new Map;const a={fontStyle:{n:"",i:"italic",o:"oblique"},fontWeight:{1:"100",2:"200",3:"300",4:"",5:"500",6:"600",7:"700",8:"800",9:"900"}}},function(e,n,r){var i;!function(){function aa(e,t,n){return e.call.apply(e.bind,arguments)}function ba(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function p(e,t,n){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aa:ba).apply(null,arguments)}var o=Date.now||function(){return+new Date};function ca(e,t){this.a=e,this.o=t||e,this.c=this.o.document}var s=!!window.FontFace;function t(e,t,n,r){if(t=e.c.createElement(t),n)for(var i in n)n.hasOwnProperty(i)&&("style"==i?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r&&t.appendChild(e.c.createTextNode(r)),t}function u(e,t,n){(e=e.c.getElementsByTagName(t)[0])||(e=document.documentElement),e.insertBefore(n,e.lastChild)}function v(e){e.parentNode&&e.parentNode.removeChild(e)}function w(e,t,n){t=t||[],n=n||[];for(var r=e.className.split(/\s+/),i=0;i<t.length;i+=1){for(var o=!1,s=0;s<r.length;s+=1)if(t[i]===r[s]){o=!0;break}o||r.push(t[i])}for(t=[],i=0;i<r.length;i+=1){for(o=!1,s=0;s<n.length;s+=1)if(r[i]===n[s]){o=!0;break}o||t.push(r[i])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function y(e,t){for(var n=e.className.split(/\s+/),r=0,i=n.length;r<i;r++)if(n[r]==t)return!0;return!1}function z(e,n,r){function d(){c&&i&&o&&(c(a),c=null)}n=t(e,"link",{rel:"stylesheet",href:n,media:"all"});var i=!1,o=!0,a=null,c=r||null;s?(n.onload=function(){i=!0,d()},n.onerror=function(){i=!0,a=Error("Stylesheet failed to load"),d()}):setTimeout(function(){i=!0,d()},0),u(e,"head",n)}function A(e,n,r,i){var o=e.c.getElementsByTagName("head")[0];if(o){var s=t(e,"script",{src:n}),a=!1;return s.onload=s.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,r&&r(null),s.onload=s.onreadystatechange=null,"HEAD"==s.parentNode.tagName&&o.removeChild(s))},o.appendChild(s),setTimeout(function(){a||(a=!0,r&&r(Error("Script load timeout")))},i||5e3),s}return null}function B(){this.a=0,this.c=null}function C(e){return e.a++,function(){e.a--,D(e)}}function E(e,t){e.c=t,D(e)}function D(e){0==e.a&&e.c&&(e.c(),e.c=null)}function F(e){this.a=e||"-"}function G(e,t){this.c=e,this.f=4,this.a="n";var n=(t||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function I(e){var t=[];e=e.split(/,\s*/);for(var n=0;n<e.length;n++){var r=e[n].replace(/['"]/g,"");-1!=r.indexOf(" ")||/^\d/.test(r)?t.push("'"+r+"'"):t.push(r)}return t.join(",")}function J(e){return e.a+e.f}function H(e){var t="normal";return"o"===e.a?t="oblique":"i"===e.a&&(t="italic"),t}function ga(e){var t=4,n="n",r=null;return e&&((r=e.match(/(normal|oblique|italic)/i))&&r[1]&&(n=r[1].substr(0,1).toLowerCase()),(r=e.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?t=7:/[1-9]00/.test(r[1])&&(t=parseInt(r[1].substr(0,1),10)))),n+t}function ha(e,t){this.c=e,this.f=e.o.document.documentElement,this.h=t,this.a=new F("-"),this.j=!1!==t.events,this.g=!1!==t.classes}function L(e){if(e.g){var t=y(e.f,e.a.c("wf","active")),n=[],r=[e.a.c("wf","loading")];t||n.push(e.a.c("wf","inactive")),w(e.f,n,r)}K(e,"inactive")}function K(e,t,n){e.j&&e.h[t]&&(n?e.h[t](n.c,J(n)):e.h[t]())}function ja(){this.c={}}function M(e,n){this.c=e,this.f=n,this.a=t(this.c,"span",{"aria-hidden":"true"},this.f)}function N(e){u(e.c,"body",e.a)}function O(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+I(e.c)+";font-style:"+H(e)+";font-weight:"+e.f+"00;"}function P(e,t,n,r,i,o){this.g=e,this.j=t,this.a=r,this.c=n,this.f=i||3e3,this.h=o||void 0}function Q(e,t,n,r,i,o,s){this.v=e,this.B=t,this.c=n,this.a=r,this.s=s||"BESbswy",this.f={},this.w=i||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new M(this.c,this.s),this.h=new M(this.c,this.s),this.j=new M(this.c,this.s),this.m=new M(this.c,this.s),e=O(e=new G(this.a.c+",serif",J(this.a))),this.g.a.style.cssText=e,e=O(e=new G(this.a.c+",sans-serif",J(this.a))),this.h.a.style.cssText=e,e=O(e=new G("serif",J(this.a))),this.j.a.style.cssText=e,e=O(e=new G("sans-serif",J(this.a))),this.m.a.style.cssText=e,N(this.g),N(this.h),N(this.j),N(this.m)}F.prototype.c=function(e){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)},P.prototype.start=function(){var e=this.c.o.document,t=this,n=o(),r=new Promise(function(r,i){!function f(){o()-n>=t.f?i():e.fonts.load(function fa(e){return H(e)+" "+e.f+"00 300px "+I(e.c)}(t.a),t.h).then(function(e){1<=e.length?r():setTimeout(f,25)},function(){i()})}()}),i=null,s=new Promise(function(e,n){i=setTimeout(n,t.f)});Promise.race([s,r]).then(function(){i&&(clearTimeout(i),i=null),t.g(t.a)},function(){t.j(t.a)})};var a={D:"serif",C:"sans-serif"},c=null;function T(){if(null===c){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);c=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))}return c}function la(e,t,n){for(var r in a)if(a.hasOwnProperty(r)&&t===e.f[a[r]]&&n===e.f[a[r]])return!0;return!1}function U(e){var t,n=e.g.a.offsetWidth,r=e.h.a.offsetWidth;(t=n===e.f.serif&&r===e.f["sans-serif"])||(t=T()&&la(e,n,r)),t?o()-e.A>=e.w?T()&&la(e,n,r)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?V(e,e.v):V(e,e.B):function ma(e){setTimeout(p(function(){U(this)},e),50)}(e):V(e,e.v)}function V(e,t){setTimeout(p(function(){v(this.g.a),v(this.h.a),v(this.j.a),v(this.m.a),t(this.a)},e),0)}function W(e,t,n){this.c=e,this.a=t,this.f=0,this.m=this.j=!1,this.s=n}Q.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=o(),U(this)};var l=null;function na(e){0==--e.f&&e.j&&(e.m?((e=e.a).g&&w(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),K(e,"active")):L(e.a))}function oa(e){this.j=e,this.a=new ja,this.h=0,this.f=this.g=!0}function qa(e,t,n,r,i){var o=0==--e.h;(e.f||e.g)&&setTimeout(function(){var e=i||null,s=r||{};if(0===n.length&&o)L(t.a);else{t.f+=n.length,o&&(t.j=o);var a,c=[];for(a=0;a<n.length;a++){var u=n[a],h=s[u.c],d=t.a,f=u;if(d.g&&w(d.f,[d.a.c("wf",f.c,J(f).toString(),"loading")]),K(d,"fontloading",f),d=null,null===l)if(window.FontFace){f=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);l=f?42<parseInt(f[1],10):!g}else l=!1;d=l?new P(p(t.g,t),p(t.h,t),t.c,u,t.s,h):new Q(p(t.g,t),p(t.h,t),t.c,u,t.s,e,h),c.push(d)}for(a=0;a<c.length;a++)c[a].start()}},0)}function ra(e,t){this.c=e,this.a=t}function sa(e,t){this.c=e,this.a=t}function ta(e,t){this.c=e||h,this.a=[],this.f=[],this.g=t||""}W.prototype.g=function(e){var t=this.a;t.g&&w(t.f,[t.a.c("wf",e.c,J(e).toString(),"active")],[t.a.c("wf",e.c,J(e).toString(),"loading"),t.a.c("wf",e.c,J(e).toString(),"inactive")]),K(t,"fontactive",e),this.m=!0,na(this)},W.prototype.h=function(e){var t=this.a;if(t.g){var n=y(t.f,t.a.c("wf",e.c,J(e).toString(),"active")),r=[],i=[t.a.c("wf",e.c,J(e).toString(),"loading")];n||r.push(t.a.c("wf",e.c,J(e).toString(),"inactive")),w(t.f,r,i)}K(t,"fontinactive",e),na(this)},oa.prototype.load=function(e){this.c=new ca(this.j,e.context||this.j),this.g=!1!==e.events,this.f=!1!==e.classes,function pa(e,t,n){var r=[],i=n.timeout;!function ia(e){e.g&&w(e.f,[e.a.c("wf","loading")]),K(e,"loading")}(t);var r=function ka(e,t,n){var r,i=[];for(r in t)if(t.hasOwnProperty(r)){var o=e.c[r];o&&i.push(o(t[r],n))}return i}(e.a,n,e.c),o=new W(e.c,t,i);for(e.h=r.length,t=0,n=r.length;t<n;t++)r[t].load(function(t,n,r){qa(e,o,t,n,r)})}(this,new ha(this.c,e),e)},ra.prototype.load=function(e){var t=this,n=t.a.projectId,r=t.a.version;if(n){var i=t.c.o;A(this.c,(t.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(r?"?v="+r:""),function(r){r?e([]):(i["__MonotypeConfiguration__"+n]=function(){return t.a},function b(){if(i["__mti_fntLst"+n]){var t,r=i["__mti_fntLst"+n](),o=[];if(r)for(var s=0;s<r.length;s++){var a=r[s].fontfamily;null!=r[s].fontStyle&&null!=r[s].fontWeight?(t=r[s].fontStyle+r[s].fontWeight,o.push(new G(a,t))):o.push(new G(a))}e(o)}else setTimeout(function(){b()},50)}())}).id="__MonotypeAPIScript__"+n}else e([])},sa.prototype.load=function(e){var t,n,r=this.a.urls||[],i=this.a.families||[],o=this.a.testStrings||{},s=new B;for(t=0,n=r.length;t<n;t++)z(this.c,r[t],C(s));var a=[];for(t=0,n=i.length;t<n;t++)if((r=i[t].split(":"))[1])for(var c=r[1].split(","),l=0;l<c.length;l+=1)a.push(new G(r[0],c[l]));else a.push(new G(r[0]));E(s,function(){e(a,o)})};var h="https://fonts.googleapis.com/css";function ya(e){this.f=e,this.a=[],this.c={}}var g={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},m={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},S={i:"i",italic:"i",n:"n",normal:"n"},_=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Ea(e,t){this.c=e,this.a=t}var x={Arimo:!0,Cousine:!0,Tinos:!0};function Ga(e,t){this.c=e,this.a=t}function Ha(e,t){this.c=e,this.f=t,this.a=[]}Ea.prototype.load=function(e){var t=new B,n=this.c,r=new ta(this.a.api,this.a.text),i=this.a.families;!function va(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r].split(":");3==i.length&&e.f.push(i.pop());var o="";2==i.length&&""!=i[1]&&(o=":"),e.a.push(i.join(o))}}(r,i);var o=new ya(i);!function Da(e){for(var t=e.f.length,n=0;n<t;n++){var r=e.f[n].split(":"),i=r[0].replace(/\+/g," "),o=["n4"];if(2<=r.length){var s;if(s=[],a=r[1])for(var a,c=(a=a.split(",")).length,l=0;l<c;l++){var u;if((u=a[l]).match(/^[\w-]+$/))if(null==(d=_.exec(u.toLowerCase())))u="";else{if(u=null==(u=d[2])||""==u?"n":S[u],null==(d=d[1])||""==d)d="4";else var h=m[d],d=h||(isNaN(d)?"4":d.substr(0,1));u=[u,d].join("")}else u="";u&&s.push(u)}0<s.length&&(o=s),3==r.length&&(s=[],0<(r=(r=r[2])?r.split(","):s).length&&(r=g[r[0]])&&(e.c[i]=r))}for(e.c[i]||(r=g[i])&&(e.c[i]=r),r=0;r<o.length;r+=1)e.a.push(new G(i,o[r]))}}(o),z(n,function wa(e){if(0==e.a.length)throw Error("No fonts to load!");if(-1!=e.c.indexOf("kit="))return e.c;for(var t=e.a.length,n=[],r=0;r<t;r++)n.push(e.a[r].replace(/ /g,"+"));return t=e.c+"?family="+n.join("%7C"),0<e.f.length&&(t+="&subset="+e.f.join(",")),0<e.g.length&&(t+="&text="+encodeURIComponent(e.g)),t}(r),C(t)),E(t,function(){e(o.a,o.c,x)})},Ga.prototype.load=function(e){var t=this.a.id,n=this.c.o;t?A(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",function(t){if(t)e([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){t=n.Typekit.config.fn;for(var r=[],i=0;i<t.length;i+=2)for(var o=t[i],s=t[i+1],a=0;a<s.length;a++)r.push(new G(o,s[a]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(c){}e(r)}},2e3):e([])},Ha.prototype.load=function(e){var t=this.f.id,n=this.c.o,r=this;t?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[t]=function(t,n){for(var i=0,o=n.fonts.length;i<o;++i){var s=n.fonts[i];r.a.push(new G(s.name,ga("font-weight:"+s.weight+";font-style:"+s.style)))}e(r.a)},A(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function ea(e){return e.o.location.hostname||e.a.location.hostname}(this.c)+"/"+t+".js",function(t){t&&e([])})):e([])};var k=new oa(window);k.a.c.custom=function(e,t){return new sa(t,e)},k.a.c.fontdeck=function(e,t){return new Ha(t,e)},k.a.c.monotype=function(e,t){return new ra(t,e)},k.a.c.typekit=function(e,t){return new Ga(t,e)},k.a.c.google=function(e,t){return new Ea(t,e)};var R={load:p(k.load,k)};void 0===(i=function(){return R}.call(n,r,n,e))||(e.exports=i)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(99),i=n(330);t.LocalFontSource=class LocalFontSource{constructor(){this.name=r.TypefaceSourceNames.Local,this.typefaces=[],this.byFamily=new Map,this.typefaceAliasBySelector=new Map}createTypeface(e){const t={family:e,fonts:[],source:this.name};return this.addTypeface(t),t}addTypeface(e){this.typefaces.push(e),this.byFamily.set(e.family,e)}importFonts(){let e=[];for(const t of i.typefaces.keys()){const n=i.typefaces.get(t);if(!n)continue;const r=this.createTypeface(t);for(const e of n.keys()){const t=n.get(e);if(!t)continue;const{selector:i,weight:o}=t,s={variant:e,selector:i,weight:o,typeface:r,status:"loaded"};r.fonts.push(s)}e=e.concat(r.fonts)}for(const[t,n]of Object.entries(i.typefaceAliases))this.typefaceAliasBySelector.set(n,t);return e}getTypefaceAliasBySelector(e){return this.typefaceAliasBySelector.get(e)||null}getTypefaceSelectorByAlias(e){return i.typefaceAliases[e]||null}isTypefaceAlias(e){return!(!e||!e.match(/^__.*__$/))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(219),o=n(48),s=n(336),a=n(283),c=n(116),l=n(584),u=n(303),h=n(337),d=n(280),p=n(37),f=n(585),g=n(16),m=n(16),v=n(118),y=n(81),S=n(149),b=n(271);n(15);class Vector extends o.Layer{render(){const{opacity:e,calculatedPath:t,insideStroke:n,shapeId:o,strokeEnabled:s,strokeClipId:_,strokeWidth:C,idAttribute:w,rect:x,shadows:P,strokeAlpha:T,name:k,includeTransform:E,isRootVectorNode:O,rotation:M,id:F,lineCap:D,lineJoin:I,strokeColor:R,strokeMiterLimit:N,strokeDashArray:A,strokeDashOffset:B,fill:L}=this.props;if(!F||!o||!_)return null;const{zoom:j,target:z}=m.RenderEnvironment,U=h.transformValues(x,M,O,E);let H,V,W,G,q=0;if("string"==typeof L||p.Color.isColorObject(L)){const e=p.Color.isColorObject(L)?L.initialValue||p.Color.toRgbString(L):L;"transparent"!==e&&(H=e,q=p.ConvertColor.getAlpha(H))}else v.LinearGradient.isLinearGradient(L)?(H=`url(#${(W=S.elementPropertiesForLinearGradient(L,F)).id})`,q=1):v.RadialGradient.isRadialGradient(L)?(H=`url(#${(G=S.elementPropertiesForRadialGradient(L,F)).id})`,q=1):y.BackgroundImage.isImageObject(L)&&(V=d.imagePatternPropsForFill(L,U,F))&&(H=`url(#${V.id})`,q=1);let K;H===f.svgElementAttributeDefaults.fill&&(H=void 0),void 0===H&&(H="transparent"),void 0!==H&&"transparent"!==H&&0!==q||s||(q=1);let $,X,Y=null,J=null,Z=null;const Q=z===g.RenderTarget.export;0===U.rotation&&Q?$=U:($={x:0,y:0},X=i.transformString(U));const ee={d:a.toSVGPath(t,$,z),transform:X},te={};s&&0!==C&&(te.strokeWidth=C,te.stroke=R,te.strokeLinecap=D,te.strokeLinejoin=I,"miter"===I&&(te.strokeMiterlimit=N),te.strokeDasharray=A,0!==B&&(te.strokeDashoffset=B));for(const r in f.svgElementAttributeDefaults)te[r]===f.svgElementAttributeDefaults[r]&&(te[r]=void 0);const ne=b.InternalID.forKey(o),re=b.InternalID.forKey(_),ie=c.shadowForShape(P,x,ne,q,T,C,re,te,j,z),oe=z===g.RenderTarget.preview&&k||void 0;null!==ie.insetElement||null!==ie.outsetElement||n?(ee.id=ne.id,J=r.createElement("path",Object.assign({},Object.assign({},ee))),(ie.needsStrokeClip||n)&&(Y=r.createElement("clipPath",{id:re.id},r.createElement("use",{xlinkHref:ne.link}))),null!==ie.insetElement&&s&&C&&C>0?(K=r.createElement("use",{xlinkHref:ne.link,fill:H,strokeOpacity:"0",name:oe}),Z=r.createElement("use",Object.assign({xlinkHref:ne.link,clipPath:re.urlLink,fill:"transparent"},te,{strokeWidth:C}))):K=r.createElement("use",Object.assign({xlinkHref:ne.link,fill:H,clipPath:re.urlLink},te,{strokeWidth:C,name:oe}))):(ee.id=w,K=r.createElement("path",Object.assign({},Object.assign({},ee,{fill:H},te),{name:oe})));const se=V?r.createElement(u.ImagePatternElement,Object.assign({},V)):void 0;let ae;W?ae=r.createElement(l.LinearGradientElement,Object.assign({},W)):G&&(ae=r.createElement(l.RadialGradientElement,Object.assign({},G)));let ce=null;return(J||Y||ie.definition&&ie.definition.length||ae||se)&&(ce=r.createElement("defs",null,J,Y,ie.definition,ae,se)),null===ce&&null===ie.outsetElement&&null===ie.insetElement&&null===Z?(K=r.createElement("path",Object.assign({},Object.assign({},ee,{fill:H,opacity:e},te),{name:oe})),this.renderElement(K)):this.renderElement(r.createElement("g",{opacity:e},ce,ie.outsetElement,K,ie.insetElement,Z))}renderElement(e){const{isRootVectorNode:t,width:n,height:i,frame:o,willChangeTransform:a}=this.props;return t?r.createElement(s.SVGRoot,Object.assign({},{frame:o,width:n,height:i,willChangeTransform:a}),e):e}}Vector.defaultVectorProps={isRootVectorNode:!1,name:null,includeTransform:void 0,defaultFillColor:void 0,defaultStrokeColor:void 0,defaultStrokeWidth:void 0,defaultStrokeAlignment:"center",width:100,height:100,rotation:0,frame:{x:0,y:0,width:100,height:100},opacity:void 0,calculatedPath:[],shapeId:void 0,insideStroke:!1,strokeEnabled:!0,strokeClipId:void 0,strokeWidth:void 0,idAttribute:void 0,shadows:[],strokeAlpha:1,rect:{x:0,y:0,width:0,height:0},lineCap:"butt",strokeColor:"#0AF",lineJoin:"miter",strokeMiterLimit:4,strokeDashArray:"0",strokeDashOffset:0,fill:"rgba(0,170,255,0.5)"},Vector.defaultProps=Object.assign({},o.Layer.defaultProps,Vector.defaultVectorProps),t.Vector=Vector},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.LinearGradientElement=class LinearGradientElement extends r.Component{render(){const{id:e,angle:t,stops:n}=this.props;return r.createElement("linearGradient",{id:e,gradientTransform:`rotate(${t}, 0.5, 0.5)`},n.map((e,t)=>r.createElement("stop",{key:t,offset:e.position,stopColor:e.color,stopOpacity:e.alpha})))}};t.RadialGradientElement=class RadialGradientElement extends r.Component{render(){const{centerAnchorX:e,centerAnchorY:t,id:n,widthFactor:i,heightFactor:o,stops:s}=this.props;return r.createElement("radialGradient",{id:n,cy:t,cx:e,r:i,gradientTransform:`translate(${e}, ${t}) scale(1 ${o/i}) translate(-${e}, -${t})`},s.map((e,t)=>r.createElement("stop",{key:t,offset:e.position,stopColor:e.color,stopOpacity:e.alpha})))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.svgElementAttributeDefaults={stroke:"none",strokeWidth:1,strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"0",strokeDashoffset:0,strokeOpacity:1,fill:"black",fillRule:"nonzero",fillOpacity:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(219),o=n(48),s=n(336),a=n(337),c=n(16),l=n(16);n(15);class VectorGroup extends o.Layer{render(){const{id:e,name:t,opacity:n,visible:o,targetName:s,defaultName:u,children:h,includeTransform:d,x:p,y:f,width:g,height:m,rotation:v,isRootVectorNode:y}=this.props;if(!o)return null;const{target:S}=l.RenderEnvironment,b={x:p,y:f,width:g,height:m},_=a.transformValues(b,v,y,d);let C=void 0;return S===c.RenderTarget.preview&&(C=s||(t||u)),this.renderElement(r.createElement("g",Object.assign({transform:i.transformString(_)},{id:e,name:C,opacity:n}),h))}renderElement(e){const{isRootVectorNode:t,width:n,height:i,frame:o,willChangeTransform:a}=this.props;return t?r.createElement(s.SVGRoot,Object.assign({},{frame:o,width:n,height:i,willChangeTransform:a}),e):e}}VectorGroup.defaultVectorGroupProps={name:void 0,opacity:void 0,visible:!0,x:0,y:0,rotation:0,width:100,height:100,targetName:void 0,defaultName:"",isRootVectorNode:!1,includeTransform:void 0,frame:{x:0,y:0,width:100,height:100}},VectorGroup.defaultProps=Object.assign({},o.Layer.defaultProps,VectorGroup.defaultVectorGroupProps),t.VectorGroup=VectorGroup},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(119),o=n(589),s=n(204),a=n(338),c=n(269);n(15);function addServerUrlToResourceProps(e){const t=e.__serverResources;if(t&&Array.isArray(t)){const n=e;e=Object.assign({},e);for(const r of t)if(Array.isArray(r)){const[t,i]=r;let o=e[t];if(!o)continue;n[t]===o&&(o=o.slice(),e[t]=o),o[i]=c.serverURL(o[i])}else if("string"==typeof r){const t=e[r];if(!t)continue;e[r]=c.serverURL(t)}}return e}function convertPresentationTree(e,t,n){const r=n&&n(e);if(r)return r;let i;return!function isCodeComponentContainerPresentation(e){return!!e.codeComponentIdentifier}(e)?e.children&&(i=e.children.map(e=>convertPresentationTree(e,t,n))):i=function convertCodeComponentContainer(e,t,n){const r=e.getComponentChildren?e.getComponentChildren():[],i=e.getComponentSlotChildren?e.getComponentSlotChildren():{};let o;const c=e.getCodeComponentProps?e.getCodeComponentProps():void 0;if(e.cache.codeComponentPresentation)o=e.cache.codeComponentPresentation,a.isShallowEqualArray(o.children,r)||(o.cache.reactElement=null,o.children=r),s.isEqual(o.props,c)||(o.cache.reactElement=null,o.cache.props=null,o.props=c);else{const{id:t,codeComponentIdentifier:n}=e;e.cache.codeComponentPresentation=o=new CodeComponentPresentation(t+n,n,c,r)}o.props.placeholders=e.cache.placeholders;const l=Object.keys(i);if(l.length){o.props=Object.assign({},o.props),o.props.__slotKeys=l;for(const e of l){const r=i[e].map(e=>convertPresentationTree(e,t,n));o.props[e]=r}}return[t(o,o.children.map(e=>convertPresentationTree(e,t,n)))]}(e,t,n),t(e,i)}t.addServerUrlToResourceProps=addServerUrlToResourceProps,t.renderPresentationTree=function renderPresentationTree(e,t){return convertPresentationTree(e,function reactConverter(e){return function(t,n){const s=t.cache;let a=s.props;a||(a=s.props=t.getProps());const c=s.canvasZoom,l=s.willChangeTransform;if((c||l)&&(a=Object.assign({},a,{canvasZoom:c,willChangeTransform:l})),a=addServerUrlToResourceProps(a),t instanceof CodeComponentPresentation){const e=i.componentLoader.componentForIdentifier(t.componentIdentifier);if(!e){const e=i.componentLoader.errorForIdentifier(t.componentIdentifier);return e?null:s.reactElement=r.createElement(o.ComponentContainerLoader,{key:"component-container-loader",error:e})}return i.isReactDefinition(e)?s.reactElement=r.createElement(e.class,a,n):null}{const i=e(t);return s.reactElement=r.createElement(i,a,n)}}}(t),e=>e.cache.reactElement)},t.convertPresentationTree=convertPresentationTree;class CodeComponentPresentation{constructor(e,t,n,r,i){this.id=e,this.componentIdentifier=t,this.props=n,this.children=r,this.codeOverrideIdentifier=i,this.cache={},this.getProps=()=>Object.assign({},this.props,{id:this.id,key:this.id}),this.rect=e=>({x:0,y:0,width:0,height:0})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(334);n(15);t.ComponentContainerLoader=e=>{let t,n,o=i.PlaceholderType.Loading;if(e.error){o=i.PlaceholderType.Error;const{error:r,file:s}=e.error;t=s,n=r instanceof Error?r.message:r}return r.createElement(i.ComponentPlaceholder,{type:o,title:t,message:n})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(69),o=n(1);function contains3Dprops(e){return!!e&&("rotateX"in e||"rotateY"in e||"z"in e)}t.NavigationContainer=class NavigationContainer extends r.Component{constructor(){super(...arguments),this.unmounted=!1,this.state={visible:!0,containerPerspective:0,previousProps:null,origins:{}},this.onTransitionEnd=()=>{if(this.unmounted)return;const e=!this.props.hideAfterTransition&&this.state.visible,t=function needsPerspective(e){if(!e)return!1;const{rotateX:t,rotateY:n,z:r}=e;return!(!o.isFiniteNumber(t)||t%180==0)||!(!o.isFiniteNumber(n)||n%180==0)||!(!o.isFiniteNumber(r)||0===r)}(this.props.transitionProps)?1200:0;e===this.state.visible&&t===this.state.containerPerspective||this.setState({visible:e,containerPerspective:t})}}componentWillUnmount(){this.unmounted=!0}static getDerivedStateFromProps(e,t){if(o.isEqual(e,t.previousProps))return null;const n=Object.assign({},t,{previousProps:e});e.visible&&!e.hideAfterTransition&&(n.visible=!0),e.visible||(n.visible=!1);const r=contains3Dprops(e.transitionProps)||contains3Dprops(e.initialProps);return n.containerPerspective=r?1200:0,n.origins=function getOriginProps(e,t,n){const r=Object.assign({},e);return t&&(o.isFiniteNumber(t.originX)&&(r.originX=t.originX),o.isFiniteNumber(t.originY)&&(r.originY=t.originY),o.isFiniteNumber(t.originZ)&&(r.originZ=t.originZ)),n&&(o.isFiniteNumber(n.originX)&&(r.originX=n.originX),o.isFiniteNumber(n.originY)&&(r.originY=n.originY),o.isFiniteNumber(n.originZ)&&(r.originZ=n.originZ)),r}(t.origins,e.initialProps,e.transitionProps),n}componentDidUpdate(){(this.props.instant||!1===this.props.animation.type)&&this.onTransitionEnd()}render(){const{backdropColor:e,onTapBackdrop:t,backfaceVisible:n,hideAfterTransition:o,animation:a,instant:c,initialProps:l,transitionProps:u,position:h={top:0,right:0,bottom:0,left:0}}=this.props,{visible:d,containerPerspective:p,origins:f}=this.state,g=c?{type:!1}:a,m=Object.assign({},h);return void 0!==m.left&&void 0!==m.right||(m.width="auto"),void 0!==m.top&&void 0!==m.bottom||(m.height="auto"),r.createElement(i.FrameWithMotion,{width:"100%",height:"100%",style:{position:"absolute",transformStyle:"flat",background:"transparent",overflow:"hidden",perspective:p,visibility:d?"visible":"hidden"}},r.createElement(i.FrameWithMotion,{width:"100%",height:"100%",transition:g,initial:{opacity:c&&d?1:0},animate:{opacity:o?0:1},background:e||"transparent",onTap:t}),r.createElement(i.FrameWithMotion,Object.assign({},m,{initial:Object.assign({},s,f,l),animate:Object.assign({},s,f,u),transition:{default:g,originX:{type:!1},originY:{type:!1},originZ:{type:!1}},background:"transparent",backfaceVisible:n,"data-framer-component-type":"NavigationContainer",onAnimationComplete:this.onTransitionEnd}),this.props.children,o&&r.createElement(i.FrameWithMotion,{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"transparent",style:{pointerEvents:"auto"}})))}};const s={x:0,y:0,z:0,rotate:0,rotateX:0,rotateY:0,rotateZ:0,scale:1,scaleX:1,scaleY:1,scaleZ:1,skew:0,skewX:0,skewY:0,originX:.5,originY:.5,originZ:0,opacity:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.navigatorMock=new class NavigatorMock{constructor(){this.warning=()=>{console.warn("The Navigator API is only available inside of Framer X. Get it at http://framer.com/download")},this.goBack=()=>this.warning(),this.instant=()=>this.warning(),this.fade=()=>this.warning(),this.push=()=>this.warning(),this.modal=()=>this.warning(),this.overlay=()=>this.warning(),this.flip=()=>this.warning(),this.customTransition=()=>this.warning()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Previous="@Previous"}(t.NavigateTo||(t.NavigateTo={})),function(e){e.push="push",e.instant="instant",e.fade="fade",e.modal="modal",e.overlay="overlay",e.flip="flip"}(t.NavigationTransitionType||(t.NavigationTransitionType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(159);t.useNavigation=function useNavigation(){return r.useContext(i.NavigationContext)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r="childInsertion";t.withChildInsertion=function withChildInsertion(e){return r in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r="childLayoutRects";t.providesChildLayout=function providesChildLayout(e){return r in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r="freeSpace";function providesFreeSpace(e){return e&&r in e&&"function"==typeof e[r]}t.providesFreeSpace=providesFreeSpace,t.toFreeSpace=function toFreeSpace(e,t,n,r,i){return providesFreeSpace(e)&&n?e.freeSpace(t,n,r,i):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r="autoSize";function hasAutoSize(e){return e&&r in e&&"function"==typeof e[r]}t.hasAutoSize=hasAutoSize,t.toAutoSize=function toAutoSize(e,t,n,r){return hasAutoSize(e)?e.autoSize(t,n,r):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r="_cssExport";t.withCSSExport=function withCSSExport(e){return r in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(151),i="paddingSize";function providesPaddingSize(e){return e&&i in e&&"function"==typeof e[i]}t.providesPaddingSize=providesPaddingSize,t.toPaddingSize=function toPaddingSize(e,t){return providesPaddingSize(e)?e.paddingSize(t):r.Size.zero}},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(1),s=n(340),a=n(15);class CanvasStore{constructor(){this.canvas={children:[]},this.listeners=[],this.ids=[]}static shared(e){if(e){const t=new CanvasStore;return t.setCanvas(e),t}return CanvasStore.__shared||(CanvasStore.__shared=new CanvasStore),CanvasStore.__shared}updateNode(e){const t=e.props.id;let n=this.canvas.children;n||(this.canvas.children=n=[]);let r=!1;for(let i=0;i<n.length;i++){if(n[i].props.id===t){r=!0,n[i]=e;break}}r||n.push(e),this.setCanvas(this.canvas)}setCanvas(e){e.children&&(this.canvas=e,this.listeners.forEach((t,n)=>{const r=this.ids[n],i=findNodeFor(e,r);t.setState({data:i})}))}registerListener(e,t){return this.listeners.push(e),this.ids.push(t),findNodeFor(this.canvas,t)}removeListener(e){const t=this.listeners.indexOf(e);t<0||(this.listeners.splice(t,1),this.ids.splice(t,1))}}CanvasStore.__shared=null,t.CanvasStore=CanvasStore;const c={Frame:o.Frame,Vector:o.Vector,VectorGroup:o.VectorGroup,SVG:o.SVG,Text:o.Text,ComponentContainer:o.ComponentContainer};function hasSelfInParentChain(e){const t=e.constructor;let n=e._reactInternalFiber;if(!n)return console.warn("_reactInternalFiber not found for:",e),!1;for(n=n.return;n;){const e=n.stateNode;if(e&&e.constructor===t)return!0;n=n.return}return!1}t.hasSelfInParentChain=hasSelfInParentChain;class DesignComponent extends i.Component{constructor(){super(...arguments),this.checkedParent=!1,this.parentError=!1}hasParentError(){return this.checkedParent||(this.checkedParent=!0,this.parentError=hasSelfInParentChain(this)),this.parentError}_typeForName(e){const t=c[e];if(t)return t;const n=o.componentLoader.componentForIdentifier(e);return n&&o.isReactDefinition(n)?n.class:o.Frame}_renderData(e,t,n){a.safeWindow.__checkBudget__();const{componentClass:o,name:s}=e;let{props:c,children:l}=e;c=Object.assign({},c,{_constraints:{enabled:!1}});const u=this._typeForName(o);if(!u)return null;if(n){const{style:e}=c,t=r(c,["style"]);c=Object.assign({},t,n,{_initialStyle:e})}if(!c.size&&c._sizeOfMasterOnCanvas&&(c.width||(c.width=c._sizeOfMasterOnCanvas.width),c.height||(c.height=c._sizeOfMasterOnCanvas.height)),s&&t.hasOwnProperty(s))if("Text"===o){t[s]&&(c=Object.assign({},c,{text:t[s]}))}else{const e=c.background,n={src:t[s],fit:e.fit};c=Object.assign({},c,{background:n})}const h=l&&l.map((e,n)=>this._renderData(e,t,void 0));return l=l?h:[],i.createElement(u,c,l)}render(){if(a.safeWindow.__checkBudget__(),this.hasParentError())return i.createElement("div",{style:l},i.createElement("p",{style:u},"Design Component cannot be nested in itself."));return this.state.data?this._renderData(this.state.data,this.props,this.props):i.createElement("div",{style:l},i.createElement("p",{style:u},"Unable to connect to canvas data store."))}}function isNode(e,t){const{name:n,props:r}=t;return r&&r.id===e||n===e}function findNodeFor(e,t){if(!e)return null;if(isNode(t,e))return e;const{children:n}=e;if(!n||!s.isArray(n))return null;for(const r of n)if(isNode(t,r))return r;for(const r of n){const e=findNodeFor(r,t);if(e)return e}return null}t.createDesignComponent=function createDesignComponent(e,t,n,r=200,i=200){var s;return(s=class extends DesignComponent{constructor(n,r){super(n,r);const i=e.registerListener(this,t);this.state={data:i}}static rect(e){const t=o.ConstraintValues.fromProperties(e);return o.ConstraintValues.toRect(t,e.parentSize||null,null)}static minSize(e,t){const n=o.ConstraintValues.fromProperties(e);return o.ConstraintValues.toMinSize(n,t||null)}static size(e,t,n){const r=o.ConstraintValues.fromProperties(e);return o.ConstraintValues.toSize(r,t||null,null,n)}componentWillUnmount(){e.removeListener(this)}}).displayName=`DesignComponent(${t})`,s.propertyControls=n,s.supportsConstraints=!0,s.defaultProps={_sizeOfMasterOnCanvas:{width:r,height:i}},s};const l={display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",backgroundColor:"rgba(255, 0, 85, .1)",fontSize:"11px",lineHeight:"1.2em"},u={listStyle:"disc inside",margin:0,padding:0,paddingLeft:0,color:"rgba(255, 0, 85, .5)",textOverflow:"ellipsis",overflow:"hidden",textAlign:"left"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Palette={blue:"#0099FF",magenta:"#FF5AAA",red:"#EE4444",black:"#000",oil:"#222",metal:"#444",aluminum:"#666",ash:"#888",gray:"#AAA",platinum:"#BBB",silver:"#CCC",cloud:"#DDD",snow:"#EEE",white:"#FFF"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(603),o=n(441),s=n(904),a=n(168);let c=[];t.CanvasRenderer=class CanvasRenderer extends r.Component{constructor(){super(...arguments),this.state=new i.RemoteRenderer,this.canvasSurface=r.createRef()}componentDidMount(){this.state.initWithCanvasRenderer(this),this.componentDidUpdate()}componentDidUpdate(){const e=this.canvasSurface.current;if(!e)return;const t=e.style,{zoom:n,offsetX:r,offsetY:i}=this.state;let o=Math.max(1,n);o=Math.ceil(o),t.zoom=`${o}`,t.webkitTransform=(new WebKitCSSMatrix).scale(n/o).translate(-r,-i);const s=Math.min(Math.ceil(Math.pow(11,Math.pow(n,.1)))/(11*n),2);t.setProperty("--framerInternalCanvas-canvasPlaceholderContentScaleFactor",`${s}`)}render(){const e=r.createElement("div",{className:"canvasSurface",style:l,ref:this.canvasSurface},o.renderFramerElements(this.state)),t=a.getTokenCSSProperties(this.state.tree);return s.wrapInCustomProperties(e,t)}updateLayers(e){!function makeLayers(e,t){const n=new Set(e),r=[];for(const i of e){const e=t.get(i);if(!e)continue;if(n.has(e.parentid))continue;const o=document.getElementById("id_"+i);o&&(o.style.willChange="transform",r.push(o))}for(const i of c)i.style.willChange="none";c=r}(e,this.state.tree)}};const l={position:"absolute",top:0,left:0,width:0,height:0,WebkitFontSmoothing:"antialiased"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(55),i=n(100),o=n(33),s=n(55),a=n(361),c=n(6),l=n(900),u=n(901),h=n(441),d=n(226);t.log=i.getLogger("renderer");t.RemoteRenderer=class RemoteRenderer{constructor(){this.counter=0,this.tree=new c.default,this.selection=[],this.zoom=0,this.offsetX=0,this.offsetY=0,this.isInteractive=!1,this.inMoveTool=!1,this.imageBaseURL="",this.canvasRenderer=null,this.nodeWithPlaceholder=null,this.remoteMessageEventHandler=e=>{const t=e.data;u.isRendererUpdate(t)&&this.update(t)},this.remoteUpdateHandler=e=>{this.update(e)}}initWithCanvasRenderer(e){this.canvasRenderer=e;try{const e=window.parent.initRenderHost;if(e)return setTimeout(()=>{e(this.remoteUpdateHandler)}),void t.log.info("[renderer] using js-to-js calls")}catch(n){t.log.info("[renderer] failed to use js-to-js calls")}window.addEventListener("message",this.remoteMessageEventHandler),window.parent.postMessage({type:"RendererInit"},"*"),t.log.info("[renderer] using postMessage")}clearNodeWithPlaceholder(){if(!this.nodeWithPlaceholder)return;const e=this.tree.get(this.nodeWithPlaceholder.id);this.nodeWithPlaceholder.cache.placeholders=null,this.nodeWithPlaceholder=null,e&&e.set({})}decode(e){return"string"!=typeof e?e:JSON.parse(e)}update(e){this.counter+=1;let t=!1;if(e.imageBaseURL&&(t=!0,this.imageBaseURL=e.imageBaseURL),e.tree){t=!0;const n=c.default.fromJS(this.decode(e.tree));if(!n)throw Error("[renderer] unable to build tree from: "+e.tree);d.setCacheUpdateFunction(n,h.cacheUpdateFunction),this.tree=n}if(e.changes&&e.changes.length>0&&(t=!0,l.applyChanges(this.tree,this.decode(e.changes)),this.tree=this.tree.commit()),e.placeholder){t=!0,this.clearNodeWithPlaceholder();const{id:n,placeholders:r}=e.placeholder,i=this.tree.get(n);i&&(this.nodeWithPlaceholder=i,i.cache.placeholders=r,i.set({}))}else this.nodeWithPlaceholder&&(t=!0,this.clearNodeWithPlaceholder());e.canvasData&&(t=!0,s.CanvasStore.shared().setCanvas(this.decode(e.canvasData))),e.scriptBundle&&(t=!0,a.clearStyledComponents(),h.resetCodeComponentCache(this.tree),o.componentLoader.updateStateWithScripts(e.scriptBundle,r,a.defaultComponentMap));const{zoom:n,offsetX:i,offsetY:u,isInteractive:p,inMoveTool:f}=e;n===this.zoom&&i===this.offsetX&&u===this.offsetY||(t=!0,this.zoom=n,this.offsetX=i,this.offsetY=u),p===this.isInteractive&&f===this.inMoveTool||(t=!0,this.isInteractive=p,this.inMoveTool=f),t&&this.canvasRenderer&&this.canvasRenderer.setState(this),e.selection&&this.canvasRenderer&&this.canvasRenderer.updateLayers(e.selection)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(342);t.Scroll=r.Scroll,t.ScrollProps=r.ScrollProps,t.ScrollEvents=r.ScrollEvents,t.ScrollConfig=r.ScrollConfig;var i=n(609);t.DeprecatedScroll=i.DeprecatedScroll,t.DeprecatedScrollProps=i.DeprecatedScrollProps,t.DeprecatedScrollEvents=i.DeprecatedScrollEvents,t.DeprecatedScrollProperties=i.DeprecatedScrollProperties;var o=n(347);t.Screen=o.Screen;var s=n(159);t.Navigation=s.Navigation;var a=n(346);t.Draggable=a.Draggable;var c=n(222);t.Device=c.Device;var l=n(622);t.Page=l.Page,t.PageEffect=l.PageEffect,t.PageEffectInfo=l.PageEffectInfo,t.PageProps=l.PageProps,t.PageProperties=l.PageProperties,t.PageEvents=l.PageEvents,t.PageAlignment=l.PageAlignment;var u=n(624);t.StackProperties=u.StackProperties,t.StackSpecificProps=u.StackSpecificProps,t.Stack=u.Stack;var h=n(224);t.calcChildLayoutRects=h.calcChildLayoutRects},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(343);function reportSize(e,t,n){if(!e)return;const r=[...e.children];let i=0,o=0;r.forEach(e=>{i=Math.max(i,e.scrollHeight+e.offsetTop),o=Math.max(o,e.scrollWidth+e.offsetLeft)}),t.width===o&&t.height===i||n({width:o,height:i})}t.useChildrenSize=function useChildrenSize(e,t={}){const{observe:n=!1,skipHook:o=!1,initial:s={width:0,height:0}}=t,[a,c]=r.useState(s);return i.useResizeObserver(e,()=>{reportSize(e.current,a,c)},{skipHook:o||!n,observeChildren:!0}),r.useEffect(()=>{o||n||reportSize(e.current,a,c)}),o?s:a}},function(e,t,n){"use strict";n.r(t),function(e){var n=function(){if("undefined"!=typeof Map)return Map;function getIndex(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function class_1(){this.__entries__=[]}return Object.defineProperty(class_1.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),class_1.prototype.get=function(e){var t=getIndex(this.__entries__,e),n=this.__entries__[t];return n&&n[1]},class_1.prototype.set=function(e,t){var n=getIndex(this.__entries__,e);~n?this.__entries__[n][1]=t:this.__entries__.push([e,t])},class_1.prototype.delete=function(e){var t=this.__entries__,n=getIndex(t,e);~n&&t.splice(n,1)},class_1.prototype.has=function(e){return!!~getIndex(this.__entries__,e)},class_1.prototype.clear=function(){this.__entries__.splice(0)},class_1.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},class_1}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},s=2;var a=20,c=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,u=function(){function ResizeObserverController(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function throttle(e,t){var n=!1,r=!1,i=0;function resolvePending(){n&&(n=!1,e()),r&&proxy()}function timeoutCallback(){o(resolvePending)}function proxy(){var e=Date.now();if(n){if(e-i<s)return;r=!0}else n=!0,r=!1,setTimeout(timeoutCallback,t);i=e}return proxy}(this.refresh.bind(this),a)}return ResizeObserverController.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},ResizeObserverController.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},ResizeObserverController.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},ResizeObserverController.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},ResizeObserverController.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},ResizeObserverController.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},ResizeObserverController.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;c.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},ResizeObserverController.getInstance=function(){return this.instance_||(this.instance_=new ResizeObserverController),this.instance_},ResizeObserverController.instance_=null,ResizeObserverController}(),h=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},p=createRectInit(0,0,0,0);function toFloat(e){return parseFloat(e)||0}function getBordersSize(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+toFloat(e["border-"+n+"-width"])},0)}function getHTMLElementContentRect(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=d(e).getComputedStyle(e),i=function getPaddings(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=toFloat(o)}return t}(r),o=i.left+i.right,s=i.top+i.bottom,a=toFloat(r.width),c=toFloat(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==t&&(a-=getBordersSize(r,"left","right")+o),Math.round(c+s)!==n&&(c-=getBordersSize(r,"top","bottom")+s)),!function isDocumentElement(e){return e===d(e).document.documentElement}(e)){var l=Math.round(a+o)-t,u=Math.round(c+s)-n;1!==Math.abs(l)&&(a-=l),1!==Math.abs(u)&&(c-=u)}return createRectInit(i.left,i.top,a,c)}var f="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function getContentRect(e){return r?f(e)?function getSVGContentRect(e){var t=e.getBBox();return createRectInit(0,0,t.width,t.height)}(e):getHTMLElementContentRect(e):p}function createRectInit(e,t,n,r){return{x:e,y:t,width:n,height:r}}var g=function(){function ResizeObservation(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=e}return ResizeObservation.prototype.isActive=function(){var e=getContentRect(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},ResizeObservation.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},ResizeObservation}(),m=function(){return function ResizeObserverEntry(e,t){var n=function createReadOnlyRect(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return h(s,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),s}(t);h(this,{target:e,contentRect:n})}}(),v=function(){function ResizeObserverSPI(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return ResizeObserverSPI.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new g(e)),this.controller_.addObserver(this),this.controller_.refresh())}},ResizeObserverSPI.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},ResizeObserverSPI.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},ResizeObserverSPI.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},ResizeObserverSPI.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new m(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},ResizeObserverSPI.prototype.clearActive=function(){this.activeObservations_.splice(0)},ResizeObserverSPI.prototype.hasActive=function(){return this.activeObservations_.length>0},ResizeObserverSPI}(),y="undefined"!=typeof WeakMap?new WeakMap:new n,S=function(){return function ResizeObserver(e){if(!(this instanceof ResizeObserver))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=u.getInstance(),n=new v(e,t,this);y.set(this,n)}}();["observe","unobserve","disconnect"].forEach(function(e){S.prototype[e]=function(){var t;return(t=y.get(this))[e].apply(t,arguments)}});var b=void 0!==i.ResizeObserver?i.ResizeObserver:S;t.default=b}.call(this,n(8))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(343);function reportSize(e,t,n){if(!e)return;const r=e.offsetHeight,i=e.offsetWidth;t.width===i&&t.height===r||n({width:i,height:r})}t.useMeasureSize=function useMeasureSize(e,t={}){const{observe:n=!1,skipHook:o=!1,initial:s={width:0,height:0}}=t,[a,c]=r.useState(s);return i.useResizeObserver(e,()=>{reportSize(e.current,a,c)},{skipHook:o||!n}),r.useLayoutEffect(()=>{o||n||reportSize(e.current,a,c)}),o?s:a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(346),i=n(0),o=n(1),s=n(344),a=n(610),c=n(160),l=n(32);class DeprecatedScroll extends i.Component{wrapHandlers(e,t){return t?(n,r)=>{e&&e(n,r),t(n,this)}:e}render(){return i.createElement(l.ConsumeParentSize,null,({size:e})=>{const t=l.deprecatedParentSize(e),n=Object.assign({},this.props,{parentSize:t});if(Object.keys(DeprecatedScroll.scrollProps).map(e=>{delete n[e]}),!this.props.children)return i.createElement(o.DeprecatedFrame,Object.assign({},n),i.createElement(r.Draggable,{width:n.width,height:n.height}));const u={top:0,left:0,bottom:0,right:0},{width:h,height:d}=o.DeprecatedFrame.rect(n),p=i.Children.map(this.props.children,e=>{if(null===e||"object"!=typeof e||"string"==typeof e.type)return e;const n=e.type;if(s.isRectProviding(n)){const r=n.rect(e.props,t);r&&(u.top=Math.min(o.Rect.minY(r),u.top),u.left=Math.min(o.Rect.minX(r),u.left),u.bottom=Math.max(o.Rect.maxY(r),u.bottom),u.right=Math.max(o.Rect.maxX(r),u.right))}const r={};return"vertical"===this.props.direction?r.width=h:"horizontal"===this.props.direction&&(r.height=d),i.cloneElement(e,r)}),{onScrollStart:f,onScroll:g,onScrollEnd:m,onScrollSessionStart:v,onScrollSessionEnd:y}=this.props,S=a.getObservableNumber(h),b=a.getObservableNumber(d),_=Math.max(u.right,S),C=Math.max(u.bottom,b),w={x:Math.min(0,S-_),y:Math.min(0,b-C),width:_+_-S,height:C+C-b},x={};return x.enabled=this.props.draggingEnabled,x.background="none",x.width=_,x.height=C,x.constraints=w,x.onMove=this.props.onMove,x.onDragSessionStart=this.wrapHandlers(this.props.onDragSessionStart,v),x.onDragSessionMove=this.props.onDragSessionMove,x.onDragSessionEnd=this.wrapHandlers(this.props.onDragSessionEnd,y),x.onDragAnimationStart=this.props.onDragAnimationStart,x.onDragAnimationEnd=this.props.onDragAnimationEnd,x.onDragDidMove=this.wrapHandlers(this.props.onDragDidMove,g),x.onDragDirectionLockStart=this.props.onDragDirectionLockStart,x.onDragStart=this.wrapHandlers(this.props.onDragStart,f),x.onDragEnd=this.wrapHandlers(this.props.onDragEnd,m),x.onDragWillMove=this.props.onDragWillMove,x.horizontal="vertical"!==this.props.direction,x.vertical="horizontal"!==this.props.direction,x.directionLock=this.props.directionLock,x.mouseWheel=!0,x.left=this.props.contentOffsetX,x.top=this.props.contentOffsetY,x.preserve3d=this.props.preserve3d,i.createElement(o.DeprecatedFrame,Object.assign({},n),i.createElement(r.Draggable,Object.assign({},x),p),i.createElement(c.EmptyState,{children:this.props.children,size:{width:S,height:b},title:"Connect to scrollable content"}))})}}DeprecatedScroll._isStylable=!0,DeprecatedScroll.supportsConstraints=!0,DeprecatedScroll.scrollProps={draggingEnabled:!0,direction:"vertical",directionLock:!0,mouseWheel:!0,contentOffsetX:null,contentOffsetY:null},DeprecatedScroll.defaultProps=Object.assign({},o.DeprecatedFrame.defaultProps,DeprecatedScroll.scrollProps,{overflow:"visible",background:"none",width:"100%",height:"100%"}),DeprecatedScroll.propertyControls={direction:{type:o.ControlType.SegmentedEnum,title:"Direction",options:["vertical","horizontal","both"]},directionLock:{type:o.ControlType.Boolean,title:"Lock",enabledTitle:"1 Axis",disabledTitle:"Off",hidden:e=>"both"!==e.direction}},t.DeprecatedScroll=DeprecatedScroll},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(24);t.getObservableNumber=function getObservableNumber(e,t=0){return e?r.isAnimatable(e)?e.get():e:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(220);t.PanGestureRecognizer=class PanGestureRecognizer extends r.GestureRecognizer{constructor(){super(...arguments),this.eventType="pan"}pointerSessionBegan(e,t){this.recognize(e,t)}pointerSessionMoved(e,t){this.recognize(e,t)}pointerSessionEnded(e,t){this.panend(t)}recognize(e,t){(Math.abs(t.delta.x)>0||Math.abs(t.delta.y)>0)&&(this.startEvent?this.pan(t):this.panstart(t))}reset(){this.startEvent=null,super.reset()}panstart(e){this.hasState(r.State.Possible)&&(void 0===e.isLeftMouseClick||e.isLeftMouseClick)&&(this.stateSwitch(r.State.Began),this.startEvent=e,this.handler&&this.startEvent.target&&this.handler.gestureBegan(this.eventType,e,this.startEvent.target))}pan(e){this.hasState(r.State.Began|r.State.Changed)&&this.startEvent&&(this.stateSwitch(r.State.Changed),this.handler&&this.startEvent.target&&this.handler.gestureChanged(this.eventType,e,this.startEvent.target))}panend(e){this.hasState(r.State.Began|r.State.Changed)&&this.startEvent&&(this.stateSwitch(r.State.Ended),this.handler&&this.startEvent.target&&this.handler.gestureEnded(this.eventType,e,this.startEvent.target))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(220);t.TapGestureRecognizer=class TapGestureRecognizer extends r.GestureRecognizer{constructor(){super(...arguments),this.eventType="tap"}pointerSessionBegan(e,t){this.handler&&(void 0===t.isLeftMouseClick||t.isLeftMouseClick)&&this.handler.gestureBegan(this.eventType,t,null)}pointerSessionMoved(e,t){}pointerSessionEnded(e,t){this.isPrevented?this.stateSwitch(r.State.Failed):e.startEvent&&e.startEvent.target!==t.target?this.stateSwitch(r.State.Failed):(this.stateSwitch(r.State.Recognized),this.handler&&this.handler.gestureChanged(this.eventType,t,null)),this.handler&&this.handler.gestureEnded(this.eventType,t,null)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(220),i=n(1);t.MouseWheelGestureRecognizer=class MouseWheelGestureRecognizer extends r.GestureRecognizer{constructor(){super(...arguments),this.eventType="mousewheel",this.onMouseWheelEnd=i.debounce(e=>{this.handler&&this.startEvent&&(this.stateSwitch(r.State.Ended),this.handler.gestureEnded(this.eventType,e,this.startEvent.target),this.startEvent=null,this.reset())},300)}pointerSessionBegan(e,t){}pointerSessionMoved(e,t){}pointerSessionEnded(e,t){}mouseWheel(e,t){if(this.handler){if(this.hasState(r.State.Possible))return this.startEvent=t,this.stateSwitch(r.State.Began),void this.handler.gestureBegan(this.eventType,t,this.startEvent.target);this.hasState(r.State.Began|r.State.Changed)&&this.startEvent&&(this.stateSwitch(r.State.Changed),this.handler.gestureChanged(this.eventType,t,this.startEvent.target)),this.onMouseWheelEnd(t)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(286),i=n(615),o=n(616);t.FramerEventListener=r.environment.isTouch()?i.TouchEventListener:o.MouseEventListener},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(221),o=n(15);t.TouchEventListener=class TouchEventListener extends r.Component{constructor(){super(...arguments),this.domTouchStart=e=>{o.safeWindow.addEventListener("touchmove",this.domTouchMove),o.safeWindow.addEventListener("touchend",this.domTouchEnd);const t=new i.FramerEvent(e,this.props.session);this.props.session.pointerDown(t)},this.domTouchMove=e=>{const t=new i.FramerEvent(e,this.props.session);this.props.session.pointerMove(t)},this.domTouchEnd=e=>{o.safeWindow.removeEventListener("touchmove",this.domTouchMove),o.safeWindow.removeEventListener("touchend",this.domTouchEnd);const t=new i.FramerEvent(e,this.props.session);this.props.session.pointerUp(t)}}render(){return this.props.children}componentDidMount(){o.safeWindow.addEventListener("touchstart",this.domTouchStart)}componentWillUnmount(){o.safeWindow.removeEventListener("touchstart",this.domTouchStart),o.safeWindow.removeEventListener("touchmove",this.domTouchMove),o.safeWindow.removeEventListener("touchend",this.domTouchEnd)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(200),o=n(15);t.MouseEventListener=class MouseEventListener extends r.Component{constructor(){super(...arguments),this.domMouseDown=e=>{o.safeWindow.addEventListener("mousemove",this.domMouseMove),o.safeWindow.addEventListener("mouseup",this.domMouseUp);const t=new i.FramerEvent(e,this.props.session);this.props.session.pointerDown(t)},this.domMouseMove=e=>{if(!(void 0===e.buttons?1===e.which:1===e.buttons))return void this.domMouseUp(e);const t=new i.FramerEvent(e,this.props.session);this.props.session.pointerMove(t)},this.domMouseUp=e=>{o.safeWindow.removeEventListener("mousemove",this.domMouseMove),o.safeWindow.removeEventListener("mouseup",this.domMouseUp);const t=new i.FramerEvent(e,this.props.session);this.props.session.pointerUp(t)},this.domMouseWheel=e=>{const t=new i.FramerEvent(e,this.props.session);this.props.session.mouseWheel(t)}}render(){return this.props.children}componentDidMount(){o.safeWindow.addEventListener("mousedown",this.domMouseDown),o.safeWindow.addEventListener("wheel",this.domMouseWheel)}componentWillUnmount(){o.safeWindow.removeEventListener("mousemove",this.domMouseMove),o.safeWindow.removeEventListener("mousedown",this.domMouseDown),o.safeWindow.removeEventListener("mouseup",this.domMouseUp),o.safeWindow.removeEventListener("wheel",this.domMouseWheel)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(119);t.DeviceRegistry=class DeviceRegistry{resolve(e){const t=r.componentLoader.componentForIdentifier(e);if(t&&"device"===t.type)return t.class}list(){const e={},t={};return r.componentLoader.componentIdentifiers().map(n=>{const i=r.componentLoader.componentForIdentifier(n);i&&"device"===i.type&&(e[i.identifier]=i.class.descriptor,i&&("device"===i.type?e[i.identifier]=i.class.descriptor:"device-skin"===i.type&&(t[i.identifier]=i.class.descriptor)))}),{devices:e,deviceSkins:t}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(347),o=n(1),s=n(202),a=n(15),c=n(79);var l;!function(e){e[e.Canvas=0]="Canvas",e[e.Screen=1]="Screen",e[e.Device=2]="Device"}(l=t.DeviceRendererMode||(t.DeviceRendererMode={}));class DeviceRenderer extends r.Component{constructor(){super(...arguments),this.screenTop=0,this.screenLeft=0,this.contentScale=1,this.isViewingOnMobile=s.isMobile(),this.transformDevicePoint=({x:e,y:t})=>({x:(e-this.screenLeft)/this.contentScale,y:(t-this.screenTop)/this.contentScale})}static getMode(e){return e.skin?l.Device:o.Size.isZero(e.screen)?l.Canvas:l.Screen}getScreenStyle(e,t,n,r,i){const o=this.calculateScreenRect(e,t,n,r),s=n?e.height:e.width,a=n?e.width:e.height;let c;if(i){c=`url("data:image/svg+xml;utf8,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" width="${s}" height="${a}"><g transform="${n?`translate(0 ${a}) rotate(-90)`:""}" x="0" y="0"> ${i}</g></svg>`)}")`}return{display:this.props.children?"block":"none",position:"absolute",top:o.top,left:o.left,width:o.width,height:o.height,overflow:"hidden",borderRadius:3,maskImage:c,maskRepeat:"no-repeat",maskPosition:"center",maskSize:"100% 100%",WebkitMaskImage:c,WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",WebkitMaskSize:"100% 100%"}}setScreenPosition({top:e,left:t}){this.screenTop="string"==typeof e?parseFloat(e):e||0,this.screenLeft="string"==typeof t?parseFloat(t):t||0}willRenderWithScale(e){a.safeWindow._bridge&&a.safeWindow._bridge("fixmeHackyNotePreviewContentScale",e)}render(){switch(DeviceRenderer.getMode(this.props)){case l.Canvas:return this.renderCanvasMode();case l.Screen:return this.renderScreenOnly();case l.Device:return this.renderSkinAndScreen(this.props.skin,this.props.hand)}}renderCanvasMode(){const{device:e,content:t,responsive:n,autoScale:s}=this.props;if(n)return this.willRenderWithScale(1),r.createElement(i.Screen,{width:e.width,height:e.height,scale:1},r.createElement(o.ProvideParentSize,{parentSize:t},this.props.children));this.contentScale=1;const a=t.width>e.width||t.height>e.height;((t.width<=e.width||t.height<=e.height)&&(!s||"both"===s||"up"===s)||a&&(!s||"both"===s||"down"===s))&&(this.contentScale=Math.min(e.width/t.width,e.height/t.height)),this.willRenderWithScale(this.contentScale);const l=this.getScreenStyle(t,e,!1,this.contentScale);return this.setScreenPosition(l),r.createElement("div",{style:l},r.createElement(i.Screen,{width:e.width,height:e.height,scale:this.contentScale},r.createElement(c.MotionPlugins,{transformPagePoint:this.transformDevicePoint},r.createElement(o.ProvideParentSize,{parentSize:t},this.props.children))))}renderScreenOnly(){const{screen:e,rotate:t,device:n,pixelRatio:o,svgScreenMask:s}=this.props,a=n.width/(t?e.height:e.width),l=n.height/(t?e.width:e.height),u=Math.min(a,l),h=t?e.height:e.width,d=t?e.width:e.height;this.willRenderWithScale(u*o);const p=this.getScreenStyle(e,n,t,u,this.isViewingOnMobile?void 0:s);return this.contentScale=u*o,this.setScreenPosition(p),r.createElement("div",{style:p},r.createElement(i.Screen,{width:h/o,height:d/o,scale:this.contentScale},r.createElement(c.MotionPlugins,{transformPagePoint:this.transformDevicePoint},this.props.children)))}renderSkinAndScreen(e,t){const{rotate:n,device:s,content:a,pixelRatio:l,svgScreenMask:u}=this.props;let h=2;if(this.isViewingOnMobile){if(!(a.height<220))return this.renderScreenOnly();h=1}const d=this.calculateSkinRectAndScreenScale(e,s,n,h/l),p={pointerEvents:"none",display:"block",position:"absolute",top:d.top,left:d.left,width:d.width,height:d.height,transform:n?"rotate(-90deg)":void 0},f=o.Size.defaultIfZero(s.width,s.height,this.props.screen),g=this.getScreenStyle(f,s,n,d.scale,u),m=[];if(!n&&null!==t){const e=t.width*d.scale,n=t.height*d.scale,i={pointerEvents:"none",display:"block",position:"absolute",width:e,height:n,top:(t.offset||0)+(this.props.device.height-n)/2,left:(this.props.device.width-e)/2};m.push(r.createElement("img",{key:"hand",src:t.image,style:i}))}this.willRenderWithScale(d.scale*l),this.contentScale=d.scale*l,this.setScreenPosition(g);const v=r.createElement("div",{key:"screen",style:g},r.createElement(i.Screen,{width:f.width/l,height:f.height/l,scale:this.contentScale},r.createElement(c.MotionPlugins,{transformPagePoint:this.transformDevicePoint},this.props.children))),y=r.createElement("img",{key:"device",src:e.image,style:p});return m.push(y,v),m}calculateSkinRectAndScreenScale(e,t,n,r){const i=t.width,o=t.height,{padding:s}=e;let{imageWidth:a,imageHeight:c}=e;if(n){const e=a;a=c,c=e}const l=(i-2*s)/a,u=(o-2*s)/c,h=Math.min(l,u,r),d=h*(n?c:a),p=h*(n?a:c);return{width:d,height:p,left:(i-d)/2,top:(o-p)/2,scale:h}}calculateScreenRect(e,t,n,r){const i=e.width,o=e.height,s=r*(n?o:i),a=r*(n?i:o);return{width:s,height:a,left:(t.width-s)/2,top:(t.height-a)/2}}}DeviceRenderer.defaultProps={skin:null,hand:null,device:o.Size.zero,screen:o.Size.zero,content:o.Size.zero,pixelRatio:1,rotate:!1,responsive:!1},t.DeviceRenderer=DeviceRenderer},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWithPackage=function isWithPackage(e){return e&&"package"in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(623),s=n(1),a=n(160),c=n(16),l=n(83),u=n(342),h=n(79),d=n(150),p=n(54),f=n(223),g=n(123),m=n(32);var v;!function(e){e.Auto="auto",e.Stretch="stretch"}(v||(v={}));const y=[v.Auto,v.Stretch],S=y.map(e=>{switch(e){case v.Auto:return"Auto";case v.Stretch:return"Stretch"}}),b=["start","center","end"],_=b.map(e=>{switch(e){case"start":return"Start";case"center":return"Center";case"end":return"End"}}),C=b.map(e=>{switch(e){case"start":return"Left";case"center":return"Center";case"end":return"Right"}}),w=b.map(e=>{switch(e){case"start":return"Top";case"center":return"Center";case"end":return"Bottom"}}),x=["none","cube","coverflow","wheel","pile"],P=x.map(e=>{switch(e){case"none":return"None";case"cube":return"Cube";case"coverflow":return"Cover Flow";case"wheel":return"Wheel";case"pile":return"Pile"}});class Page extends i.Component{constructor(){super(...arguments),this.pages=[],this.propsBoundedCurrentPage=0,this.shouldReflectPropsBoundedCurrentPage=!1,this.currentContentPage=0,this.isScrolling=!0,this.scrollControls=h.animationControls(),this.containerRef=i.createRef(),this.state={containerSize:null},this.nearestPageIndex=(e,t,n,r)=>{const i=function(t){const r=n?t.x:t.y;return Math.abs(r+e)},o=function(e){const r=n?e.x:e.y;return Math.abs(r+t)};if(r){const e=[...this.pages].sort((e,t)=>o(e.rect)-o(t.rect));return this.pages.indexOf(e[0])}{const e=[...this.pages].sort((e,t)=>i(e.rect)-i(t.rect));if(1===e.length)return this.pages.indexOf(e[0]);const t=[e[0],e[1]].sort((e,t)=>o(e.rect)-o(t.rect));return this.pages.indexOf(t[0])}},this.onDragEnd=(e,t)=>{if(this.currentContentOffset.stop(),!this.isScrolling)return;this.isScrolling=!1;const{momentum:n,onChangePage:r}=this.props,{isHorizontalDirection:i}=this,o=this.currentContentOffset.get(),s=i?"x":"y",a=t.velocity[s];let c=this.nearestPageIndex(o,o,i,n);a&&p.inertia({from:o,velocity:a,modifyTarget:e=>(c=this.nearestPageIndex(o,e,i,n),r&&r(c,this.currentContentPage,this),e)}).start().stop();const l=this.offsetForPage(c);this.currentContentPage=c,this.scrollControls.start({[s]:l,transition:{type:"spring",from:this.currentContentOffset.get(),velocity:a,stiffness:500,damping:50}})},this.contentOffsetUpdated=()=>{this.applyEffects()},this.onDragStart=()=>{this.isScrolling=!0},this.onDirectionLock=e=>{const{direction:t}=this.props;("x"===e&&"horizontal"!==t||"y"===e&&"vertical"!==t)&&(this.isScrolling=!1)}}get isHorizontalDirection(){return"horizontal"===this.props.direction}get currentContentOffset(){return this.isHorizontalDirection?this.contentOffset.x:this.contentOffset.y}boundedCurrentPage(e){const t=i.Children.count(e.children),n=e.currentPage||0;return n>=0?Math.min(n,t-1):(n%t+t)%t}componentDidMount(){this.scrollControls.mount(),this.setContainerSize()}componentWillUnmount(){this.scrollControls.unmount()}componentWillUpdate(e){e.direction!==this.props.direction&&(this.contentOffset.x.set(0),this.contentOffset.y.set(0));const t=this.boundedCurrentPage(e||this.props);this.propsBoundedCurrentPage!==t&&(this.propsBoundedCurrentPage=t,this.shouldReflectPropsBoundedCurrentPage=!0)}setContainerSize(){if(this.containerRef.current){const e=this.containerRef.current.offsetWidth,t=this.containerRef.current.offsetHeight,n=this.state.containerSize;if(null===n||n&&(e!==n.width||t!==n.height)){const n={width:e,height:t};this.setState({containerSize:n})}}}componentDidUpdate(){this.setContainerSize(),(this.props.children&&0!==i.Children.count(this.props.children)||this.props.__fromCodeComponentNode)&&this.shouldReflectPropsBoundedCurrentPage&&(this.shouldReflectPropsBoundedCurrentPage=!1,this.currentContentPage!==this.propsBoundedCurrentPage&&c.RenderTarget.current()!==c.RenderTarget.canvas?(this.props.onChangePage&&this.props.onChangePage(this.propsBoundedCurrentPage,this.currentContentPage,this),this.updateOffsetForPage(this.propsBoundedCurrentPage,this.props.animateCurrentPageUpdate)):(this.updateOffsetForPage(this.propsBoundedCurrentPage),c.RenderTarget.current()===c.RenderTarget.canvas&&this.applyEffects()))}applyEffects(){this.pages.forEach((e,t)=>{const n=e.rect,r=this.effectValues(t,n);if(e.effectValues&&r)for(const i in r)d.isMotionValue(e.effectValues[i])&&e.effectValues[i].set(r[i])})}effectValues(e,t){const{direction:n,defaultEffect:r,effect:i,gap:o}=this.props,s=i||function defaultEffects(e){switch(e){case"cube":return cubeEffect;case"coverflow":return coverflowEffect;case"pile":return pileEffect;case"wheel":return wheelEffect;default:return null}}(r);if(!s)return null;let a,c;return c="horizontal"===n?(a=t.x+(this.contentOffset?this.contentOffset.x.get():0))/t.width:(a=t.y+(this.contentOffset?this.contentOffset.y.get():0))/t.height,s({offset:a,normalizedOffset:c,size:{width:t.width,height:t.height},index:e,direction:n,pageCount:this.pages.length,gap:o})}wrapHandler(e,t){if(!t)return e;return(...n)=>{e(...n),t(...n)}}offsetForPage(e){const t=this.pages.length,n=this.pages[Math.max(0,Math.min(t-1,e))];return n?this.isHorizontalDirection?-n.rect.x:-n.rect.y:0}updateOffsetForPage(e,t=!1){const n=this.offsetForPage(e);if(this.currentContentPage=e,t){const e=this.isHorizontalDirection?"x":"y";this.scrollControls.start({[e]:n,transition:{type:"spring",from:this.currentContentOffset.get(),velocity:this.currentContentOffset.getVelocity(),stiffness:500,damping:50}})}else this.currentContentOffset.set(n)}render(){const e=this.props,{direction:t,directionLock:n,contentWidth:p,contentHeight:y,children:S,gap:b,dragEnabled:_,wheelEnabled:C=!1,overflow:w,contentOffsetX:x,contentOffsetY:P,onChangePage:T,onDrag:k,onDragStart:E,onDragEnd:O,onScroll:M,onScrollEnd:F,onScrollStart:D,onDirectionLock:I,onUpdate:R}=e,N=r(e,["direction","directionLock","contentWidth","contentHeight","children","gap","dragEnabled","wheelEnabled","overflow","contentOffsetX","contentOffsetY","onChangePage","onDrag","onDragStart","onDragEnd","onScroll","onScrollEnd","onScrollStart","onDirectionLock","onUpdate"]);N.__fromCodeComponentNode&&!m.constraintsEnabled(g.unwrapFrameProps(N))&&(N.width="100%",N.height="100%",N._constraints={enabled:!0});const A=this.context.size;let B=m.calculateRect(g.unwrapFrameProps(this.props),A)||this.state.containerSize,L=!0;B||(s.isFiniteNumber(N.width)&&s.isFiniteNumber(N.height)?(B={width:N.width,height:N.height},L=!1):B=g.defaultFrameRect);const j=f.paddingFromProps(this.props),z={width:Math.max(0,B.width-j.left-j.right),height:Math.max(0,B.height-j.top-j.bottom)},U=this.isHorizontalDirection,H=i.Children.count(S);this.pages=[];let V=0,W=0;const G=U?p:y,q=(U?y:p)===v.Stretch?v.Stretch:this.props.alignment,K=i.Children.map(S,(e,t)=>{if(!l.isReactChild(e)||!l.isReactElement(e))return e;const n=g.unwrapFrameProps(e.props);void 0===n.width&&(n.width=g.defaultFrameRect.width),void 0===n.height&&(n.height=g.defaultFrameRect.height);const r=m.calculateSize(n,B||m.ParentSizeState.Unknown);if(!r)return e;const a=Object.assign({x:V,y:W},r);switch(G===v.Stretch&&(U?a.width=z.width:a.height=z.height),s.isFiniteNumber(p)&&(a.width=p),s.isFiniteNumber(y)&&(a.height=y),q){case"center":U?a.y=z.height/2-a.height/2:a.x=z.width/2-a.width/2;break;case"end":U?a.y=z.height-a.height:a.x=z.width-a.width;break;case v.Stretch:U?a.height=z.height:a.width=z.width}const c=t===H-1?0:b;U?V+=a.width+c:W+=a.height+c;const u={width:a.width,height:a.height,right:void 0,bottom:void 0,top:0,left:0,_constraints:{enabled:!0}};let d;const f=this.effectValues(t,a);if(f){d={};for(const e in f)d[e]=h.motionValue(f[e])}return this.pages.push({rect:a,effectValues:d}),i.createElement(o.PageContainer,Object.assign({key:t,effect:d},a),i.cloneElement(e,u))}),$=Math.max(0,U?V-z.width:W-z.height);if(this.pages.forEach(e=>{U?e.rect.x>$&&(e.rect.x=$):e.rect.y>$&&(e.rect.y=$)}),!this.contentOffset){this.contentOffset={x:d.isMotionValue(x)?x:h.motionValue(x||0),y:d.isMotionValue(P)?P:h.motionValue(P||0)},c.RenderEnvironment.target!==c.RenderTarget.canvas&&(this.contentOffset.x.onChange(this.contentOffsetUpdated),this.contentOffset.y.onChange(this.contentOffsetUpdated));const e=this.boundedCurrentPage(this.props);this.updateOffsetForPage(e)}(U?this.contentOffset.y:this.contentOffset.x).set(0);const X=U?V:z.width,Y=U?z.height:W,J=i.Children.count(K),Z=0===J?g.defaultFrameRect.width:X,Q=0===J?g.defaultFrameRect.height:Y;return i.createElement(s.FrameWithMotion,Object.assign({preserve3d:!1,perspective:1200,overflow:w},N,{ref:L?this.containerRef:null}),i.createElement(u.Scroll,{background:null,direction:t,directionLock:n,dragEnabled:_,wheelEnabled:C,width:z.width,height:z.height,left:j.left,top:j.top,preserve3d:!0,contentOffsetX:this.contentOffset.x,contentOffsetY:this.contentOffset.y,scrollAnimate:this.scrollControls,onDrag:k,onDragStart:this.wrapHandler(this.onDragStart,E),onDragEnd:this.wrapHandler(this.onDragEnd,O),onScroll:M,onScrollStart:D,onScrollEnd:F,onDirectionLock:this.wrapHandler(this.onDirectionLock,I),onUpdate:R,contentWidth:Z,contentHeight:Q,overflow:"visible"},i.createElement(s.FrameWithMotion,{background:null,top:0,left:0,width:Z,height:Q,preserve3d:!0},i.createElement(a.EmptyState,{children:S,size:{width:B.width||h.unwrapMotionValue(N.width),height:B.height||h.unwrapMotionValue(N.height)},insideUserCodeComponent:!this.props.__fromCodeComponentNode}),K)))}}function cubeEffect(e){const{normalizedOffset:t,direction:n}=e,r="horizontal"===n;return{originX:t<0?1:0,originY:t<0?1:0,rotateY:r?Math.min(Math.max(-90,90*t),90):0,rotateX:r?0:Math.min(Math.max(-90,-90*t),90),backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"}}function coverflowEffect(e){const{normalizedOffset:t,direction:n,size:r}=e,i="horizontal"===n;return{rotateY:i?Math.min(45,Math.max(-45,-45*t)):0,rotateX:i?0:Math.min(45,Math.max(-45,45*t)),originX:i?t<0?0:1:.5,originY:i?.5:t<0?0:1,x:i?t*-r.width/4:0,y:i?0:t*-r.height/4,z:-Math.abs(t),scale:1-Math.abs(t/10)}}function pileEffect(e){const{normalizedOffset:t,direction:n,size:r}=e,i="horizontal"===n;return{x:t<0&&i?Math.abs(t)*(r.width-8):0,y:t<0&&!i?Math.abs(t)*(r.height-8):0,scale:t<0?1-Math.abs(t)/50:1}}function wheelEffect(e){const{normalizedOffset:t,direction:n,size:r}=e,i="horizontal"===n,o=18*(i?r.width:r.height)/(2*Math.PI),s=i?0:-20*t,a=i?20*t:0,c=i?0:t*-r.height,l=i?t*-r.width:0;return{opacity:1-Math.abs(t)/4,transform:`translate(${l}px, ${c}px) translateZ(-${o}px) rotateX(${s}deg) rotateY(${a}deg) translateZ(${o}px)`}}Page._isStylable=!0,Page.supportsConstraints=!0,Page.contextType=m.ConstraintsContext,Page.pageProps={direction:"horizontal",contentWidth:v.Stretch,contentHeight:v.Stretch,alignment:"start",currentPage:0,animateCurrentPageUpdate:!0,gap:10,padding:0,momentum:!1,dragEnabled:!0,defaultEffect:"none",background:"transparent",overflow:"hidden"},Page.defaultProps=Object.assign({},Page.pageProps),Page.propertyControls={direction:{type:s.ControlType.SegmentedEnum,options:["horizontal","vertical"],title:"Direction"},directionLock:{type:s.ControlType.Boolean,title:"Lock",enabledTitle:"1 Axis",disabledTitle:"Off",defaultValue:!0},contentWidth:{type:s.ControlType.SegmentedEnum,options:y,optionTitles:S,title:"Width"},contentHeight:{type:s.ControlType.SegmentedEnum,options:y,optionTitles:S,title:"Height"},alignment:{type:s.ControlType.SegmentedEnum,options:b,optionTitles(e){if(!e)return _;return"horizontal"!==e.direction?C:w},title:"Align",hidden(e){const{direction:t,contentWidth:n,contentHeight:r}=e;return("horizontal"===t?r:n)===v.Stretch}},gap:{type:s.ControlType.Number,min:0,title:"Gap"},padding:{type:s.ControlType.FusedNumber,toggleKey:"paddingPerSide",toggleTitles:["Padding","Padding per side"],valueKeys:["paddingTop","paddingRight","paddingBottom","paddingLeft"],valueLabels:["T","R","B","L"],min:0,title:"Padding"},currentPage:{type:s.ControlType.Number,min:0,title:"Current",displayStepper:!0},momentum:{type:s.ControlType.Boolean,enabledTitle:"On",disabledTitle:"Off",title:"Momentum"},dragEnabled:{type:s.ControlType.Boolean,title:"Dragging",enabledTitle:"On",disabledTitle:"Off",defaultValue:!0},wheelEnabled:{type:s.ControlType.Boolean,title:"Wheel scroll",enabledTitle:"On",disabledTitle:"Off",defaultValue:!1},defaultEffect:{type:s.ControlType.Enum,options:x,optionTitles:P,title:"Effect"},children:{type:s.ControlType.Array,title:"Content",propertyControl:{type:s.ControlType.ComponentInstance,title:"Page"}},onChangePage:{type:s.ControlType.EventHandler},onScroll:{type:s.ControlType.EventHandler},onScrollStart:{type:s.ControlType.EventHandler},onScrollEnd:{type:s.ControlType.EventHandler}},t.Page=Page},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1);t.PageContainer=function PageContainer({x:e,y:t,width:n,height:o,children:s,effect:a}){return r.createElement(i.FrameWithMotion,{left:e,top:t,width:n,height:o,background:"transparent",preserve3d:!0},r.createElement(i.FrameWithMotion,{width:"100%",height:"100%",preserve3d:!1,key:a?Object.keys(a).join(""):"",style:a,background:"transparent"},s))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(121),o=n(349),s=n(625);t.StackProperties=s.StackProperties;const a=n(626);t.DeprecatedStackProperties=a.DeprecatedStackProperties,t.StackSpecificProps=a.StackSpecificProps;const c=n(224);t.StackLayout=c;const l=n(32);function Stack(e){const t=l.useParentSize();if(e.__fromCodeComponentNode&&t!==l.ParentSizeState.Disabled){const n=l.deprecatedParentSize(t);let i=void 0,s=void 0;return null!==n&&(i=n.width,s=n.height),r.createElement(o.DeprecatedStack,Object.assign({width:i,height:s},e))}return r.createElement(s.Stack,Object.assign({},e))}t.Stack=Stack,i(Stack,o.DeprecatedStack),Stack.displayName="Stack"},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(1),s=n(83),a=n(223),c=n(32),l=n(123),u=n(301),h=n(124);function isFractionDimension(e){return"string"==typeof e&&e.endsWith("fr")}function fraction(e){const t=parseFloat(e);return o.isFiniteNumber(t)?t:0}function makePaddingString({top:e,left:t,bottom:n,right:r}){return`${e}px ${r}px ${n}px ${t}px`}function toJustifyOrAlignment(e){switch(e){case"start":return"flex-start";case"end":return"flex-end";default:return e}}t.Stack=function Stack(e){var{direction:t="vertical",distribution:n="start",alignment:d="center",gap:p=10,children:f,style:g,willChangeTransform:m,__fromCodeComponentNode:v}=e,y=r(e,["direction","distribution","alignment","gap","children","style","willChangeTransform","__fromCodeComponentNode"]);h.injectComponentCSSRules();const S=function toFlexDirection(e){switch(e){case"vertical":return"column";case"horizontal":return"row";default:return e}}(t),b=function isReverseDirection(e){switch(e){case"column-reverse":case"row-reverse":return!0;default:return!1}}(S),_=toJustifyOrAlignment(n),C=Object.assign({display:"flex",flexDirection:S,justifyContent:_,alignItems:toJustifyOrAlignment(d),padding:makePaddingString(a.paddingFromProps(y))},g);o.Layer.applyWillChange({props:{willChangeTransform:m}},C),v&&!c.constraintsEnabled(l.unwrapFrameProps(y))&&(y.width="100%",y.height="100%",y._constraints={enabled:!0});const{children:w,props:x}=u.processOverrideForwarding(y,f);f=w,y=x;const P=i.Children.count(f);let T="none";v||0!==P||(T="rgba(0, 170, 255, 0.3)");const k=function wrapInGapElement(e,t,n,r){if(!function isGapEnabled(e,t){return!!e&&(!t||-1===["space-between","space-around","space-evenly","stretch"].indexOf(t))}(t,r))return e;const o=function isVerticalDirection(e){return"column"===e||"column-reverse"===e}(n),s={display:"contents","--stack-gap-x":`${o?0:t}px`,"--stack-gap-y":`${o?t:0}px`};return i.createElement("div",{"data-framer-stack-gap":!0,style:s},e)}(function handleFraction(e,t){return i.Children.map(e,e=>{if(!s.isReactChild(e)||!s.isReactElement(e))return;const n="vertical"===t,r={};let o=!1;const{style:a,width:c,height:l}=e.props;let u=c,h=l;if(isFractionDimension(c)&&(o=!0,o=!0,n?u=`${100*fraction(c)}%`:(u=1,r.flexGrow=fraction(c),r.flexBasis=0),r.width=u),isFractionDimension(l)&&(o=!0,n?(h=1,r.flexGrow=fraction(l),r.flexBasis=0):h=`${100*fraction(l)}%`,r.height=h),!o)return e;const d=Object.assign({},a,r);return i.cloneElement(e,{width:u,height:h,style:d})})}(f,t),p,S,_),E=c.useProvideParentSize(k,c.ParentSizeState.Disabled);return i.createElement(o.FrameWithMotion,Object.assign({background:T},y,{"data-framer-component-type":"Stack","data-framer-stack-direction-reverse":b,style:C}),E)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(1),s=n(159),a=n(121);t.WithNavigator=function WithNavigator(e,t,n,c,l){const u=class extends i.Component{render(){return i.createElement(s.NavigationContext.Consumer,null,s=>{const a=()=>{if("goBack"===t)return void s.goBack();if(!c)return;const e=c(),r=function transitionDirectionToSide(e){switch(e){case"left":return"right";case"right":return"left";case"up":return"bottom";case"down":return"top"}}(n);switch(t){case o.NavigationTransitionType.instant:s.instant(e);break;case o.NavigationTransitionType.fade:s.fade(e);break;case o.NavigationTransitionType.modal:s.modal(e,l);break;case o.NavigationTransitionType.push:s.push(e,{appearsFrom:r});break;case o.NavigationTransitionType.overlay:s.overlay(e,Object.assign({},l,{appearsFrom:r}));break;case o.NavigationTransitionType.flip:s.flip(e,{appearsFrom:r})}},u=this.props,{onTap:h}=u,d=r(u,["onTap"]);return d.onTap=h?(...e)=>{h.apply(this,e),a.apply(this,e)}:a,i.createElement(e,Object.assign({},d))})}};return a(u,e),u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(222),i=e=>{var t;const n={title:`Framer Bezel ${e.selector}`,category:"Framer Bezel",selector:e.selector,kind:void 0===e.kind?"phone":e.kind,screen:{width:e.screenWidth,height:e.screenHeight},pixelRatio:e.pixelRatio||2,canRotate:void 0===e.canRotate||e.canRotate,skins:e.skins||{},hands:e.hands||{}};return(t=class extends r.Device{get svgScreenMask(){return e.svgScreenMask||super.svgScreenMask}}).descriptor=n,t};t.FramerAppleWatch38=i({selector:"Apple Watch 38mm",kind:"watch",screenWidth:272,screenHeight:340,bezelWidth:25,bezelHeight:50,canRotate:!1,skins:{"Space Black Steel - Black":{package:"@framer/framer.device-skin-apple-watch-38mm-black-steel"},Edition:{package:"@framer/framer.device-skin-apple-watch-38mm-edition"},"Rose Gold Aluminum - Midnight Blue":{package:"@framer/framer.device-skin-apple-watch-38mm-rose-gold-aluminum-midnight-blue"},"Silver Aluminum - Cocoa":{package:"@framer/framer.device-skin-apple-watch-38mm-silver-aluminum-cocoa"},"Silver Aluminum - Concrete":{package:"@framer/framer.device-skin-apple-watch-38mm-silver-aluminum-concrete"},"Silver Aluminum - Ocean Blue":{package:"@framer/framer.device-skin-apple-watch-38mm-silver-aluminum-ocean-blue"},"Silver Aluminum - Red":{package:"@framer/framer.device-skin-apple-watch-38mm-silver-aluminum-red"},"Silver Aluminum - Turquoise":{package:"@framer/framer.device-skin-apple-watch-38mm-silver-aluminum-turquoise"},"Silver Aluminum - White":{package:"@framer/framer.device-skin-apple-watch-38mm-silver-aluminum-white"},"Silver Aluminum - Yellow":{package:"@framer/framer.device-skin-apple-watch-38mm-silver-aluminum-yellow"},"Space Gray Aluminum - Black":{package:"@framer/framer.device-skin-apple-watch-38mm-space-gray-aluminum-black"},"Steel - White":{package:"@framer/framer.device-skin-apple-watch-38mm-steel-white"},"Nike Plus - Silver Aluminum - Flat Silver Volt":{package:"@framer/framer.device-skin-apple-watch-38mm-nike-plus-silver-aluminum-flat-silver-volt"},"Nike Plus - Silver Aluminum - Flat Silver White":{package:"@framer/framer.device-skin-apple-watch-38mm-nike-plus-silver-aluminum-flat-silver-white"},"Nike Plus - Space Gray Aluminum - Black Cool Gray":{package:"@framer/framer.device-skin-apple-watch-38mm-nike-plus-space-gray-aluminum-black-cool-gray"},"Nike Plus - Space Gray Aluminum - Black Volt":{package:"@framer/framer.device-skin-apple-watch-38mm-nike-plus-space-gray-aluminum-black-volt"}}}),t.FramerAppleWatch42=i({selector:"Apple Watch 42mm",kind:"watch",screenWidth:312,screenHeight:390,bezelWidth:25,bezelHeight:50,canRotate:!1,skins:{Edition:{package:"@framer/framer.device-skin-apple-watch-42mm-edition"},"Gold Aluminum - Cocoa":{package:"@framer/framer.device-skin-apple-watch-42mm-gold-aluminum"},"Rose Gold Aluminum - Midnight Blue":{package:"@framer/framer.device-skin-apple-watch-42mm-rose-gold-aluminum-midnight-blue"},"Silver Aluminum - Concrete":{package:"@framer/framer.device-skin-apple-watch-42mm-silver-aluminum-concrete"},"Silver Aluminum - Green":{package:"@framer/framer.device-skin-apple-watch-42mm-silver-aluminum-green"},"Silver Aluminum - Light Pink":{package:"@framer/framer.device-skin-apple-watch-42mm-silver-aluminum-light-pink"},"Silver Aluminum - Ocean Blue":{package:"@framer/framer.device-skin-apple-watch-42mm-silver-aluminum-ocean-blue"},"Silver Aluminum - Pink Sand":{package:"@framer/framer.device-skin-apple-watch-42mm-silver-aluminum-pink-sand"},"Silver Aluminum - Red":{package:"@framer/framer.device-skin-apple-watch-42mm-silver-aluminum-red"},"Silver Aluminum - Turquoise":{package:"@framer/framer.device-skin-apple-watch-42mm-silver-aluminum-turquoise"},"Silver Aluminum - White":{package:"@framer/framer.device-skin-apple-watch-42mm-silver-aluminum-white"},"Silver Aluminum - Yellow":{package:"@framer/framer.device-skin-apple-watch-42mm-silver-aluminum-yellow"},"Space Black - Steel Black":{package:"@framer/framer.device-skin-apple-watch-42mm-space-black-steel-black"},"Space Gray - Aluminum Black":{package:"@framer/framer.device-skin-apple-watch-42mm-space-gray-aluminum-black"},"Steel - White":{package:"@framer/framer.device-skin-apple-watch-42mm-steel-white"},"Nike Plus - Silver Aluminum - Flat Silver Volt":{package:"@framer/framer.device-skin-apple-watch-42mm-nike-plus-silver-aluminum-flat-silver-volt"},"Nike Plus - Silver Aluminum - Flat Silver White":{package:"@framer/framer.device-skin-apple-watch-42mm-nike-plus-silver-aluminum-flat-silver-white"},"Nike Plus - Space Gray Aluminum - Black Cool Gray":{package:"@framer/framer.device-skin-apple-watch-42mm-nike-plus-space-gray-aluminum-black-cool-gray"},"Nike Plus - Space Gray Aluminum - Black Volt":{package:"@framer/framer.device-skin-apple-watch-42mm-nike-plus-space-gray-aluminum-black-volt"}}}),t.FramerSonySmartWatch=i({selector:"Sony SmartWatch 3",kind:"watch",screenWidth:320,screenHeight:320,pixelRatio:1.5,canRotate:!1,skins:{White:{package:"@framer/framer.device-skin-sony-smartwatch-3-white"},Black:{package:"@framer/framer.device-skin-sony-smartwatch-3-black"}}}),t.FramerAppleIPhoneSE=i({selector:"Apple iPhone SE",screenWidth:640,screenHeight:1136,canRotate:!0,skins:{Gold:{package:"@framer/framer.device-skin-apple-iphone-se-gold"},Silver:{package:"@framer/framer.device-skin-apple-iphone-se-silver"},"Space Gray":{package:"@framer/framer.device-skin-apple-iphone-se-space-gray"},"Rose Gold":{package:"@framer/framer.device-skin-apple-iphone-se-rose-gold"}},hands:{"Hand 1":{package:"@framer/framer.device-hand-iphone-1",width:2098,height:3269},"Hand 2":{package:"@framer/framer.device-hand-iphone-2",width:2098,height:3269}}}),t.FramerAppleIPhone8=i({selector:"Apple iPhone 8",screenWidth:750,screenHeight:1334,skins:{"Space Gray":{package:"@framer/framer.device-skin-apple-iphone8-space-gray"},Silver:{package:"@framer/framer.device-skin-apple-iphone8-silver"},Gold:{package:"@framer/framer.device-skin-apple-iphone8-gold"}},hands:{"Hand 1":{package:"@framer/framer.device-hand-iphone-1"},"Hand 2":{package:"@framer/framer.device-hand-iphone-2"}}}),t.FramerAppleIPhone8Plus=i({selector:"Apple iPhone 8 Plus",screenWidth:1242,screenHeight:2208,pixelRatio:3,skins:{"Space Gray":{package:"@framer/framer.device-skin-apple-iphone8-plus-space-gray"},Silver:{package:"@framer/framer.device-skin-apple-iphone8-plus-silver"},Gold:{package:"@framer/framer.device-skin-apple-iphone8-plus-gold"}},hands:{"Hand 1":{package:"@framer/framer.device-hand-iphone-1",width:3949,height:6154,offset:-15},"Hand 2":{package:"@framer/framer.device-hand-iphone-2",width:3949,height:6154,offset:-15}}}),t.FramerAppleIPhoneX=i({selector:"Apple iPhone X",screenWidth:1125,screenHeight:2436,pixelRatio:3,skins:{"Space Gray":{package:"@framer/framer.device-skin-apple-iphone-x-space-gray"},Silver:{package:"@framer/framer.device-skin-apple-iphone-x-silver"}},svgScreenMask:"<path d='M 876 26 L 876 27 C 876 54.794 854.794 90 806 90 L 320 90 C 271.206 90 250 54.794 250 27 L 250 26 C 250 13.145 250 0 227 0 L 130 0 C 48.935 0 0 48.935 0 130 L 0 2306 C 0 2387.065 48.935 2436 130 2436 L 995 2436 C 1076.065 2436 1125 2387.065 1125 2306 L 1125 130 C 1125 48.935 1076.065 0 995 0 L 899 0 C 876 0 876 13.145 876 26 Z' fill='#000'></path>",hands:{"Hand 1":{package:"@framer/framer.device-hand-iphone-1",width:3567,height:5558,offset:-15},"Hand 2":{package:"@framer/framer.device-hand-iphone-2",width:3567,height:5558,offset:-15}}}),t.FramerAppleIPhoneXS=i({selector:"Apple iPhone XS",screenWidth:1125,screenHeight:2436,pixelRatio:3,skins:{"Space Gray":{package:"@framer/framer.device-skin-apple-iphone-xs-spacegrey"},Silver:{package:"@framer/framer.device-skin-apple-iphone-xs-silver"},Gold:{package:"@framer/framer.device-skin-apple-iphone-xs-gold"}},svgScreenMask:"<path fill='#000000' d='M876,26 L876,27 C876,54.7939392 854.793939,90 806,90 L320,90 C271.206061,90 250,54.7939392 250,27 L250,25.9999936 C250,13.1450152 249.999996,1.42108547e-14 227.000025,0 L130,0 C48.934969,0 0,48.934969 0,130 L0,2306 C0,2387.06503 48.934969,2436 130,2436 L995,2436 C1076.06503,2436 1125,2387.06503 1125,2306 L1125,130 C1125,48.934969 1076.06503,0 995,0 L899,0 C876,0 876,13.1450195 876,26 Z'/>",hands:{"Hand 1":{package:"@framer/framer.device-hand-iphone-1",width:3567,height:5558,offset:-15},"Hand 2":{package:"@framer/framer.device-hand-iphone-2",width:3567,height:5558,offset:-15}}}),t.FramerAppleIPhoneXR=i({selector:"Apple iPhone XR",screenWidth:828,screenHeight:1792,pixelRatio:2,skins:{Blue:{package:"@framer/framer.device-skin-apple-iphone-xr-blue"},Coral:{package:"@framer/framer.device-skin-apple-iphone-xr-coral"},Red:{package:"@framer/framer.device-skin-apple-iphone-xr-red"},Silver:{package:"@framer/framer.device-skin-apple-iphone-xr-silver"},"Space Gray":{package:"@framer/framer.device-skin-apple-iphone-xr-spacegrey"},Yellow:{package:"@framer/framer.device-skin-apple-iphone-xr-yellow"}},svgScreenMask:"<path fill='#000' d='M171,5.68434189e-14 C178.179702,5.68434189e-14 184,5.82029825 184,13 C184.671387,25.1625977 187.04912,32.8738094 190.811884,39.9095654 C195.256715,48.2206766 201.779323,54.7432852 210.090435,59.1881161 C218.401546,63.6329469 227.73588,66 243.926397,66 L584.073603,66 C600.26412,66 609.598454,63.6329469 617.909565,59.1881161 C626.220677,54.7432852 632.743285,48.2206766 637.188116,39.9095654 C640.95016,32.8751542 643.243408,25.0819092 644,13 C644,5.82029825 649.820298,5.68434189e-14 657,5.68434189e-14 L721.598764,0 C758.596792,5.68434189e-14 772.013171,3.85226286 785.539097,11.0860072 C799.065023,18.3197516 809.680248,28.9349774 816.913993,42.4609033 C824.147737,55.9868292 828,69.4032081 828,106.401236 L828,1685.59876 C828,1722.59679 824.147737,1736.01317 816.913993,1749.5391 C809.680248,1763.06502 799.065023,1773.68025 785.539097,1780.91399 C772.013171,1788.14774 758.596792,1792 721.598764,1792 L106.401236,1792 C69.4032081,1792 55.9868292,1788.14774 42.4609033,1780.91399 C28.9349774,1773.68025 18.3197516,1763.06502 11.0860072,1749.5391 C3.85226286,1736.01317 0,1722.59679 0,1685.59876 L0,106.401236 C0,69.4032081 3.85226286,55.9868292 11.0860072,42.4609033 C18.3197516,28.9349774 28.9349774,18.3197516 42.4609033,11.0860072 C55.9868292,3.85226286 69.4032081,5.68434189e-14 106.401236,5.68434189e-14 L171,5.68434189e-14 Z'/>",hands:{"Hand 1":{package:"@framer/framer.device-hand-iphone-1",width:2708,height:4220,offset:-15},"Hand 2":{package:"@framer/framer.device-hand-iphone-2",width:2708,height:4220,offset:-15}}}),t.FramerAppleIPhoneXSMax=i({selector:"Apple iPhone XS Max",screenWidth:1242,screenHeight:2688,pixelRatio:3,skins:{"Space Gray":{package:"@framer/framer.device-skin-apple-iphone-xs-max-spacegrey"},Silver:{package:"@framer/framer.device-skin-apple-iphone-xs-max-silver"},Gold:{package:"@framer/framer.device-skin-apple-iphone-xs-max-gold"}},svgScreenMask:"<path fill='#000000' d='M288,0 C297.941125,0 305.72957,8.05894469 306,18 C306.542114,37.9282227 309.576285,48.4396546 314.815379,58.2359082 C320.567513,68.9914638 329.008536,77.4324867 339.764092,83.1846208 C350.519647,88.9367548 362.090097,92 386.098193,92 L855.901807,92 C879.909903,92 891.480353,88.9367548 902.235908,83.1846208 C912.991464,77.4324867 921.432487,68.9914638 927.184621,58.2359082 C932.426286,48.434846 935.425964,37.958374 936,18 C936.285921,8.05895296 944.058875,0 954,0 L1092.01272,6.0596658e-15 C1144.16656,-3.52084034e-15 1163.07881,5.43029825 1182.14547,15.6272632 C1201.21214,25.8242281 1216.17577,40.7878597 1226.37274,59.8545263 C1236.5697,78.921193 1242,97.8334379 1242,149.987284 L1242,2538.01272 C1242,2590.16656 1236.5697,2609.07881 1226.37274,2628.14547 C1216.17577,2647.21214 1201.21214,2662.17577 1182.14547,2672.37274 C1163.07881,2682.5697 1144.16656,2688 1092.01272,2688 L149.987284,2688 C97.8334379,2688 78.921193,2682.5697 59.8545263,2672.37274 C40.7878597,2662.17577 25.8242281,2647.21214 15.6272632,2628.14547 C5.43029825,2609.07881 -5.4496192e-14,2590.16656 -6.08831961e-14,2538.01272 L4.0397772e-15,149.987284 C-2.34722689e-15,97.8334379 5.43029825,78.921193 15.6272632,59.8545263 C25.8242281,40.7878597 40.7878597,25.8242281 59.8545263,15.6272632 C78.921193,5.43029825 97.8334379,3.52084034e-15 149.987284,-6.0596658e-15 L288,-4.28410666e-15 Z'/>",hands:{"Hand 1":{package:"@framer/framer.device-hand-iphone-1",width:3949,height:6154,offset:-15},"Hand 2":{package:"@framer/framer.device-hand-iphone-2",width:3949,height:6154,offset:-15}}}),t.FramerGoogleNexus4=i({selector:"Google Nexus 4",screenWidth:768,screenHeight:1280,skins:{Phone:{package:"@framer/framer.device-skin-google-nexus-4"}},hands:{"Hand 1":{package:"@framer/framer.device-hand-iphone-1",width:2362,height:3681,offset:-52},"Hand 2":{package:"@framer/framer.device-hand-iphone-2",width:2362,height:3681,offset:-52}}}),t.FramerGoogleNexus5X=i({selector:"Google Nexus 5X",screenWidth:1080,screenHeight:1920,pixelRatio:3,skins:{Phone:{package:"@framer/framer.device-skin-google-nexus-5x"}},hands:{"Hand 1":{package:"@framer/framer.device-hand-iphone-1",width:3292,height:5130,offset:8},"Hand 2":{package:"@framer/framer.device-hand-iphone-2",width:3292,height:5130,offset:8}}}),t.FramerGoogleNexus6=i({selector:"Google Nexus 6",screenWidth:1440,screenHeight:2560,pixelRatio:3.5,skins:{Phone:{package:"@framer/framer.device-skin-google-nexus-6p"}},hands:{"Hand 1":{package:"@framer/framer.device-hand-iphone-1",width:4304,height:6707,offset:8},"Hand 2":{package:"@framer/framer.device-hand-iphone-2",width:4304,height:6707,offset:8}}}),t.FramerGooglePixel2=i({selector:"Google Pixel 2",screenWidth:1080,screenHeight:1920,pixelRatio:2.627,skins:{"Clearly White":{package:"@framer/framer.device-skin-google-pixel-2-clearly-white"},"Just Black":{package:"@framer/framer.device-skin-google-pixel-2-just-black"},"Kinda Blue":{package:"@framer/framer.device-skin-google-pixel-2-kinda-blue"}},hands:{"Hand 1":{package:"@framer/framer.device-hand-iphone-1",width:3316,height:5167},"Hand 2":{package:"@framer/framer.device-hand-iphone-2",width:3316,height:5167}}}),t.FramerGooglePixel2XL=i({selector:"Google Pixel 2 XL",screenWidth:1440,screenHeight:2880,pixelRatio:4,svgScreenMask:"<path d='M 0 84 C 0 37.608 37.608 0 84 0 L 1356 0 C 1402.392 0 1440 37.608 1440 84 L 1440 2796 C 1440 2842.392 1402.392 2880 1356 2880 L 84 2880 C 37.608 2880 0 2842.392 0 2796 Z' fill='#000'></path>",skins:{"Black and White":{package:"@framer/framer.device-skin-google-pixel-2-xl-black-and-white"},"Just Black":{package:"@framer/framer.device-skin-google-pixel-2-xl-just-black"}},hands:{"Hand 1":{package:"@framer/framer.device-hand-iphone-1",width:4530,height:7059},"Hand 2":{package:"@framer/framer.device-hand-iphone-2",width:4530,height:7059}}}),t.FramerGooglePixel3=i({selector:"Google Pixel 3",screenWidth:1080,screenHeight:2160,pixelRatio:2.627,svgScreenMask:"<rect width='1080' height='2160' fill='#000000' rx='45'/>",skins:{"Clearly White":{package:"@framer/framer.device-skin-google-pixel-3-clearlywhite"},"Just Black":{package:"@framer/framer.device-skin-google-pixel-3-justblack"},"Not Pink":{package:"@framer/framer.device-skin-google-pixel-3-notpink"}},hands:{"Hand 1":{package:"@framer/framer.device-hand-iphone-1",width:3316,height:5167},"Hand 2":{package:"@framer/framer.device-hand-iphone-2",width:3316,height:5167}}}),t.FramerGooglePixel3XL=i({selector:"Google Pixel 3XL",screenWidth:1440,screenHeight:2960,pixelRatio:3.5,svgScreenMask:"<path fill='#000000' d='M108,2.31946634e-07 L409.011687,1.55059141e-06 C439.939632,1.61701389e-06 465.011686,25.0720554 465.011686,56.000001 C465.011686,56.0002891 465.011686,56.0005772 465.011686,56.0008653 C465.011487,68.8875673 465.011388,78.9499079 465.011388,86.1878871 C465.011388,112.694005 475.444384,126.121845 486.431948,139.121281 C497.419513,152.120716 524.145044,170.83411 558.848058,170.83411 C665.879469,170.83411 865.259791,170.83411 879.942291,170.83411 C903.258059,170.83411 932.491466,162.064769 949.852489,143.266488 C967.213512,124.468207 976.173524,106.310104 976.173524,84.0828788 C976.173524,73.7219195 976.173524,63.3609603 976.173524,53.000001 L976.173524,53.000001 C976.173524,23.7289093 999.902432,1.06170877e-06 1029.17352,9.98686559e-07 L1331.02038,1.42108547e-14 C1391.21942,-1.2961176e-07 1440.02038,48.800962 1440.02038,109 L1440.02038,2905.00059 C1440.02038,2935.37625 1415.39605,2960.00059 1385.02038,2960.00059 L58,2960.00059 C25.9674845,2960.00059 3.92285176e-15,2934.0331 0,2902.00059 L-2.31946629e-07,108 C-2.31946636e-07,48.353247 48.3532468,1.09569308e-14 108,0 Z'/>",skins:{"Clearly White":{package:"@framer/framer.device-skin-google-pixel-3xl-clearlywhite"},"Just Black":{package:"@framer/framer.device-skin-google-pixel-3xl-justblack"},"Not Pink":{package:"@framer/framer.device-skin-google-pixel-3xl-notpink"}},hands:{"Hand 1":{package:"@framer/framer.device-hand-iphone-1",width:4530,height:7059},"Hand 2":{package:"@framer/framer.device-hand-iphone-2",width:4530,height:7059}}}),t.FramerHTCOneA9=i({selector:"HTC One A9",screenWidth:1080,screenHeight:1920,pixelRatio:3,skins:{Black:{package:"@framer/framer.device-skin-htc-one-a9-black"},White:{package:"@framer/framer.device-skin-htc-one-a9-white"}},hands:{"Hand 1":{package:"@framer/framer.device-hand-iphone-1",width:3436,height:5354},"Hand 2":{package:"@framer/framer.device-hand-iphone-2",width:3436,height:5354}}}),t.FramerMicrosoftLumia950=i({selector:"Microsoft Lumia 950",screenWidth:1440,screenHeight:2560,pixelRatio:4,skins:{Black:{package:"@framer/framer.device-skin-microsoft-lumia-950-black"},White:{package:"@framer/framer.device-skin-microsoft-lumia-950-white"}},hands:{"Hand 1":{package:"@framer/framer.device-hand-iphone-1",width:4494,height:7003,offset:-84},"Hand 2":{package:"@framer/framer.device-hand-iphone-2",width:4494,height:7003,offset:-84}}}),t.FramerSamsungNote5=i({selector:"Samsung Note 5",screenWidth:1440,screenHeight:2560,pixelRatio:4,skins:{Black:{package:"@framer/framer.device-skin-samsung-note-5-black"},Gold:{package:"@framer/framer.device-skin-samsung-note-5-gold"},Pink:{package:"@framer/framer.device-skin-samsung-note-5-pink"},"Silver Titanium":{package:"@framer/framer.device-skin-samsung-note-5-silver-titanium"},White:{package:"@framer/framer.device-skin-samsung-note-5-white"}},hands:{"Hand 1":{package:"@framer/framer.device-hand-iphone-1",width:4279,height:6668,offset:-84},"Hand 2":{package:"@framer/framer.device-hand-iphone-2",width:4279,height:6668,offset:-84}}}),t.FramerSamsungGalaxyS8=i({selector:"Samsung Galaxy S8",screenWidth:1440,screenHeight:2960,pixelRatio:4,svgScreenMask:"<path d='M 125 0 C 53.755 0 0 62.755 0 134 L 0 2826 C 0 2897.245 53.755 2960 125 2960 L 1315 2960 C 1386.245 2960 1440 2897.245 1440 2826 L 1440 134 C 1440 62.755 1386.245 0 1315 0 Z' fill='#000'></path>",skins:{"Artic Silver":{package:"@framer/framer.device-skin-samsung-s8-artic-silver"},"Coral Blue":{package:"@framer/framer.device-skin-samsung-s8-coral-blue"},"Maple Gold":{package:"@framer/framer.device-skin-samsung-s8-maple-gold"},"Midnight Black":{package:"@framer/framer.device-skin-samsung-s8-midnight-black"},"Orchid Gray":{package:"@framer/framer.device-skin-samsung-s8-orchid-gray"}},hands:{"Hand 1":{package:"@framer/framer.device-hand-iphone-1",width:4210,height:6560},"Hand 2":{package:"@framer/framer.device-hand-iphone-2",width:4210,height:6560}}}),t.FramerSamsungGalaxyS9=i({selector:"Samsung Galaxy S9",screenWidth:1440,screenHeight:2960,pixelRatio:4,svgScreenMask:"<path fill='#000000' d='M125.020384,0 C53.7756513,0 0.0203840029,62.7552673 0.0203840029,134 L0.0203840029,2826 C0.0203840029,2897.24473 53.7756513,2960 125.020384,2960 L1315.02038,2960 C1386.26512,2960 1440.02038,2897.24473 1440.02038,2826 L1440.02038,134 C1440.02038,62.7552673 1386.26512,0 1315.02038,0 L125.020384,0 Z'/>",skins:{"Burgundy Red":{package:"@framer/framer.device-skin-samsung-galaxy-s9-burgundyred"},"Coral Blue":{package:"@framer/framer.device-skin-samsung-galaxy-s9-coralblue"},"Lilac Purple":{package:"@framer/framer.device-skin-samsung-galaxy-s9-lilacpurple"},"Midnight Black":{package:"@framer/framer.device-skin-samsung-galaxy-s9-midnightblack"},"Sunrise Gold":{package:"@framer/framer.device-skin-samsung-galaxy-s9-sunrisegold"},"Titanium Gray":{package:"@framer/framer.device-skin-samsung-galaxy-s9-titaniumgray"}},hands:{"Hand 1":{package:"@framer/framer.device-hand-iphone-1",width:4210,height:6560},"Hand 2":{package:"@framer/framer.device-hand-iphone-2",width:4210,height:6560}}}),t.FramerAppleIPadAir=i({selector:"Apple iPad Air",kind:"tablet",screenWidth:1536,screenHeight:2048,skins:{Gold:{package:"@framer/framer.device-skin-apple-ipad-air-gold"},Silver:{package:"@framer/framer.device-skin-apple-ipad-air-silver"},"Space Gray":{package:"@framer/framer.device-skin-apple-ipad-air-space-gray"}}}),t.FramerAppleIPadMini=i({selector:"Apple iPad Mini",kind:"tablet",screenWidth:1536,screenHeight:2048,skins:{Gold:{package:"@framer/framer.device-skin-apple-ipad-mini-gold"},Silver:{package:"@framer/framer.device-skin-apple-ipad-mini-silver"},"Space Gray":{package:"@framer/framer.device-skin-apple-ipad-mini-space-gray"}}}),t.FramerAppleIPadPro=i({selector:"Apple iPad Pro",kind:"tablet",screenWidth:2048,screenHeight:2732,skins:{Gold:{package:"@framer/framer.device-skin-apple-ipad-pro-gold"},Silver:{package:"@framer/framer.device-skin-apple-ipad-pro-silver"},"Space Gray":{package:"@framer/framer.device-skin-apple-ipad-pro-space-gray"}}}),t.FramerGoogleNexusTablet=i({selector:"Google Nexus Tablet",kind:"tablet",screenWidth:1536,screenHeight:2048,skins:{Tablet:{package:"@framer/framer.device-skin-google-nexus-9"}}}),t.FramerMicrosoftSurfacePro3=i({selector:"Microsoft Surface Pro 3",kind:"tablet",screenWidth:2160,screenHeight:1440,pixelRatio:1.5,skins:{Surface:{package:"@framer/framer.device-skin-microsoft-surface-pro-3"}}}),t.FramerMicrosoftSurfacePro4=i({selector:"Microsoft Surface Pro 4",kind:"tablet",screenWidth:2736,screenHeight:1824,skins:{Surface:{package:"@framer/framer.device-skin-microsoft-surface-pro-4"}}}),t.FramerAppleIMac=i({selector:"Apple iMac",kind:"computer",screenWidth:5120,screenHeight:2880,canRotate:!1,skins:{iMac:{package:"@framer/framer.device-skin-apple-imac"}}}),t.FramerAppleThunderboltDisplay=i({selector:"Apple Thunderbolt Display",kind:"computer",screenWidth:2560,screenHeight:1440,pixelRatio:1,canRotate:!1,skins:{Display:{package:"@framer/framer.device-skin-apple-thunderbolt-display"}}}),t.FramerAppleMacBook=i({selector:"Apple MacBook",kind:"computer",screenWidth:2304,screenHeight:1440,canRotate:!1,skins:{MacBook:{package:"@framer/framer.device-skin-apple-macbook"}}}),t.FramerAppleMacBookAir=i({selector:"Apple MacBook Air",kind:"computer",screenWidth:1440,screenHeight:900,pixelRatio:1,canRotate:!1,skins:{"MacBook Air":{package:"@framer/framer.device-skin-apple-macbook-air"}}}),t.FramerAppleMacBookPro=i({selector:"Apple MacBook Pro",kind:"computer",screenWidth:2880,screenHeight:1800,canRotate:!1,skins:{"MacBook Pro":{package:"@framer/framer.device-skin-apple-macbook-pro"}}}),t.FramerDellXPS=i({selector:"Dell XPS",kind:"computer",screenWidth:3840,screenHeight:2160,canRotate:!1,skins:{Display:{package:"@framer/framer.device-skin-dell-xps"}}}),t.FramerMicrosoftSurfaceBook=i({selector:"Microsoft Surface Book",kind:"computer",screenWidth:3e3,screenHeight:2e3,canRotate:!1,skins:{"Surface Book":{package:"@framer/framer.device-skin-microsoft-surface-book"}}}),t.FramerSonyW850C=i({selector:"Sony W850C",kind:"tv",screenWidth:1280,screenHeight:720,pixelRatio:1,canRotate:!1,skins:{TV:{package:"@framer/framer.device-skin-sony-w850c"}}}),t.FramerStoreArtwork=i({selector:"Artwork",kind:"store",screenWidth:800,screenHeight:600,pixelRatio:1,canRotate:!1,skins:{}}),t.FramerStoreIcon=i({selector:"Icon",kind:"store",screenWidth:50,screenHeight:50,pixelRatio:1,canRotate:!1,skins:{}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(350),i=n(352),o=n(24),s=n(24);function animate(e,t,n,i){const a=e;let c;c=s.isAnimatable(e)?e.get():o.Animatable.objectToValues(e);const l=new r.FramerAnimation(a,c,t,n,i);return l.play(),l}t.animate=animate,function(e){e.spring=function spring(t,n,r){return e(t,n,i.SpringAnimator,r)},e.bezier=function bezier(t,n,r){return e(t,n,i.BezierAnimator,r)},e.linear=function linear(t,n,r){return e.bezier(t,n,Object.assign({},r,{curve:i.Bezier.Linear}))},e.ease=function ease(t,n,r){return e.bezier(t,n,Object.assign({},r,{curve:i.Bezier.Ease}))},e.easeIn=function easeIn(t,n,r){return e.bezier(t,n,Object.assign({},r,{curve:i.Bezier.EaseIn}))},e.easeOut=function easeOut(t,n,r){return e.bezier(t,n,Object.assign({},r,{curve:i.Bezier.EaseOut}))},e.easeInOut=function easeInOut(t,n,r){return e.bezier(t,n,Object.assign({},r,{curve:i.Bezier.EaseInOut}))}}(animate=t.animate||(t.animate={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Defaults={delta:1/60,maxValues:1e4};t.PrecalculatedAnimator=class PrecalculatedAnimator{constructor(e){this.currentTime=0,this.options=Object.assign({},t.Defaults,e),this.animator=e.animator}preCalculate(){if(!this.animator.isReady())return;const{delta:e}=this.options;for(this.values=[];!this.animator.isFinished()&&this.values.length<this.options.maxValues;){let e=this.animator.next(this.options.delta);if("object"==typeof e&&e){const t=e;e=Object.assign({},t)}this.values.push(e)}this.totalTime=this.values.length*e}indexForTime(e){return Math.max(0,Math.min(this.values.length-1,Math.round(this.values.length*(e/this.totalTime))-1))}setFrom(e){this.animator.setFrom(e),this.preCalculate()}setTo(e){this.animator.setTo(e),this.preCalculate()}isReady(){return void 0!==this.values&&this.values.length>0&&this.totalTime>0}next(e){this.currentTime+=e;const t=this.indexForTime(this.currentTime);return this.values[t]}isFinished(){return 0===this.totalTime||this.currentTime>=this.totalTime}get endValue(){this.preCalculate();const e=this.indexForTime(this.totalTime);return this.values.length>0?this.values[e]:this.animator.next(0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(632),o=Symbol("default");t.DataContext=r.createContext(o),t.createData=function createData(e,n){const o=new Map;return(s,a)=>{const c=r.useContext(t.DataContext);s=s||c;const l=r.useMemo(()=>(o.has(s)||o.set(s,i.createStore(a||e,n)),o.get(s)),[s]),[,u]=r.useState(l.getVersion());return r.useEffect(()=>l.subscribe(u),[l]),[l.get(),l.getActions()]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStore=function createStore(e,t){let n=e,r=0;const i=new Set,o=e=>e(r),s=()=>n,a=e=>{r++,n=e,i.forEach(o)},c=t?function bindActionsToStore(e,t,n){const r={};for(const i in n)r[i]=r=>t(n[i](e(),r));return r}(s,a,t):a;return{get:s,set:a,getVersion:()=>r,getActions:()=>c,subscribe:e=>(i.add(e),()=>i.delete(e))}}},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(0),s=n(354),a=n(634),c=n(121);t.WithOverride=function WithOverride(e,t){const n="function"==typeof t?e=>t(a.convertColorProps(e)):()=>t,l=function(t){o.useContext(s.DataObserverContext);const a=n(t),c=t,{style:l}=c,u=r(c,["style"]);return i.createElement(e,Object.assign({},u,a,{_initialStyle:l}))};return c(l,e),l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(150);function convertColorObject(e){return"string"==typeof e||i.isMotionValue(e)?e:r.LinearGradient.isLinearGradient(e)?r.LinearGradient.toCSS(e):r.RadialGradient.isRadialGradient(e)?r.RadialGradient.toCSS(e):r.Color.isColorObject(e)?r.Color.toRgbString(e):e}t.convertColorProps=function convertColorProps(e){if(e.background||e.color){const t=Object.assign({},e);return e.background&&(t.background=convertColorObject(e.background)),e.color&&(t.color=convertColorObject(e.color)),t}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=Symbol();t.addActionControls=function addActionControls(e,t,n){const i={title:t,controls:n};e[r]=i},t.getActionControls=function getActionControls(e){return e[r]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(122),i=n(637);function PropertyStore(e={},t=!1){return i.deprecationWarning("PropertyStore","1.0.0","Data() or ObservableObject()"),r.ObservableObject(e,t)}t.PropertyStore=PropertyStore,function(e){e.addObserver=function addObserver(e,t){return r.ObservableObject.addObserver(e,t)}}(PropertyStore=t.PropertyStore||(t.PropertyStore={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deprecationWarning=function deprecationWarning(e,t,n){const r=`Deprecation warning: ${e} will be removed in version ${t}${n?`, use ${n} instead`:""}.`;console.warn(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadJSON=function loadJSON(e){return fetch(e,{mode:"cors"}).then(e=>e.json())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(640);t.print=function print(...e){const t=e.map(e=>r.inspect(e)).join(", ");console.log(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(641),i=n(340);t.inspect=function inspect(e,t,n){if(void 0===t&&(t=5),void 0===n&&(n=0),null===e)return"null";if(void 0===e)return"undefined";if(i.isFunction(e.toInspect))return e.toInspect();if(i.isString(e))return`"${e}"`;if(i.isNumber(e))return`${e}`;if(i.isFunction(e)){let t=e.toString().slice("function ".length).replace(/\n/g,"").replace(/\s+/g," ");const r=50;return t.length>r&&n>0&&(t=`${t.slice(0,+r+1||void 0).trim()}… }`),`<Function ${t}>`}if(i.isArray(e))return n>t?"[...]":`[${e.map(e=>inspect(e,t,(n||0)+1)).join(", ")}]`;if(i.isObject(e)){let i;const o=r.inspectObjectType(e);return/HTML\w+?Element/.test(o)?`<${o}>`:(i=n>t?"{...}":`{${Object.keys(e).map(r=>`${r}:${inspect(e[r],t,(n||0)+1)}`).join(", ")}}`,"Object"===o?i:`<${o} ${i}>`)}return`${e}`}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inspectObjectType=function inspectObjectType(e){let t;if(null!==(null!==e.constructor?e.constructor.name:void 0)&&"Object"!==(null!==e.constructor?e.constructor.name:void 0))return e.constructor.name;const n=function(e){if(!e)return null;const t=/\[object (\w+)\]/.exec(e);return t?t[1]:null};return e.toString&&(t=n(e.toString()))?t:(null!==e.constructor?e.constructor.toString:void 0)&&(t=n(null!==e.constructor?e.constructor.toString():void 0))?t.replace("Constructor",""):"Object"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="1.0.18"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(644);t.componentLoader=r.componentLoader,t.ComponentLoaderInterface=r.ComponentLoaderInterface;var i=n(357);t.isErrorDefinition=i.isErrorDefinition;var o=n(359);t.isDesignDefinition=o.isDesignDefinition;var s=n(360);t.findMasters=s.findMasters;var a=n(653);t.ProjectBundleScriptsMap=a.ProjectBundleScriptsMap,t.ProjectBundleGlobalEnvironment=a.ProjectBundleGlobalEnvironment;var c=n(654);t.extractComponentDefinitionsFromScript=c.extractComponentDefinitionsFromScript},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(55),o=n(355),s=n(356),a=n(357),c=n(358),l=n(359),u=n(645),h=n(225),d=n(646),p=n(647),f=n(652),g=/[^a-zA-Z]/g;t.componentLoader=new class ComponentLoader{constructor(){this.state={localPackageIdentifier:c.localPackageFallbackIdentifier,packages:{},components:{},definitionsByPackage:{},visibleComponentIdentifiers:[],visiblePackageNames:[],visiblePackageFileNames:{},tokensByPackage:{}}}componentForIdentifier(e){return this.state.components[e]||null}componentsForPackage(e){return this.state.definitionsByPackage[e]||[]}componentIdentifiers(){return this.state.visibleComponentIdentifiers}errorForIdentifier(e){const{components:t,visiblePackageFileNames:n}=this.state,r=s.extractComponentNameFromIdentifier(e);for(const s in n){if(!n[s].includes(r))return o.createErrorDefinition(e,"Component file does not exist.",{fileDoesNotExist:!0});if(n[s].includes(r)&&!(r in t))return o.createErrorDefinition(e,"Component cannot be found.")}const i=t[r];return a.isErrorDefinition(i)?i:null}forEachComponent(e){for(const t of this.state.visibleComponentIdentifiers){const n=this.state.components[t];if(!a.isErrorDefinition(n)&&e(n))break}}forEachDesignComponents(e){this.forEachComponent(t=>{if(l.isDesignDefinition(t))return e(t)})}localPackageIdentifier(){return this.state.localPackageIdentifier}packageDisplayName(e){const t=this.state.packages[e];return t&&t.displayName}packageIdentifiers(){return this.state.visiblePackageNames}packageFileNames(e){return this.state.visiblePackageFileNames[e]}tokensForPackage(e){return this.state.tokensByPackage[e]}updateStateWithScripts(e,t,n={}){const i=e=>{if("react"===e)return r;if("react-dom"===e||"ReactDOM"===e)return u.optionalReactDOM();if("framer"===e)return t;if("framer/resource"===e)return{};throw Error(`Component loader: Can't require ${e}`)},o=window,s=document.head;if(!s)throw Error("assert: head is not present");const l={exports:{}};["vendors.js","index.js"].forEach(t=>{let n=e[t];if(!n){if("index.js"!==t||!e["vendors.js"])return;n=o.componentScript}const r=t.replace(g,"_"),a=`eval_${r}_script`,c=`bundle_script_${r}`,u=`function ${a}(module, exports, require) {\n${n}\n}\n${`//# sourceURL=${t}`}`;try{const e=s.querySelector(`.${c}`);e&&s.removeChild(e);const n=document.createElement("script");n.className=c,n.setAttribute("type","text/javascript"),n.textContent=u,s.appendChild(n),"index.js"===t&&(o.componentScript=u,o.componentSrc=n.src||location.toString()),o[a](l,l.exports,i)}catch(d){return void h.warn("An error occurred while reloading",d)}});let m=c.localPackageFallbackIdentifier;if(l.exports.__framer__){const{packageJson:e}=l.exports.__framer__;e&&e.name&&(m=e.name)}const v=d.collectPackages(l.exports),y=Object.assign({},n),S={},b=[],_=[],C={},w={};for(const r of Object.keys(v)){const e=v[r];e.depth<=1&&(_.push(r),C[r]=Object.keys(e.sourceModules));const t=p.collectEntities(e);S[r]=[];for(const n of Object.keys(t)){const i=t[n];a.isErrorDefinition(i)||(S[r].push(i),e.depth<=1&&b.push(n))}Object.assign(y,t),w[r]=f.collectTokens(e)}_.sort((e,t)=>v[e].displayName.localeCompare(v[t].displayName)),this.state={localPackageIdentifier:m,packages:v,components:y,definitionsByPackage:S,visibleComponentIdentifiers:b,visiblePackageNames:_,visiblePackageFileNames:C,tokensByPackage:w}}},i.componentLoader.componentForIdentifier=e=>t.componentLoader.componentForIdentifier(e),i.componentLoader.componentsForPackage=e=>t.componentLoader.componentsForPackage(e),i.componentLoader.componentIdentifiers=()=>t.componentLoader.componentIdentifiers(),i.componentLoader.errorForIdentifier=e=>t.componentLoader.errorForIdentifier(e),i.componentLoader.forEachComponent=e=>t.componentLoader.forEachComponent(e),i.componentLoader.forEachDesignComponents=e=>t.componentLoader.forEachDesignComponents(e),i.componentLoader.localPackageIdentifier=()=>t.componentLoader.localPackageIdentifier(),i.componentLoader.packageDisplayName=e=>t.componentLoader.packageDisplayName(e),i.componentLoader.packageIdentifiers=()=>t.componentLoader.packageIdentifiers(),i.componentLoader.packageFileNames=e=>t.componentLoader.packageFileNames(e),i.componentLoader.tokensForPackage=e=>t.componentLoader.tokensForPackage(e)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optionalReactDOM=function optionalReactDOM(){if("undefined"!=typeof window)return window.ReactDOM?window.ReactDOM:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(358),i=n(225);function getPackageInfo(e,t){const n=e.__framer__;if(!n)return null;const{packageJson:o,dependencies:s,sourceModules:a}=n;let{name:c}=o;return 0!==t||c||(c=r.localPackageFallbackIdentifier),c?{depth:t,displayName:o.framer&&o.framer.displayName||c,exportsObject:e,name:c,componentsJson:o.framer&&o.framer.components,designJson:o.design,dependencies:s||{},sourceModules:a||{}}:(i.warn("Failed to identify package"),null)}t.collectPackages=function collectPackages(e){const t={},n=[{exportsObject:e,depth:0}],r=new Set;for(;n.length>0;){const{exportsObject:e,depth:i}=n.shift(),o=getPackageInfo(e,i);if(o){t[o.name]=o,r.add(o.name);for(const e of Object.keys(o.dependencies))r.has(e)||(r.add(e),n.push({exportsObject:o.dependencies[e](),depth:i+1}))}}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(55),i=n(648),o=n(355),s=n(225),a=n(360),c=n(649);function loadSourceModule(e,t){let n;try{n=e.sourceModules[t]()||{}}catch(r){n={error:r}}if(n.error){const{error:r}=n,a=i.rewordCompileError(r.message);a&&(r.message=a),s.warn(`Error in file '${t}':`,r);const c=prefixIdentifier(e,t);return{[c]:o.createErrorDefinition(c,r,{depth:e.depth,packageIdentifier:e.name})}}return n.__info__?entitiesFromExports(n,n.__info__,{packageInfo:e,file:t,identifierPrefix:`${t}_`}):{}}function entitiesFromExports(e,t,n){const r={};for(const i of t){const t=e[i.name];if(!t){s.warn(`Entity '${i.name}' defined but not found in exports`);continue}const o=entityDefinitionFromInfo(i,t,n);r[o.identifier]=o}return r}function prefixIdentifier(e,t,n=""){return e.depth>0&&(n=`${e.name}/${n}`),`${n}${t}`}function entityDefinitionFromInfo(e,t,{identifierPrefix:n,packageInfo:i,file:o}){let s={};const a=t.userInterfaceName||e.name,l=r.getPropertyControls(t);return l&&(s=c.verifyPropertyControls(l)),e.children&&!s.children&&(s.children={title:"Content",type:r.ControlType.ComponentInstance}),{class:t,defaults:{},depth:i.depth,file:o||"",identifier:prefixIdentifier(i,a,n),name:t.userInterfaceName||a,packageIdentifier:i.name,properties:s,type:e.type}}t.collectEntities=function collectEntities(e){const t={},{componentsJson:n,depth:r,designJson:i,exportsObject:o,sourceModules:s}=e,c=Object.keys(s);if(c.length>0)for(const a of c)Object.assign(t,loadSourceModule(e,a));else if(n){const r={packageInfo:e};Object.assign(t,entitiesFromExports(o,n,r))}if(r>0&&i){const n=function mastersFromPackage(e,t){const n=[];return a.findMasters(e.root,t,n),n}(i,e.name);for(const i of n){const n=i.id;t[n]={class:i,depth:r,file:"design/document.json",identifier:n,name:i.name||"",packageIdentifier:e.name,properties:{},type:"master"}}}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r="Module parse failed: ";t.rewordCompileError=function rewordCompileError(e){if(!e.startsWith(r))return e;const t=e.split("\n"),n=t[0];if(!n)return e;const i=t.slice(2);return n.slice(r.length)+"\n"+i.join("\n")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(55),i=n(650),o=n(651),s={boolean:!0,number:!0,string:!0,fusednumber:!0,enum:!0,segmentedenum:!0,color:!0,image:!0,file:!0,componentinstance:!0,array:!0,eventHandler:!0};function getControlDescription(e){if("string"==typeof e)return isControlType(e)?{type:e}:void 0;const t=e.type;return"string"==typeof t&&isControlType(t)?e:void 0}function isControlType(e){return null!==s[e]&&void 0!==s[e]}function defaultControl(e){const t=toString(e.title),n=function toHiddenFunction(e){return"function"!=typeof e?void 0:e}(e.hidden);switch(e.type){case r.ControlType.Boolean:{const r=toString(e.disabledTitle),i=toString(e.enabledTitle),o=e.defaultValue,s=e.type;return{title:t,hidden:n,defaultValue:toBoolean(o),type:s,disabledTitle:r,enabledTitle:i}}case r.ControlType.Number:{const r=toNumber(e.min),i=toNumber(e.max),o=toString(e.unit),s=toNumber(e.step),a=toBoolean(e.displayStepper),{defaultValue:c,type:l}=e;return{title:t,hidden:n,defaultValue:toNumber(c),type:l,min:r,max:i,unit:o,step:s,displayStepper:a}}case r.ControlType.String:{const{type:r,defaultValue:i}=e;return{title:t,hidden:n,defaultValue:i,type:r,placeholder:toString(e.placeholder),obscured:toBoolean(e.obscured)}}case r.ControlType.FusedNumber:{const{type:r}=e,i=e,s=i.defaultValue,a=toString4(i.valueKeys),c=toString4(i.valueLabels),l=toNumber(i.min);let u=toString(i.toggleKey),h=toString2(i.toggleTitles);if(!u){if(!(u=toString(i.splitKey)))return null;o.deprecationWarning("splitKey option of FusedNumber control type","1.0.0","toggleKey")}if(!h){if(!(h=toString2(i.splitLabels)))return null;o.deprecationWarning("splitLabels option of FusedNumber control type","1.0.0","toggleTitles")}return u&&h&&a&&c?{title:t,hidden:n,defaultValue:toNumber(s),type:r,toggleKey:u,toggleTitles:h,valueKeys:a,valueLabels:c,min:l}:null}case r.ControlType.Enum:case r.ControlType.SegmentedEnum:{const{defaultValue:r,type:i}=e,o=toStringList(e.options);if(!o)return null;const s=toStringList(e.optionTitles)||toStringArrayFunction(e.optionTitles);return{title:t,hidden:n,defaultValue:toString(r),type:i,options:o,optionTitles:s}}case r.ControlType.Color:{const{type:r,defaultValue:i}=e;return{title:t,hidden:n,defaultValue:toString(i),type:r}}case r.ControlType.Image:{const{type:r}=e;return{title:t,hidden:n,type:r}}case r.ControlType.File:{const{type:r}=e,i=toStringList(e.allowedFileTypes);return i?{title:t,hidden:n,type:r,allowedFileTypes:i}:null}case r.ControlType.ComponentInstance:return{title:t,hidden:n,type:e.type};case r.ControlType.Array:if(!e.propertyControl||!e.propertyControl.type)return null;const i=defaultControl(e.propertyControl);if(!i)return null;if(i.type===r.ControlType.Array)return null;if(i.type===r.ControlType.EventHandler)return null;const s=toNumber(e.maxCount,1);return{title:t,hidden:n,type:e.type,propertyControl:i,maxCount:s,defaultValue:toArray(e.defaultValue,i.type)};case r.ControlType.EventHandler:return{title:t,hidden:n,type:e.type}}return null}function toBoolean(e){return!0===e||!1===e?e:void 0}function toNumber(e,t){return"number"==typeof e&&(!i.isFiniteNumber(t)||e>=t)?e:void 0}function toString(e){if("string"==typeof e)return e}function toStringList(e){if(e instanceof Array)return e.map(e=>toString(e)).filter(e=>e)}function toString2(e){if(!(e instanceof Array))return;const t=toString(e[0]),n=toString(e[1]);return t&&n?[t,n]:void 0}function toString4(e){if(!(e instanceof Array))return;const t=toString(e[0]),n=toString(e[1]),r=toString(e[2]),i=toString(e[3]);return t&&n&&r&&i?[t,n,r,i]:void 0}function toStringArrayFunction(e){if("function"==typeof e)return e}function toArray(e,t){if(Array.isArray(e))switch(t){case r.ControlType.Boolean:return e.filter(e=>!0===e||!1===e);case r.ControlType.Number:return e.filter(i.isFiniteNumber);case r.ControlType.String:case r.ControlType.Enum:case r.ControlType.SegmentedEnum:case r.ControlType.Color:return toStringList(e);default:return}}t.verifyPropertyControls=function verifyPropertyControls(e){const t={};for(const n in e){const r=getControlDescription(e[n]);if(!r)continue;const i=defaultControl(r);i&&(t[n]=i)}return t}},function(e,t,n){"use strict";function isFiniteNumber(e){return"number"==typeof e&&isFinite(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isFiniteNumber=isFiniteNumber,t.finiteNumber=function finiteNumber(e){return isFiniteNumber(e)?e:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deprecationWarning=function deprecationWarning(e,t,n){const r=`Deprecation warning: ${e} will be removed in version ${t}${n?`, use ${n} instead`:""}.`;console.warn(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.collectTokens=function collectTokens(e){const t={},{depth:n,designJson:r}=e;if(n>0&&r&&r.root&&r.root.tokens){const e=r.root.tokensIndex||Object.keys(r.root.tokens);for(const n of e)t[n]=r.root.tokens[n]}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";function execAll(e,t){const n=[];for(;;){const r=e.exec(t);if(!r)break;n.push(r)}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.extractComponentDefinitionsFromScript=function extractComponentDefinitionsFromScript(e){const t=execAll(/^exports\.__info__ = (.*)\;/gm,e),n=execAll(/^\/\*\*\*\/ \"(.*)\"\:$/gm,e),r=t.map(e=>({type:"info",index:e.index,text:e[1]})),i=n.map(e=>({type:"file",index:e.index,text:e[1]})),o=r.concat(i);o.sort((e,t)=>e.index-t.index);const s=[];let a=null;for(const u of o)if("file"!==u.type){if(a)try{const e=JSON.parse(u.text);a.infos.push(...e)}catch(l){}}else a={name:u.text,infos:[]},s.push(a);const c=new Map;for(const u of s){const e=u.name.replace("./code/","./"),t=u.infos.map(t=>({file:e,type:t.type,name:t.name,packageIdentifier:"",class:{},depth:0,identifier:e+"_"+t.name,properties:{}}));c.set(e,t)}return c}},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(656)),__export(n(657)),__export(n(658)),__export(n(659)),__export(n(660)),__export(n(661)),__export(n(662)),__export(n(663)),__export(n(664)),__export(n(665)),__export(n(666)),__export(n(667)),__export(n(668)),__export(n(669)),__export(n(670)),__export(n(671)),__export(n(672)),__export(n(673)),__export(n(674)),__export(n(675)),__export(n(676)),__export(n(677)),__export(n(678)),__export(n(679)),__export(n(680)),__export(n(681)),__export(n(682)),__export(n(683)),__export(n(684)),__export(n(685)),__export(n(686)),__export(n(687)),__export(n(688)),__export(n(689)),__export(n(690)),__export(n(691)),__export(n(692)),__export(n(693)),__export(n(694)),__export(n(695)),__export(n(696)),__export(n(697)),__export(n(698)),__export(n(699)),__export(n(700)),__export(n(701)),__export(n(702)),__export(n(703)),__export(n(704)),__export(n(705)),__export(n(706)),__export(n(707)),__export(n(708)),__export(n(709)),__export(n(710)),__export(n(711)),__export(n(712)),__export(n(713)),__export(n(714)),__export(n(715)),__export(n(716)),__export(n(717)),__export(n(718)),__export(n(719)),__export(n(720))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Active6030="active_60_30",e.AddedToOrganizationMembers="added_to_organization_members",e.AppBackground="app_background",e.AppForeground="app_foreground",e.AppLaunch="app_launch",e.CanvasPan="canvas_pan",e.CanvasZoom="canvas_zoom",e.ChangeMemberRole="change_member_role",e.ColorTokenCreate="color_token_create",e.ColorTokenSet="color_token_set",e.ComponentCodeCreate="component_code_create",e.ComponentCodeOverrideSet="component_code_override_set",e.ComponentDesignCreate="component_design_create",e.ComponentDesignInstance="component_design_instance",e.DrawingShapeCreate="drawing_shape_create",e.DrawingShapeEdit="drawing_shape_edit",e.EditorActive6030="editor_active_60_30",e.EditorCloseFile="editor_close_file",e.EditorCreateFile="editor_create_file",e.EditorOpenFile="editor_open_file",e.EmailChanged="email_changed",e.ExportBitmap="export_bitmap",e.ImportPasteBitmap="import_paste_bitmap",e.ImportPasteSketch="import_paste_sketch",e.InteractiveLinkCreate="interactive_link_create",e.InteractivePage="interactive_page",e.InteractivePageConnect="interactive_page_connect",e.InteractivePageCreate="interactive_page_create",e.InteractiveScroll="interactive_scroll",e.InteractiveScrollConnect="interactive_scroll_connect",e.InteractiveScrollCreate="interactive_scroll_create",e.LayoutFrame="layout_frame",e.LayoutFrameHierarchy="layout_frame_hierarchy",e.LayoutGraphic="layout_graphic",e.LayoutStack="layout_stack",e.OrganizationConfigurationChanged="organization_configuration_changed",e.PreviewInspector="preview_inspector",e.PreviewRemote="preview_remote",e.PreviewShown="preview_shown",e.RequestedTeamAccount="requested_team_account",e.RulersCreateGuide="rulers_create_guide",e.RulersDeleteGuide="rulers_delete_guide",e.RulersMoveGuide="rulers_move_guide",e.StoreBrowse="store_browse",e.StoreBrowseDetail="store_browse_detail",e.StoreFavorite="store_favorite",e.StoreInstall="store_install",e.StorePublishClick="store_publish_click",e.StorePublishCreate="store_publish_create",e.StorePublishUpdate="store_publish_update",e.StoreRequestedPrivateStore="store_requested_private_store",e.StoreUnfavorite="store_unfavorite",e.StoreUninstall="store_uninstall",e.StoreUseInstalled="store_use_installed",e.StoreVisitedPrivateStoreUpsell="store_visited_private_store_upsell",e.SubscriptionSeatChanged="subscription_seat_changed",e.ToggleRulers="toggle_rulers",e.TrialExtended="trial_extended",e.TutorialStarted="tutorial_started",e.TutorialStep="tutorial_step",e.UiInteraction="ui_interaction",e.UiLongFrame="ui_long_frame",e.UserLoginCookie="user_login_cookie",e.VekterPerformanceBenchmark="vekter_performance_benchmark"}(t.EventTypes||(t.EventTypes={}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createActive6030Event=function createActive6030Event(e){return console.warn("[DEPRECATED] Use triggerActive6030Event instead of createActive6030Event."),r({},e,{event:"active_60_30"})};var i={track:!0};t.triggerActive6030Event=function triggerActive6030Event(e){var t=r({},e,{event:"active_60_30"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createAddedToOrganizationMembersEvent=function createAddedToOrganizationMembersEvent(e){return console.warn("[DEPRECATED] Use triggerAddedToOrganizationMembersEvent instead of createAddedToOrganizationMembersEvent."),r({},e,{event:"added_to_organization_members"})};var i={track:!0};t.triggerAddedToOrganizationMembersEvent=function triggerAddedToOrganizationMembersEvent(e){var t=r({},e,{event:"added_to_organization_members"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createAppBackgroundEvent=function createAppBackgroundEvent(e){return console.warn("[DEPRECATED] Use triggerAppBackgroundEvent instead of createAppBackgroundEvent."),r({},e,{event:"app_background"})};var i={track:!0};t.triggerAppBackgroundEvent=function triggerAppBackgroundEvent(e){var t=r({},e,{event:"app_background"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createAppForegroundEvent=function createAppForegroundEvent(e){return console.warn("[DEPRECATED] Use triggerAppForegroundEvent instead of createAppForegroundEvent."),r({},e,{event:"app_foreground"})};var i={track:!0};t.triggerAppForegroundEvent=function triggerAppForegroundEvent(e){var t=r({},e,{event:"app_foreground"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createAppLaunchEvent=function createAppLaunchEvent(e){return console.warn("[DEPRECATED] Use triggerAppLaunchEvent instead of createAppLaunchEvent."),r({},e,{event:"app_launch"})};var i={track:!0};t.triggerAppLaunchEvent=function triggerAppLaunchEvent(e){var t=r({},e,{event:"app_launch"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createCanvasPanEvent=function createCanvasPanEvent(e){return console.warn("[DEPRECATED] Use triggerCanvasPanEvent instead of createCanvasPanEvent."),r({},e,{event:"canvas_pan"})};var i={track:!0};t.triggerCanvasPanEvent=function triggerCanvasPanEvent(e){var t=r({},e,{event:"canvas_pan"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createCanvasZoomEvent=function createCanvasZoomEvent(e){return console.warn("[DEPRECATED] Use triggerCanvasZoomEvent instead of createCanvasZoomEvent."),r({},e,{event:"canvas_zoom"})};var i={track:!0};t.triggerCanvasZoomEvent=function triggerCanvasZoomEvent(e){var t=r({},e,{event:"canvas_zoom"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createChangeMemberRoleEvent=function createChangeMemberRoleEvent(e){return console.warn("[DEPRECATED] Use triggerChangeMemberRoleEvent instead of createChangeMemberRoleEvent."),r({},e,{event:"change_member_role"})};var i={track:!0};t.triggerChangeMemberRoleEvent=function triggerChangeMemberRoleEvent(e){var t=r({},e,{event:"change_member_role"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createColorTokenCreateEvent=function createColorTokenCreateEvent(e){return console.warn("[DEPRECATED] Use triggerColorTokenCreateEvent instead of createColorTokenCreateEvent."),r({},e,{event:"color_token_create"})};var i={track:!0};t.triggerColorTokenCreateEvent=function triggerColorTokenCreateEvent(e){var t=r({},e,{event:"color_token_create"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createColorTokenSetEvent=function createColorTokenSetEvent(e){return console.warn("[DEPRECATED] Use triggerColorTokenSetEvent instead of createColorTokenSetEvent."),r({},e,{event:"color_token_set"})};var i={track:!0};t.triggerColorTokenSetEvent=function triggerColorTokenSetEvent(e){var t=r({},e,{event:"color_token_set"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createComponentCodeCreateEvent=function createComponentCodeCreateEvent(e){return console.warn("[DEPRECATED] Use triggerComponentCodeCreateEvent instead of createComponentCodeCreateEvent."),r({},e,{event:"component_code_create"})};var i={track:!0};t.triggerComponentCodeCreateEvent=function triggerComponentCodeCreateEvent(e){var t=r({},e,{event:"component_code_create"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createComponentCodeOverrideSetEvent=function createComponentCodeOverrideSetEvent(e){return console.warn("[DEPRECATED] Use triggerComponentCodeOverrideSetEvent instead of createComponentCodeOverrideSetEvent."),r({},e,{event:"component_code_override_set"})};var i={track:!0};t.triggerComponentCodeOverrideSetEvent=function triggerComponentCodeOverrideSetEvent(e){var t=r({},e,{event:"component_code_override_set"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createComponentDesignCreateEvent=function createComponentDesignCreateEvent(e){return console.warn("[DEPRECATED] Use triggerComponentDesignCreateEvent instead of createComponentDesignCreateEvent."),r({},e,{event:"component_design_create"})};var i={track:!0};t.triggerComponentDesignCreateEvent=function triggerComponentDesignCreateEvent(e){var t=r({},e,{event:"component_design_create"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createComponentDesignInstanceEvent=function createComponentDesignInstanceEvent(e){return console.warn("[DEPRECATED] Use triggerComponentDesignInstanceEvent instead of createComponentDesignInstanceEvent."),r({},e,{event:"component_design_instance"})};var i={track:!0};t.triggerComponentDesignInstanceEvent=function triggerComponentDesignInstanceEvent(e){var t=r({},e,{event:"component_design_instance"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createDrawingShapeCreateEvent=function createDrawingShapeCreateEvent(e){return console.warn("[DEPRECATED] Use triggerDrawingShapeCreateEvent instead of createDrawingShapeCreateEvent."),r({},e,{event:"drawing_shape_create"})};var i={track:!0};t.triggerDrawingShapeCreateEvent=function triggerDrawingShapeCreateEvent(e){var t=r({},e,{event:"drawing_shape_create"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createDrawingShapeEditEvent=function createDrawingShapeEditEvent(e){return console.warn("[DEPRECATED] Use triggerDrawingShapeEditEvent instead of createDrawingShapeEditEvent."),r({},e,{event:"drawing_shape_edit"})};var i={track:!0};t.triggerDrawingShapeEditEvent=function triggerDrawingShapeEditEvent(e){var t=r({},e,{event:"drawing_shape_edit"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createEditorActive6030Event=function createEditorActive6030Event(e){return console.warn("[DEPRECATED] Use triggerEditorActive6030Event instead of createEditorActive6030Event."),r({},e,{event:"editor_active_60_30"})};var i={track:!0};t.triggerEditorActive6030Event=function triggerEditorActive6030Event(e){var t=r({},e,{event:"editor_active_60_30"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createEditorCloseFileEvent=function createEditorCloseFileEvent(e){return console.warn("[DEPRECATED] Use triggerEditorCloseFileEvent instead of createEditorCloseFileEvent."),r({},e,{event:"editor_close_file"})};var i={track:!0};t.triggerEditorCloseFileEvent=function triggerEditorCloseFileEvent(e){var t=r({},e,{event:"editor_close_file"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createEditorCreateFileEvent=function createEditorCreateFileEvent(e){return console.warn("[DEPRECATED] Use triggerEditorCreateFileEvent instead of createEditorCreateFileEvent."),r({},e,{event:"editor_create_file"})};var i={track:!0};t.triggerEditorCreateFileEvent=function triggerEditorCreateFileEvent(e){var t=r({},e,{event:"editor_create_file"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createEditorOpenFileEvent=function createEditorOpenFileEvent(e){return console.warn("[DEPRECATED] Use triggerEditorOpenFileEvent instead of createEditorOpenFileEvent."),r({},e,{event:"editor_open_file"})};var i={track:!0};t.triggerEditorOpenFileEvent=function triggerEditorOpenFileEvent(e){var t=r({},e,{event:"editor_open_file"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createEmailChangedEvent=function createEmailChangedEvent(e){return console.warn("[DEPRECATED] Use triggerEmailChangedEvent instead of createEmailChangedEvent."),r({},e,{event:"email_changed"})};var i={track:!0};t.triggerEmailChangedEvent=function triggerEmailChangedEvent(e){var t=r({},e,{event:"email_changed"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createExportBitmapEvent=function createExportBitmapEvent(e){return console.warn("[DEPRECATED] Use triggerExportBitmapEvent instead of createExportBitmapEvent."),r({},e,{event:"export_bitmap"})};var i={track:!0};t.triggerExportBitmapEvent=function triggerExportBitmapEvent(e){var t=r({},e,{event:"export_bitmap"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createImportPasteBitmapEvent=function createImportPasteBitmapEvent(e){return console.warn("[DEPRECATED] Use triggerImportPasteBitmapEvent instead of createImportPasteBitmapEvent."),r({},e,{event:"import_paste_bitmap"})};var i={track:!0};t.triggerImportPasteBitmapEvent=function triggerImportPasteBitmapEvent(e){var t=r({},e,{event:"import_paste_bitmap"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createImportPasteSketchEvent=function createImportPasteSketchEvent(e){return console.warn("[DEPRECATED] Use triggerImportPasteSketchEvent instead of createImportPasteSketchEvent."),r({},e,{event:"import_paste_sketch"})};var i={track:!0};t.triggerImportPasteSketchEvent=function triggerImportPasteSketchEvent(e){var t=r({},e,{event:"import_paste_sketch"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createInteractiveLinkCreateEvent=function createInteractiveLinkCreateEvent(e){return console.warn("[DEPRECATED] Use triggerInteractiveLinkCreateEvent instead of createInteractiveLinkCreateEvent."),r({},e,{event:"interactive_link_create"})};var i={track:!0};t.triggerInteractiveLinkCreateEvent=function triggerInteractiveLinkCreateEvent(e){var t=r({},e,{event:"interactive_link_create"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createInteractivePageEvent=function createInteractivePageEvent(e){return console.warn("[DEPRECATED] Use triggerInteractivePageEvent instead of createInteractivePageEvent."),r({},e,{event:"interactive_page"})};var i={track:!0};t.triggerInteractivePageEvent=function triggerInteractivePageEvent(e){var t=r({},e,{event:"interactive_page"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createInteractivePageConnectEvent=function createInteractivePageConnectEvent(e){return console.warn("[DEPRECATED] Use triggerInteractivePageConnectEvent instead of createInteractivePageConnectEvent."),r({},e,{event:"interactive_page_connect"})};var i={track:!0};t.triggerInteractivePageConnectEvent=function triggerInteractivePageConnectEvent(e){var t=r({},e,{event:"interactive_page_connect"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createInteractivePageCreateEvent=function createInteractivePageCreateEvent(e){return console.warn("[DEPRECATED] Use triggerInteractivePageCreateEvent instead of createInteractivePageCreateEvent."),r({},e,{event:"interactive_page_create"})};var i={track:!0};t.triggerInteractivePageCreateEvent=function triggerInteractivePageCreateEvent(e){var t=r({},e,{event:"interactive_page_create"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createInteractiveScrollEvent=function createInteractiveScrollEvent(e){return console.warn("[DEPRECATED] Use triggerInteractiveScrollEvent instead of createInteractiveScrollEvent."),r({},e,{event:"interactive_scroll"})};var i={track:!0};t.triggerInteractiveScrollEvent=function triggerInteractiveScrollEvent(e){var t=r({},e,{event:"interactive_scroll"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createInteractiveScrollConnectEvent=function createInteractiveScrollConnectEvent(e){return console.warn("[DEPRECATED] Use triggerInteractiveScrollConnectEvent instead of createInteractiveScrollConnectEvent."),r({},e,{event:"interactive_scroll_connect"})};var i={track:!0};t.triggerInteractiveScrollConnectEvent=function triggerInteractiveScrollConnectEvent(e){var t=r({},e,{event:"interactive_scroll_connect"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createInteractiveScrollCreateEvent=function createInteractiveScrollCreateEvent(e){return console.warn("[DEPRECATED] Use triggerInteractiveScrollCreateEvent instead of createInteractiveScrollCreateEvent."),r({},e,{event:"interactive_scroll_create"})};var i={track:!0};t.triggerInteractiveScrollCreateEvent=function triggerInteractiveScrollCreateEvent(e){var t=r({},e,{event:"interactive_scroll_create"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createLayoutFrameEvent=function createLayoutFrameEvent(e){return console.warn("[DEPRECATED] Use triggerLayoutFrameEvent instead of createLayoutFrameEvent."),r({},e,{event:"layout_frame"})};var i={track:!0};t.triggerLayoutFrameEvent=function triggerLayoutFrameEvent(e){var t=r({},e,{event:"layout_frame"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createLayoutFrameHierarchyEvent=function createLayoutFrameHierarchyEvent(e){return console.warn("[DEPRECATED] Use triggerLayoutFrameHierarchyEvent instead of createLayoutFrameHierarchyEvent."),r({},e,{event:"layout_frame_hierarchy"})};var i={track:!0};t.triggerLayoutFrameHierarchyEvent=function triggerLayoutFrameHierarchyEvent(e){var t=r({},e,{event:"layout_frame_hierarchy"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createLayoutGraphicEvent=function createLayoutGraphicEvent(e){return console.warn("[DEPRECATED] Use triggerLayoutGraphicEvent instead of createLayoutGraphicEvent."),r({},e,{event:"layout_graphic"})};var i={track:!0};t.triggerLayoutGraphicEvent=function triggerLayoutGraphicEvent(e){var t=r({},e,{event:"layout_graphic"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createLayoutStackEvent=function createLayoutStackEvent(e){return console.warn("[DEPRECATED] Use triggerLayoutStackEvent instead of createLayoutStackEvent."),r({},e,{event:"layout_stack"})};var i={track:!0};t.triggerLayoutStackEvent=function triggerLayoutStackEvent(e){var t=r({},e,{event:"layout_stack"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createOrganizationConfigurationChangedEvent=function createOrganizationConfigurationChangedEvent(e){return console.warn("[DEPRECATED] Use triggerOrganizationConfigurationChangedEvent instead of createOrganizationConfigurationChangedEvent."),r({},e,{event:"organization_configuration_changed"})};var i={track:!0};t.triggerOrganizationConfigurationChangedEvent=function triggerOrganizationConfigurationChangedEvent(e){var t=r({},e,{event:"organization_configuration_changed"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createPreviewInspectorEvent=function createPreviewInspectorEvent(e){return console.warn("[DEPRECATED] Use triggerPreviewInspectorEvent instead of createPreviewInspectorEvent."),r({},e,{event:"preview_inspector"})};var i={track:!0};t.triggerPreviewInspectorEvent=function triggerPreviewInspectorEvent(e){var t=r({},e,{event:"preview_inspector"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createPreviewRemoteEvent=function createPreviewRemoteEvent(e){return console.warn("[DEPRECATED] Use triggerPreviewRemoteEvent instead of createPreviewRemoteEvent."),r({},e,{event:"preview_remote"})};var i={track:!0};t.triggerPreviewRemoteEvent=function triggerPreviewRemoteEvent(e){var t=r({},e,{event:"preview_remote"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createPreviewShownEvent=function createPreviewShownEvent(e){return console.warn("[DEPRECATED] Use triggerPreviewShownEvent instead of createPreviewShownEvent."),r({},e,{event:"preview_shown"})};var i={track:!0};t.triggerPreviewShownEvent=function triggerPreviewShownEvent(e){var t=r({},e,{event:"preview_shown"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createRequestedTeamAccountEvent=function createRequestedTeamAccountEvent(e){return console.warn("[DEPRECATED] Use triggerRequestedTeamAccountEvent instead of createRequestedTeamAccountEvent."),r({},e,{event:"requested_team_account"})};var i={track:!0};t.triggerRequestedTeamAccountEvent=function triggerRequestedTeamAccountEvent(e){var t=r({},e,{event:"requested_team_account"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createRulersCreateGuideEvent=function createRulersCreateGuideEvent(e){return console.warn("[DEPRECATED] Use triggerRulersCreateGuideEvent instead of createRulersCreateGuideEvent."),r({},e,{event:"rulers_create_guide"})};var i={track:!0};t.triggerRulersCreateGuideEvent=function triggerRulersCreateGuideEvent(e){var t=r({},e,{event:"rulers_create_guide"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createRulersDeleteGuideEvent=function createRulersDeleteGuideEvent(e){return console.warn("[DEPRECATED] Use triggerRulersDeleteGuideEvent instead of createRulersDeleteGuideEvent."),r({},e,{event:"rulers_delete_guide"})};var i={track:!0};t.triggerRulersDeleteGuideEvent=function triggerRulersDeleteGuideEvent(e){var t=r({},e,{event:"rulers_delete_guide"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createRulersMoveGuideEvent=function createRulersMoveGuideEvent(e){return console.warn("[DEPRECATED] Use triggerRulersMoveGuideEvent instead of createRulersMoveGuideEvent."),r({},e,{event:"rulers_move_guide"})};var i={track:!0};t.triggerRulersMoveGuideEvent=function triggerRulersMoveGuideEvent(e){var t=r({},e,{event:"rulers_move_guide"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createStoreBrowseEvent=function createStoreBrowseEvent(e){return console.warn("[DEPRECATED] Use triggerStoreBrowseEvent instead of createStoreBrowseEvent."),r({},e,{event:"store_browse"})};var i={track:!0};t.triggerStoreBrowseEvent=function triggerStoreBrowseEvent(e){var t=r({},e,{event:"store_browse"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createStoreBrowseDetailEvent=function createStoreBrowseDetailEvent(e){return console.warn("[DEPRECATED] Use triggerStoreBrowseDetailEvent instead of createStoreBrowseDetailEvent."),r({},e,{event:"store_browse_detail"})};var i={track:!0};t.triggerStoreBrowseDetailEvent=function triggerStoreBrowseDetailEvent(e){var t=r({},e,{event:"store_browse_detail"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createStoreFavoriteEvent=function createStoreFavoriteEvent(e){return console.warn("[DEPRECATED] Use triggerStoreFavoriteEvent instead of createStoreFavoriteEvent."),r({},e,{event:"store_favorite"})};var i={track:!0};t.triggerStoreFavoriteEvent=function triggerStoreFavoriteEvent(e){var t=r({},e,{event:"store_favorite"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createStoreInstallEvent=function createStoreInstallEvent(e){return console.warn("[DEPRECATED] Use triggerStoreInstallEvent instead of createStoreInstallEvent."),r({},e,{event:"store_install"})};var i={track:!0};t.triggerStoreInstallEvent=function triggerStoreInstallEvent(e){var t=r({},e,{event:"store_install"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createStorePublishClickEvent=function createStorePublishClickEvent(e){return console.warn("[DEPRECATED] Use triggerStorePublishClickEvent instead of createStorePublishClickEvent."),r({},e,{event:"store_publish_click"})};var i={track:!0};t.triggerStorePublishClickEvent=function triggerStorePublishClickEvent(e){var t=r({},e,{event:"store_publish_click"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createStorePublishCreateEvent=function createStorePublishCreateEvent(e){return console.warn("[DEPRECATED] Use triggerStorePublishCreateEvent instead of createStorePublishCreateEvent."),r({},e,{event:"store_publish_create"})};var i={track:!0};t.triggerStorePublishCreateEvent=function triggerStorePublishCreateEvent(e){var t=r({},e,{event:"store_publish_create"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createStorePublishUpdateEvent=function createStorePublishUpdateEvent(e){return console.warn("[DEPRECATED] Use triggerStorePublishUpdateEvent instead of createStorePublishUpdateEvent."),r({},e,{event:"store_publish_update"})};var i={track:!0};t.triggerStorePublishUpdateEvent=function triggerStorePublishUpdateEvent(e){var t=r({},e,{event:"store_publish_update"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createStoreRequestedPrivateStoreEvent=function createStoreRequestedPrivateStoreEvent(e){return console.warn("[DEPRECATED] Use triggerStoreRequestedPrivateStoreEvent instead of createStoreRequestedPrivateStoreEvent."),r({},e,{event:"store_requested_private_store"})};var i={track:!0};t.triggerStoreRequestedPrivateStoreEvent=function triggerStoreRequestedPrivateStoreEvent(e){var t=r({},e,{event:"store_requested_private_store"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createStoreUnfavoriteEvent=function createStoreUnfavoriteEvent(e){return console.warn("[DEPRECATED] Use triggerStoreUnfavoriteEvent instead of createStoreUnfavoriteEvent."),r({},e,{event:"store_unfavorite"})};var i={track:!0};t.triggerStoreUnfavoriteEvent=function triggerStoreUnfavoriteEvent(e){var t=r({},e,{event:"store_unfavorite"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createStoreUninstallEvent=function createStoreUninstallEvent(e){return console.warn("[DEPRECATED] Use triggerStoreUninstallEvent instead of createStoreUninstallEvent."),r({},e,{event:"store_uninstall"})};var i={track:!0};t.triggerStoreUninstallEvent=function triggerStoreUninstallEvent(e){var t=r({},e,{event:"store_uninstall"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createStoreUseInstalledEvent=function createStoreUseInstalledEvent(e){return console.warn("[DEPRECATED] Use triggerStoreUseInstalledEvent instead of createStoreUseInstalledEvent."),r({},e,{event:"store_use_installed"})};var i={track:!0};t.triggerStoreUseInstalledEvent=function triggerStoreUseInstalledEvent(e){var t=r({},e,{event:"store_use_installed"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createStoreVisitedPrivateStoreUpsellEvent=function createStoreVisitedPrivateStoreUpsellEvent(e){return console.warn("[DEPRECATED] Use triggerStoreVisitedPrivateStoreUpsellEvent instead of createStoreVisitedPrivateStoreUpsellEvent."),r({},e,{event:"store_visited_private_store_upsell"})};var i={track:!0};t.triggerStoreVisitedPrivateStoreUpsellEvent=function triggerStoreVisitedPrivateStoreUpsellEvent(e){var t=r({},e,{event:"store_visited_private_store_upsell"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createSubscriptionSeatChangedEvent=function createSubscriptionSeatChangedEvent(e){return console.warn("[DEPRECATED] Use triggerSubscriptionSeatChangedEvent instead of createSubscriptionSeatChangedEvent."),r({},e,{event:"subscription_seat_changed"})};var i={track:!0};t.triggerSubscriptionSeatChangedEvent=function triggerSubscriptionSeatChangedEvent(e){var t=r({},e,{event:"subscription_seat_changed"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createToggleRulersEvent=function createToggleRulersEvent(e){return console.warn("[DEPRECATED] Use triggerToggleRulersEvent instead of createToggleRulersEvent."),r({},e,{event:"toggle_rulers"})};var i={track:!0};t.triggerToggleRulersEvent=function triggerToggleRulersEvent(e){var t=r({},e,{event:"toggle_rulers"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createTrialExtendedEvent=function createTrialExtendedEvent(e){return console.warn("[DEPRECATED] Use triggerTrialExtendedEvent instead of createTrialExtendedEvent."),r({},e,{event:"trial_extended"})};var i={track:!0};t.triggerTrialExtendedEvent=function triggerTrialExtendedEvent(e){var t=r({},e,{event:"trial_extended"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createTutorialStartedEvent=function createTutorialStartedEvent(e){return console.warn("[DEPRECATED] Use triggerTutorialStartedEvent instead of createTutorialStartedEvent."),r({},e,{event:"tutorial_started"})};var i={track:!0};t.triggerTutorialStartedEvent=function triggerTutorialStartedEvent(e){var t=r({},e,{event:"tutorial_started"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createTutorialStepEvent=function createTutorialStepEvent(e){return console.warn("[DEPRECATED] Use triggerTutorialStepEvent instead of createTutorialStepEvent."),r({},e,{event:"tutorial_step"})};var i={track:!0};t.triggerTutorialStepEvent=function triggerTutorialStepEvent(e){var t=r({},e,{event:"tutorial_step"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createUiInteractionEvent=function createUiInteractionEvent(e){return console.warn("[DEPRECATED] Use triggerUiInteractionEvent instead of createUiInteractionEvent."),r({},e,{event:"ui_interaction"})};var i={track:!0};t.triggerUiInteractionEvent=function triggerUiInteractionEvent(e){var t=r({},e,{event:"ui_interaction"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createUiLongFrameEvent=function createUiLongFrameEvent(e){return console.warn("[DEPRECATED] Use triggerUiLongFrameEvent instead of createUiLongFrameEvent."),r({},e,{event:"ui_long_frame"})};var i={track:!0};t.triggerUiLongFrameEvent=function triggerUiLongFrameEvent(e){var t=r({},e,{event:"ui_long_frame"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createUserLoginCookieEvent=function createUserLoginCookieEvent(e){return console.warn("[DEPRECATED] Use triggerUserLoginCookieEvent instead of createUserLoginCookieEvent."),r({},e,{event:"user_login_cookie"})};var i={track:!0};t.triggerUserLoginCookieEvent=function triggerUserLoginCookieEvent(e){var t=r({},e,{event:"user_login_cookie"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createVekterPerformanceBenchmarkEvent=function createVekterPerformanceBenchmarkEvent(e){return console.warn("[DEPRECATED] Use triggerVekterPerformanceBenchmarkEvent instead of createVekterPerformanceBenchmarkEvent."),r({},e,{event:"vekter_performance_benchmark"})};var i={track:!0};t.triggerVekterPerformanceBenchmarkEvent=function triggerVekterPerformanceBenchmarkEvent(e){var t=r({},e,{event:"vekter_performance_benchmark"});n(5).triggerEvent(t,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(t){o(t)}}function rejected(e){try{step(r.throw(e))}catch(t){o(t)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(131),o=n(161),s=n(162),a=n(86),c=n(723);class ServiceManager{constructor(e=a.ServiceDebugging.createLogger("📮")){this.logger=e,this.expect=(e,t)=>(this.logger.log("ServiceManager.expect:",e.id),this.addRouter(t).expect(e)),this.discover=(e,t,n)=>r(this,void 0,void 0,function*(){return this.logger.log("ServiceManager.discover:",e.id),this.addRouter(t).discover(e,n)}),this.unregister=e=>{},this.routers=new Set,this.addRouter=e=>{for(const n of this.routers)if(n.channel===e)return n;const t=new Router(e,this.logger);return this.routers.add(t),t}}register(e){return r(this,void 0,void 0,function*(){!function isImplementation(e){return void 0!==e.service&&void 0!==e.implementation}(e)?(this.logger.log("ServiceManager.registerChannel"),this.addRouter(e.channel)):(this.logger.log("ServiceManager.registerImplementation:",e.service.id),yield this.addRouter(e.channel).registerImplementation(e.implementation,e.service))})}}t.ServiceManager=ServiceManager,function(e){const t=new e;e.shared=function shared(){return a.ServiceDebugging._sharedServiceManagerIfTesting()||t}}(ServiceManager=t.ServiceManager||(t.ServiceManager={}));class Router{constructor(e,t){this.channel=e,this.logger=t,this.onMessage=e=>{this.logger.log("Router.onMessage:",e);try{e.type===i.ServiceChannel.MessageType.Request?this.onRequest(e):e.type===i.ServiceChannel.MessageType.Response?e.method===l.method?this.onDiscoveryResponse(e):this.onResponse(e):e.type===i.ServiceChannel.MessageType.Error?this.onError(e):s.assertNever(e.type,new Error(`Unknown service router message: ${JSON.stringify(e)}`))}catch(t){this.logger.log("Router.onMessage error:",t)}},this.waitingDiscoveryMap={},this.reflectDiscoveredServices=()=>{if(this.latestDiscoveryInfo)for(const e of Object.keys(this.latestDiscoveryInfo.services)){const t=this.waitingDiscoveryMap[e];t&&(this.waitingDiscoveryMap[e]=[],t.forEach(e=>e.resolve()))}},this.onDiscoveryResponse=e=>{l.isValidInfo(e.body)?(this.latestDiscoveryInfo=e.body,this.reflectDiscoveredServices()):this.logger.log("Router.onDiscoveryResponse: received invalid data",e.body),e.id!==l.broadcastMessageId&&this.onResponse(e)},this.broadcastDiscoveryInfo=e=>{const t={};for(const i in this.implementedServices){const e=this.implementedServices[i].service;t[i]={fingerprint:e.fingerprint}}const n={services:t};try{this.channel.postMessage({type:i.ServiceChannel.MessageType.Response,id:e||l.broadcastMessageId,serviceId:l.serviceId,method:l.method,body:n})}catch(r){}},this.expect=e=>(this.logger.log("Router.expect"),e.newOutgoingWrapper(t=>r(this,void 0,void 0,function*(){return this.logger.log("Router.send",t),yield this.waitForDiscoveryInfo(),this.throwErrorIfBadService(e),this.postRequest(e.id,t)}))),this.discover=(e,{timeout:t=3e4}={})=>r(this,void 0,void 0,function*(){return this.logger.log("Router.discover"),yield Promise.race([this.waitForDiscoveredService(e),new Promise((e,n)=>c.setTimeout(()=>n(this.latestDiscoveryInfo?new o.ServiceError.ServiceNotFound:new o.ServiceError.TimedOut),t))]),this.throwErrorIfBadService(e),this.expect(e)}),this.throwErrorIfBadService=e=>{const t=this.latestDiscoveryInfo,n=t&&t?t.services[e.id]:void 0;if(!n)throw this.logger.log("Router couldn't find service",t),new o.ServiceError.ServiceNotFound;if(n.fingerprint!==e.fingerprint)throw this.logger.log("couldn't find compatible service version",t),new o.ServiceError.ServiceRequiresUpgrade},this.postRequest=(e,t,n)=>{this.logger.log("Router.postRequest:",t);const r=s.ServiceRuntimePrivate.newResolvablePromise(),a=s.ServiceRuntimePrivate.generateUniqueId();this.waitingRequestsMap[a]=r;const l={type:i.ServiceChannel.MessageType.Request,id:a,serviceId:e,method:t.method,stream:u.toMessage(t.stream),body:t.argument};return this.channel.postMessage(l),"number"==typeof n&&c.setTimeout(()=>{!!this.waitingRequestsMap[a]&&this.onError({type:i.ServiceChannel.MessageType.Error,id:l.id,serviceId:l.serviceId,method:l.method,body:void 0},new o.ServiceError.TimedOut)},n),r},this.waitingRequestsMap={},this.onResponse=e=>{const t=this.waitingRequestsMap[e.id];if(!t)return this.logger.error("Router received response without corresponding request:",e);delete this.waitingRequestsMap[e.id],t.resolve(e.body)},this.onError=(e,t)=>{const n=this.waitingRequestsMap[e.id];if(!n)return this.logger.error("Router received error without corresponding request:",e);delete this.waitingRequestsMap[e.id];const r=t||o.ServiceError.fromMessageBody(e.body);n.reject(r)},this.registerImplementation=(e,t)=>r(this,void 0,void 0,function*(){this.logger.log("Router.registerImplementation:",e);const n={};for(const r in t.methods){const i=r,s=e[i];if("function"!=typeof s)throw new o.ServiceError.Implementation(`Implementation for ${t.id} doesn't correctly implement ${i}()`);n[i]=s.bind(e)}this.implementedServices[t.id]={service:t,implementation:n},this.broadcastDiscoveryInfo()}),this.implementedServices={},this.streamIterators={},this.onRequest=e=>r(this,void 0,void 0,function*(){if(this.logger.log("Router.onRequest:",e),e.method===l.method)return void this.broadcastDiscoveryInfo(e.id);let t,n=i.ServiceChannel.MessageType.Response;try{const s=this.implementedServices[e.serviceId],a=s?s.implementation:void 0;if(!a)throw this.logger.error("Router received unknown request:",e),new o.ServiceError.BadRequest;if(e.stream){const n=u.fromMessage(e.stream);let r=this.streamIterators[n.id];if(!r){const t=a[e.method];r=(yield t(e.body))[Symbol.asyncIterator](),this.streamIterators[n.id]=r}if("next"!==n.method)throw new o.ServiceError.BadRequest("Stream operations other than next() are not yet supported");const i=yield r.next();t={done:i.done,value:i.value}}else{const n=a[e.method];t=yield n(e.body)}}catch(r){this.logger.log("Router.onRequest error:",r.message),n=i.ServiceChannel.MessageType.Error,t=o.ServiceError.toMessageBody(r)}finally{this.channel.postMessage({type:n,id:e.id,serviceId:e.serviceId,method:e.method,body:t})}}),e.addMessageListener(this.onMessage)}waitForDiscoveryInfo(){return r(this,void 0,void 0,function*(){if(this.latestDiscoveryInfo)return this.latestDiscoveryInfo;if(yield this.postRequest(l.serviceId,{method:l.method},1e3),!this.latestDiscoveryInfo)throw new o.ServiceError.ServiceNotFound;return this.latestDiscoveryInfo})}waitForDiscoveredService(e){return r(this,void 0,void 0,function*(){const t=s.ServiceRuntimePrivate.newResolvablePromise(),n=this.waitingDiscoveryMap[e.id]||[];return this.waitingDiscoveryMap[e.id]=n,n.push(t),this.waitForDiscoveryInfo().catch(()=>{}),this.reflectDiscoveredServices(),t})}}var l,u;!function(e){e.serviceId="",e.method="#discover",e.broadcastMessageId="",e.isValidInfo=function isValidInfo(e){return!(!e||!e.services||"object"!=typeof e.services)}}(l||(l={})),function(e){const t="#return:",n="#throw:";e.fromMessage=function fromMessage(e){return e.startsWith(t)?{id:e.substr(t.length),method:"return"}:e.startsWith(n)?{id:e.substr(n.length),method:"throw"}:{id:e,method:"next"}},e.toMessage=function toMessage(e){if(e)switch(e.method){case"next":return e.id;case"return":return t+e.id;case"throw":return n+e.id;default:return}}}(u||(u={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new Function("return this")();t.setTimeout=(...e)=>r.setTimeout(...e),t.clearTimeout=(...e)=>r.clearTimeout(...e)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(t){o(t)}}function rejected(e){try{step(r.throw(e))}catch(t){o(t)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(162),o=n(161),s=n(86).ServiceDebugging.createLogger("");t.ServiceEventEmitter=class ServiceEventEmitter{constructor(){this.iterators=[],this.emit=e=>{for(const t of this.iterators)t.update(e)},this.read=e=>r(this,void 0,void 0,function*(){throw new o.ServiceError.BadRequest("read() on service implementations is invalid")}),this.cancel=()=>r(this,void 0,void 0,function*(){throw new Error("cancel is not implemented")})}[Symbol.asyncIterator](){return new ServiceTask((e,t)=>{this.iterators.push({update:e,done:t})})}};class ServiceTask{constructor(e){this.hasAsyncIterator=!1,this.promises=[],this.doneResult={done:!0,value:void 0},this.update=e=>{let t=this.promises[this.promises.length-1];if(e&&void 0===t){if(!this.returnedNextPromise)return void s.error("lastPromise and returnedNextPromise should never both be undefined");t=this.returnedNextPromise}void 0!==e?(this.promises.push(i.ServiceRuntimePrivate.newResolvablePromise()),t.resolve({done:!1,value:e})):t.resolve(this.doneResult)},this.next=()=>r(this,void 0,void 0,function*(){const e=this.promises.shift();return this.returnedNextPromise=e,e||this.doneResult}),this.read=e=>r(this,void 0,void 0,function*(){throw new o.ServiceError.BadRequest("read() on service implementations is invalid")}),this.promises=[i.ServiceRuntimePrivate.newResolvablePromise()],e(this.update,this.update)}[Symbol.asyncIterator](){if(this.hasAsyncIterator)throw new Error("ServiceTask.asyncIterator() may only be called once");return this.hasAsyncIterator=!0,this}}t.ServiceTask=ServiceTask},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(131),i=n(86);class PostMessageChannel{constructor(e){if(this.target=e,this.listeners=[],this.onMessageEvent=e=>{if(o.log("onMessageEvent",e),e.source!==this.target&&(this!==s||e.source!==window||!e.data||e.data.__postMessageChannelSource!==c))return;const t=e.data;if(r.ServiceChannel.isMessage(t))for(const n of this.listeners)n(t)},e===(window?window.parent:void 0)||e===u){if(o.log("Constructing parent channel"),!a||void 0!==s)throw new Error("PostMessageChannel.toParentFrame must be used instead of initializing with window.parent.");if(!window)return void(this.target={postMessage:(...e)=>{o.log("postMessage to parent channel not running in a DOM environment: ",e)}});window.parent!==window?this.target=window.parent:this.target=u}else o.log("Constructing other channel");window&&window.addEventListener("message",this.onMessageEvent,!1)}static get toParentFrame(){return a=!0,s=s||new PostMessageChannel(u),a=!1,s}postMessage(e){o.log("postMessage",e),this.target.postMessage(e,"*")}addMessageListener(e){this.listeners.push(e)}}t.PostMessageChannel=PostMessageChannel;const o=i.ServiceDebugging.createLogger("✉️");let s,a=!1;const c="swiftWindowParent";let l;const u={postMessage:(...e)=>{try{if(!window)throw new Error("PostMessageChannel requires a DOM environment");(l=l||window.webkit.messageHandlers[c]).postMessage(...e)}catch(t){throw new Error(`Can't find window.parent or ${c} message handler`)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(131),i=n(86),o=n(727),s=n(363);t.SocketServerChannel=class SocketServerChannel{constructor(e){this.server=e,this.clientSockets=new Set,this.onConnect=e=>{o.isSocketServerClient(e)?(a.log("on connect"),this.clientSockets.add(e),e.on(s.socketMessageEventName,this.onMessageEvent)):a.error('Received something other than a socket on "connect"',e)},this.onMessageEvent=e=>{if(a.log("server onMessageEvent",e),r.ServiceChannel.isMessage(e))for(const t of this.listeners)t(e)},this.listeners=[],a.log("constructing SocketServerChannel"),this.server.on("connect",this.onConnect)}postMessage(e){a.log("postMessage",e),this.clientSockets.forEach(t=>{t.emit(s.socketMessageEventName,e)})}addMessageListener(e){this.listeners.push(e)}};const a=i.ServiceDebugging.createLogger("🌎")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSocketServerClient=function isSocketServerClient(e){return"function"==typeof e.on&&"function"==typeof e.emit}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(365);t.CanvasNodeCache=class CanvasNodeCache extends r.NodeCache{constructor(){super(...arguments),this.selected=!1,this.isEditable=!1,this.canvasZoom=0,this.willChangeTransform=!1,this.lastUpdate=-1,this.visible=!1,this.parentRect=null,this.parentMatrix=null,this.constraintProps=null,this.newConstraintProps=null,this.matrix=null,this.canvasRect=null,this.parentDirected=!1,this.parentDirectedRect=null,this.calculatedPaths=null,this.paperPath=null,this.bezier=null,this.reactElement=null,this.props=null,this.codeComponentPresentation=null,this.templateProperties=null,this.replicaInstances=null,this.json=null,this.placeholders=null}reset(){super.reset(),this.lastUpdate=-1,this.parentMatrix=null,this.parentRect=null,this.visible=!1,this.constraintProps=null,this.newConstraintProps=null,this.matrix=null,this.canvasRect=null,this.parentDirected=!1,this.parentDirectedRect=null,this.calculatedPaths=null,this.paperPath=null,this.bezier=null,this.reactElement=null,this.props=null,this.codeComponentPresentation=null}tree(){return this.latest.tree}}},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),o=n(6),s=n(72),a=n(133),c=n(46),l=n(848),u=n(165),h=n(103),d=n(35),p=n(367),f=n(136),g=n(230),m=n(164),v=n(137),y=n(26),S=n(1),b=n(43),_=n(166),C=n(93),w=n(64),x={"SFCompactDisplay-Regular|.SFCompactDisplay-Regular":"__SF-Compact-Display-Regular__","SFCompactDisplay-Ultralight|.SFCompactDisplay-Ultralight":"__SF-Compact-Display-Ultralight__","SFCompactDisplay-Thin|.SFCompactDisplay-Thin":"__SF-Compact-Display-Thin__","SFCompactDisplay-Light|.SFCompactDisplay-Light":"__SF-Compact-Display-Light__","SFCompactDisplay-Medium|.SFCompactDisplay-Medium":"__SF-Compact-Display-Medium__","SFCompactDisplay-Semibold|.SFCompactDisplay-Semibold":"__SF-Compact-Display-Semibold__","SFCompactDisplay-Heavy|.SFCompactDisplay-Heavy":"__SF-Compact-Display-Heavy__","SFCompactDisplay-Black|.SFCompactDisplay-Black":"__SF-Compact-Display-Black__",".SFNSText|SFUIText-Regular|.SFUIText":"__SF-UI-Text-Regular__",".SFNSText-Light|SFUIText-Light|.SFUIText-Light":"__SF-UI-Text-Light__",".SFNSText-Medium|SFUIText-Medium|.SFUIText-Medium":"__SF-UI-Text-Medium__",".SFNSText-Semibold|SFUIText-Semibold|.SFUIText-Semibold":"__SF-UI-Text-Semibold__",".SFNSText-Heavy|.SFUIText-Heavy":"__SF-UI-Text-Heavy__","SFCompactText-Regular|.SFCompactText-Regular":"__SF-Compact-Text-Regular__","SFCompactText-Light|.SFCompactText-Light":"__SF-Compact-Text-Light__","SFCompactText-Medium|.SFCompactText-Medium":"__SF-Compact-Text-Medium__","SFCompactText-Semibold|.SFCompactText-Semibold":"__SF-Compact-Text-Semibold__","SFCompactText-Heavy|.SFCompactText-Heavy":"__SF-Compact-Text-Heavy__",".SFNSDisplayCondensed-Regular|SFUIDisplayCondensed-Regular|.SFUIDisplayCondensed-Regular":"__SF-UI-Display-Condensed-Regular__",".SFNSDisplayCondensed-Ultralight|SFUIDisplayCondensed-Ultralight|.SFUIDisplayCondensed-Ultralight":"__SF-UI-Display-Condensed-Ultralight__",".SFNSDisplayCondensed-Thin|SFUIDisplayCondensed-Thin|.SFUIDisplayCondensed-Thin":"__SF-UI-Display-Condensed-Thin__",".SFNSDisplayCondensed-Light|SFUIDisplayCondensed-Light|.SFUIDisplayCondensed-Light":"__SF-UI-Display-Condensed-Light__",".SFNSDisplayCondensed-Medium|SFUIDisplayCondensed-Medium|.SFUIDisplayCondensed-Medium":"__SF-UI-Display-Condensed-Medium__",".SFNSDisplayCondensed-Semibold|SFUIDisplayCondensed-Semibold|.SFUIDisplayCondensed-Semibold":"__SF-UI-Display-Condensed-Semibold__",".SFNSDisplayCondensed-Heavy|SFUIDisplayCondensed-Heavy|.SFUIDisplayCondensed-Heavy":"__SF-UI-Display-Condensed-Heavy__",".SFNSDisplayCondensed-Black|.SFUIDisplayCondensed-Black":"__SF-UI-Display-Condensed-Black__",".SFNSDisplay|SFUIDisplay-Regular|.SFUIDisplay":"__SF-UI-Display-Regular__",".SFNSDisplay-Ultralight|SFUIDisplay-Ultralight|.SFUIDisplay-Ultralight":"__SF-UI-Display-Ultralight__",".SFNSDisplay-Thin|SFUIDisplay-Thin|.SFUIDisplay-Thin":"__SF-UI-Display-Thin__",".SFNSDisplay-Light|SFUIDisplay-Light|.SFUIDisplay-Light":"__SF-UI-Display-Light__",".SFNSDisplay-Medium|SFUIDisplay-Medium|.SFUIDisplay-Medium":"__SF-UI-Display-Medium__",".SFNSDisplay-Semibold|SFUIDisplay-Semibold|.SFUIDisplay-Semibold":"__SF-UI-Display-Semibold__",".SFNSDisplay-Heavy|SFUIDisplay-Heavy|.SFUIDisplay-Heavy":"__SF-UI-Display-Heavy__",".SFNSDisplay-Black|.SFUIDisplay-Black":"__SF-UI-Display-Black__",".SFNSTextCondensed-Regular|SFUITextCondensed-Regular|.SFUITextCondensed-Regular":"__SF-UI-Text-Condensed-Regular__",".SFNSTextCondensed-Light|SFUITextCondensed-Light|.SFUITextCondensed-Light":"__SF-UI-Text-Condensed-Light__",".SFNSTextCondensed-Medium|SFUITextCondensed-Medium|.SFUITextCondensed-Medium":"__SF-UI-Text-Condensed-Medium__",".SFNSTextCondensed-Semibold|SFUITextCondensed-Semibold|.SFUITextCondensed-Semibold":"__SF-UI-Text-Condensed-Semibold__",".SFNSTextCondensed-Heavy|.SFUITextCondensed-Heavy":"__SF-UI-Text-Condensed-Heavy__","SFCompactRounded-Regular|.SFCompactRounded-Regular":"__SF-Compact-Rounded-Regular__","SFCompactRounded-Ultralight|.SFCompactRounded-Ultralight":"__SF-Compact-Rounded-Ultralight__","SFCompactRounded-Thin|.SFCompactRounded-Thin":"__SF-Compact-Rounded-Thin__","SFCompactRounded-Light|.SFCompactRounded-Light":"__SF-Compact-Rounded-Light__","SFCompactRounded-Medium|.SFCompactRounded-Medium":"__SF-Compact-Rounded-Medium__","SFCompactRounded-Semibold|.SFCompactRounded-Semibold":"__SF-Compact-Rounded-Semibold__","SFCompactRounded-Heavy|.SFCompactRounded-Heavy":"__SF-Compact-Rounded-Heavy__","SFCompactRounded-Black|.SFCompactRounded-Black":"__SF-Compact-Rounded-Black__"},P={"google-pixel-quite-black":"google-pixel-2-just-black","google-nexus-4":"Custom","apple-iphone-7-plus-black":"apple-iphone-8-plus-space-gray","apple-iphone-7-black":"apple-iphone-8-space-gray","apple-iphone-5s-space-gray":"apple-iphone-se-space-gray","framer/FramerAppleIPhoneX":"framer/FramerAppleIPhoneXS","framer/FramerSamsungGalaxyS8":"framer/FramerSamsungGalaxyS9","framer/FramerGoogleNexus6":"framer/FramerGooglePixel2","framer/FramerHTCOneA9":"framer/FramerSamsungNote5","framer/FramerMicrosoftLumia950":"framer/FramerSamsungNote5"},T={blendingEnabled:!0,blendingMode:!0,blur:!0,brightness:!0,brightnessEnabled:!0,contrast:!0,contrastEnabled:!0,grayscale:!0,grayScaleEnabled:!0,hueRotate:!0,hueRotateEnabled:!0,invert:!0,invertEnabled:!0,saturate:!0,saturateEnabled:!0,sepia:!0,sepiaEnabled:!0};t.ignoredMigrations={TextNode:{aspectRatioLocked:!0,editable:!0},FrameNode:{originalFilename:!0,autoSize:!0},RootNode:{fillColor:!0,startPoint:!0},BooleanShapeNode:T,ShapeGroupNode:T,PathNode:T,RectangleShapeNode:T,OvalShapeNode:T,StarShapeNode:T,PolygonShapeNode:T},t.migrations={x:(e,t,n)=>{h.hasPosition(e)?e.x=t:d.isPinnable(e)&&!l.hasStyledText(e)&&(e.left=t)},y:(e,t,n)=>{h.hasPosition(e)?e.y=t:d.isPinnable(e)&&!l.hasStyledText(e)&&(e.top=t)},fillColorEnabled:(e,t)=>{s.hasOptionalFill(e)&&(e.fillEnabled=t)},fillType:(e,t)=>{if(s.hasFill(e))if("gradient"===t){if("radial-gradient"===e.fillType)return;e.fillType="linear-gradient"}else e.fillType=t},fillGradient:(e,t,n)=>{if(!s.hasFill(e)||null===t)return;if(!1===t.enabled)return;const r=n(t);r instanceof C.LinearGradient?(!0===t.enabled&&(e.fillType="linear-gradient"),e.fillLinearGradient=r):(e.fillType="radial-gradient",e.fillRadialGradient=r)},filtersEnabled:()=>{},blurEnabled:(e,t)=>{if(!f.withFilters(e)||null==t)return;let n=_.Property.disabledHidden;_.Property.isEnabledState(t)?n=t:!0===t?n=_.Property.enabled:!1===t&&(n=_.Property.disabledHidden),e.blurEnabled=n},blurType:(e,t)=>{f.withFilters(e)&&(e.blurType="object"===t?"layer":t)},borderEnabled:(e,t)=>{a.hasBorder(e)&&(e.borderEnabled=!0===t?1:!1===t?0:t)},exportOptions:(e,t,n)=>{Array.isArray(t)&&c.hasExport(e)&&(e.exportOptions=n(t.map(e=>("string"==typeof e.suffix&&(e.nameExtension=e.suffix,-1!==e.suffix.indexOf("/")&&(e.nameExtensionMode="Folder"),delete e.suffix),new o.ExportOptions(e)))))},styledText:(e,t,n)=>{if(!l.hasStyledText(e))return;const r=t,i=e=>{if(!e.startsWith("FONT:"))return e;const t=e.substr(5),n=x[t];return n?`FONT:${n}`:e};for(const o of r.blocks){for(const e of o.inlineStyleRanges)e.style=i(e.style);o.data.emptyStyle&&(o.data.emptyStyle=o.data.emptyStyle.map(i))}e.styledText=n(r)},deviceType:(e,t,n)=>{if(!u.hasDevice(e))return;let r=t;P[t]&&(r=P[t]),e.deviceType=n(r)},previewSettings:(e,t,n)=>{if(!v.hasPreviewSettings(e))return;let r=t;t&&"object"==typeof t&&t.deviceType&&(r=Object.assign({},t,{deviceType:P[t.deviceType]||t.deviceType})),e.previewSettings=n(r)},type:(e,t)=>{},exportEnabled:(e,t)=>{},image:(e,t,n)=>{s.hasFill(e)&&(e.fillImage=n(t))},imageBackgroundSize:(e,t,n)=>{},fillImageSize:(e,t,n)=>{s.hasFill(e)&&(e.fillImageResize=n(t))},pixelWidth:(e,t,n)=>{s.hasFill(e)&&(e.fillImagePixelWidth=n(t))},pixelHeight:(e,t,n)=>{s.hasFill(e)&&(e.fillImagePixelHeight=n(t))},codeComponentProps:(e,t)=>{p.hasCodeComponent(e)&&(t&&"object"==typeof t&&"string"==typeof t.children&&(t.children=[{enabled:!0,value:t.children,type:S.ControlType.ComponentInstance}]),e.codeComponentProps=t)},targetName:(e,t)=>{},templateid:(e,t)=>{e.originalid=t},aspectRatioLocked:(e,t)=>{},widthFactor:(e,t)=>{},heightFactor:(e,t)=>{},blendingEnabled:(e,t)=>{g.withBlending(e)&&(e.blendingEnabled=t)},blendingMode:(e,t)=>{g.withBlending(e)&&(e.blendingMode=t)},storeEnabled:(e,t)=>{},storeIdentifier:(e,t)=>{},codeFunctionIdentifier:(e,t)=>{m.hasCodeOverride(e)&&(e.codeOverrideIdentifier=t)},codeFunctionFile:(e,t)=>{m.hasCodeOverride(e)&&(e.codeOverrideFile=t)},codeFunctionName:(e,t)=>{m.hasCodeOverride(e)&&(e.codeOverrideName=t)},codeOverrideIdentifier:(e,t)=>{m.hasCodeOverride(e)&&(t&&!1===e.codeOverrideEnabled&&(e.codeOverrideEnabled=!0),e.codeOverrideIdentifier=t)},exportIncludesBackground:(e,t)=>{c.hasExportIncludesBackground(e)&&(e.exportIncludesBackground=t)},rotation:(e,t)=>{y.hasRotation(e)&&(e.rotation=t)},aspectRatio:(e,t)=>{b.hasAspectRatio(e)&&(e.aspectRatio=t)}},t.classMigrations={ArtboardNode:e=>(e.__class="FrameNode",e),RectangleNode:e=>(e.__class="FrameNode",e),OvalNode:e=>(e.__class="FrameNode",e.radius=50,e.radiusIsRelative=!0,e),VectorFrameNode:e=>(e.__class="FrameNode",e.fillEnabled=!1,e.clip=!1,e),ImageNode:e=>(e.__class="FrameNode",e.fillEnabled=!0,e.fillType="image",e),CanvasNode:e=>(e.__class="RootNode",e)},t.gradientMigration=e=>{if("start"in e&&"end"in e){const{start:t,end:n}=e,o=r(e,["start","end"]);let s=!1;return"angle"in o&&S.isFiniteNumber(o.angle)&&(s=!0,o.angle+=180,o.angle>=360&&(o.angle-=360)),Object.assign({},o,{stops:i.List([new w.GradientColorStop({value:s?n:t,position:0}),new w.GradientColorStop({value:s?t:n,position:1})])})}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(56),i=n(39),o=n(102),s=n(43),a=n(35),c=n(26),l=n(45),u=n(40),h=n(367),d=n(57),p=n(164),f=n(133),g=n(227),m=n(134),v=n(88),y=n(135),S=n(58),b=n(59),_=n(136),C=n(46),w=n(137),x=n(165);t.CodeComponentRecord=Object.assign({},r.nameDefaults,i.sizeDefaults,o.intrinsicSizeDefaults,s.aspectRatioDefaults,a.pinDefaults,d.opacityDefaults,c.rotationDefaults,l.visibilityDefaults,u.lockDefaults,h.codeComponentDefaults,p.codeOverrideDefaults,v.codeComponentFillDefaults,y.clipDefaults,f.borderDefaults,g.borderPerSideDefaults,S.relativeRadiusDefaults,b.radiusPerCornerDefaults,m.boxShadowDefaults,_.filterDefaults,C.withExportDefaults,w.previewSettingsDefaults,x.withDeviceDefaults)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(56),i=n(39),o=n(43),s=n(35),a=n(26),c=n(732),l=n(733),u=n(45),h=n(40),d=n(102),p=n(46),f=n(734),g=n(57),m=n(89),v=n(370),y=n(88);t.SVGRecord=Object.assign({},r.nameDefaults,i.sizeDefaults,o.aspectRatioDefaults,s.pinDefaults,y.svgFillDefaults,g.opacityDefaults,a.rotationDefaults,m.shadowDefaults,c.svgDefaults,l.originalFilenameDefaults,u.visibilityDefaults,h.lockDefaults,d.intrinsicSizeDefaults,v.effectsDefaults,p.withExportDefaults,f.colorableDefaults)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.svgDefaults={svg:""};const r="svg";t.hasSVG=function hasSVG(e){return r in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.originalFilenameDefaults={originalFilename:""};const r="originalFilename";t.hasOriginalFilename=function hasOriginalFilename(e){return r in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.colorableDefaults={colorable:!0};const r="colorable";function hasColorable(e){return r in e}t.hasColorable=hasColorable,t.reduceColorable=function reduceColorable(e,t){hasColorable(e)&&(void 0===t.colorable?t.colorable=e.colorable:null!==t.colorable&&t.colorable!==e.colorable&&(t.colorable=null))}},function(e,t,n){"use strict";e.exports=n(736)},function(e,t,n){"use strict";var i=n(70),o=n(0);function r(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function aa(e,t,n,r,i,o,s,a){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],l=0;(e=Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var s="function"==typeof Symbol&&Symbol.for,l=s?Symbol.for("react.portal"):60106,u=s?Symbol.for("react.fragment"):60107,h=s?Symbol.for("react.strict_mode"):60108,d=s?Symbol.for("react.profiler"):60114,p=s?Symbol.for("react.provider"):60109,f=s?Symbol.for("react.context"):60110,g=s?Symbol.for("react.concurrent_mode"):60111,m=s?Symbol.for("react.forward_ref"):60112,v=s?Symbol.for("react.suspense"):60113,y=s?Symbol.for("react.memo"):60115,S=s?Symbol.for("react.lazy"):60116;function C(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case g:return"ConcurrentMode";case u:return"Fragment";case l:return"Portal";case d:return"Profiler";case h:return"StrictMode";case v:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case f:return"Context.Consumer";case p:return"Context.Provider";case m:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case y:return C(e.type);case S:if(e=1===e._status?e._result:null)return C(e)}return null}var b=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;b.hasOwnProperty("ReactCurrentDispatcher")||(b.ReactCurrentDispatcher={current:null});var _={};function F(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var w=new Uint16Array(16),x=0;15>x;x++)w[x]=x+1;w[15]=0;var P=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T=Object.prototype.hasOwnProperty,k={},E={};function qa(e){return!!T.call(E,e)||!T.call(k,e)&&(P.test(e)?E[e]=!0:(k[e]=!0,!1))}function sa(e,t,n,r){if(null==t||function ra(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function I(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){O[e]=new I(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];O[t]=new I(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){O[e]=new I(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){O[e]=new I(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){O[e]=new I(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){O[e]=new I(e,3,!0,e,null)}),["capture","download"].forEach(function(e){O[e]=new I(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){O[e]=new I(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){O[e]=new I(e,5,!1,e.toLowerCase(),null)});var D=/[\-:]([a-z])/g;function L(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(D,L);O[t]=new I(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(D,L);O[t]=new I(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(D,L);O[t]=new I(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){O[e]=new I(e,1,!1,e.toLowerCase(),null)});var R=/["'&<>]/;function M(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=R.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}var N=null,A=null,B=null,j=!1,z=!1,U=null,H=0;function V(){return null===N&&r("321"),N}function ua(){return 0<H&&r("312"),{memoizedState:null,queue:null,next:null}}function W(){return null===B?null===A?(j=!1,A=B=ua()):(j=!0,B=A):null===B.next?(j=!1,B=B.next=ua()):(j=!0,B=B.next),B}function va(e,t,n,r){for(;z;)z=!1,H+=1,B=null,n=e(t,r);return A=N=null,H=0,B=U=null,n}function wa(e,t){return"function"==typeof t?t(e):t}function xa(e,t,n){if(N=V(),B=W(),j){var i=B.queue;if(t=i.dispatch,null!==U&&void 0!==(n=U.get(i))){U.delete(i),i=B.memoizedState;do{i=e(i,n.action),n=n.next}while(null!==n);return B.memoizedState=i,[i,t]}return[B.memoizedState,t]}return e=e===wa?"function"==typeof t?t():t:void 0!==n?n(t):t,B.memoizedState=e,e=(e=B.queue={last:null,dispatch:null}).dispatch=function ya(e,t,n){if(25>H||r("301"),e===N)if(z=!0,e={action:n,next:null},null===U&&(U=new Map),void 0===(n=U.get(t)))U.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}.bind(null,N,e),[B.memoizedState,e]}function za(){}var G=0,q={readContext:function(e){var t=G;return F(e,t),e[t]},useContext:function(e){V();var t=G;return F(e,t),e[t]},useMemo:function(e,t){if(N=V(),t=void 0===t?null:t,null!==(B=W())){var n=B.memoizedState;if(null!==n&&null!==t){e:{var r=n[1];if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++){var o=t[i],s=r[i];if((o!==s||0===o&&1/o!=1/s)&&(o==o||s==s)){r=!1;break e}}r=!0}}if(r)return n[0]}}return e=e(),B.memoizedState=[e,t],e},useReducer:xa,useRef:function(e){N=V();var t=(B=W()).memoizedState;return null===t?(e={current:e},B.memoizedState=e):t},useState:function(e){return xa(wa,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:za,useEffect:za,useDebugValue:za},K={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ca(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var $={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},X=i({menuitem:!0},$),Y={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J=["Webkit","ms","Moz","O"];Object.keys(Y).forEach(function(e){J.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Y[t]=Y[e]})});var Z=/([A-Z])/g,Q=/^ms-/,ee=o.Children.toArray,te=b.ReactCurrentDispatcher,ne={listing:!0,pre:!0,textarea:!0},re=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ie={},oe={};var se=Object.prototype.hasOwnProperty,ae={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function Qa(e,t){void 0===e&&r("152",C(t)||"Component")}function Ra(e,t,n){function c(o,s){var a=function la(e,t,n){var r=e.contextType;if("object"==typeof r&&null!==r)return F(r,n),r[n];if(e=e.contextTypes){for(var i in n={},e)n[i]=t[i];t=n}else t=_;return t}(s,t,n),c=[],l=!1,u={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===c)return null},enqueueReplaceState:function(e,t){l=!0,c=[t]},enqueueSetState:function(e,t){if(null===c)return null;c.push(t)}},h=void 0;if(s.prototype&&s.prototype.isReactComponent){if(h=new s(o.props,a,u),"function"==typeof s.getDerivedStateFromProps){var d=s.getDerivedStateFromProps.call(null,o.props,h.state);null!=d&&(h.state=i({},h.state,d))}}else if(N={},h=s(o.props,a,u),null==(h=va(s,o.props,h,a))||null==h.render)return void Qa(e=h,s);if(h.props=o.props,h.context=a,h.updater=u,void 0===(u=h.state)&&(h.state=u=null),"function"==typeof h.UNSAFE_componentWillMount||"function"==typeof h.componentWillMount)if("function"==typeof h.componentWillMount&&"function"!=typeof s.getDerivedStateFromProps&&h.componentWillMount(),"function"==typeof h.UNSAFE_componentWillMount&&"function"!=typeof s.getDerivedStateFromProps&&h.UNSAFE_componentWillMount(),c.length){u=c;var p=l;if(c=null,l=!1,p&&1===u.length)h.state=u[0];else{d=p?u[0]:h.state;var f=!0;for(p=p?1:0;p<u.length;p++){var g=u[p];null!=(g="function"==typeof g?g.call(h,d,o.props,a):g)&&(f?(f=!1,d=i({},d,g)):i(d,g))}h.state=d}}else c=null;if(Qa(e=h.render(),s),o=void 0,"function"==typeof h.getChildContext&&"object"==typeof(a=s.childContextTypes))for(var m in o=h.getChildContext())m in a||r("108",C(s)||"Unknown",m);o&&(t=i({},t,o))}for(;o.isValidElement(e);){var s=e,a=s.type;if("function"!=typeof a)break;c(s,a)}return{child:e,context:t}}var ce=function(){function a(e,t){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");o.isValidElement(e)?e.type!==u?e=[e]:(e=e.props.children,e=o.isValidElement(e)?[e]:ee(e)):e=ee(e),e={type:null,domNamespace:K.html,children:e,childIndex:0,context:_,footer:""};var n=w[0];if(0===n){var i=w,s=2*(n=i.length);65536>=s||r("304");var c=new Uint16Array(s);for(c.set(i),(w=c)[0]=n+1,i=n;i<s-1;i++)w[i]=i+1;w[s-1]=0}else w[0]=w[n];this.threadID=n,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}return a.prototype.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;w[e]=w[0],w[0]=e}},a.prototype.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;F(n,r);var i=n[r];this.contextStack[t]=n,this.contextValueStack[t]=i,n[r]=e.props.value},a.prototype.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},a.prototype.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},a.prototype.read=function(e){if(this.exhausted)return null;var t=G;G=this.threadID;var n=te.current;te.current=q;try{for(var i=[""],o=!1;i[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var s=this.threadID;w[s]=w[0],w[0]=s;break}var a=this.stack[this.stack.length-1];if(o||a.childIndex>=a.children.length){var c=a.footer;if(""!==c&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===a.type)this.currentSelectValue=null;else if(null!=a.type&&null!=a.type.type&&a.type.type.$$typeof===p)this.popProvider(a.type);else if(a.type===v){this.suspenseDepth--;var l=i.pop();if(o){o=!1;var u=a.fallbackFrame;u||r("303"),this.stack.push(u);continue}i[this.suspenseDepth]+=l}i[this.suspenseDepth]+=c}else{var h=a.children[a.childIndex++],d="";try{d+=this.render(h,a.context,a.domNamespace)}catch(f){throw f}i.length<=this.suspenseDepth&&i.push(""),i[this.suspenseDepth]+=d}}return i[0]}finally{te.current=n,G=t}},a.prototype.render=function(e,t,n){if("string"==typeof e||"number"==typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?M(n):this.previousWasTextNode?"\x3c!-- --\x3e"+M(n):(this.previousWasTextNode=!0,M(n));if(e=(t=Ra(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!o.isValidElement(e)){if(null!=e&&null!=e.$$typeof){var s=e.$$typeof;s===l&&r("257"),r("258",s.toString())}return e=ee(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}if("string"==typeof(s=e.type))return this.renderDOM(e,t,n);switch(s){case h:case g:case d:case u:return e=ee(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case v:r("294")}if("object"==typeof s&&null!==s)switch(s.$$typeof){case m:N={};var a=s.render(e.props,e.ref);return a=va(s.render,e.props,a,e.ref),a=ee(a),this.stack.push({type:null,domNamespace:n,children:a,childIndex:0,context:t,footer:""}),"";case y:return e=[o.createElement(s.type,i({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case p:return n={type:e,domNamespace:n,children:s=ee(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case f:s=e.type,a=e.props;var c=this.threadID;return F(s,c),s=ee(a.children(s[c])),this.stack.push({type:e,domNamespace:n,children:s,childIndex:0,context:t,footer:""}),"";case S:r("295")}r("130",null==s?s:typeof s,"")},a.prototype.renderDOM=function(e,t,n){var s=e.type.toLowerCase();n===K.html&&Ca(s),ie.hasOwnProperty(s)||(re.test(s)||r("65",s),ie[s]=!0);var a=e.props;if("input"===s)a=i({type:void 0},a,{defaultChecked:void 0,defaultValue:void 0,value:null!=a.value?a.value:a.defaultValue,checked:null!=a.checked?a.checked:a.defaultChecked});else if("textarea"===s){var c=a.value;if(null==c){c=a.defaultValue;var l=a.children;null!=l&&(null!=c&&r("92"),Array.isArray(l)&&(1>=l.length||r("93"),l=l[0]),c=""+l),null==c&&(c="")}a=i({},a,{value:void 0,children:""+c})}else if("select"===s)this.currentSelectValue=null!=a.value?a.value:a.defaultValue,a=i({},a,{value:void 0});else if("option"===s){l=this.currentSelectValue;var u=function Na(e){if(null==e)return e;var t="";return o.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(a.children);if(null!=l){var h=null!=a.value?a.value+"":u;if(c=!1,Array.isArray(l)){for(var d=0;d<l.length;d++)if(""+l[d]===h){c=!0;break}}else c=""+l===h;a=i({selected:void 0,children:void 0},a,{selected:c,children:u})}}for(b in(c=a)&&(X[s]&&(null!=c.children||null!=c.dangerouslySetInnerHTML)&&r("137",s,""),null!=c.dangerouslySetInnerHTML&&(null!=c.children&&r("60"),"object"==typeof c.dangerouslySetInnerHTML&&"__html"in c.dangerouslySetInnerHTML||r("61")),null!=c.style&&"object"!=typeof c.style&&r("62","")),c=a,l=this.makeStaticMarkup,u=1===this.stack.length,h="<"+e.type,c)if(se.call(c,b)){var p=c[b];if(null!=p){if("style"===b){d=void 0;var f="",g="";for(d in p)if(p.hasOwnProperty(d)){var m=0===d.indexOf("--"),v=p[d];if(null!=v){var y=d;if(oe.hasOwnProperty(y))y=oe[y];else{var S=y.replace(Z,"-$1").toLowerCase().replace(Q,"-ms-");y=oe[y]=S}f+=g+y+":",g=d,f+=m=null==v||"boolean"==typeof v||""===v?"":m||"number"!=typeof v||0===v||Y.hasOwnProperty(g)&&Y[g]?(""+v).trim():v+"px",g=";"}}p=f||null}d=null;e:if(m=s,v=c,-1===m.indexOf("-"))m="string"==typeof v.is;else switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":m=!1;break e;default:m=!0}m?ae.hasOwnProperty(b)||(d=qa(d=b)&&null!=p?d+'="'+M(p)+'"':""):(m=b,d=p,p=O.hasOwnProperty(m)?O[m]:null,(v="style"!==m)&&(v=null!==p?0===p.type:2<m.length&&("o"===m[0]||"O"===m[0])&&("n"===m[1]||"N"===m[1])),v||sa(m,d,p,!1)?d="":null!==p?(m=p.attributeName,d=3===(p=p.type)||4===p&&!0===d?m+'=""':m+'="'+M(d)+'"'):d=qa(m)?m+'="'+M(d)+'"':""),d&&(h+=" "+d)}}l||u&&(h+=' data-reactroot=""');var b=h;c="",$.hasOwnProperty(s)?b+="/>":(b+=">",c="</"+e.type+">");e:{if(null!=(l=a.dangerouslySetInnerHTML)){if(null!=l.__html){l=l.__html;break e}}else if("string"==typeof(l=a.children)||"number"==typeof l){l=M(l);break e}l=null}return null!=l?(a=[],ne[s]&&"\n"===l.charAt(0)&&(b+="\n"),b+=l):a=ee(a.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?Ca(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:s,children:a,childIndex:0,context:t,footer:c}),this.previousWasTextNode=!1,b},a}(),le={renderToString:function(e){e=new ce(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new ce(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){r("207")},renderToStaticNodeStream:function(){r("208")},version:"16.8.6"},ue={default:le},he=ue&&le||ue;e.exports=he.default||he},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function whatwgRNG(){return n(r),r}}else{var i=new Array(16);e.exports=function mathRNG(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function bytesToUuid(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(371);t.StyledText=class StyledText{constructor(e,t){"string"==typeof e?this._text=e:void 0!==e&&(this._styledText=e),this._cached=t}get text(){if(void 0===this._text){if(this._cached){const e=this._cached.text();if(e)return e}this.revive(),this._text=void 0===this._styledText?"":this.styledTextToText(this._styledText)}return this._text}get styledText(){return this.revive(),void 0===this._styledText&&(this._styledText=void 0===this._text?this.emptyStyledText():this.textToStyledText(this._text)),this._styledText}cached(){return this._cached||null}revive(){const e=this._cached;e&&e._rawLoadedValue&&(this._styledText=this.reviveFromCached(e),this._cached=new r.StyledTextCache(e.html,e.width,e.size))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(56),i=n(43),o=n(26),s=n(61),a=n(45),c=n(40),l=n(39),u=n(103),h=n(46),d=n(1),p=n(57),f=n(134),g=n(88);t.PathRecord=Object.assign({},r.nameDefaults,g.pathFillDefaults,o.rotationDefaults,i.aspectRatioDefaults,s.shapeStrokeDefaults,p.opacityDefaults,f.boxShadowDefaults,a.visibilityDefaults,c.lockDefaults,d.pathDefaults,l.pathSizeDefaults,u.positionDefaults,h.withExportDefaults)},function(e,t,n){e.exports=n(372)},function(e,t,n){!function(){"use strict";var t=n(373),r=function(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)};r.prototype={valueOf:function(){return this.toString()},toString:function(){return"["+this.curves.map(function(e){return t.pointsToString(e.points)}).join(", ")+"]"},addCurve:function(e){this.curves.push(e),this._3d=this._3d||e._3d},length:function(){return this.curves.map(function(e){return e.length()}).reduce(function(e,t){return e+t})},curve:function(e){return this.curves[e]},bbox:function(){for(var e=this.curves,n=e[0].bbox(),r=1;r<e.length;r++)t.expandbox(n,e[r].bbox());return n},offset:function(e){var t=[];return this.curves.forEach(function(n){t=t.concat(n.offset(e))}),new r(t)}},e.exports=r}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(20),i=n(104);t.RootRecord=Object.assign({},r.basicChildrenDefaults,i.guidesDefaults)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r="tokenVariables";t.hasTokenVariables=function hasTokenVariables(e){return"object"==typeof e&&null!==e&&r in e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(90);t.WithBoxShadow=r.WithBoxShadow;const i=n(89),o=n(375);t.Shadow=o.Shadow,t.BoxShadow=o.BoxShadow,t.reduceShadows=function reduceShadows(e,t){if(r.hasBoxShadow(e)){const n=[],r=[];e.boxShadows&&e.boxShadows.forEach(e=>{e.inset?(t.enabledInsideShadowLevels[r.length]=t.enabledInsideShadowLevels[r.length]||e.enabled,r.push(e)):(t.enabledOutsideShadowLevels[n.length]=t.enabledOutsideShadowLevels[n.length]||e.enabled,n.push(e))});const i={node:e,outsideShadows:n,insideShadows:r};t.nodeBoxShadows.push(i),t.nodeShadows.push(i)}if(i.hasShadow(e)){const n=[],r=[];e.shadows&&e.shadows.forEach(e=>{t.enabledOutsideShadowLevels[n.length]=t.enabledOutsideShadowLevels[n.length]||e.enabled,n.push(e)}),t.nodeShadows.push({node:e,outsideShadows:n,insideShadows:r})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i={enabled:!0,x:0,y:2,color:"rgba(0,0,0,0.25)",blur:5};t.ShadowRecord=r.Record(Object.assign({},i)),t.BoxShadowRecord=r.Record(Object.assign({},i,{inset:!1,spread:0}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFilterBlurForBoxBlur=function getFilterBlurForBoxBlur(e){return Math.ceil(e/2.37997)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.collectShadowPropsForNode=function collectShadowPropsForNode(e,t){e.shadows&&(t.shadows=e.shadows.toArray().filter(e=>e.enabled))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(56),i=n(39),o=n(35),s=n(26),a=n(45),c=n(40),l=n(46),u=n(234),h=n(57),d=n(231),p=n(89),f=n(136),g=n(235),m=n(164);t.TextRecord=Object.assign({},r.nameDefaults,o.pinDefaults,i.sizeDefaults,s.rotationDefaults,h.opacityDefaults,p.shadowDefaults,d.styledTextDefaults,u.autoSizeDefaults,a.visibilityDefaults,c.lockDefaults,f.filterDefaults,l.withExportDefaults,g.targetDefaults,m.codeOverrideDefaults)},function(e,t,n){"use strict";function isShallowArrayEqual(e,t){if(e===t)return!0;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!=t[r])return!1;return!0}function isShallowObjectEqual(e,t){if(e===t)return!0;const n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;for(let i=r;0!=i--;){const r=n[i];if(e[r]!=t[r])return!1}return!0}function isShallowEqual(e,t){return e===t||e instanceof Object&&(t instanceof Object&&(Array.isArray(e)?!!Array.isArray(t)&&isShallowArrayEqual(e,t):isShallowObjectEqual(e,t)))}Object.defineProperty(t,"__esModule",{value:!0}),t.isShallowArrayEqual=isShallowArrayEqual,t.isShallowObjectEqual=isShallowObjectEqual,t.isShallowEqual=isShallowEqual,t.default=isShallowEqual},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(t){o(t)}}function rejected(e){try{step(r.throw(e))}catch(t){o(t)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(130),o=n(30),s=n(3),a=n(71),c=n(1),l=n(236),u=n(105),h=n(752),d=n(106),p=n(754),f=s.List(),g="__transient-thread__";function mergeThreads(e,t){let n=!1;const r={};return e.forEach(e=>r[e.id]=e),t.forEach(e=>{const t=r[e.id];(!t||Number(t.updatedAt||h.getThreadTimestamp(t))<Number(e.updatedAt||h.getThreadTimestamp(e)))&&(n=!0,r[e.id]=e)}),n?function sortThreads(e){return e.sort((e,t)=>{const n=h.isUnread(e),r=h.isUnread(t);return n&&!r?-1:!n&&r?1:h.getThreadTimestamp(t)-h.getThreadTimestamp(e)}).toList()}(s.List(Object.values(r))):e}t.FeedbackStore=class FeedbackStore{constructor(e,t){if(this.addChanges=e,this.stateEmitter=new i.ServiceEventEmitter,this.pollInterval={Idle:3e4,Active:5e3,Thread:1e3},this._threads=s.List(),this._archived=null,this._currentUser=null,this._selectionState={tab:l.Tab.All,threadId:null,commentId:null,seenUntil:null},this._commentMetadata=new Map,this._isActive=!1,a.experiments.isOn("feedback")&&(this.feedbackService=i.FeedbackService.on(i.PostMessageChannel.toParentFrame).expect()),t){const e=t.filter(e=>e.archived);this._threads=s.List(t.filter(e=>!e.archived)),this._archived=e.length?s.List(e):null}}initialize(){return r(this,void 0,void 0,function*(){if(!a.experiments.isOn("feedback"))return;const[{threads:e},{user:t}]=yield Promise.all([this.feedbackService.getThreads({archived:!1}),this.feedbackService.getSessionIdentity()]);this.updateThreads(mergeThreads(s.List(),e.map(p.fromServiceThread))),this._currentUser=t,this.startPolling()})}documentDidLoad(e){a.experiments.isOn("feedback")&&i.FeedbackDocument.on(i.PostMessageChannel.toParentFrame).register({toggleFeedback:e.wrapHandler(({force:t})=>r(this,void 0,void 0,function*(){("boolean"==typeof t?t:!this.isActive)?e.setToolEnum(d.Tools.Comment):e.tool.enum===d.Tools.Comment&&e.exitTool()})),openThread:e.wrapHandler(({threadId:t,commentId:n})=>r(this,void 0,void 0,function*(){e.setToolEnum(d.Tools.Comment),this.setSelectedThread(t,n)})),feedbackStateStream:()=>this.stateEmitter}).catch(u.unhandledError)}get commentMetadata(){return this._commentMetadata}get selectionState(){return this._selectionState}setSelectedSidebarTab(e){this._selectionState.tab!==e&&(this._selectionState=Object.assign({},this._selectionState,{tab:e}),this.broadcastChanges())}get currentUser(){return this._currentUser}getThread(e){return this.threads.find(t=>t.id===e)||this.archivedThreads.find(t=>t.id===e)}get selectedThreadId(){return this._selectionState.threadId}get selectedThread(){return this._selectionState.threadId?this.getThread(this._selectionState.threadId):null}setSelectedThread(e,t){if(this.selectedThreadId===e)return;const n=this.selectedThread;n&&this.isTransientThread(n.id)&&this._removeThread(n.id);const r=this.getThread(e);if(!r)throw new Error(`Cannot find thread with id: ${e}`);this._selectionState=Object.assign({},this._selectionState,{threadId:e,commentId:t||null,seenUntil:r.seenUntil}),e&&this.updateSelectedTab(e),e&&!this.isTransientThread(e)&&this.markThreadAsSeen(e).catch(u.unhandledError),this.startPolling(),this.broadcastChanges()}updateSelectedTab(e){const t=this.getThread(e),n=this._selectionState.tab;t||this._archived?t.archived||n!==l.Tab.Archived?t.archived&&n!==l.Tab.Archived&&(this._selectionState=Object.assign({},this._selectionState,{tab:l.Tab.Archived})):this._selectionState=Object.assign({},this._selectionState,{tab:l.Tab.All}):this.loadArchivedThreads().then(()=>{this.selectedThreadId===e&&n===this._selectionState.tab&&this.updateSelectedTab(e)}).catch(u.unhandledError)}clearSelectedThread(){this.selectedThreadId&&(this._selectionState=Object.assign({},this._selectionState,{threadId:null,commentId:null,seenUntil:null}),this.startPolling(),this.broadcastChanges())}loadArchivedThreads(){return r(this,void 0,void 0,function*(){const{threads:e}=yield this.feedbackService.getThreads({archived:!0});this.updateArchived(mergeThreads(this.archivedThreads,e.map(p.fromServiceThread)))})}broadcastChanges(){this.addChanges(o.EngineChangeFlags.FeedbackStore)}openTransientThread(e){const t=this.createTransientThread(e);this._selectionState=Object.assign({},this._selectionState,{threadId:t.id}),this.broadcastChanges()}markThreadAsSeen(e){return r(this,void 0,void 0,function*(){this.updateThread(e,e=>Object.assign({},e,{seenUntil:new Date(h.getThreadTimestamp(e))}));const{thread:t}=yield this.feedbackService.markAsSeen({threadId:e});this.updateThreads(mergeThreads(this.threads,[p.fromServiceThread(t)]))})}createComment({threadId:e,text:t}){return r(this,void 0,void 0,function*(){const n=this.getThread(e);if(!n)throw new Error(`Unable to find thread in store: ${e}`);if(this.isTransientThread(n.id)){this._removeThread(e);const r=yield this.feedbackService.createThread({anchor:n.anchor,text:t});return this._selectionState=Object.assign({},this._selectionState,{threadId:null}),void this.updateThreads(mergeThreads(this.threads,[p.fromServiceThread(r.thread)]))}const{comment:r}=yield this.feedbackService.createComment({threadId:n.id,text:t});this.updateThread(e,e=>Object.assign({},e,{comments:[...e.comments,p.fromServiceComment(r)]}))})}setCommentEditable(e){const t=this._commentMetadata.get(e);t&&t.isEditing||(this._commentMetadata.set(e,Object.assign({},t,{isEditing:!0})),this.broadcastChanges())}clearCommentEditable(e){const t=this._commentMetadata.get(e);t&&t.isEditing&&(this._commentMetadata.set(e,Object.assign({},t,{isEditing:!1})),this.broadcastChanges())}updateComment({threadId:e,commentId:t,text:n}){return r(this,void 0,void 0,function*(){const{comment:r}=yield this.feedbackService.updateComment({id:t,threadId:e,text:n});this.updateThreadWithCommentResponse(e,r)})}deleteComment({threadId:e,commentId:t}){return r(this,void 0,void 0,function*(){const{comment:n}=yield this.feedbackService.deleteComment({id:t,threadId:e});this.updateThreadWithCommentResponse(e,n)})}updateThreadWithCommentResponse(e,t){const n=p.fromServiceComment(t),r=this.getThread(e);if(!r)throw new Error("Unable to find thread");const i=r.comments.slice();let o=!1;for(let s=0;s<i.length;s+=1){const e=i[s];if(e.id===n.id){c.isEqual(n,e)||(i[s]=Object.assign({},e,n),o=!0);break}}o&&this.updateThread(e,e=>Object.assign({},e,{comments:i}))}setThreadAnchor(e,t){return this.updateThread(e,e=>Object.assign({},e,{anchor:t}))}persistThreadAnchor(e){return r(this,void 0,void 0,function*(){if(g===e)return;const t=this.getThread(e);if(!t)return;const n=yield this.feedbackService.updateThread({id:e,anchor:t.anchor});this.updateThread(e,()=>p.fromServiceThread(n.thread))})}updateThread(e,t){const n=this.threads.findIndex(t=>t.id===e);if(n<0)return;this.updateThreads(this.threads.update(n,t));const r=this.threads.get(n);return r.id!==e&&this.selectedThreadId===e&&(this._selectionState=Object.assign({},this._selectionState,{threadId:r.id}),this.broadcastChanges()),r}archiveThread(e){return r(this,void 0,void 0,function*(){if(!this.getThread(e))return;const t=this.updateThread(e,e=>e.archived?e:Object.assign({},e,{archived:!0}));if(!t)return;this._removeThread(t.id),this.updateArchived(mergeThreads(this.archivedThreads,[t]));const{thread:n}=yield this.feedbackService.updateThread({id:e,archived:!0});this.updateArchived(mergeThreads(this.threads,[p.fromServiceThread(n)]))})}deleteThread(e){return r(this,void 0,void 0,function*(){if(!this.isTransientThread(e))throw new Error("NotImplemented: Cannot delete a thread");this._removeThread(e)})}_removeThread(e){const t=this.threads,n=this.threads.findIndex(t=>t.id===e);n<0||(this.updateThreads(t.delete(n)),this.selectedThreadId===e&&(this._selectionState=Object.assign({},this._selectionState,{threadId:null})),this.broadcastChanges())}get threads(){return this._threads}get archivedThreads(){return this._archived||f}updateThreads(e){this._threads!==e&&(this._threads=e,this.broadcastChanges())}updateArchived(e){this._threads!==e&&(this._archived=e,this.broadcastChanges())}isTransientThread(e){return e===g}createTransientThread(e){const t={comments:[],anchor:e,id:g,archived:!1,seenUntil:new Date("January 19, 2038"),updatedAt:null};return this.updateThread(t.id,()=>t)||this.updateThreads(mergeThreads(this.threads,[t])),this.broadcastChanges(),t}get isActive(){return this._isActive}set isActive(e){this.isActive!==e&&(this._isActive=e,this.startPolling(),this.stateEmitter.emit({isActive:e}),this.broadcastChanges())}get threadIdUnderMouse(){return this._threadIdUnderMouse}set threadIdUnderMouse(e){this._threadIdUnderMouse!==e&&(this._threadIdUnderMouse=e,this.broadcastChanges())}startPolling(){this.stopPolling();const e=()=>r(this,void 0,void 0,function*(){if(this.pollTimer){const{threads:e}=yield this.feedbackService.getThreads({archived:!1});this.updateThreads(mergeThreads(this.threads,e.map(p.fromServiceThread))),this.selectedThreadId&&(yield this.markThreadAsSeen(this.selectedThreadId))}this.pollTimer=window.setTimeout(e,this.currentPollInterval())});e().catch(e=>setTimeout(()=>{throw e}))}stopPolling(){clearTimeout(this.pollTimer)}currentPollInterval(){return this.isActive?this.selectedThreadId?this.pollInterval.Thread:this.pollInterval.Active:this.pollInterval.Idle}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(753);function getThreadTimestamp({comments:e}){const t=e[e.length-1];return t&&t.createdAt.getTime()||0}t.colorFromThread=function colorFromThread(e){const t=e.comments[0];return t?r.colorFromId(t.author.id):""},t.getThreadTimestamp=getThreadTimestamp,t.getThreadPermalink=function getThreadPermalink({threadId:e,commentId:t},{href:n}=("undefined"!=typeof window?window.top.location:{href:""})){const r=new URL(n),i=t?`${e}:${t}`:e;return r.searchParams.set("t",i),r.toString()},t.canEditComment=function canEditComment(e,t){return t.author.id===e},t.canDeleteComment=function canDeleteComment(e,t){return t.author.id===e},t.isUnread=function isUnread({seenUntil:e,comments:t}){return!e||getThreadTimestamp({comments:t})>e.getTime()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=["#8800FF","#6600FF","#4400FF","#0055FF","#0099FF","#00BBFF","#22DDDD","#FFBB00","#FF3388","#FF4444"];t.colorFromId=function colorFromId(e){let t=0;for(let r=0;r<e.length;r++)t+=e.charCodeAt(r);const n=t%r.length;return r[n]}},function(e,t,n){"use strict";function toServiceComment(e){return Object.assign({},e,{deletedBy:e.deletedBy?e.deletedBy:void 0,createdAt:serializeTimestamp(e.createdAt),updatedAt:serializeTimestamp(e.updatedAt)})}function fromServiceComment(e){const t=parseTimestamp(e.createdAt);if(!t)throw new Error("Unable to parse createdAt");return Object.assign({deletedBy:null},e,{createdAt:t,updatedAt:parseTimestamp(e.createdAt)})}function parseTimestamp(e){if(!e)return null;const t=Date.parse(e);return Number.isNaN(t)?null:new Date(t)}function serializeTimestamp(e){if(null!==e)return e.toUTCString()}Object.defineProperty(t,"__esModule",{value:!0}),t.toServiceThread=function toServiceThread(e){return Object.assign({},e,{comments:e.comments.map(toServiceComment),seenUntil:serializeTimestamp(e.seenUntil),updatedAt:serializeTimestamp(e.updatedAt)})},t.toServiceComment=toServiceComment,t.fromServiceThread=function fromServiceThread(e){return Object.assign({},e,{anchor:e.anchor,comments:e.comments.map(fromServiceComment),seenUntil:parseTimestamp(e.seenUntil),updatedAt:parseTimestamp(e.updatedAt)})},t.fromServiceComment=fromServiceComment},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(30);var i;!function(e){e[e.Canvas=0]="Canvas",e[e.Artboards=1]="Artboards",e[e.Selection=2]="Selection"}(i=t.ExportMode||(t.ExportMode={}));t.StatusStore=class StatusStore{constructor(e){this.addChanges=e,this.exportWork=0,this.exportProgress=0,this.lastExportMode=i.Selection}setExportProgress(e,t){this.exportWork===e&&this.exportProgress===t||(this.exportWork=e,this.exportProgress=t,this.addChanges(r.EngineChangeFlags.ExportStatus))}setLastExportMode(e){this.lastExportMode!==e&&(this.lastExportMode=e,this.addChanges(r.EngineChangeFlags.ExportStatus))}}},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const i=n(170),o=n(30),s=n(377);function toURL(e){return"string"==typeof e&&(e=new URL(e)),e}const a=encodeURIComponent("#&#");t.ServerStore=class ServerStore{constructor(e,t){this.addChanges=e,this.url=void 0,this.filename=void 0,this.running=!1,this.packages=[],this.outdated=[],this.hasOutdatedPackages=!1,this.packageErrors=[],this.packagesInfo={},this.tasks={},this.updatingPackages=[],this.isDocumentDirty=!1,this.recentlyInstalledPackages=[],this.hasRecentlyInstalledPackages=!1,this.availableLibraryVersions=[],this.builtInLibraryVersion=void 0,this.currentLibraryVersion=void 0,this.imageBaseURL=new URL("file:///"),this.documentURL=null,this.projectURL=null,this.hasProject=!1,this.location=window.location,this.history=window.history,t&&(this.location=t.location,this.history=t.history)}setImageBaseURL(e){`${this.imageBaseURL}`!==`${e}`&&(this.imageBaseURL=toURL(e),this.updateLocationHash(),this.addChanges(o.EngineChangeFlags.ServerStore))}setDocumentURL(e){`${this.documentURL}`!==`${e}`&&(this.documentURL=e?toURL(e):null,this.updateLocationHash(),this.addChanges(o.EngineChangeFlags.ServerStore))}setProjectURL(e){`${this.projectURL}`!==`${e}`&&(this.projectURL=toURL(e),this.updateLocationHash(),this.addChanges(o.EngineChangeFlags.ServerStore))}updateLocationHash(){const{origin:e,pathname:t}=this.location;if(!e)return;const n=this.documentURL?encodeURI(`${this.documentURL}`):"",r=encodeURI(`${this.imageBaseURL}`),i=this.projectURL?encodeURI(`${this.projectURL}`):"",o=`${e}${t}#${n}${a}${r}${a}${i}`;this.history.replaceState({},"",o)}setHasProject(){this.hasProject||(this.hasProject=!0,this.addChanges(o.EngineChangeFlags.ServerStore))}getPageMountURL(e){const{origin:t}=this.location;if(!t)return null;const n=this.projectURL?encodeURI(`${this.projectURL}`):"";return 0===n.length?null:`${`${n}_app/resources/Vekter`}/${e}${i.isDebugBuild?".debug":""}.html?projectURL=${n}&imageBaseURL=${n}`}stateForServer(){return{url:this.url,filename:this.filename,running:this.running,packages:[...this.packages],outdated:[...this.outdated],packageErrors:[...this.packageErrors],packagesInfo:s.deepClone(Object.assign({},this.packagesInfo)),tasks:s.deepClone(this.tasks),updatingPackages:[...this.updatingPackages],isDocumentDirty:this.isDocumentDirty,availableLibraryVersions:[...this.availableLibraryVersions],builtInLibraryVersion:this.builtInLibraryVersion,currentLibraryVersion:this.currentLibraryVersion}}setStateFromServer(e){let t=this.recentlyInstalledPackages,n=this.hasRecentlyInstalledPackages;if(this.running&&this.url){const r=this.packages,i=e.packages.filter(e=>!r.includes(e));i.length&&(n=!0,t=t.concat(i))}const{hasProject:i,imageBaseURL:s,documentURL:a}=e,c=r(e,["hasProject","imageBaseURL","documentURL"]),l=function getUpdatingPackages(e){const t=[],n=Object.keys(e);for(const r of n){const n=e[r];"upgrade"===n.name&&n.context&&n.context.packageName&&t.push(n.context.packageName)}return t}(e.tasks),u=e.outdated.length>0,h=Object.assign({},c,{recentlyInstalledPackages:t,hasRecentlyInstalledPackages:n,updatingPackages:l,hasOutdatedPackages:u});Object.assign(this,h),this.addChanges(o.EngineChangeFlags.ServerStore),!this.hasProject&&i&&(this.setDocumentURL(a||null),s&&this.setImageBaseURL(s),this.setHasProject())}removeFromRecentlyInstalledPackages(e){const t=this.recentlyInstalledPackages.filter(t=>t===e);t.length!==this.recentlyInstalledPackages.length&&(this.recentlyInstalledPackages=t,this.hasRecentlyInstalledPackages=t.length>0,this.addChanges(o.EngineChangeFlags.ServerStore))}clearRecentlyInstalledPackagesFlag(){!1!==this.hasRecentlyInstalledPackages&&(this.hasRecentlyInstalledPackages=!1,this.addChanges(o.EngineChangeFlags.ServerStore))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(378),o=n(6),s=n(141),a=n(22),c=n(1),l=n(171),u=n(30),h=n(73),d=n(137),p=25;function resetNodeCache(e){const{tree:t}=e.history[e.historyIndex];return t.makeLatest(),t.clearSelectionCache(),t.updateCache(),t.didNonLinearMove(),e}function moveHistoryIndex(e,t){const{history:n}=e;let{historyIndex:r}=e;return(r+=t)>=0&&r<n.length?(i.documentChanged(),updateSelection(resetNodeCache(Object.assign({},e,{historyIndex:r})),n[r].selection)):e}function endUndoGroup(e){const{history:t,historyIndex:n,undoGroupIndices:r}=e,i=r.pop();if(void 0===i)return e;if(t.length<=i)return Object.assign({},e,{undoGroupIndices:r});const o=t[n],s=t.slice(0,i);return s.push(o),Object.assign({},e,{history:s,historyIndex:i,undoGroupIndices:r})}function updateSelection(e,t){const{tree:n,selection:r}=e.history[e.historyIndex];let i=[];t.forEach(e=>{const t=n.getNode(e);t&&(a.isHiddenMaster(t)?t.cache.selected=!1:i.push(e))});let l=e.collapseOverrides,u=!1;if(0===i.length)e=Object.assign({},e,{activeScreen:o.NullID});else{const t=function getCommonGroundNode(e,t){let n;for(const r of t){const t=e.getNode(r);if(!t)return null;const i=e.getGroundNodeFor(t);if(n){if(n.id!==i.id)return null}else n=i}return n}(n,i);if(t&&d.hasPreviewSettings(t)?e.activeScreen!==t.id&&(e=Object.assign({},e,{activeScreen:t.id})):e=Object.assign({},e,{activeScreen:o.NullID}),l.count()>0){const e=s.without(i,r),t=[];e.forEach(e=>{t.push(...n.getAncestors(e))}),t.forEach(e=>{!0===l.get(e)&&(l=l.delete(e),u=!0)})}}let h=e.highlight;h&&!n.getNode(h)&&(h=o.NullID);let p=e.activeScreen;p&&!n.getNode(p)&&(p=o.NullID);let f=r.length===i.length;for(let o=0,s=i.length;o<s;o++){const e=i[o],t=n.getNode(e);t.cache.selected||(f=!1,t.cache.selected=!0)}if(f)i=r;else{for(let e=0,t=r.length;e<t;e++){const t=r[e];if(i.indexOf(t)>=0)continue;const o=n.getNode(t);o&&(o.cache.selected=!1)}c.isShallowEqualArray(i,r)&&(i=r)}return f&&e.highlight===h&&e.activeScreen===p&&!u?e:(e.history[e.historyIndex]={tree:n,selection:i},Object.assign({},e,{highlight:h,activeScreen:p,collapseOverrides:l}))}const f=new class extends Set{has(e){return!0}};t.TreeStore=class TreeStore{constructor(e,t){this.addChanges=e,this.showAllArrows=!1,this.fileInEditor=null,this.selectionAsNodes=[],this.boundingBox={minX:0,minY:0,maxX:0,maxY:0},this.frameNodes=[],this.codeComponents=[],this.shapeContainerNodes=[],this.navigationLinkNodes=[],this.codeComponentArrows=[],this.linkNodeArrows=[],this.tree=new o.default,this.setTree(this.tree),this.setShowAllArrows(t)}getTree(){const e=this.state;return e.history[e.historyIndex].tree}getSelection(){const e=this.state;return e.history[e.historyIndex].selection}setTree(e){e.updateCache(),this.state={history:[{tree:e,selection:[]}],historyIndex:0,scheduledEndUndoGroupCount:0,undoGroupIndices:[],openVectorRoots:[],highlight:o.NullID,activeScreen:o.NullID,renameTarget:o.NullID,collapseOverrides:r.Map(),loadedEmptyTree:0===e.getGroundNodes().length},this.calculate(e,[])}calculateConnectedScreens(){const e=[],t=[];let n=f;if(!this.showAllArrows){n=new Set;const e=this.tree.get(this.state.activeScreen);if(e){const t=this.tree.getGroundNodeFor(e);t&&t.walk(e=>n.add(e.id))}const t=[];this.tree.getNodes(this.selection).forEach(e=>{if(n.has(e.id))return;const r=this.tree.getGroundNodeFor(e);r&&!n.has(r.id)&&t.push(r)}),t.length<=p?t.forEach(e=>{e.walk(e=>n.add(e.id))}):n.clear();const r=this.tree.get(this.state.highlight);r&&n.add(r.id)}for(const r of this.navigationLinkNodes){const e=r.navigationTarget;if(!e)continue;const i=this.tree.get(e);i&&(n.has(r.id)||n.has(e))&&t.push({fromNode:r,toNode:i})}for(const r of this.codeComponents){if(h.codeComponentWithChildInsertion(r)||!r.cache.visible)continue;const t=n.has(r.id),i=r.getSlotKeys();if(0===i.length)continue;const o=[];for(let e=0,s=i.length;e<s;e++){const s=i[e],a=r.codeComponentProps[s];if(!a||!Array.isArray(a))continue;const c=[];let l=!1;a.forEach(e=>{if(!e.enabled)return;const t=this.tree.get(e.value);t&&(c.push(t),l=l||n.has(t.id))}),(t||l)&&o.push(...c)}(t||o.length>0)&&e.push({fromNode:r,toNodes:o})}c.isShallowEqualArray(this.codeComponentArrows,e)&&c.isShallowEqualArray(this.linkNodeArrows,t)||(this.codeComponentArrows=e,this.linkNodeArrows=t,this.addChanges(u.EngineChangeFlags.Arrows))}updateSelectionAsNodes(e,t){const n=t.map(t=>e.getNode(t));c.isShallowEqualArray(this.selectionAsNodes,n)||(this.selectionAsNodes=n)}calculate(e,t){let n=u.EngineChangeFlags.TreeStore;if(this.selection!==t&&(this.selection=t,n|=u.EngineChangeFlags.Selection),this.tree===e)return n&u.EngineChangeFlags.Selection&&this.updateSelectionAsNodes(e,t),void this.addChanges(n);n|=u.EngineChangeFlags.Tree,this.tree=e,this.updateSelectionAsNodes(e,t);const r=e.getGroundNodes(e=>o.isFrameNode(e)||o.isCodeComponentNode(e)||o.isShapeContainerNode(e));c.isShallowEqualArray(this.frameNodes,r)||(this.frameNodes=r);const i=[],s=[],a=[];let h=1/0,d=1/0,p=-1/0,f=-1/0;e.root.walk(e=>{o.isShapeContainerNode(e)?s.push(e):o.isCodeComponentNode(e)&&i.push(e),l.hasNavigationLink(e)&&e.cache.visible&&a.push(e);const t=e.cache.canvasRect;if(t){const{x:e,y:n,width:r,height:i}=t;e<h&&(h=e),n<d&&(d=n),e+r>p&&(p=e+r),n+i>f&&(f=n+i)}}),this.boundingBox={minX:h,minY:d,maxX:p,maxY:f},this.codeComponents=i,this.navigationLinkNodes=a,c.isShallowEqualArray(this.shapeContainerNodes,s)||(this.shapeContainerNodes=s,n|=u.EngineChangeFlags.ShapeContainerNodes),this.addChanges(n)}commit(e,t){this.state=updateSelection(function stateWithNewTree(e,t){const{history:n,historyIndex:r,undoGroupIndices:i,collapseOverrides:o}=e;if(r>=0&&n[r].tree===t)return e;const s=n.slice(0,r+1),a={tree:t,selection:n[r].selection};s.push(a);const c=s.length-1,l=i.map(e=>Math.min(e,c));t.updateCache();const u=o.filter((e,n)=>void 0!==t.getNode(n)),h=u.count()!==o.count()?u:o;return Object.assign({},e,{history:s,historyIndex:c,undoGroupIndices:l,collapseOverrides:h})}(this.state,e),t),this.calculate(e,this.getSelection())}canUndo(){const{historyIndex:e}=this.state;return e>0}canRedo(){const{historyIndex:e,history:t}=this.state;return e+1<t.length}undo(){this.state=function undo(e){const{historyIndex:t,undoGroupIndices:n}=e,r=[...n].reverse().find(e=>e<=t);return void 0===r?moveHistoryIndex(e,-1):(r-t-1>0&&(console.warn("Unexpected open undo group, closing it."),n.pop()),Object.assign({},moveHistoryIndex(e,-1),{undoGroupIndices:n}))}(this.state),this.calculate(this.getTree(),this.getSelection())}redo(){this.state=function redo(e){return moveHistoryIndex(e,1)}(this.state),this.calculate(this.getTree(),this.getSelection())}beginUndoGroup(){this.state=function beginUndoGroup(e){const{history:t,historyIndex:n,undoGroupIndices:r}=e,i=t.slice(0,n+1);return r.push(n+1),Object.assign({},e,{history:i,historyIndex:n,undoGroupIndices:r})}(this.state),this.addChanges(u.EngineChangeFlags.TreeStore)}discardUndoGroup(){this.state=function discardUndoGroup(e){const{history:t,undoGroupIndices:n}=e,r=n[n.length-1];if(void 0===r)return e;if(t.length<=r)return Object.assign({},e,{undoGroupIndices:n});const i=r-1,o=t.slice(0,r);return updateSelection(resetNodeCache(Object.assign({},e,{history:o,historyIndex:i})),[])}(this.state),this.addChanges(u.EngineChangeFlags.TreeStore)}scheduleEndUndoGroup(){this.state=Object.assign({},this.state,{scheduledEndUndoGroupCount:this.state.scheduledEndUndoGroupCount+1})}performScheduledEndUndoGroups(){const{scheduledEndUndoGroupCount:e}=this.state;if(e){for(let t=0;t<e;t++)this.state=endUndoGroup(this.state);this.state=Object.assign({},this.state,{scheduledEndUndoGroupCount:0}),this.addChanges(u.EngineChangeFlags.TreeStore)}}clearUndoStack(){this.state=function clearUndoStack(e){return Object.assign({},e,{history:[e.history[e.historyIndex]],historyIndex:0,undoGroupIndices:[]})}(this.state),this.addChanges(u.EngineChangeFlags.TreeStore)}setHighlight(e){this.state.highlight!==e&&(this.state=Object.assign({},this.state,{highlight:e}),this.addChanges(u.EngineChangeFlags.TreeStore|u.EngineChangeFlags.Highlight))}setActiveScreen(e){this.state.activeScreen!==e&&(this.state=Object.assign({},this.state,{activeScreen:e}),this.addChanges(u.EngineChangeFlags.TreeStore|u.EngineChangeFlags.Highlight))}setRenameTarget(e){this.state.renameTarget!==e&&(this.state=Object.assign({},this.state,{renameTarget:e}),this.addChanges(u.EngineChangeFlags.TreeStore))}setCollapseMode(e,t,n){let r=this.state.collapseOverrides;n?r=r.set(e,t):r.has(e)&&(r=r.delete(e)),this.state.collapseOverrides!==r&&(this.state=Object.assign({},this.state,{collapseOverrides:r}),this.addChanges(u.EngineChangeFlags.TreeStore))}setShowAllArrows(e){this.showAllArrows!==e&&(this.showAllArrows=e,this.calculateConnectedScreens(),this.addChanges(u.EngineChangeFlags.TreeStore))}setFileInEditor(e){this.fileInEditor=e,this.addChanges(u.EngineChangeFlags.TreeStore)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(30),o=n(170),s=n(142),a=[.125,.25,.5,1,2,4,8,16,32],c=a[0],l=a[a.length-1];var u;!function(e){e[e.Immediate=0]="Immediate",e[e.Animated=1]="Animated",e[e.Live=2]="Live"}(u||(u={}));t.CanvasStore=class CanvasStore{constructor(e,t){this.addChanges=e,this.engine=t,this.isConfiguredForTest=!1,this.containerSize=r.Size(800,800),this.didSetContainerSizeOnce=!1,this.interactiveOffset=r.Point(0,0),this.interactiveZoom=1,this.isInteractive=!0,this.assertInteractive=o.isDebugBuild?()=>{this.isInteractive||console.warn("Canvas is live (non-interactive) and should not cause re-renders",new Error)}:()=>{},this.colorSamplerActive=!1,this.componentHash=null,this.userScriptBundle=null,this.convertContainerPointToCanvas=e=>{const{zoom:t,offset:n}=this;return{x:e.x/t+n.x,y:e.y/t+n.y}},this.convertContainerRectToCanvas=e=>{const{zoom:t,offset:n}=this;return{x:e.x/t+n.x,y:e.y/t+n.y,width:e.width/t,height:e.height/t}},this.resetCanvasToInteractive=(e=i.EngineChangeFlags.CanvasZoom|i.EngineChangeFlags.CanvasStore)=>{this.isInteractive=!0,this.liveZoom=void 0,this.liveOffset=void 0,this.liveAnimation=void 0,this.addChanges(e)},this.animateCanvas=()=>{const{engine:e,liveAnimation:t,containerSize:n}=this;if(!t){const{isInteractive:t,autoscrolling:n}=this;if(!t||!n)return;const i=Date.now();if(n.lastAnimationTick){const t=(i-n.lastAnimationTick)/1e3;if(t>0){const o=r.Point.multiply(n.velocity,t/this.zoom);if(0!==o.x||0!==o.y){const t=e.mouseStore,s=this.convertCanvasPointToContainer(t.mouse);this.updateCanvas(r.Point.add(this.offset,o),this.zoom),t.setMousePosition(this.convertContainerPointToCanvas(s),t.mouseRaw,t.altKey,t.cmdKey,t.shiftKey,t.ctrlKey),n.lastAnimationTick=i}}}else n.lastAnimationTick=i;return void e.runAtNextFrame(this.animateCanvasWrapped)}const{startTime:o,duration:s,startRect:a,endRect:c}=t,l=Math.min(1,(Date.now()-o)/s),u={x:a.x+l*(c.x-a.x),y:a.y+l*(c.y-a.y),width:a.width+l*(c.width-a.width),height:a.height+l*(c.height-a.height)};t.currentRect=u,this.liveZoom=n.width/u.width,this.liveOffset=r.Point(u.x,u.y),this.addChanges(i.EngineChangeFlags.CanvasLiveTransform),l>=1?e.runAtNextFrame(this.resetCanvasToInteractiveWrapped):e.runAtNextFrame(this.animateCanvasWrapped)},this.resetCanvasToInteractiveWrapped=this.engine.wrapHandler(this.resetCanvasToInteractive),this.animateCanvasWrapped=this.engine.wrapHandler(this.animateCanvas),this.autoscrollLevel=0,this.canDetectMagnificationPhase=!1,this.endMagnification=this.engine.wrapHandler(()=>{this.canDetectMagnificationPhase=!1,this.updateCanvas(this.offset,this.zoom)}),this.endMagnificationAfterInactiveDelay=this.engine.debounce(this.endMagnification,150)}get liveAnimationTargetZoom(){return this.liveAnimation?this.interactiveZoom:void 0}setComponentHash(e){this.componentHash=e,this.addChanges(i.EngineChangeFlags.CanvasStore|i.EngineChangeFlags.ComponentHash)}setColorSamplerActive(e){this.colorSamplerActive=e,this.addChanges(i.EngineChangeFlags.CanvasStore)}setContainerSize(e,t){const{width:n,height:o}=this.containerSize;if(this.containerSize={width:e||800,height:t||800},this.didSetContainerSizeOnce){const i=r.Point.divide(r.Point((n-e)/2,(o-t)/2),this.zoom);this.updateCanvas(r.Point.add(this.offset,i),this.zoom)}this.didSetContainerSizeOnce=!0,this.addChanges(i.EngineChangeFlags.CanvasStore)}getContainerCenter(){return r.Rect.center(this.getContainerInteractiveRect())}getContainerInteractiveRect(){const{containerSize:e}=this;if(!this.engine.chromeStore.state.chromeIsVisible||this.isConfiguredForTest)return Object.assign({x:0,y:0},e);const t={top:this.engine.toolStore.state.shapeModeActive?s.layout.shapeBarHeight:0,bottom:s.layout.statusBarHeight,left:s.layout.toolbarWidth+s.layout.currentTabContentWidth,right:s.layout.propertyPanelWidth};return{x:t.left,y:t.top,width:e.width-t.left-t.right,height:e.height-t.top-t.bottom}}getCanvasCenter(){return this.convertContainerPointToCanvas(this.getContainerCenter())}getCanvasVisibleRect(){const{containerSize:e,offset:t,zoom:n}=this,r=s.layout.currentChromeMarginLeft,i=s.layout.currentChromeMarginRight,o=s.layout.currentCanvasMarginTop,a=s.layout.currentChromeMarginBottom;return{x:t.x+r/n,y:t.y+o/n,width:(e.width-r-i)/n,height:(e.height-o-a)/n}}convertCanvasPointToContainer(e){const{offset:t,zoom:n}=this;return{x:(e.x-t.x)*n,y:(e.y-t.y)*n}}get offset(){return this.liveOffset||this.interactiveOffset}get zoom(){return this.liveZoom||this.interactiveZoom}updateCanvas(e,t,n=u.Immediate){const{interactiveOffset:o,interactiveZoom:s,containerSize:a,isConfiguredForTest:c}=this,l=n===u.Animated,h=n===u.Live,d=Math.max(t,1);if(e=r.Point(Math.round(e.x*d)/d,Math.round(e.y*d)/d),h){const n=this.isInteractive;return this.isInteractive=!1,this.liveOffset=e,this.liveZoom=t,this.liveAnimation=void 0,n||this.addChanges(i.EngineChangeFlags.CanvasZoom|i.EngineChangeFlags.CanvasStore),void this.addChanges(i.EngineChangeFlags.CanvasLiveTransform)}if(this.interactiveOffset!==e||this.interactiveZoom!==t)if(this.interactiveOffset=e,this.interactiveZoom=t,l&&!c){const n=this.liveAnimation?this.liveAnimation.currentRect:{x:o.x,y:o.y,width:a.width/s,height:a.height/s},r={x:e.x,y:e.y,width:a.width/t,height:a.height/t};let i=100;{let e=r.width/n.width;e<1&&(e=1/e),i*=e=Math.pow(.5*e,.1)}this.liveAnimation={duration:i,startTime:Date.now(),startRect:n,endRect:r,currentRect:n},this.isInteractive=!1,this.animateCanvas()}else{const e=s===t&&void 0===this.liveZoom;this.resetCanvasToInteractive(e?i.EngineChangeFlags.CanvasLiveTransform:void 0)}}testing_assign(e){Object.assign(this,e)}testing_configureForTest(e){this.isConfiguredForTest=e}scroll(e,t){const{offset:n,zoom:i}=this;this.updateCanvas(r.Point(n.x+e/i,n.y+t/i),i)}scrollToTopLeft(e,{animate:t=!1}={}){this.updateCanvas(e,this.zoom,t?u.Animated:u.Immediate)}scrollToCenter(e,{animate:t=!1}={}){const n=this.getCanvasCenter(),i=r.Point.subtract(e,n);this.scrollToTopLeft(r.Point.add(this.offset,i),{animate:t})}scrollToVisible(e,t){function deltaOnAxis(e,t,n){return e>0&&t>n?Math.min(e,t-n):e<0&&t<n?-Math.min(n-t,-e):0}t&&(t=r.Rect.intersects(e,t)?r.Rect.intersection(e,t):void 0);const n=this.convertContainerRectToCanvas(this.getContainerInteractiveRect());function deltaForRect(e){return{x:deltaOnAxis(r.Rect.minX(e)-r.Rect.minX(n),r.Rect.maxX(e)-r.Rect.minX(n),n.width),y:deltaOnAxis(r.Rect.minY(e)-r.Rect.minY(n),r.Rect.maxY(e)-r.Rect.minY(n),n.height)}}const i=deltaForRect(e);n.x+=i.x,n.y+=i.y;const o=t?deltaForRect(t):r.Point(0,0),s=r.Point.add(i,o);(Math.abs(s.x)>1||Math.abs(s.y)>1)&&this.updateCanvas(r.Point.add(this.offset,s),this.zoom)}beginAutoscrolling(){this.autoscrollLevel++}endAutoscrolling(){this.autoscrollLevel--}autoscrollIfNeeded(){if(this.autoscrollLevel<=0)return void(this.autoscrolling=void 0);const e=this.engine.mouseRaw,t=r.Rect.inset(this.getContainerInteractiveRect(),20);function overdragOnAxis(e,t,n){return e<t?e-t:e>n?e-n:0}const n={x:3*overdragOnAxis(e.x,r.Rect.minX(t),r.Rect.maxX(t)),y:3*overdragOnAxis(e.y,r.Rect.minY(t),r.Rect.maxY(t))};n.x||n.y?this.autoscrolling?this.autoscrolling.velocity=n:(this.autoscrolling={velocity:n},this.animateCanvas()):this.autoscrolling=void 0}constrainOffset(){}updateZoom(e){const t=Math.max(c,Math.min(l,e.zoom)),n=e.center||this.getCanvasCenter(),r=e.scrollToCenter?this.getContainerCenter():this.convertCanvasPointToContainer(n);this.updateCanvas({x:n.x-r.x/t,y:n.y-r.y/t},t,e.type)}setZoom(e,t={}){this.updateZoom({zoom:this.floorZoom(e),type:t.animated?u.Animated:u.Immediate})}zoomIn(e){this.updateZoom({zoom:this.zoomStep(!0),center:e,type:u.Animated})}zoomOut(e){this.updateZoom({zoom:this.zoomStep(!1),center:e,type:u.Animated})}zoomToCenter(e,t={}){let{zoom:n}=t;if(!n){const t=this.getContainerInteractiveRect(),r=t.height/e.height,i=t.width/e.width;n=Math.min(r,i),n=this.zoomStep(!1,n)}const{maxZoom:i}=t;i&&n>i&&(n=i),this.updateZoom({zoom:n,center:r.Rect.center(e),scrollToCenter:!0,type:!1===t.animated?u.Immediate:u.Animated})}zoomStep(e,t){let n=void 0!==t?t:this.zoom;return n=e?a.find(e=>e>n)||l:a.slice(0).reverse().find(e=>e<n)||c}floorZoom(e){return-1!==a.indexOf(e)?e:this.zoomStep(!1,e)}beginMagnification(){this.canDetectMagnificationPhase=!0}changeMagnification(e,t){let n=this.zoom*(1+e);n<c&&(n=c),n>l&&(n=l),n!==this.zoom&&(this.updateZoom({zoom:n,center:this.convertContainerPointToCanvas(t),type:u.Live}),this.canDetectMagnificationPhase||this.endMagnificationAfterInactiveDelay())}}},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const i=n(25),o=n(30);t.DebugStore=class DebugStore{constructor(e,t){this.addChanges=e,this.triggerUpdate=t,this.frames=[],this.lastUpdate=-1,this.longFrameCount=0,this._showPropertiesPanel=!0,this._showLeftPanel=!0,this._showArrows=!0,this._showTitles=!0,this.reportToConsole=()=>{const e=this.frames.slice(-60);console.table(e.map(e=>(delete(e=Object.assign({},e,{perf:0})).perf,e))),e.forEach(e=>{e.perf&&console.log("frame: "+e.update+" - "+e.totalTime+"ms",e.perf)})}}changed(){this.addChanges(o.EngineChangeFlags.DebugStore),this.triggerUpdate()}reset(){this._showPropertiesPanel=!0,this._showLeftPanel=!0,this._showArrows=!0,this._showTitles=!0,this.changed()}getLastReport(){return 0===this.frames.length?{}:this.frames[this.frames.length-1]}addFrameReport(e){if(e.update===this.lastUpdate)return this.frames[this.frames.length-1]=e,void console.warn("double frame: "+e.update+" - "+e.totalTime+"ms",e);if(this.lastUpdate=e.update,this.frames.length>100&&this.frames.shift(),this.frames.push(e),!e.documentWasHidden&&e.totalTime>350&&(console.log("long frame: "+e.update+" - "+e.totalTime+"ms",e),this.longFrameCount++,this.longFrameCount<=100)){const{documentWasHidden:t,perf:n}=e,o=r(e,["documentWasHidden","perf"]);i.triggerUiLongFrameEvent(Object.assign({},o))}}get showPropertiesPanel(){return this._showPropertiesPanel}set showPropertiesPanel(e){this._showPropertiesPanel=e,this.changed()}get showLeftPanel(){return this._showLeftPanel}set showLeftPanel(e){this._showLeftPanel=e,this.changed()}get showArrows(){return this._showArrows}set showArrows(e){this._showArrows=e,this.changed()}get showTitles(){return this._showTitles}set showTitles(e){this._showTitles=e,this.changed()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(28),i=n(1),o=n(761),s=n(30),a=n(1),c=n(770),l=n(106),u=n(237);t.MouseStore=class MouseStore{constructor(e,t){this.addChanges=e,this.engine=t,this.mouse=i.Point(0,0),this.mouseRaw=i.Point(0,0),this.mouseDown=null,this.mouseDownRaw=null,this.mouseOnCanvas=!1,this.middleMouseButtonDown=null,this.middleMouseButtonDownRaw=null,this.cmdKey=!1,this.ctrlKey=!1,this.altKey=!1,this.shiftKey=!1,this.spacebar=!1,this.chromePointerEvents=!0,this.isDown=!1}setMouseDown(e){this.isDown=e,this.mouseDown=this.isDown?this.mouse:null,this.mouseDownRaw=this.isDown?this.mouseRaw:null,this.addChanges(s.EngineChangeFlags.MouseStore)}setMiddleButtonDown(e){this.isDown=e,this.middleMouseButtonDown=this.isDown?this.mouse:null,this.middleMouseButtonDownRaw=this.isDown?this.mouseRaw:null,this.addChanges(s.EngineChangeFlags.MouseStore)}setMousePosition(e,t,n,i,o,c){r(a.isFiniteNumber(e.x)),r(a.isFiniteNumber(e.y)),r(a.isFiniteNumber(t.x)),r(a.isFiniteNumber(t.y)),this.mouse=e,this.mouseRaw=t,this.altKey=n,this.cmdKey=i,this.shiftKey=o,this.ctrlKey=c,this.addChanges(s.EngineChangeFlags.MouseStore)}setRawMousePosition(e){this.mouseRaw=e,this.mouseDownRaw=this.isDown?e:null,this.addChanges(s.EngineChangeFlags.MouseStore)}setModifierByName(e,t){if("alt"===e||"altKey"===e){if(this.altKey===t)return;this.altKey=t}else if("cmd"===e||"cmdKey"===e){if(this.cmdKey===t)return;this.cmdKey=t}else{if("shift"!==e&&"shiftKey"!==e)return;if(this.shiftKey===t)return;this.shiftKey=t}this.addChanges(s.EngineChangeFlags.MouseStore)}setMouseOnCanvas(e){this.mouseOnCanvas=e,this.addChanges(s.EngineChangeFlags.MouseStore)}setChromePointerEvents(e){this.chromePointerEvents!==e&&(this.chromePointerEvents=e,this.addChanges(s.EngineChangeFlags.ChromePointerEvents))}setSpacebarDown(e){this.spacebar!==e&&(this.spacebar=e,this.addChanges(s.EngineChangeFlags.MouseStore))}setModifiers(e,t){32===e.keyCode&&this.setSpacebarDown(t);const n=u.isWindows()?!!e.ctrlKey:!!e.metaKey,r=u.isWindows()?!!e.metaKey:!!e.ctrlKey,i=!!e.altKey,o=!!e.shiftKey;let a=!1;this.cmdKey!==n&&(this.cmdKey=n,a=!0),this.ctrlKey!==r&&(this.ctrlKey=r,a=!0),this.altKey!==i&&(this.altKey=i,a=!0),this.shiftKey!==o&&(this.shiftKey=o,a=!0),a&&this.addChanges(s.EngineChangeFlags.MouseStore)}onKeyDown(e){if(o.dragSessionActive())return;this.setModifiers(e,!0);const t=this.engine,n=t.tool;(function isArrowKey(e){return e.keyCode>=37&&e.keyCode<=40})(e)||t.selectionOutlineTracker.forceEnableSelectionOutline();const r=String.fromCharCode(e.which),i=e.shiftKey||e.metaKey||e.ctrlKey;if("z"!==r&&"Ω"!==r&&"Z"!==r||i)n.onKeyDown&&(n.onKeyDown(e),e.defaultPrevented)||e.repeat||new c.ToolManagerMenu(t).onKeyDown(e);else{if(e.preventDefault(),e.stopPropagation(),e.repeat||(t.startZoom=t.zoom),n.enum===l.Tools.ZoomSelect)return;if(n.enum===l.Tools.Zoom)return;t.setToolEnum(l.Tools.Zoom)}}onKeyUp(e){this.setModifiers(e,!1);const t=this.engine.tool;!t.onKeyUp||(t.onKeyUp(e),e.defaultPrevented)}onKeyPress(e){const t=this.engine.tool;!t.onKeyPress||(t.onKeyPress(e),e.defaultPrevented)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(379);t.useAutoSizeTransition=r.useAutoSizeTransition;var i=n(382);t.usePositionTransition=i.usePositionTransition;var o=n(173);t.useDraggable=o.useDraggable;var s=n(389);t.useDroppable=s.useDroppable;var a=n(239);t.Sortable=a.Sortable;var c=n(390);t.SortableWithSections=c.SortableWithSections;var l=n(768);t.Draggable=l.Draggable;var u=n(387);t.DragDataTransfer=u.DragDataTransfer;var h=n(388);t.DragGestureEvent=h.DragGestureEvent;var d=n(173);t.DraggableEvent=d.DraggableEvent;var p=n(389);t.DroppableEvent=p.DroppableEvent;var f=n(769);t.DragDataType=f.DragDataType;var g=n(390);t.SortableSectionSelector=g.SortableSectionSelector,t.SortableSectionItemSelector=g.SortableSectionItemSelector,t.SortableSectionItem=g.SortableSectionItem;var m=n(238);t.dragSessionActive=m.dragSessionActive;var v=n(239);t.SortableKeys=v.SortableKeys},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.needsBoxSizingWarning=function needsBoxSizingWarning(e){"border-box"!==getComputedStyle(e).getPropertyValue("box-sizing")&&console.warn("useAutoSizeTransition requires box sizing to be border box")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(386),o=10,s=50;function scrollDistance(e,t){if(e>s)return 0;return o*(t<.5?-1:1)*((s-e)/s)}function distanceToEdge(e,t){const n=Math.min(e,t-e);return Math.max(0,n)}t.useAutoScroll=function useAutoScroll(){const[e,t]=r.useState(null),n=r.useRef(null),o=r.useCallback(()=>{const t=n.current;if(!t||!e||t.cancelled)return;const{scrollX:r,scrollY:i}=t;(r||i)&&e.scrollBy(r,i),t.rafRef=requestAnimationFrame(o)},[e]),s=r.useCallback(e=>{t(function findScrollableAncestor(e){const{parentElement:t}=e;return t?function canScroll(e){const{overflow:t}=e.style;if("visible"===t||"hidden"===t)return!1;const n=e.scrollWidth>e.clientWidth,r=e.scrollHeight>e.clientHeight;return n||r}(t)?t:findScrollableAncestor(t):null}(e))},[]),a=r.useCallback(()=>{n.current&&(n.current.cancelled=!0)},[]);return{beginAutoScroll:s,endAutoScroll:r.useCallback(()=>{e&&e.removeEventListener("wheel",a),t(null);const r=n.current;r&&(window.cancelAnimationFrame(r.rafRef),n.current=null)},[e,a]),updateAutoScroll:r.useCallback(t=>{if(!e)return;const r=e.getBoundingClientRect();let s=0,c=0;if(i.pointInClientRect(t.client,r)){const e=t.client.x-r.left,n=t.client.y-r.top,i=e/r.width,o=n/r.height,a=distanceToEdge(e,r.width),l=distanceToEdge(n,r.height);s=scrollDistance(a,i),c=scrollDistance(l,o)}n.current?(n.current.scrollX=s,n.current.scrollY=c):(n.current={rafRef:requestAnimationFrame(o),scrollX:s,scrollY:c,cancelled:!1},e.addEventListener("wheel",a))},[e,o,a])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function isInteractiveElement(e,t){return!!(t&&t instanceof HTMLElement)&&(!!function hasInteractiveTag(e){return Boolean(r[e.tagName.toLowerCase()])}(t)||(!!function hasDraggableAttribute(e){switch(e.getAttribute("draggable")){case"true":case"false":return!0;default:return!1}}(t)||t!==e&&isInteractiveElement(e,t.parentElement)))}t.allowDragging=function allowDragging(e){const{target:t,currentTarget:n}=e;return!(n instanceof HTMLElement&&isInteractiveElement(n,t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.useForceUpdate=function useForceUpdate(){const[e,t]=r.useState(0);return()=>t(e=>e+1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(382),o=n(173);n(18).theme.addGlobalStyle(".hide-sortable-item > *",{display:"none !important"}),t.SortableItem=function SortableItem({index:e,sortIndex:t,visible:n,isRemovingItem:c,children:l,enabled:u,onDrag:h,onDragEnd:d,onDragStart:p,onDropAnimationEnd:f,dragProperties:g,dropAnimationProperties:m,customDragPreview:v}){const y=r.useRef(null),S=r.useRef(null),b=r.useRef(f);b.current=f;const _=r.useRef(!1);r.useLayoutEffect(()=>{const e=function getChildNode(e){return e.current instanceof HTMLDivElement&&e.current.firstChild instanceof HTMLDivElement?e.current.firstChild:null}(y);e&&(S.current=e)},[]);const C=r.useCallback(t=>{const n=document.activeElement;_.current=!!n&&n===S.current,p(t,e)},[e,p]),w=r.useCallback(()=>{const e=b.current;if(e&&e(),_.current){const e=S.current;e&&e.focus()}},[]),x=r.useCallback(()=>v(e),[v,e]);return o.useDraggable({ref:S,enabled:u,onDragStart:C,onDrag:h,onDragEnd:d,onDropAnimationEnd:w,dragProperties:g,dropAnimationProperties:m,customDragPreview:x}),i.usePositionTransition({dependencies:[e,t,c],ref:S}),r.createElement("div",Object.assign({},{[s]:"true"},{className:n?"":"hide-sortable-item",style:a,ref:y}),l)};const s="data-is-sortable-item";t.isSortableItemElement=function isSortableItemElement(e){return e instanceof HTMLDivElement&&e.hasAttribute(s)};const a={display:"contents"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.center=function center({x:e,y:t,width:n,height:r}){return{x:e+n/2,y:t+r/2}}}(t.Rect||(t.Rect={}))},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(173);t.Draggable=function Draggable(e){var{children:t,onDrag:n,onDragStart:s,onDragEnd:a,onDropAnimationStart:c,onDropAnimationEnd:l,dropAnimationProperties:u,dragProperties:h,movementThreshold:d,enabled:p,hideDragSource:f}=e,g=r(e,["children","onDrag","onDragStart","onDragEnd","onDropAnimationStart","onDropAnimationEnd","dropAnimationProperties","dragProperties","movementThreshold","enabled","hideDragSource"]);const m=i.useCallback(()=>i.createElement("div",Object.assign({},g),"function"==typeof t?t({isDragPreview:!0}):t),[t,g]),v=o.useDraggable({onDrag:n,onDragStart:s,onDragEnd:a,onDropAnimationStart:c,onDropAnimationEnd:l,dropAnimationProperties:u,dragProperties:h,movementThreshold:d,enabled:p,customDragPreview:m,hideDragSource:f});return i.createElement("div",Object.assign({},g,{ref:v}),"function"==typeof t?t({isDragPreview:!1}):t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(28),i=n(25),o=n(9),s=n(107),a=n(237),c=n(787);class ToolManagerMenu{constructor(e){this.engine=e}static getKeyMap(){if(!this._keyMap){const e=ToolManagerMenu.prototype;this._keyMap={Escape:e.cancelTool,"Meta+Enter":e.createFrame,"Meta+Alt+Enter":e.createStack,Enter:e.editAction,F:e.frame,U:e.roundedFrame,L:e.link,S:e.stack,G:e.shapeContainerTool,T:e.text,P:[e.path,e.hintAddGraphicToDrawShape],V:[e.path,e.hintAddGraphicToDrawShape],O:[e.ovalShape,e.hintAddGraphicToDrawShape],R:[e.rectangle,e.hintAddGraphicToDrawShape]}}return this._keyMap}getKeyMap(){return ToolManagerMenu.getKeyMap()}onKeyDown(e){r(!this.event,"this instance can only be used once, for a single operation"),this.event=e,a.handleKeyDown(e,this)}text(){this.engine.setToolEnum(o.Tools.CreateText)}shapeContainerTool(){this.engine.setToolEnum(o.Tools.CreateShapeContainer)}hintAddGraphicToDrawShape(){this.engine.shapeModeActive}rectangle(){this.engine.shapeModeActive&&this.engine.setToolEnum(o.Tools.CreateRectangleShape)}ovalShape(){this.engine.shapeModeActive&&this.engine.setToolEnum(o.Tools.CreateOvalShape)}path(){this.engine.shapeModeActive&&(this.engine.setSelection([]),this.engine.setToolEnum(o.Tools.Path))}stack(){this.engine.setToolEnum(o.Tools.CreateStackComponent)}link(){this.engine.setToolEnum(o.Tools.NavigationLink)}roundedFrame(){this.engine.setToolEnum(o.Tools.CreateRoundedFrame)}frame(){this.engine.setToolEnum(o.Tools.CreateFrame)}editAction(){if(0===this.engine.selection.length)return;const e=c.editActionForSelection(this.engine,"keyboard");e&&(e(),this.event.preventDefault())}createFrame(){s.ContextAction.addFrame(this.engine,this.engine.treeStore.selectionAsNodes),i.triggerLayoutFrameEvent({source:"keyboard"}),this.event.preventDefault()}createStack(){s.ContextAction.addStack(this.engine,this.engine.treeStore.selectionAsNodes),this.event.preventDefault()}cancelTool(){this.engine.tool.enum!==o.Tools.Path&&(this.engine.cancelTool(),this.event.preventDefault(),this.event.stopPropagation())}}t.ToolManagerMenu=ToolManagerMenu},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(1),o=n(6),s=n(20),a=n(22),c=n(44),l=(e,t,n)=>{const r=e.getGroundNodes().map(t=>e.getRect(t));return void 0!==n&&r.push(...n),void 0===r.find(e=>i.Rect.intersects(t,e))},u=(e,t,n,r,o)=>{const s=Object.assign({},e.getRect(t),n),a=[...e.getGroundNodes().map(e=>e.rect(null))];r&&a.push(...r);let c=s,l=0;for(;c;){if(s.x=xOffset(c,o),c=a.find(e=>i.Rect.intersects(e,s)),l>a.length)return s;l++}return s};function xOffset(e,t){const n=i.isFiniteNumber(t)?t:100;return i.Rect.maxX(e)+n}function addDefaultOffset(e,t,n){return Object.assign({},e,{x:xOffset(e,n)},t)}t.suggestedRect=(e,t,n,r,o,s)=>{if(o){const n=e.getNode(o);if(n)return u(e,n,t,r,s)}if(n){const o=((e,t,n)=>t.map(t=>e.getNode(t)).filter(e=>i.Size.equals(e.rect(null),n)))(e,n,t);if(o.length){const n=o.map(e=>addDefaultOffset(e.rect(null),t,s)).find(t=>l(e,t,r));if(n)return n;const i=o[0];return u(e,i,t,r,s)}}const a=((e,t,n,r)=>{const o=e.getGroundNodes().map(t=>e.getRect(t));void 0!==n&&o.push(...n);const s=o.filter(e=>e.width===t.width&&e.height===t.height||e.height===t.width&&e.width===t.height).sort((e,t)=>i.Rect.maxX(e)>i.Rect.maxX(t)?-1:1)[0];return void 0!==s?addDefaultOffset(s,t,r):null})(e,t,r,s);if(null!==a&&l(e,a,r))return a;const c=((e,t,n,r)=>{const o=e.getGroundNodes().map(t=>e.getRect(t));void 0!==n&&o.push(...n);const s=o.sort((e,t)=>i.Rect.maxX(e)>i.Rect.maxX(t)?-1:1)[0];return void 0!==s?addDefaultOffset(s,t,r):null})(e,t,r,s);return null!==c&&l(e,c,r)?c:Object.assign({},t,{x:0,y:0})},t.suggestedConstraintsForCopiedNode=(e,n,i,o)=>{const s=e.getRect(n);let a;r.isShapeContainerNode(n)&&(a=Math.min(s.width,100));const l=t.suggestedRect(e,s,i,o,n.id,a);return o.push(l),c.guessConstrainedFrame(l,null)},t.suggestedParent=(e,n,r,i)=>{if(1===n.length){let t=n[0];if(t===i){const n=e.getParent(t);t=n?n.id:o.NullID}let c=null;if(t){const n=e.getNode(t);if(n){const t=e.getRect(n);t.width>r.width&&t.height>r.height&&(c=n)}}if(null!==c&&s.hasChildren(c)&&!a.isReplicaOrReplicaChild(c))return c.id}return t.suggestedTopLevelFrame(e,n,r)},t.suggestedTopLevelFrame=(e,t,n)=>{if(t.length>0){const n=t[t.length-1],r=e.getGroundFrameAncestor(n,!0);if(r)return r.id}for(const i of e.sortVisually(e.getNodesAtPoint(n)).reverse())if(i instanceof r.FrameNode&&e.getParent(i.id)===o.NullID){if(a.isReplicaOrReplicaChild(i))continue;return i.id}return o.NullID}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNodesForNodeIDsOrNodes=(e,t)=>0===e.length?[]:"string"==typeof e[0]?t.withoutDescendants(t.getNodes(e)):e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(774),i=n(91),o=n(777),s=n(109),a=n(6),c=n(784),l=n(785),u=n(102),h=n(93);l.default();t.PaperjsPathOperator=class PaperjsPathOperator{booleanJoin(e,t){if(t===i.PathBooleanType.Join)return[].concat(...e);const n=e.map(e=>r.convertWithPathsToPaperPathItem(e,!0));let s=n.shift();return n.forEach(e=>{if(s&&e)switch(t){case i.PathBooleanType.Unite:s=s.unite(e);break;case i.PathBooleanType.Exclude:s=s.exclude(e);break;case i.PathBooleanType.Intersect:s=s.intersect(e);break;case i.PathBooleanType.Subtract:s=s.subtract(e)}}),s?o.convertPaperPathItemToWithPaths(s):[]}containsPoint(e,t){let n;const i=e.cache;return i.paperPath?n=i.paperPath:(n=r.convertWithPathsToPaperPathItem(e.calculatedPaths()),i.paperPath=n),n.contains(new s.Point(t))}importSvg(e,t,n){let r,i=e;if(n&&n.colorable){const t=(new DOMParser).parseFromString(e,"image/svg+xml").rootElement;if(!t)throw new Error(`Unsupported SVG: ${e}}`);const o=t.getAttribute("fill"),a=!(o&&"none"===o.toLowerCase());if(a){if("linear-gradient"===n.fillType&&n.fillLinearGradient instanceof h.LinearGradient)r={fillType:"linear-gradient",fillLinearGradient:n.fillLinearGradient};else if("image"===n.fillType&&n.fillImage)r={fillType:"image",fillImage:n.fillImage,fillImageResize:n.fillImageResize,fillImagePixelWidth:n.fillImagePixelWidth,fillImagePixelHeight:n.fillImagePixelHeight};else if("color"===n.fillType&&n.fillColor){const e=new s.Color(n.fillColor).toCSS(!1);a&&t.setAttribute("style",`fill: ${e}; color: ${e}`);const r=t.getAttribute("stroke");r&&"currentcolor"===r.toLowerCase()&&t.setAttribute("stroke",e)}i=t}}let l=!1;const d=s.project.importSVG(i,{expandShapes:!0,insert:!1,size:t,onError:e=>{console.log("Error on importing SVG:",e),l=!0;const t=document&&document.getElementsByTagName("body");if(t&&t[0]){let e=t[0].lastElementChild;for(;e&&"svg"===e.tagName;)e.remove(),e=t[0].lastElementChild}}});if(l)return null;const p=o.convertPaperItemToNodes(d,[],null,new a.default,r),f=p[0];if(!f)return null;if(t){const e={width:f.width,height:f.height},r=n;r&&u.hasIntrinsicSize(r)&&(e.height=r.intrinsicHeight||e.height,e.width=r.intrinsicWidth||e.width);const i=t.width/e.width,o=t.height/e.height;1===i&&1===o||c.scaleMutableNodes(p.slice(1),i,o)}return(new a.default).insertNodes(p).getNode(f.id)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(109),i=n(109);function convertWithPathToPaperPath({pathSegments:e,pathClosed:t},n){const o=new r.Path({insert:!1,closed:t||n});return e.forEach(e=>{e&&o.add(new i.Segment({point:new i.Point(e.x,e.y),handleIn:new i.Point(e.handleInX,e.handleInY),handleOut:new i.Point(e.handleOutX,e.handleOutY)}))}),o}t.convertWithPathsToPaperPathItem=function convertWithPathsToPaperPathItem(e,t){const n=e.map(e=>convertWithPathToPaperPath(e,t));return 1===n.length?n[0]:new i.CompoundPath({insert:!1,children:n})},t.convertWithPathToPaperPath=convertWithPathToPaperPath},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(109),i=n(109),o=n(3),s=n(6),a=n(1),c=n(778),l=n(6),u=n(91),h=n(175),d=n(93),p=n(64),f={matrix:null};function convertPaperPathItemToWithPaths(e,t=f){if(e instanceof i.CompoundPath)return convertPaperCompoundPathToWithPaths(e,t);if(e instanceof r.Path)return[convertPaperPathToWithPath(e,t)];throw new Error("Unexpected path type")}function convertPaperPathToWithPath(e,t=f){null!==t.matrix&&e.segments.forEach(e=>{e.transform(t.matrix)});const n=e.segments.map(e=>{const{point:t,handleIn:n,handleOut:r}=e;return new a.PathSegment({x:t.x,y:t.y,handleInX:n.x,handleInY:n.y,handleOutX:r.x,handleOutY:r.y,handleMirroring:inferHandleMirroring(e)})});return{pathSegments:o.List(n),pathClosed:e.closed}}function convertPaperCompoundPathToWithPaths(e,t=f){let n=[];return e.children.forEach(e=>{e instanceof i.PathItem&&(n=n.concat(convertPaperPathItemToWithPaths(e,t)))}),n}function inferHandleMirroring(e){const{handleIn:t,handleOut:n}=e;return 0===t.x&&0===t.y&&0===n.x&&0===n.y?"straight":t.x===-n.x&&t.y===-n.y?"symmetric":"disconnected"}function convertPaperColorToString(e){if(e instanceof i.Color)return e.toCSS(!1);if(e)throw Error(`Paper.Color unexpectedly passed as a string: ${e}`);return"rgba(0,0,0,1)"}function convertPaperItemToNodes(e,t=[],n=null,r=new s.default,o){return e instanceof i.Group?convertPaperGroupToNodes(e,t,n,r,o):e instanceof i.PathItem?convertPaperPathItemToNodes(e,t,n,r,o):(console.warn(`Unhandled Paper item: ${e}`),t)}function convertPaperGroupToNodes(e,t=[],n=null,r=new s.default,i){const o=convertPaperItemBounds(e),a=n?n.id:l.NullID;let c;return c=a?new s.ShapeGroupNode(Object.assign({parentid:a},o)):new s.ShapeContainerNode({parentid:a,left:0,top:0,width:o.x+o.width,height:o.y+o.height,fillEnabled:!1}),t.push(c),e.children.forEach(e=>{convertPaperItemToNodes(e,t,c,r,i)}),t}function convertPaperPathItemToNodes(e,t=[],n=null,r=new s.default,i){const o=convertPaperPathItemToWithPaths(e),a=convertPaperPathItemAttributes(e),d=n?n.id:l.NullID;if(1===o.length){const[{pathSegments:e,pathClosed:r},l]=c.default(o[0]);h.isShapeGroupNode(n)&&(l.x-=n.x,l.y-=n.y);const u=new s.PathNode(Object.assign({parentid:d,pathSegments:e,pathClosed:r},a,i,l));t.push(u)}else if(o.length){const r=convertPaperItemBounds(e),l=r.x,p=r.y;h.isShapeGroupNode(n)&&(r.x-=n.x,r.y-=n.y);const f=new s.BooleanShapeNode(Object.assign({parentid:d,pathBoolean:u.PathBooleanType.Join},a,i,r));t.push(f),o.forEach(e=>{const[{pathSegments:n,pathClosed:r},o]=c.default(e);o.x-=l,o.y-=p;const a=new s.PathNode(Object.assign({parentid:f.id,pathSegments:n,pathClosed:r},o,i));t.push(a)})}return t}function convertPaperItemBounds(e){const{x:t,y:n,width:r,height:i}=e.bounds;return{x:t,y:n,width:r,height:i}}function convertPaperPathItemAttributes(e){const t=e.fillColor;let n,r,i="color";const s=t;if(s&&s.origin&&s.destination){const c=t.gradient;if(c){const t=c.stops[0],l=c.stops[c.stops.length-1],u=o.List([new p.GradientColorStop({value:convertPaperColorToString(t.color),position:0}),new p.GradientColorStop({value:convertPaperColorToString(l.color),position:1})]);let h,f=180;if(c.radial){const t=Math.max(e.bounds.width,1),n=Math.max(e.bounds.height,1),r=s.origin.x/t,o=s.origin.y/n,c={x:r,y:o},l={x:s.destination.x/t,y:s.destination.y/n},u=a.Point.distance(c,l),d=u,p=Math.abs(c.y-l.y)>Math.abs(c.x-l.x);i="radial-gradient",h={centerAnchorX:r,centerAnchorY:o,widthFactor:p?d:u,heightFactor:p?u:d}}else i="linear-gradient",f=(90+s.destination.subtract(s.origin).angle)%360;n=new d.LinearGradient({stops:u,angle:f}),r=new d.RadialGradient(Object.assign({stops:u},h))}}return{strokeEnabled:e.hasStroke()?1:0,strokeAlignment:"center",strokeWidth:e.strokeWidth,strokeColor:convertPaperColorToString(e.strokeColor),strokeMiterLimit:e.miterLimit,strokeDashArray:e.dashArray.join(","),strokeDashOffset:e.dashOffset,lineJoin:e.strokeJoin,lineCap:e.strokeCap,fillEnabled:e.hasFill(),fillColor:convertPaperColorToString(e.fillColor),fillType:i,fillLinearGradient:n,fillRadialGradient:r,opacity:e.opacity}}t.convertPaperPathItemToWithPaths=convertPaperPathItemToWithPaths,t.convertPaperPathToWithPath=convertPaperPathToWithPath,t.convertPaperCompoundPathToWithPaths=convertPaperCompoundPathToWithPaths,t.inferHandleMirroring=inferHandleMirroring,t.convertPaperColorToString=convertPaperColorToString,t.convertPaperItemToNodes=convertPaperItemToNodes,t.convertPaperGroupToNodes=convertPaperGroupToNodes,t.convertPaperPathItemToNodes=convertPaperPathItemToNodes,t.convertPaperItemBounds=convertPaperItemBounds,t.convertPaperPathItemAttributes=convertPaperPathItemAttributes},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(23);t.default=function normalizeWithPath(e){const t=r.default.boundingBox(e),n=e.pathSegments.map(e=>e.merge({x:e.x-t.x,y:e.y-t.y}));return[{pathClosed:e.pathClosed,pathSegments:n},t]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(56),i=n(20),o=n(43),s=n(26),a=n(45),c=n(40),l=n(39),u=n(103),h=n(46),d=n(57);t.ShapeGroupRecord=Object.assign({},r.nameDefaults,i.instructionalChildrenDefaults,s.rotationDefaults,o.aspectRatioDefaults,d.opacityDefaults,a.visibilityDefaults,c.lockDefaults,l.sizeDefaults,u.positionDefaults,h.withExportDefaults)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(33);t.NoDevice="No Device",t.getDevices=()=>{const e=r.componentLoader.componentIdentifiers(),t={};return e.map(e=>{const n=r.componentLoader.componentForIdentifier(e);n&&"device"===n.type&&(t[n.identifier]=n.class.descriptor)}),t},t.getDeviceCategories=e=>{const t={};for(const n in e){const r=e[n],i=r.category||"Default",o=t[i]||{};o[n]=r,t[i]=o}return t},t.getDeviceKinds=e=>{const t={};for(const n in e){const r=e[n],i=r.kind;i&&(t[i]=t[i]||{},t[i][n]=r)}return t},t.getDevice=e=>t.getDevices()[e],t.getDeviceName=e=>{if(e){const n=t.getDevices()[e];return n?n.selector:void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(64),o={alpha:1,angle:180,stops:r.List([new i.GradientColorStop({value:"rgba(0,0,0,0)",position:0}),new i.GradientColorStop({value:"black",position:1})])};t.LinearGradientRecord=r.Record(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(110);t.RadialGradient=Object.assign(i.RadialGradient,r.RadialGradient)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(64),o={alpha:1,widthFactor:.5,heightFactor:.5,centerAnchorX:.5,centerAnchorY:.5,stops:r.List([new i.GradientColorStop({value:"rgba(0,0,0,0)",position:0}),new i.GradientColorStop({value:"black",position:1})])};t.RadialGradientRecord=r.Record(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(103),i=n(39),o=n(1);t.scaleMutableNodes=function scaleMutableNodes(e,t,n){1===t&&t===n||e.forEach(e=>{r.hasPosition(e)&&(e.x=e.x*t,e.y=e.y*n),i.hasSize(e)&&(e.width=e.width*t,e.height=e.height*n);const s=e;if(s&&s.pathSegments&&(s.pathSegments=s.pathSegments.map(e=>new o.PathSegment({x:e.x*t,y:e.y*n,handleMirroring:e.handleMirroring,handleOutX:e.handleOutX*t,handleOutY:e.handleOutY*n,handleInX:e.handleInX*t,handleInY:e.handleInY*n})),t===n)){const e=t;void 0!==s.strokeDashOffset&&(s.strokeDashOffset=s.strokeDashOffset*e),void 0!==s.strokeWidth&&(s.strokeWidth=s.strokeWidth*e),void 0!==s.strokeMiterLimit&&(s.strokeMiterLimit=s.strokeMiterLimit*e)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(109);t.default=function setupPaperWithoutView(){r.setup(""),r.project.view.remove()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(56),i=n(39),o=n(102),s=n(165),a=n(43),c=n(35),l=n(26),u=n(133),h=n(227),d=n(20),p=n(45),f=n(40),g=n(46),m=n(57),v=n(134),y=n(164),S=n(171),b=n(137),_=n(58),C=n(59),w=n(135),x=n(370),P=n(88),T=n(22),k=n(235),E=n(104);t.FrameRecord=Object.assign({},r.nameDefaults,i.sizeDefaults,o.intrinsicSizeDefaults,d.basicChildrenDefaults,s.withDeviceDefaults,a.aspectRatioDefaults,c.pinDefaults,P.fillDefaults,m.opacityDefaults,l.rotationDefaults,w.clipDefaults,u.borderDefaults,h.borderPerSideDefaults,_.relativeRadiusDefaults,C.radiusPerCornerDefaults,v.boxShadowDefaults,p.visibilityDefaults,f.lockDefaults,x.effectsDefaults,g.withExportDefaults,T.templateDefaults,S.navigationLinkDefaults,y.codeOverrideDefaults,b.previewSettingsDefaults,k.targetDefaults,E.guidesDefaults)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),i=n(6),o=n(20),s=n(108),a=n(36),c=n(74),l=n(106),u=n(107),h=n(178),d=n(788);t.editActionForSelection=function editActionForSelection(e,t="none"){const{selection:n,tree:p,tool:f}=e;let g=()=>{};if(f.enum!==l.Tools.Highlight&&f.enum!==l.Tools.Move)return g;1===n.length&&"keyboard"===t&&(g=()=>d.dispatchAction("rename"));const m=function maybeGraphicsActionForSelection(e){const t=e.treeStore.selectionAsNodes;if(0===t.length)return null;let n=!0,c=!0,l=!1;for(const r of t)n=n&&a.hasShape(r),c=c&&s.hasPath(r),l=l||i.isBooleanShapeNode(r)||i.isShapeGroupNode(r);return n?c?()=>{r.triggerDrawingShapeEditEvent({}),e.setPathTool()}:l?()=>{const n=[];!function addToSelection(e){for(const t of e)o.hasChildren(t)?addToSelection(t.children):n.push(t.id)}(t),e.setSelection(n)}:u.ContextAction.flattenEnabled(t)?()=>{u.ContextAction.flattenShapes(e,t,!0)}:null:null}(e);if(m&&(g=m),1!==n.length)return g;m||"keyboard"!==t||(g=()=>d.dispatchAction("rename"));const v=p.getNode(n[0]);return v instanceof i.TextNode?g=()=>e.setToolEnum(l.Tools.TextEdit,t):c.isSVGNode(v)?g=()=>{u.ContextAction.convertSVGToShape(e,v)}:i.isShapeContainerNode(v)&&(g=()=>{e.setShapeModeActive(!0);const{mouse:t,cmdKey:r}=e;if(t){let i=p.getNodesAtPoint(t,!0);i=i.filter(t=>h.default(t,e,n,r,!0));const o=p.getTopMostChildNode(i);o&&e.setSelection([o.id])}}),g}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(170);function wantsActions(e){return!e.wantsActions||e.wantsActions()}function wantsAction(e,t){return!e.wantsAction||e.wantsAction(t)}function optionsForAction(e,t){return e.optionsForAction?e.optionsForAction(t):void 0}var o;!function(e){e.chain=function chain(e){return new Chain(e)},e.functionTarget=function functionTarget(e,t){return e&&e instanceof Chain?e.actionToTargetMap[t]:e};class Chain{constructor(e){this.actionToTargetMap={},this.wantedActions=[],this.then(e)}then(e){this.wantedActions=this.wantedActions.concat(e.wantedActions);const t=this.actionToTargetMap,n=e.wantedActions;for(const r of n)t[r]=t[r]||e;return this}wantsAction(e){const t=this.actionToTargetMap[e];return!(!t||!wantsActions(t))&&wantsAction(t,e)}optionsForAction(e){const t=this.actionToTargetMap[e];if(t)return optionsForAction(t,e)}}}(o=t.ActionTarget||(t.ActionTarget={}));t.ActionResponder=class ActionResponder extends r.Component{constructor(){super(...arguments),this.ref=null,this.setRef=e=>{const t=document.documentElement?[document.documentElement]:[];this.ref&&t.push(this.ref);for(const n of t)n.removeEventListener(ActionDispatchEvent.eventType,this.onAction),n.removeEventListener(ActionValidationEvent.eventType,this.onValidateActions);if(this.ref=e,this.ref){const e=(this.props.global?document.documentElement:null)||this.ref;e.addEventListener(ActionDispatchEvent.eventType,this.onAction),e.addEventListener(ActionValidationEvent.eventType,this.onValidateActions)}},this.onAction=e=>{const t=e.actionIdentifier;if(!t)return;const n=o.functionTarget(this.props.target,t);if(n&&-1!==n.wantedActions.indexOf(t)&&wantsActions(n)){const r=n[t];if("function"==typeof r){const i=wantsAction(n,t);i&&(e.preventDefault(),e.stopPropagation(),!0===i&&this.props.engine.wrapHandler(r.bind(n))(e.actionArgument))}}},this.onValidateActions=e=>{const{invalidatedActions:t,validatedActionStates:n,validatedActionOptions:r}=e;if(!t||!n||!r)return;const{target:i}=this.props;if(i){for(const e of i.wantedActions)if(t.has(e)){t.delete(e);const o=!!wantsActions(i)&&wantsAction(i,e);if(n[e]=o,!0===o){const t=optionsForAction(i,e);t&&(r[e]=t)}}0===t.size&&(e.preventDefault(),e.stopPropagation())}},this.onContextMenu=e=>{i.isDebugBuild||e.preventDefault()}}render(){return r.createElement("div",{ref:this.setRef,onContextMenu:this.onContextMenu},this.props.children)}},t.dispatchAction=function dispatchAction(e,t){const n=document.activeElement;if(!n)throw Error("No active element for action dispatch");const r=new ActionDispatchEvent(ActionDispatchEvent.eventType,{bubbles:!0});return r.actionIdentifier=e,r.actionArgument=t,n.dispatchEvent(r)};class ActionDispatchEvent extends Event{}ActionDispatchEvent.eventType="vekter-action-dispatch-event";class ActionValidationEvent extends Event{}ActionValidationEvent.eventType="vekter-action-validation-event";const s=[],a=[];t.beforeValidatingActions=function beforeValidatingActions(e){s.push(e)},t.afterValidatingActions=function afterValidatingActions(e){a.push(e)},t.validateAction=function validateAction(e){const t="*"===e?Object.keys(c):[e];s.forEach(e=>e());const{states:n,options:r}=function dispatchActionValidation(e){const t=document.activeElement;if(!t)throw Error("No active element for action validation");const n=new Set;for(const s of e)n.add(s);const r={},i={},o=new ActionValidationEvent(ActionValidationEvent.eventType,{bubbles:!0});return o.invalidatedActions=n,o.validatedActionStates=r,o.validatedActionOptions=i,t.dispatchEvent(o),{states:r,options:i}}(t);Object.assign(c,n),Object.assign(l,r);for(const i of t)c[i]=n[i]||("undo"===i||"redo"===i||"delete"===i)&&"native";return a.forEach(e=>e()),{states:c,options:l}};const c={},l={};t.wantsNativeTextActions=function wantsNativeTextActions(){const e=document.activeElement;return!!e&&(!!e.classList.contains("wantsNativeTextAction")||e instanceof HTMLIFrameElement||e instanceof HTMLInputElement&&"text"===e.type||e instanceof HTMLElement&&e.isContentEditable)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(30),i=n(142),o={documentIsLoaded:!1,chromeIsVisible:!0};t.ChromeStore=class ChromeStore{constructor(e){this.addChanges=e,this.state=Object.assign({},o)}setChromeVisible(e){this.state=Object.assign({},this.state,{chromeIsVisible:e}),i.layout.chromeIsVisible=e,this.addChanges(r.EngineChangeFlags.ChromeStore)}setDocumentIsLoaded(e){this.state=Object.assign({},this.state,{documentIsLoaded:e}),this.addChanges(r.EngineChangeFlags.ChromeStore)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(53),i=n(3),o=n(1),s=n(52),a=n(30),c=n(791),l=n(64),u=n(71);function isValidKey(e){switch(e){case"showPixelGrid":case"displayAllLinks":case"displayRulers":case"useInternalEditor":case"editorFontSize":case"colorModel":case"colorPresets":case"gradientColorStopPresets":return!0;default:return handleUnknownUserDefaultKey(e)}}function handleUnknownUserDefaultKey(e){return console.log(`Unknown user default key: ${e}`),!1}t.PersistedUserDefaults=class PersistedUserDefaults{constructor(e){this.addChanges=e,this._showPixelGrid=!1,this._displayAllLinks=!1,this._displayRulers=!1,this._useInternalEditor=!0,this.editorDefaultFontSize=12,this._editorFontSize=this.editorDefaultFontSize,this._colorPresets=h,this._gradientColorStopPresets=d,this._colorModel="HEX",this.silentUpdate=!1;const t=window.VekterUserDefaults;t&&this.silentStateUpdate(t)}get showPixelGrid(){return this._showPixelGrid}set showPixelGrid(e){this._showPixelGrid=e,this.broadcastChanges()}get displayAllLinks(){return this._displayAllLinks}set displayAllLinks(e){this._displayAllLinks=e,this.broadcastChanges()}get displayRulers(){return u.experiments.isOn("rulers")&&this._displayRulers}set displayRulers(e){this._displayRulers=e,this.broadcastChanges()}get useInternalEditor(){return this._useInternalEditor}set useInternalEditor(e){this._useInternalEditor=e,this.broadcastChanges()}get editorFontSize(){return this._editorFontSize}set editorFontSize(e){e<9?e=9:e>40&&(e=40),this._editorFontSize!==e&&(this._editorFontSize=e,this.broadcastChanges())}editorFontSizeIncrease(){this.editorFontSize+=1}editorFontSizeDecrease(){this.editorFontSize-=1}editorFontSizeReset(){this.editorFontSize=this.editorDefaultFontSize}get colorPresets(){return this._colorPresets}set colorPresets(e){Array.isArray(e)&&(e=i.List(e)),this._colorPresets=e,this.broadcastChanges()}get gradientColorStopPresets(){return this._gradientColorStopPresets}set gradientColorStopPresets(e){Array.isArray(e)?this._gradientColorStopPresets=i.List(e.map(e=>i.List(e.map(e=>new l.GradientColorStop(e))))):this._gradientColorStopPresets=e,this.broadcastChanges()}get colorModel(){return this._colorModel}set colorModel(e){this._colorModel=e,this.broadcastChanges()}externalStateUpdate(e){this.silentStateUpdate(e),this.addChanges(a.EngineChangeFlags.UserDefaultsStore)}broadcastChanges(){if(this.silentUpdate)return;this.addChanges(a.EngineChangeFlags.UserDefaultsStore);const e=this.userDefaultState();window.VekterUserDefaults=e,s.getIpcRenderer().send(r.VekterUserDefaultsChange,e)}userDefaultState(){return{showPixelGrid:this.showPixelGrid,displayAllLinks:this.displayAllLinks,colorPresets:this.colorPresets.toJS(),gradientColorStopPresets:this.gradientColorStopPresets.toJS(),colorModel:this.colorModel,useInternalEditor:this.useInternalEditor,editorFontSize:this.editorFontSize,displayRulers:this.displayRulers}}silentStateUpdate(e){this.silentUpdate=!0,function containsDeprecatedGradientPresets(e){return p in e}(e)&&(e.gradientColorStopPresets=function convertDeprecatedGradientsToColorStops(e){return i.List(e.gradientPresets.map(({start:e,end:t})=>i.List([new l.GradientColorStop({value:t,position:0}),new l.GradientColorStop({value:e,position:1})])))}(e));const t=Object.keys(e);for(const n of t)isValidKey(n)&&this.setValue(n,e[n]);this.silentUpdate=!1}setValue(e,t){switch(e){case"showPixelGrid":case"displayAllLinks":case"displayRulers":case"useInternalEditor":(function isBoolean(e){return!0===e||!1===e})(t)&&(this[e]=t);break;case"editorFontSize":o.isFiniteNumber(t)&&(this[e]=t);break;case"colorModel":c.isColorModel(t)&&(this[e]=t);break;case"colorPresets":case"gradientColorStopPresets":(i.List.isList(t)||Array.isArray(t))&&(this[e]=t);break;default:handleUnknownUserDefaultKey(e)}}};const h=i.List(["#000000","#333333","#555555","#777777","#999999","#BBBBBB","#DDDDDD","#FFFFFF","#4455BB","#1199EE","#55CCFF","#22CCDD","#22AA99","#66BB66","#99CC66","#CCDD33","#7755CC","#BB66CC","#FF88AA","#EE4444","#FF7744","#FFAA22","#FFCC66","#FFEE66"]),d=i.List([["rgba(0,0,0,0)","#000000"],["rgba(0,0,0,0)","rgba(0,0,0,.75)"],["rgba(0,0,0,0)","rgba(0,0,0,.5)"],["rgba(0,0,0,0)","rgba(0,0,0,.25)"],["rgba(255,255,255,0)","rgba(255,255,255,.25)"],["rgba(255,255,255,0)","rgba(255,255,255,.5)"],["rgba(255,255,255,0)","rgba(255,255,255,.75)"],["rgba(255,255,255,0)","#FFFFFF"],["#728AE9","#151F8C"],["#1ED2FC","#015FDF"],["#8AF2FF","#1FA5FF"],["#3DF2F8","#06A5C2"],["#3BDFD2","#05745F"],["#9FE99F","#2C8B2C"],["#D2F29F","#5FA52C"],["#F2F85A","#A5C10D"],["#B28AF2","#3B1FA5"],["#E99FF2","#8C2CA5"],["#FFC3DF","#FF4C74"],["#FC7272","#DF1515"],["#FFB272","#FF3B15"],["#FFDF3D","#FF7406"],["#FFF29F","#FFA52C"],["#FFF29F","#FFE02C"]].map(([e,t])=>i.List([new l.GradientColorStop({value:e,position:0}),new l.GradientColorStop({value:t,position:1})]))),p="gradientPresets"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=["RGB","HSL","HEX"];t.isColorModel=function isColorModel(e){return r.some(t=>t===e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(3),o=n(30),s=n(18),a=n(262),c=n(793);var l;!function(e){e.List="list",e.Grid="grid"}(l=t.ComponentPanelViewType||(t.ComponentPanelViewType={})),t.ColorPresetsKey="color-presets";t.DocumentSettingsStore=class DocumentSettingsStore{constructor(e){this.addChanges=e,this.font=r.draftStyles.font.default,this.color=r.draftStyles.color.default,this.size=r.draftStyles.size.default,this.letterSpacing=r.draftStyles.letterSpacing.default,this.lineHeight=r.draftStyles.lineHeight.default,this._hasDarkAppearance=!1,this._openArtboardCategories=i.Set([]),this._crashMessage=null,this._organization=null,this.gradientStopIndex=0,this.componentPanelViewType=l.List,this._componentPanelExpandedPackages=i.Set(),this._componentPanelExpandedCategories=i.Set(),this._propertyPanelTab="Layout",this._exportCSSType="CSS",this._activePreset=r.localPackageFallbackIdentifier,this.hasDarkAppearance=!!window.hasDarkAppearance}get hasDarkAppearance(){return this._hasDarkAppearance}set hasDarkAppearance(e){this._hasDarkAppearance!==e&&(this._hasDarkAppearance=e,s.theme.setActiveTheme(this._hasDarkAppearance?c.darkTheme:a.lightTheme),this.addChanges(o.EngineChangeFlags.DocumentSettings))}get openArtboardCategories(){return this._openArtboardCategories}openArtboardCategory(e){const t=this._openArtboardCategories.add(e);t!==this._openArtboardCategories&&(this._openArtboardCategories=t,this.addChanges(o.EngineChangeFlags.DocumentSettings))}closeArtboardCategory(e){const t=this._openArtboardCategories.remove(e);t!==this._openArtboardCategories&&(this._openArtboardCategories=t,this.addChanges(o.EngineChangeFlags.DocumentSettings))}get crashMessage(){return this._crashMessage}set crashMessage(e){this._crashMessage!==e&&(this._crashMessage=e,this.addChanges(o.EngineChangeFlags.DocumentSettings))}get organization(){return this._organization}set organization(e){this._organization!==e&&(this._organization=e,this.addChanges(o.EngineChangeFlags.DocumentSettings))}componentPanelExpandedPackages(){return this._componentPanelExpandedPackages.toArray()}componentPanelExpandedCategories(){return this._componentPanelExpandedCategories.toArray()}get propertyPanelTab(){return this._propertyPanelTab}set propertyPanelTab(e){this._propertyPanelTab=e,this.addChanges(o.EngineChangeFlags.DocumentSettings)}get exportCSSType(){return this._exportCSSType}set exportCSSType(e){this._exportCSSType=e,this.addChanges(o.EngineChangeFlags.DocumentSettings)}setDefaultFont(e){this.font!==e&&(this.font=e,this.addChanges(o.EngineChangeFlags.TextStyle))}setDefaultTextColor(e){this.color!==e&&(this.color=e,this.addChanges(o.EngineChangeFlags.TextStyle))}setDefaultTextSize(e){this.size!==e&&(this.size=e,this.addChanges(o.EngineChangeFlags.TextStyle))}setDefaultLetterSpacing(e){this.letterSpacing!==e&&(this.letterSpacing=e,this.addChanges(o.EngineChangeFlags.TextStyle))}setDefaultLineHeight(e){this.lineHeight!==e&&(this.lineHeight=e,this.addChanges(o.EngineChangeFlags.TextStyle))}asStyle(){const e=[r.draftStyles.font.prefix+this.font,r.draftStyles.color.prefix+this.color,r.draftStyles.size.prefix+this.size,r.draftStyles.letterSpacing.prefix+this.letterSpacing,r.draftStyles.lineHeight.prefix+this.lineHeight];return i.OrderedSet(e)}setGradientStopIndex(e){this.gradientStopIndex!==e&&(this.gradientStopIndex=e,this.addChanges(o.EngineChangeFlags.GradientTool))}setComponentPanelViewType(e){this.componentPanelViewType!==e&&(this.componentPanelViewType=e,this.addChanges(o.EngineChangeFlags.ComponentPanel))}expandComponentPanelPackage(e,{shouldCollapseOthers:t}={}){const n=t?i.Set([e]):this._componentPanelExpandedPackages.add(e);n===this._componentPanelExpandedPackages||n.equals(this._componentPanelExpandedPackages)||(this._componentPanelExpandedPackages=n,this.addChanges(o.EngineChangeFlags.ComponentPanel))}collapseComponentPanelPackage(e){const t=this._componentPanelExpandedPackages.remove(e);t!==this._componentPanelExpandedPackages&&(this._componentPanelExpandedPackages=t,this.addChanges(o.EngineChangeFlags.ComponentPanel))}expandComponentPanelCategory(e){const t=this._componentPanelExpandedCategories.add(e);t!==this._componentPanelExpandedCategories&&(this._componentPanelExpandedCategories=t,this.addChanges(o.EngineChangeFlags.ComponentPanel))}collapseComponentPanelCategory(e){const t=this._componentPanelExpandedCategories.remove(e);t!==this._componentPanelExpandedCategories&&(this._componentPanelExpandedCategories=t,this.addChanges(o.EngineChangeFlags.ComponentPanel))}getColorPickerActivePreset(){return this._activePreset}setColorPickerActivePreset(e){this._activePreset=e,this.addChanges(o.EngineChangeFlags.ColorPicker)}get isFramerTeam(){return!!this._organization&&"framer"===this._organization.name}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(341);t.darkTheme=new class DarkTheme{constructor(){this.name="dark",this.tint="#09f",this.tintDark="#09f",this.componentTint="#85F",this.tabContentDivider="#000",this.statusBarBorder=this.tabContentDivider,this.propertyPanelBackgroundDivider=this.tabContentDivider,this.propertyPanelDivider=this.tabContentDivider,this.propertyPanelButtonBorderPrimary="#000",this.pinsFrameBorder="#444",this.colorSwatchBorder="#111",this.colorTokenSwatchBorder="rgba(255,255,255,0.15)",this.toolbarBackground="#111",this.toolbarIconIndicator="#09F",this.tabContentBackground="#181818",this.tabContentBackgroundHover="#111",this.tabContentAccessoryBackground="#222",this.toolSectionHeaderText="#fff",this.toolText="#999",this.toolTextActive="#09F",this.toolAccelerator="#444",this.scrollerThumbBackground="yellow",this.canvasBackground="#252525",this.rulerBackground="#181818",this.rulerBorderColor="#333",this.rulerTextColor="#555",this.guideColor="#00ADAD",this.guideHighlightColor="#09F",this.panelEmptyHeader="#FFF",this.panelEmptyText="#777",this.layerPanelRowOdd="#181818",this.layerPanelRowEven="#151515",this.layerPanelAccent="#09F",this.layerPanelText="#777777",this.layerPanelDimmedText=r.ConvertColor.multiplyAlpha(r.Color.toRgbString(r.Color(this.layerPanelText)),.5),this.layerPanelSelection="#09F",this.layerPanelSelectionText="#FFF",this.layerPanelSelectionDimmedText=r.ConvertColor.multiplyAlpha(r.Color.toRgbString(r.Color(this.layerPanelSelectionText)),.5),this.layerPanelFieldPlaceholderText="#999",this.layerPanelMasterOrReplica=this.componentTint,this.layerPanelComponentLabel="#555",this.layerPanelComponentLabelSelected="rgba(255,255,255,.5)",this.propertyPanelHeaderBackground="#222",this.propertyPanelBackground=this.tabContentBackground,this.propertyPanelTitle="#FFF",this.propertyPanelLabel="#777",this.propertyPanelLabelInactive="#CCC",this.propertyPanelInputBackground="#333",this.propertyPanelInputBorder="#000",this.propertyPanelInputBorderOverlay="#000",this.propertyPanelInputBorderInactive="#000",this.propertyPanelInputText="#FFF",this.propertyPanelInputTextInactive="#CCC",this.propertyPanelInputLabel="#777",this.propertyPanelInputLabelInactive="#555",this.propertyPanelButtonBackground=this.propertyPanelInputBackground,this.propertyPanelButtonBackgroundInactive="#222",this.propertyPanelButtonBackgroundPrimary=this.tint,this.propertyPanelButtonBackgroundPressed="#282828",this.propertyPanelButtonText=this.propertyPanelInputText,this.propertyPanelButtonTextInactive="#777",this.propertyPanelButtonTextPrimary="#FFF",this.propertyPanelHeaderBorder=this.propertyPanelInputBorder,this.propertyPanelSegmentDivider="#1F1F1F",this.constraintsReferenceFrame=this.pinsFrameBorder,this.colorTokenRowBackgroundActive="#222",this.colorTokenLabel="#555",this.colorTokenPlaceholderPreviewBackground="#222",this.colorTokenPlaceholderPreviewBorder="#444",this.codeExportPanelCSSText=i.darkSyntaxColors.gray,this.codeExportPanelCSSProp=i.darkSyntaxColors.lightBlue,this.codeExportPanelCSSValueNumber=i.darkSyntaxColors.orange,this.codeExportPanelCSSValueString=i.darkSyntaxColors.purple,this.sectionHeaderText=this.propertyPanelTitle,this.sectionHeaderPopUp="#666",this.searchPlaceholder="#777777",this.searchPlaceholderFocused="#FFF",this.focusRing="#09F",this.sliderKnobFill="#FFF",this.sliderKnobShadow="0 1px 0 1px rgba(0,0,0,0.2), 0 0 0 1px rgba(0,0,0,0.2)",this.sliderTrack="#444",this.sliderTrackHighlight="#09F",this.sliderTrackInactive="#333",this.checkboxBackground="#333",this.checkboxBackgroundPressed="#282828",this.checkboxBackgroundChecked="#09f",this.checkboxBorder="#000",this.checkboxBorderChecked="#000",this.checkboxBorderInnerChecked="#05f",this.checkboxBackgroundCheckedPressed=this.checkboxBorderChecked,this.checkboxIndicator="#FFF",this.popoverBackground="#191919",this.popoverShadow="0 5px 10px rgba(0,0,0,1), 0 0 0 1px rgba(0,0,0,0.5)",this.popoverArrowBorder="1px solid rgba(0,0,0,1)",this.popoverArrowBorderFlipped="1px solid rgba(0,0,0,1)",this.layerCreatePreview="#555",this.frameTitle="#666",this.frameOutline="rgba(119, 119, 119, 0.3)",this.framePreview="rgba(119, 119, 119, 0.1)",this.framePreviewOutline="rgba(119, 119, 119, 0.3)",this.selectionBox="rgba(119, 119, 119,0.1)",this.selectionBoxOutline="rgba(119, 119, 119, 0.3)",this.selectionBoxBackground="rgba(0, 153, 255, 0.3)",this.selectionBoxComponentBackground="rgba(136, 85, 255,0.2)",this.resizeBox="#09F",this.resizeHandle="#FFF",this.resizeHandleOutline="#09F",this.snapLine="#F5A",this.snapConstraint="#F5A",this.parentHighlight="#F5A",this.shapeContainerOutline="#333",this.segmentAnchor="#FFF",this.segmentAnchorOutline="#09F",this.pathCurvePreview="#FF55AA",this.navigationConnectionLine="rgba(120, 120, 120, 0.5)",this.textEditorOutline="#666",this.packageTitle="#FFF",this.packageTitleBackground="#222",this.packageTitleBorder="#000",this.packageTitleArrow="#666",this.packageIconBorder="transparent",this.packageIconBackground="black",this.packageTitleNewBadgeBackground="transparent",this.packageTitleNewBadgeBorder="hsla(204, 100%, 50%, 0.2)",this.packageTitleNewBadgeLabel="#09F",this.componentItemBackground="#121212",this.componentItemBorder="#000",this.componentItemLabel="#999",this.componentCategoryLabel="#AAA",this.componentsEmptyHeader="#FFF",this.componentsEmptyText="#777",this.componentsEmptyInactive="#777",this.componentsEmptyActive="#09f",this.error="#EE4444",this.errorText="white",this.statusBarBackground="#181818",this.statusBarText="#777",this.statusBarActiveText="#4197F7",this.statusBarUpdateItemActive="#4197F7",this.statusBarErrorItemActive="#F05",this.statusBarItemInactive="#777",this.webFrameBackground=this.tabContentBackground,this.webFrameTitle=this.componentsEmptyText,this.webFrameMessage=this.componentsEmptyText,this.tooltipBackground="rgba(120,120,120,0.7)",this.tooltipCaretBackground="rgba(120,120,120,0.72)",this.tooltipColor="white",this.feedbackSidebarBackground="#111",this.feedbackSidebarDivider="#000",this.feedbackTabBarBackground="#222",this.feedbackTabBarBorderBottom="#000",this.feedbackTabBarMenuSelected="#fff",this.feedbackTabBarMenuDefault="#555",this.feedbackTabBarButtonBackground="#333",this.feedbackTabBarButtonBorder="#000",this.feedbackTabBarButtonText="#FFF",this.feedbackTabBarThreadTitle="#FFF",this.feedbackPrimaryText="#FFF",this.feedbackSecondaryText="#777",this.feedbackItemHover="#000",this.feedbackEllipsisColor="#FFF",this.feedbackFormBackground="#222",this.feedbackFormPlaceholder="#777",this.feedbackFormButton="#777",this.feedbackFormDivider="#000",this.feedbackFormBorder="#000",this.feedbackFormInputBackground="rgba(0, 0, 0, 0.9)"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.EnginePerformance=class EnginePerformance{constructor(e=null){this._update=-1,this._nodeUpdated=0,this._cacheReset=0,this._cacheUpdated=0,this._canvasSetupElementCache=0,this._nodeGetProps=0,this._nodeCreateElement=0,this._nodeRender=0,this._layerPanelItem=0,this._reactCreateElement=0,this._reactRender=0,this.report=()=>{console.log("update: "+this._update+"\nnodes updated: "+this._nodeUpdated+"\ncaches reset: "+this._cacheReset+"\ncaches updated: "+this._cacheUpdated+"\ncanvas setupElementCache: "+this._canvasSetupElementCache+"\nnode getProps: "+this._nodeGetProps+"\nnode createElement: "+this._nodeCreateElement+"\nnode render: "+this._nodeRender+"\nreact createElement: "+this._reactCreateElement+"\nreact render: "+this._reactRender)},this.reporter=e}reportAndReset(e,t){this.reporter&&this.reporter(),this.reset(e)}reset(e=-1){this._update=e,this._nodeUpdated=0,this._cacheReset=0,this._cacheUpdated=0,this._canvasSetupElementCache=0,this._nodeGetProps=0,this._nodeCreateElement=0,this._nodeRender=0,this._layerPanelItem=0,this._reactCreateElement=0,this._reactRender=0}nodeUpdated(e=1){this._nodeUpdated+=e}cacheReset(){this._cacheReset+=1}cacheUpdated(){this._cacheUpdated+=1}canvasSetupElementCache(){this._canvasSetupElementCache+=1}nodeGetProps(){this._nodeGetProps+=1}nodeCreateElement(){this._nodeCreateElement+=1}nodeRender(){this._nodeRender+=1}layerPanelItem(){this._layerPanelItem+=1}install(e){window.perf=this,this.debugStore=e;const t=this,n=r.createElement;this.originalReactCreateElement=n,r.createElement=function(...e){return t._reactCreateElement+=1,n.apply(this,e)};const i=window.ReactDebugCurrentFiber;if(i){const e=i.setCurrentPhase;this.originalReactSetCurrentPhase=e,i.setCurrentPhase=function(n){return"render"===n&&(t._reactRender+=1),e(n)}}const o=window.dat;return o&&(this.gui=new o.GUI,this.gui.add(e,"showPropertiesPanel"),this.gui.add(e,"showLeftPanel"),this.gui.add(e,"showArrows"),this.gui.add(e,"showTitles"),this.gui.add(e,"reportToConsole")),this}uninstall(){window.perf=void 0,this.debugStore.reset(),r.createElement=this.originalReactCreateElement;const e=window.ReactDebugCurrentFiber;e&&(e.setCurrentPhase=this.originalReactSetCurrentPhase),this.gui&&this.gui.destroy()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9),i=n(30);t.SelectionOutlineTracker=class SelectionOutlineTracker{constructor(e,t){this.addChanges=e,this.wrapHandler=t,this.shouldDisableSelectionOutlineUntil=null,this.shouldIgnoreAfterCommit=!1,this.disableSelectionOutlineDuration=2e3,this.previouslySelectedNodes=[],this.queueSelectionOutlineTimer=e=>{this.clearSelectionOutlineTimer(),this.shouldDisableSelectionOutlineUntil=e+Date.now(),this.disableSelectionOutlineTimerId=window.setTimeout(this.wrapHandler(()=>{this.clearSelectionOutlineTimer(),this.addChanges(i.EngineChangeFlags.ToolStore)}),e)}}beforeCommit(e){this.previouslySelectedNodes=e}afterCommit(e){if(this.shouldIgnoreAfterCommit)this.shouldIgnoreAfterCommit=!1;else{if(e!==this.previouslySelectedNodes&&function shouldDisableSelectionOutlineAfterChange(e,t){if(e===t)return!1;const n={};e.forEach(e=>n[e.id]=e);for(const r of t){const e=n[r.id];if(r!==e&&r&&e)for(const t of Object.keys(r))if(r[t]!==e[t]&&!s.has(t)&&doesPropDisableSelectionOutline(t))return!0}return!1}(this.previouslySelectedNodes,e)){this.addChanges(i.EngineChangeFlags.SelectionOutline);const e=this.disableSelectionOutlineDuration;this.queueSelectionOutlineTimer(e)}this.shouldDisableSelectionOutlineUntil&&this.shouldDisableSelectionOutlineUntil<=Date.now()&&(this.clearSelectionOutlineTimer(),this.addChanges(i.EngineChangeFlags.SelectionOutline))}}forceEnableSelectionOutline(){this.clearSelectionOutlineTimer(),this.shouldIgnoreAfterCommit=!0}shouldShowSelectionOutlineForTool(e){return null===this.shouldDisableSelectionOutlineUntil&&!o.has(e)}clearSelectionOutlineTimer(){this.shouldDisableSelectionOutlineUntil=null,clearTimeout(this.disableSelectionOutlineTimerId)}};const o=new Set([r.Tools.Pan,r.Tools.SampleColor]),s=new Set(["children","name","cache","mutable","update","styledText","parentid"]),a=new Set(["widthType","width","height","autoSize"]);function doesPropDisableSelectionOutline(e){return!s.has(e)&&!a.has(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(797),i=n(76);function labelForNode(e,t,n){if(t.length>0&&-1===t.indexOf(e.id))return e.constructor.name;let r=" ",o="";e.replicaInfo?(r="!",o=" master="+e.replicaInfo.master):e.isMaster?r="@":e.originalid&&(r=".");let s="";e.name&&(s=" '"+e.name+"'");let a="";i.isTextNode(e)&&((a=e.styledText.text).length>20&&(a=a.slice(0,17)+"..."),a=" '"+a+"'");let c=`${e.constructor.name}${r}(${e.id}${s}${o})${a}`;for(const i in e){if("children"===i||"id"===i)continue;if(-1===n.indexOf(i))continue;c+=`\n ${i}: ${e[i]}`}return c}t.inspect=function inspect(e,t=[],n=[]){"string"==typeof t&&(t=[t]),"string"==typeof n&&(n=[n]);const i=function dataForNode(e,t,n){const r=e.children||[],i=t.length>0&&-1===t.indexOf(e.id),o=r.map(e=>dataForNode(e,i?t:[],n)).filter(e=>null!==e);return i&&0===o.length?null:{label:labelForNode(e,t,n),nodes:o}}(e.root,t,n);return i?r(i):"No data"}},function(e,t){e.exports=function archy(e,t,n){void 0===t&&(t=""),n||(n={});var r=function(e){return!1===n.unicode?{"│":"|","└":"`","├":"+","─":"-","┬":"-"}[e]:e};"string"==typeof e&&(e={label:e});var i=e.nodes||[],o=(e.label||"").split("\n"),s="\n"+t+(i.length?r("│"):" ")+" ";return t+o.join(s)+"\n"+i.map(function(e,o){var s=o===i.length-1,a=e.nodes&&e.nodes.length,c=t+(s?" ":r("│"))+" ";return t+r(s?"└":"├")+r("─")+r(a?"┬":"─")+" "+archy(e,c,n).slice(t.length+2)}).join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(25),s=n(163),a=n(143),c=n(145),l=n(17),u=n(72),h=n(22),d=n(799),p=n(9),f=n(395),g=n(396),m=n(179),v=n(398),y=n(400),S=n(178),b=n(181),_=n(804),C=n(142),w=n(104),x=n(47);class HighlightTool extends l.VekterTool{constructor(){super(...arguments),this.enum=p.Tools.Highlight,this.displaySelectionBox=!0,this.displaySelectionHandles=!0,this.onKeyDown=e=>{const t=this.engine,{selectedGuide:n}=t.toolStore.state,{displayRulers:r}=this.engine.persistedUserDefaults,{selection:i}=t;r&&n?this.handleKeyEventOnGuide(e,n):this.handleKeyEventOnNode(e,i)},this.isMouseOnRulers=e=>{const{mouseOnCanvas:t}=this.engine,{displayRulers:n}=this.engine.persistedUserDefaults;return n&&t&&(e.x<C.layout.currentChromeMarginLeft+C.layout.rulerWidth||e.y<C.layout.currentCanvasMarginTop+C.layout.rulerWidth)},this.handleMouseOnRulers=()=>{const{mouseDown:e}=this.engine;e?(this.engine.clearSelection(),this.selectGuide(),this.engine.setTool(new _.GuideMoveTool)):(this.engine.setCursor(x.addCursor()),this.engine.setHighlight(),this.highlightGuide())},this.handleMouseOnGuide=e=>{const{mouseDown:t}=this.engine;if(t)this.engine.clearSelection(),this.selectGuide(e),this.engine.setTool(new _.GuideMoveTool);else{const t="x"===e.axis?"ew-resize":"ns-resize";this.engine.setCursor(t),this.highlightGuide(e)}},this.handleMouseOnSelectableTopNode=e=>{const{mouseDown:t,selection:n,shiftKey:r}=this.engine;if(t){const t=e.id,i=-1!==n.indexOf(t);if(r){if(i&&1===n.length)return;this.engine.toggleSelection([t])}else!1===i&&(this.engine.setSelection([t]),this.engine.setHighlight());this.engine.setTool(new v.MoveTool)}else this.engine.setHighlight(e.id)},this.handleMouseOnVoid=()=>{const{mouseDown:e,shiftKey:t}=this.engine;e?(t||(this.engine.clearSelection(),this.selectGuide()),this.engine.setTool(new y.SelectTool)):(this.engine.clearCursor(),this.engine.setHighlight(),this.highlightGuide())},this.handleKeyEventOnGuide=(e,t)=>{const{keyCode:n,metaKey:r,shiftKey:i}=e;if(n===a.default.Key.escape)this.selectGuide();else if(8!==n&&46!==n||r){if(n>=37&&n<=40){const r=this.getDelta(n,i);r&&(this.moveSelectedGuide(t,r),e.preventDefault())}}else this.deleteAction(),e.preventDefault();e.stopPropagation()},this.handleKeyEventOnNode=(e,t)=>{const{keyCode:n}=e,r=this.engine,{tree:o}=r,c=o.withoutDescendants(o.getNodes(t));if(n===a.default.Key.escape){const e=c.map(e=>{const t=o.getParent(e.id);return t?t.id:null}),t=s.commonValue(e);if(t)return r.setHighlight(null),void r.setSelection([t]);r.setShapeModeActive(!1),r.setHighlight(null),r.clearSelection()}if(8!==n&&46!==n||e.metaKey||(this.deleteAction(),e.preventDefault()),n>=37&&n<=40){const t=this.getDelta(n,e.shiftKey);!t||e.altKey&&e.metaKey||(e.metaKey?g.updateNodeSizeForEach(r,c,e=>{const n={};return void 0!==t&&(void 0!==t.x&&(n.width=e.width+t.x),void 0!==t.y&&(n.height=e.height+t.y)),n}):g.updateNodeFrameForEach(o,r,c,e=>i.Rect.offset(e,t)),e.preventDefault())}if(e.metaKey||e.ctrlKey)return;let l;if(n>=48&&n<=57&&(l=n-48),n>=96&&n<=105&&(l=n-96),void 0!==l){let n=10*l;void 0!==this.lastNumberKey&&(n=10*this.lastNumberKey+l),this.lastNumberKey=l,setTimeout(()=>{this.lastNumberKey=void 0},300),r.beginUndoGroup();const s=o.getNodes(t);e.shiftKey?d.traitFilter(s,u.hasFill).forEach(e=>{if(!e.fillColor)return;const t=b.computeColor(e.fillColor,o),s=this.newOpacity(n/100,i.ConvertColor.getAlpha(t));i.isFiniteNumber(s)&&r.updateNode(e.id,{fillColor:i.ConvertColor.setAlpha(e.fillColor,s)})}):s.forEach(e=>{const t=this.newOpacity(n/100,e.opacity);void 0!==t&&r.updateNode(e.id,{opacity:t})}),r.endUndoGroup(),e.stopPropagation()}},this.getSelectableTopNodeAtPoint=e=>{const{tree:t,zoom:n,selection:r,cmdKey:i}=this.engine,o=this.engine.canvasStore.getCanvasVisibleRect(),s=t.getNodesAtPoint(e,!0,n<4,o).filter(e=>S.default(e,this.engine,r,i||this.enum===p.Tools.DirectSelect));return t.getTopMostChildNode(s)},this.canDelete=()=>{const{selectedGuide:e}=this.engine.toolStore.state;if(e)return!0;const{tree:t,selection:n}=this.engine;return t.getNodes(n).some(e=>!h.isReplicaChild(e))},this.deleteAction=()=>{const{selectedGuide:e}=this.engine.toolStore.state;if(e)return void this.deleteSelectedGuide(e);const t=this.engine,{tree:n,selection:r}=t,i=n.withoutDescendants(n.getNodes(r)).filter(e=>!h.isReplicaChild(e)).map(e=>e.id);t.deleteNodes(i),t.clearSelection()},this.selectGuide=(e=null)=>{const{displayRulers:t}=this.engine.persistedUserDefaults;t&&(this.engine.toolStore.setSelectedGuide(e),e&&(this.engine.selection.length&&this.engine.clearSelection(),this.engine.highlight&&this.engine.setHighlight()))},this.highlightGuide=(e=null)=>{const{displayRulers:t}=this.engine.persistedUserDefaults;if(t)if(e){const{selectedGuide:t}=this.engine.toolStore.state;if(t&&w.isEqualGuide(e,t))return;this.engine.toolStore.setHighlightedGuide(e),this.engine.setHighlight()}else this.engine.toolStore.setHighlightedGuide()},this.deleteSelectedGuide=e=>{const t=w.getGuideNode(this.engine.tree,e);if(!t)return;const n=w.getGuides(t,e.axis);this.engine.updateNode(t.id,{[w.getGuidesKey(e.axis)]:n.delete(e.offset)}),this.engine.toolStore.setSelectedGuide(),o.triggerRulersDeleteGuideEvent({guideSelector:`${t.id}-${e.axis}-${e.offset}`,method:"menu"})},this.moveSelectedGuide=(e,t)=>{const n=w.getGuideNode(this.engine.tree,e),r=t[e.axis];if(n&&r){const t=e.offset+r,i=w.getGuidesKey(e.axis),s=w.getGuides(n.futureOrCurrent(),e.axis),{ghostGuide:a}=this.engine.toolStore.state;let c;w.isEqualGuide(a,e)?(c=s.add(t),this.engine.toolStore.setGhostGuide()):c=s.delete(e.offset).add(t),this.engine.updateNode(n.id,{[i]:c}),o.triggerRulersMoveGuideEvent({guideSelector:`${n.id}-${e.axis}-${t}`,method:"keyboard"});const l=Object.assign({},e,{offset:t});this.engine.toolStore.setSelectedGuide(l),s.has(t)&&this.engine.toolStore.setGhostGuide(l)}},this.getDelta=(e,t)=>{let n;const r=t?10:1;return 37===e&&(n={x:-r}),38===e&&(n={y:-r}),39===e&&(n={x:r}),40===e&&(n={y:r}),n}}start(){this.update()}stop(){}update(){const{mouse:e,mouseRaw:t,mouseDown:n,spacebarDown:r,tree:i,altKey:o,cmdKey:s,zoom:a}=this.engine,{middleMouseButtonDownRaw:l}=this.engine.mouseStore,u=this.engine.previousInputState;if(r||l)return void this.engine.setTool(new m.PanTool);const h=c.default(e,u.mouse)||u.cmdKey!==s||u.altKey!==o||u.mouseDown!==n;if(!e||!h)return;const d=s,f=!s;if(this.enum===p.Tools.Highlight&&d)return void this.engine.setToolEnum(p.Tools.DirectSelect);if(this.enum===p.Tools.DirectSelect&&f)return void this.engine.setToolEnum(p.Tools.Highlight);const{displayRulers:g}=this.engine.persistedUserDefaults;if(g){const n=w.closestGuideInRange(i,e,a);if(n)return void this.handleMouseOnGuide(n);if(this.isMouseOnRulers(t))return void this.handleMouseOnRulers()}this.engine.clearCursor();const v=this.getSelectableTopNodeAtPoint(e);v?this.handleMouseOnSelectableTopNode(v):this.handleMouseOnVoid()}newOpacity(e,t){if(void 0===t)return;let n=e;return t<1&&0===e&&(n=1),n}}t.HighlightTool=HighlightTool;t.DirectSelectTool=class DirectSelectTool extends HighlightTool{constructor(){super(...arguments),this.enum=p.Tools.DirectSelect}};t.Highlight=class Highlight extends r.Component{render(){const{altKey:e}=this.props,{selectedGuide:t,highlightedGuide:n}=this.props.myTool.engine.toolStore.state;return r.createElement("div",null,e?r.createElement(f.default,Object.assign({},this.props,{selectedGuide:t,highlightedGuide:n})):null)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.traitFilter=(e,t)=>{const n=[];return e.forEach(e=>{t(e)&&n.push(e)}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1);function transform(e,t){return e?`translateX(-${t?100:0}%) translateX(${t?-4:4}px) translateY(-50%)`:`translateY(-${t?100:0}%) translateY(${t?-4:4}px) translateX(-50%)`}t.DistanceLine=function DistanceLine({a:e,b:t,zoom:n,dashed:o,displayLength:s,flipSide:a}){const c=i.Point.angle(e,t)<0?e:t,l=i.Point.angle(e,t)<0?t:e,u={position:"absolute",width:"1px",height:`${i.Point.distance(c,l)*n}px`,transformOrigin:"0 0",borderLeft:o?"1px dashed magenta":"1px solid magenta",transform:`translate(${Math.round(c.x*n)}px, ${Math.round(c.y*n)}px) translateZ(0) rotate(${i.Point.angle(c,l).toFixed(4)}deg)`},h=Math.round(i.Point.distance(c,l));if(0===h)return r.createElement("noscript",null);const d=r.createElement("div",{style:u});if(!s)return d;const p=c.x===l.x,f={position:"absolute",left:(c.x+l.x)/2*n,top:(c.y+l.y)/2*n,padding:"2px 4px",borderRadius:10,background:"magenta",color:"white",fontSize:"10px",lineHeight:"1em",transform:transform(p,!0===a)};return r.createElement(r.Fragment,null,d,r.createElement("div",{style:f},h))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(94);t.EqualDistanceFrames=class EqualDistanceFrames extends r.Component{render(){const{framesX:e,framesY:t,zoom:n}=this.props,c=[],l=[],u=s(e,!0),h=s(t,!1);return u.forEach((e,t)=>{const s=i.Rect.multiply(e,n),u="x"+t;l.push(a(s,e,!1,u)),c.push(r.createElement(o.default,{key:u,className:"fadeIn",backgroundColor:"magenta",frame:s,borderColor:"transparent",borderWidth:0}))}),h.map((e,t)=>{const s="y"+t,u=i.Rect.multiply(e,n);l.push(a(u,e,!0,s)),c.push(r.createElement(o.default,{key:s,className:"fadeIn",backgroundColor:"magenta",frame:u,borderColor:"transparent",borderWidth:0}))}),r.createElement(r.Fragment,null,r.createElement("div",{style:{opacity:.3}},c),l)}};const s=(e,t)=>{const n=[];return e.forEach(e=>{const r=n.find(n=>t?n.x===e.x&&i.Rect.maxX(n)===i.Rect.maxX(e):n.y===e.y&&i.Rect.maxY(n)===i.Rect.maxY(e));if(void 0!==r)if(t){const t=Math.max(i.Rect.maxY(r),i.Rect.maxY(e));r.y=Math.min(e.y,r.y),r.height=t-r.y}else{const t=Math.max(i.Rect.maxX(r),i.Rect.maxX(e));r.x=Math.min(e.x,r.x),r.width=t-r.x}else n.push(Object.assign({},e))}),n},a=(e,t,n,o)=>{let s=0,a=0;n?(s=i.Rect.maxX(e),a=e.y+e.height/2):(s=e.x+e.width/2,a=i.Rect.maxY(e));const c={position:"absolute",left:s,top:a,padding:"2px 4px",borderRadius:10,background:"magenta",color:"white",fontSize:"10px",lineHeight:"1em",transform:transform(n)};return r.createElement("div",{key:`dist-label${o}`,className:"fadeIn",style:c},n?t.height:t.width)};function transform(e){return e?"translateX(4px) translateY(-50%)":"translateY(4px) translateX(-50%)"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(803),o=n(18),s=n(1),a=n(27);t.default=class SnapConstraint extends r.Component{render(){const{snapConstraint:e,zoom:t}=this.props;if(null===e)return null;if(s.Line.isOrthogonal(e))return null;const{x:n,y:c,width:l,height:u}=a.default.canvasStore.getCanvasVisibleRect(),h=s.Line({x:n,y:c},{x:n+l,y:c}),d=s.Line({x:n,y:c+u},{x:n+l,y:c+u});let p=s.Line.intersection(e,h),f=s.Line.intersection(e,d);if(null===p||null===f){const t=s.Line({x:n,y:c},{x:n,y:c+u}),r=s.Line({x:n+l,y:c},{x:n+l,y:c+u});p=s.Line.intersection(e,t),f=s.Line.intersection(e,r)}return null===p||null===f?null:r.createElement(i.default,{key:"snapConstraint",a:p,b:f,zoom:t,stroke:o.theme.snapConstraint})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1);t.default=function SnapLine({a:e,b:t,zoom:n,stroke:o}){const s={position:"absolute",backgroundColor:o,width:"1px",height:`${i.Point.distance(e,t)*n}px`,transformOrigin:"0 0",transform:`translate(${Math.round(e.x*n)}px, ${Math.round(e.y*n)}px) translateZ(0) rotate(${i.Point.angle(e,t).toFixed(4)}deg)`};return r.createElement("div",{style:s,className:"fadeIn"})}},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(55),s=n(25),a=n(142),c=n(17),l=n(106),u=n(95),h=n(104),d=n(47),p=n(1),f=n(75),g=n(395),m=5;t.GuideMoveTool=class GuideMoveTool extends c.VekterTool{constructor(){super(...arguments),this.enum=l.Tools.Guide,this.startGuideSelector=null,this.axis="x",this.resizeCursor="ew-resize",this.hasBeenOnCanvas=!1,this.didCancel=!1,this.didUpdate=!1,this.mouseDidMove=!1,this.isGuideOnCanvas=(e,t)=>{const n=this.engine.canvasStore.getCanvasVisibleRect(),{zoom:r}=this.engine.canvasStore,i="x"===e?n.width:n.height;return t>n[e]+a.layout.rulerWidth/r&&t<n[e]+i},this.updateSnapLine=(e,t)=>{const n=f.isRootNode(t)?e.getGroundNodes():e.getSubtreeNodes(t.id);this.snappingLines=this.getOrthogonalLines(n),this.scope=t.id},this.getOrthogonalLines=e=>{const{tree:t,zoom:n}=this.engine,r=this.engine.canvasStore.getCanvasVisibleRect(),i=e.map(e=>t.convertFrameToCanvas(e)).filter(e=>o.Rect.intersects(e,r));return u.snappingData(i,n)},this.getSnapPosition=e=>{const t=this.engine;let n=null,r=null;const{zoom:i}=t.canvasStore,o=u.snap(this.snappingLines,i,e);n=o.snapLines.x,r=o.snapLines.y,"x"===this.axis?t.toolStore.setSnapLines(n,null):t.toolStore.setSnapLines(null,r);const s=o.point[this.axis];return p.isFiniteNumber(s)?s:null},this.handleCopy=()=>{if(!this.startGuideSelector)return;const e=h.getGuideNode(this.engine.tree,this.startGuideSelector);e&&(this.engine.altKey?this.createCopy(this.startGuideSelector,e):this.deleteCopy(this.startGuideSelector,e))},this.createCopy=(e,t)=>{if(h.containGuide(t,e))return;const n=h.getGuides(t,e.axis);this.engine.updateNode(t.id,{[h.getGuidesKey(e.axis)]:n.add(e.offset)})},this.deleteCopy=(e,t)=>{if(!h.containGuide(t,e))return;const n=h.getGuides(t,e.axis);this.engine.updateNode(t.id,{[h.getGuidesKey(e.axis)]:n.delete(e.offset)})},this.addGuide=(e,t,n)=>{const r=h.getGuides(e,t),i=h.getGuidesKey(t);this.engine.updateNode(e.id,{[i]:r.add(n)})}}start(){const e=this.engine,{mouse:t,mouseDown:n,mouseDownRaw:r}=e.mouseStore;if(!t||!n||!r)return;const{selectedGuide:i}=e.toolStore.state,{tree:o}=e;if(i)this.startGuideSelector=i,this.axis=i.axis;else if(r.x<a.layout.currentChromeMarginLeft+a.layout.rulerWidth)this.axis="x";else{if(!(r.y<a.layout.currentCanvasMarginTop+a.layout.rulerWidth))return void e.exitTool();this.axis="y"}this.startMousePos=t;const s=this.startGuideSelector?this.startGuideSelector.offset:Math.round(t[this.axis]),c=this.startGuideSelector&&h.getGuideNode(o,this.startGuideSelector)||o.root;e.toolStore.setSelectedGuide(),e.toolStore.setHighlightedGuide(),e.toolStore.setGhostGuide({nodeId:c.id,axis:this.axis,offset:s}),this.updateSnapLine(o,c),e.beginUndoGroup()}cancel(){this.didCancel=!0,this.engine.discardUndoGroup()}stop(){const e=this.engine,{tree:t,mouse:n}=e,{ghostGuide:r}=e.toolStore.state;if(this.didCancel){if(this.startGuideSelector){const e=h.getGuideNode(t,this.startGuideSelector);if(e){const{axis:t,offset:n}=this.startGuideSelector;this.addGuide(e,t,n)}}}else if(this.startGuideSelector||this.mouseDidMove){if(this.startGuideSelector&&!this.didUpdate)e.toolStore.setSelectedGuide(this.startGuideSelector);else if(r){const{axis:t,offset:n}=r,i=h.getGuideNode(e.tree,r);if(i){const o=h.getAbsoluteOffset(e.tree,i,t,n);this.isGuideOnCanvas(t,o)?(this.addGuide(i,t,n),e.toolStore.setSelectedGuide(r),this.startGuideSelector?s.triggerRulersMoveGuideEvent({guideSelector:`${i.id}-${t}-${n}`,method:"mouse"}):s.triggerRulersCreateGuideEvent({guideSelector:`${i.id}-${t}-${n}`,method:"drag"})):s.triggerRulersDeleteGuideEvent({guideSelector:`${i.id}-${t}-${n}`,method:"drag_out"})}}}else{const r=t.root,i=h.getOrthogonalAxis(this.axis),o=Math.round(n[i]);this.isGuideOnCanvas(i,o)&&(this.addGuide(r,i,o),e.toolStore.setSelectedGuide({nodeId:r.id,axis:i,offset:o}),s.triggerRulersCreateGuideEvent({guideSelector:`${r.id}-${i}-${o}`,method:"click"}))}e.clearCursor(),e.setTooltip(null),e.toolStore.setGhostGuide(),e.toolStore.setSnapLines(),e.endUndoGroup()}update(){const e=this.engine,{mouse:t,mouseDown:n}=e.mouseStore,{ghostGuide:r}=e.toolStore.state;if(!n||!t||!r)return void e.exitTool();const{zoom:i,tree:o}=e;p.Point.distance(this.startMousePos,t)*i>m&&(this.mouseDidMove=!0,this.resizeCursor="x"===this.axis?"ew-resize":"ns-resize",e.setCursor(this.resizeCursor)),this.handleCopy(),this.didUpdate=!0;let s=Math.round(t[this.axis]);const a=h.getValidGuideNodeAtPoint(o,t)||o.root;if(this.isGuideOnCanvas(this.axis,s)){this.hasBeenOnCanvas=!0,a.id!==this.scope&&this.updateSnapLine(o,a);const n=this.getSnapPosition(t);s=p.isFiniteNumber(n)?n:s,e.setTooltip(s.toString())}else this.hasBeenOnCanvas&&e.setCursor(d.removeCursor()),e.setTooltip(null);const c=h.getRelativeOffset(e.tree,a,this.axis,s);e.toolStore.setGhostGuide({nodeId:a.id,axis:this.axis,offset:c})}};t.GuideMove=class GuideMove extends i.Component{render(){const e=this.props,{altKey:t,myTool:n}=e,o=r(e,["altKey","myTool"]);return i.createElement("div",null,t?i.createElement(g.default,Object.assign({},o,{highlightedGuide:n.engine.toolStore.state.ghostGuide,selectedGuide:n.startGuideSelector})):null)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(28),i=n(3),o=n(0),s=n(1),a=n(47),c=n(243),l=n(43),u=n(17),h=n(6),d=n(20),p=n(35),f=n(26),g=n(36),m=n(397),v=n(401),y=n(77),S=n(23),b=n(9),_=n(19),C=n(182),w=n(244),x=n(396);function scaleShapeContainerDescendants(e,t,n,r,i){if(i)return;if(!h.isShapeContainerNode(t))return;const o=n.get(t);if(!o)return;const{shapeContainerDescendantScalableStyles:s}=o;s&&m.scaleVectorStyles(e,s,r)}function projectFrame(e,t){if(!e)return t;const n=s.Rect.cornerPoints(t).map(t=>y.default.convertPoint(e,t));return s.Rect.fromPoints(n)}t.ResizeTool=class ResizeTool extends u.VekterTool{constructor(){super(...arguments),this.enum=b.Tools.Resize,this.wantsAutoscrolling=!0,this.selectedNodes=i.Map(),this.contextNode=null,this.contextNodeStartMatrix=null,this.contextNodeStartMatrixInverse=null,this.onlyShapes=!0,this.parentDirectedNodeSelected=!1,this.displaySelectionBox=!0,this.shapeContainerShapeUpdates=(e,t)=>{const n=this.selectedNodes.get(e);if(!n)return;const{shapeContainerDescendantPaths:r,shapeContainerDescendantBasicShapes:i}=n;r&&i&&x.scaleShapeContainerDescendantShapes(this.engine,e,r,i,n.rect,t)},this.shapeUpdates=(e,t,n,r,i)=>{const o=this.selectedNodes.get(t);if(!o)return;const a=r.width>-1&&r.width<1?1:r.width,l=r.height>-1&&r.height<1?1:r.height,u=[n.x,n.x+n.width],h=[r.x,r.x+a],d=[n.y,n.y+n.height],p=[r.y,r.y+l],f=a/n.width,g=l/n.height,m=i?{x:0,y:0}:o.rect;o.descendantPaths&&o.descendantPaths.forEach((t,n)=>{const r=(i?t.pathSegments:_.convertPath(o.canvasMatrix.inverse(),[t])[0]).map(e=>new s.PathSegment(e.merge({x:c.default(e.x+m.x,u,h,!1)-m.x,y:c.default(e.y+m.y,d,p,!1)-m.y,handleOutX:e.handleOutX*f,handleOutY:e.handleOutY*g,handleInX:e.handleInX*f,handleInY:e.handleInY*g}))),a=i?{pathSegments:r,pathClosed:t.pathClosed}:{pathSegments:_.convertPath(o.canvasMatrix,[{pathSegments:r,pathClosed:t.pathClosed}])[0],pathClosed:t.pathClosed},l=e.getNode(n);if(!l)return;const v={pathSegments:_.convertPathToNode(e,l,[a])[0],pathClosed:l.pathClosed},y=l.updateForPath(v);this.engine.updateNode(l.id,y)}),o.descendantBasicShapes&&o.descendantBasicShapes.forEach((t,n)=>{if(null===t)return;const r=(i?t:t.map(e=>y.default.convertPoint(o.canvasMatrix.inverse(),e))).map(e=>({x:c.default(e.x+m.x,u,h,!1)-m.x,y:c.default(e.y+m.y,d,p,!1)-m.y})),a=i?r:r.map(e=>y.default.convertPoint(o.canvasMatrix,e)),l=e.getNode(n),f=a.map(e=>y.default.convertPoint(l.canvasMatrix().inverse(),e)),g=s.Rect.fromPoints(f),v=s.Rect.center(g),S=_.convertPointToParent(l,v),b={x:S.x-g.width/2,y:S.y-g.height/2,width:g.width,height:g.height};this.engine.updateNode(n,b)})},this.updateChildNodes=(e,t,n)=>{const{tree:r}=n,i=this.keepChildPositionFixed(),o=this.selectedNodes.get(e);let a={x:o.rect.x-t.x,y:o.rect.y-t.y};if(f.hasRotation(e)){const t=(new WebKitCSSMatrix).rotate(0,0,-e.rotation);a=y.default.convertPoint(t,a)}o.children.forEach((e,n)=>{const o=r.getNode(n);let c=e.rect,u=e.originalProps;i&&(c=s.Rect.offset(c,a),u=o.updateForRect(c,t)),l.hasAspectRatio(o)||delete u.aspectRatio,removeAutoAndFractionDimensionsFromUpdate(o,u),this.engine.updateNode(n,u)})},this.updateTooltip=e=>{const{tree:t,selection:n}=e,{shapeModeActive:r,setTooltip:i}=this.engine;let o;if(1===n.length){const e=t.getNode(n[0]);if(e instanceof h.TextNode&&e.autoSize)return void i(`${e.styledText.sizes(!1).first()}`);if(o=s.Rect.round(t.getRect(e),2),h.isShapeContainerNode(e)&&!r){if(!this.startRect)return;const e=0!==this.startRect.width?o.width/this.startRect.width:1,t=s.roundedNumber(e,3);return void i(`${o.width} × ${o.height} (${t})`)}}else{const e=t.getBoundingFrameForNodes(t.getNodes(n));o=s.Rect.pixelAligned(e)}i(`${o.width} × ${o.height}`)},this.anchorIndex=(e,t,n)=>n?4:8-(2*e+6*t),this.resizeDelta=(e,t,n,r,i,o)=>{const a=this.anchorIndex(n,r,i),c=Object.assign({},this.startRect),l=v.default.fromFrame(c)[a];t.width<0&&(t.width*=-1,n=Math.abs(n-1)),t.height<0&&(t.height*=-1,r=Math.abs(r-1));const u=this.anchorIndex(n,r,i),h=v.default.fromFrame(t)[u];let d=e;o&&(d=e.clone({rotation:0}));const p=y.default.convertPoint(d.transformMatrix(null,c),l),f=y.default.convertPoint(d.transformMatrix(null,t),h);return s.Point.subtract(p,f)},this.centeredAutoSizedContextNode=()=>{const e=this.contextNode;return(e instanceof h.TextNode||e instanceof h.ShapeContainerNode&&!this.engine.shapeModeActive)&&e.autoSize&&null===e.top&&null===e.bottom&&null===e.left&&null===e.right}}start(){this.snapper=new w.SnapTool(this.engine,this.engine.selection),this.engine.beginUndoGroup();const{selection:e,tree:t}=this.engine;this.updateCursor(this.engine),this.updateTooltip(this.engine);const n=[],r=t.withoutDescendants(t.getNodes(e));r.forEach(e=>{const r=t.getRect(e);let o;if(this.parentDirectedNodeSelected=this.parentDirectedNodeSelected||e.cache.parentDirected,g.hasShape(e)){const n=e.calculatedPaths(),r=_.convertPathToCanvas(t,e,n);o=S.default.boundingBox(r)}else this.onlyShapes=!1,o=t.convertFrameToCanvas(e);n.push(o);let s=i.Map();d.getChildren(e).forEach(e=>{const n=t.getRect(e),r=t.convertFrameToCanvas(e);let i={};p.isPinnable(e)&&(i=e.constraintValues()),s=s.set(e.id,{rect:n,canvasRect:r,originalProps:i})});const{descendantPaths:a,descendantBasicShapes:c}=_.collectDescendantShapesAndFlattenRotations(this.engine,e),{shapeContainerDescendantPaths:l,shapeContainerDescendantBasicShapes:u}=_.collectShapeContainerDescendantShapesAndFlattenRotations(this.engine,e),f=h.isShapeContainerNode(e)?m.collectScalableVectorStyles(e):void 0,v=t.getParent(e.id),y=v?v.canvasMatrix().inverse():null;this.selectedNodes=this.selectedNodes.set(e,{rect:r,canvasToParentMatrix:y,canvasMatrix:e.canvasMatrix(),children:s,descendantPaths:a,descendantBasicShapes:c,shapeContainerDescendantPaths:l,shapeContainerDescendantBasicShapes:u,shapeContainerDescendantScalableStyles:f})});const o=1===r.length,a=r[0];o&&(f.hasRotation(a)||h.isShapeContainerNode(a))?(this.contextNode=a,this.contextNodeStartMatrix=a.canvasMatrix(),this.contextNodeStartMatrixInverse=this.contextNodeStartMatrix.inverse(),this.startRect=t.getRect(this.contextNode)):this.startRect=s.Rect.merge(...n)}stop(){this.engine.setTooltip(null),this.engine.clearCursor(),this.engine.endUndoGroup(),this.snapper.stop()}keepChildPositionFixed(){const{contextNode:e,engine:t}=this,{cmdKey:n,shapeModeActive:r}=t,i=!!e&&h.isShapeContainerNode(e)&&r;return n||i}update(){const{mouseDown:e,tree:t,altKey:n,handle:i,selection:o,shapeModeActive:a}=this.engine;let{mouse:l}=this.engine;if(!e||!l)return void this.engine.exitTool();if("mouseMove"!==C.default(this.engine,this.engine.previousInputState))return;this.updateCursor(this.engine);const{startRect:u,contextNode:d}=this,p=this.keepChildPositionFixed(),f=n||this.centeredAutoSizedContextNode(),g=!this.parentDirectedNodeSelected,m=this.getAspectRatioLock(this.engine),S=this.getConstraint(this.engine,m,g),b=this.selectedNodes.keySeq().toArray(),_=[];if(b.forEach(e=>{if(!(e instanceof h.TextNode))return;if(e.autoSize)return;const{width:n,height:r}=e.styledText.calculateSize(e.width),i=t.convertFrameToCanvas(e,{x:0,y:0,width:n,height:r});_.push(i)}),p&&this.selectedNodes.valueSeq().forEach(e=>{e.children.forEach(e=>{_.push(e.canvasRect)})}),d&&d instanceof h.TextNode&&d.autoSize){if(S){const e=s.Line.perpendicular(S,l),t=s.Line.intersection(S,e);null!==t&&(l=t)}}else{const e=t.getTopLevelFrameNodes(b),n=Array.from(new Set(e));this.snapper.excludedNodes=o,l=this.snapper.snap(l,g,n,void 0,S,void 0,_)}const{fx:w,fy:x}=i;let P=u.width*w,T=u.height*x;this.contextNodeStartMatrixInverse?(r(d,"Context node does not exist"),l=y.default.convertPoint(this.contextNodeStartMatrixInverse,l)):(P+=u.x,T+=u.y);let k=l.x-P,E=l.y-T;f&&(k=2*Math.round(k),E=2*Math.round(E));let O=Object.assign({},this.startRect);if(O.height+=(2*x-1)*E,O.width+=(2*w-1)*k,O.width=Math.round(O.width),O.height=Math.round(O.height),m){const e=u.width/u.height;if(.5===w)O.width=O.height*e;else if(.5===x)O.height=O.width/e;else{const t=Math.sign(O.width),n=Math.sign(O.height),r=Math.abs(O.height*e),i=Math.abs(O.width/e);O.width=Math.min(r,Math.abs(O.width))*t,O.height=Math.min(i,Math.abs(O.height))*n}}if(O.width=Math.round(O.width),O.height=Math.round(O.height),null!==d){const e=h.isVectorNode(d)||h.isShapeContainerNode(d),n=this.resizeDelta(d,O,w,x,f,e);if(O=s.Rect.offset(O,n),d instanceof h.TextNode){const e=d.updateForRect(O,t.getParentRect(d),!0);this.engine.updateNode(d.id,e);const n=e.styledText;void 0!==n&&this.engine.documentSettings.setDefaultTextSize(+n.sizes(!1).first())}else if(h.isVectorNode(d)||h.isShapeContainerNode(d)&&d.sizeToFit&&!a){this.shapeUpdates(t,d,u,O,!1);const e=0!==u.width?O.width/u.width:1;scaleShapeContainerDescendants(t,d,this.selectedNodes,e,a)}else{const e=d.updateForRect(O,t.getParentRect(d));removeAutoAndFractionDimensionsFromUpdate(d,e),h.isShapeContainerNode(d)&&a&&(e.sizeToFit=!1),this.engine.updateNode(d.id,e),h.isShapeContainerNode(d)&&!a?this.shapeContainerShapeUpdates(d,O):this.updateChildNodes(d,O,this.engine);const n=0!==u.width?O.width/u.width:1;scaleShapeContainerDescendants(t,d,this.selectedNodes,n,a)}}else{const e=v.default.fromFrame(this.startRect),n=v.default.fromFrame(O),r=this.anchorIndex(w,x,f),i=s.Point.add(e[r],this.startRect),o=s.Point.add(n[r],O),l=s.Point.subtract(i,o);O=s.Rect.offset(O,l),this.selectedNodes.forEach((e,n)=>{if(h.isVectorNode(n)||h.isShapeContainerNode(n)&&n.sizeToFit&&!a){this.shapeUpdates(t,n,u,O,!0);const e=0!==u.width?O.width/u.width:1;scaleShapeContainerDescendants(t,n,this.selectedNodes,e,a)}else{const r=projectFrame(e.canvasToParentMatrix,this.startRect),i=projectFrame(e.canvasToParentMatrix,O),o=[r.x,r.x+r.width],l=[i.x,i.x+i.width],u=[r.y,r.y+r.height],d=[i.y,i.y+i.height],p=e.rect,f={x:c.default(p.x,o,l,!1),y:c.default(p.y,u,d,!1)},g={x:c.default(p.x+p.width,o,l,!1),y:c.default(p.y+p.height,u,d,!1)},m=s.Rect.fromTwoPoints(f,g),v=n.updateForRect(m,t.getParentRect(n));removeAutoAndFractionDimensionsFromUpdate(n,v),this.engine.updateNode(n.id,v),h.isShapeContainerNode(n)&&!a?this.shapeContainerShapeUpdates(n,v):this.updateChildNodes(n,m,this.engine);const y=0!==r.width?i.width/r.width:1;scaleShapeContainerDescendants(t,n,this.selectedNodes,y,a)}})}this.updateTooltip(this.engine)}updateCursor(e){const{handle:t,selection:n,tree:r}=e;let i;if(1===n.length){const e=r.getNode(n[0]);i=r.convertFramePointsToCanvas(e)}else{const e=n.reduce((e,t)=>{const n=r.getNode(t);if(!n)return e;const i=r.convertFrameToCanvas(n);return e?s.Rect.merge(e,i):i},void 0);e&&(i=v.default.fromFrame(e))}void 0!==i&&this.engine.setCursor(a.resizing(t,i))}getConstraint(e,t,n){if(!n)return;const{handle:r,selection:i}=e,{contextNode:o,startRect:a}=this;if(a&&(t||.5===r.fx||.5===r.fy||i.length>1)){if(o&&this.contextNodeStartMatrix){const e=y.default.convertPoint(this.contextNodeStartMatrix,{x:a.width/2,y:a.height/2}),t=y.default.convertPoint(this.contextNodeStartMatrix,{x:r.fx*a.width,y:r.fy*a.height});return s.Line(e,t)}{const e=s.Rect.center(a),t=s.Point(a.x+a.width*r.fx,a.y+a.height*r.fy);return s.Line(e,t)}}}getAspectRatioLock(e){const{tree:t,selection:n,shiftKey:r}=e;if(r)return!0;if(n.length>1)return!1;const i=n[0],o=t.getNode(i);return!!o&&(!(!h.isShapeContainerNode(o)||this.engine.shapeModeActive)||(l.hasAspectRatio(o)?s.isFiniteNumber(o.aspectRatio):h.isTextNode(o)&&o.autoSize))}};const P=w.default(class Resize extends o.Component{render(){return this.props.children}});function removeAutoAndFractionDimensionsFromUpdate(e,t){p.isPinnable(e)&&(e.widthType!==s.DimensionType.Auto&&e.widthType!==s.DimensionType.FractionOfFreeSpace||(delete t.width,delete t.widthType),e.heightType!==s.DimensionType.Auto&&e.heightType!==s.DimensionType.FractionOfFreeSpace||(delete t.height,delete t.heightType))}t.Resize=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(47),s=n(17),a=n(26),c=n(9);t.RotateTool=class RotateTool extends s.VekterTool{constructor(){super(...arguments),this.enum=c.Tools.Rotate,this.displaySelectionBox=!0}start(){const{selection:e,tree:t}=this.engine;this.engine.beginUndoGroup();const n=e[0],r=t.getNode(n);r&&a.hasRotation(r)?(this.selectedNode=r,this.normalizer=i.Point.rotationNormalizer(),this.normalizer(this.selectedNode.rotation),this.startRotation=this.selectedNode.rotation,this.engine.setTooltip(`${this.startRotation}°`),this.updateCursor(this.engine)):this.engine.exitTool()}stop(){this.engine.setTooltip(null),this.engine.clearCursor(),this.engine.endUndoGroup()}update(){const{mouseDown:e,mouse:t,tree:n,shiftKey:r,altKey:o}=this.engine,s=this.engine.previousInputState;if(!e||!this.selectedNode)return void this.engine.exitTool();const a=t.x!==s.mouse.x||t.y!==s.mouse.y,c=o!==s.altKey||r!==s.shiftKey;if(a||c){const o=i.Rect.center(n.convertFrameToCanvas(this.selectedNode)),s=Math.atan2(e.y-o.y,e.x-o.x);let a=Math.atan2(t.y-o.y,t.x-o.x)-s;a=180*a/Math.PI;let c=this.startRotation+a;c=Math.round(this.normalizer(c)),r&&(c=15*Math.round(c/15)),this.engine.setTooltip(`${c}°`),this.updateCursor(this.engine),this.engine.updateNode(this.selectedNode.id,{rotation:c})}}updateCursor(e){const{handle:t,selection:n,tree:r}=e,i=r.getNode(n[0]),s=r.convertFramePointsToCanvas(i);this.engine.setCursor(o.rotating(t,s))}};t.Rotate=class Rotate extends r.Component{render(){return null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(808),o=n(6),s=n(1);class FramePreviews extends r.Component{render(){const{tree:e,zoom:t}=this.props,n=e.getGroundNodesOfType(o.FrameNode,e=>0===e.rotation).map(t=>({frame:e.convertFrameToCanvas(t),deviceType:t.deviceType}));if(0===n.length)return null;n.reverse();const a=e.getGroundNodes().map(t=>e.convertFrameToCanvas(t)),c=n.reduce((e,t)=>{if(null===t.deviceType)return e;return FramePreviews.neighborFrames(t,100).forEach(t=>{a.find(e=>s.Rect.intersects(t.frame,e))||(e.push(t),a.push(t.frame))}),e},[]).map((n,o)=>{const{frame:s,deviceType:a}=n;return r.createElement(i.default,Object.assign({key:o},{frame:s,deviceType:a,tree:e,zoom:t}))});return r.createElement(r.Fragment,null,c)}}FramePreviews.neighborFrames=(e,t)=>{const n=e.frame;return[{x:n.x+n.width+t,y:n.y},{x:n.x,y:n.y+n.height+t}].map(t=>Object.assign({},e,{frame:Object.assign({},n,{x:Math.round(t.x),y:Math.round(t.y)})}))},t.default=FramePreviews},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(25),o=n(6),s=n(1),a=n(18),c=n(27);t.default=class FramePreview extends r.Component{constructor(e,t){super(e,t),this.onMouseDown=c.default.wrapMouseHandler(e=>{const{tree:t,deviceType:n}=this.props,r=t.newId(),a={id:r,deviceType:n},l=this.props.frame;0===t.getGroundNodes().length&&(l.x=0,l.y=0),a.left=l.x,a.top=l.y,a.width=l.width,a.height=l.height,a.clip=!0,c.default.createFrame(o.NullID,a),i.triggerLayoutFrameEvent({source:"suggestion"}),c.default.setSelection([r]),t.getGroundNodes(e=>{if(e instanceof o.FrameNode)return!1;const n=t.getRect(e);return s.Rect.intersects(n,l)}).forEach(e=>{const n=t.getRect(e),i=s.Rect.offset(n,s.Point.reverse(l));c.default.moveNode(e.id,r),c.default.updateNode(e.id,e.updateForRect(i,l))}),c.default.exitTool(),c.default.canvasStore.scrollToCenter(s.Rect.center(l)),e.stopPropagation()}),this.onMouseOver=c.default.wrapMouseHandler(()=>{this.setState({mouseOver:!0})}),this.onMouseOut=c.default.wrapMouseHandler(()=>{this.setState({mouseOver:!1})}),this.state={mouseOver:!1}}render(){const{frame:e,zoom:t}=this.props,n=s.Rect.multiply(e,t),i={position:"absolute",backgroundColor:a.theme.framePreview,border:`1px solid ${a.theme.framePreviewOutline}`,top:`${n.y}px`,left:`${n.x}px`,width:n.width,height:n.height,opacity:this.state.mouseOver?1:.5,cursor:"default"};return r.createElement("div",{className:"FramePreview",onMouseDown:this.onMouseDown,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,style:i})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(94),o=n(1),s=n(18),a=n(176);t.default=function ParentHighlight({ids:e,zoom:t,tree:n}){if(0===e.length)return r.createElement("noscript",null);const c=e.map(e=>n.getNode(e)).map((e,c)=>{const l=n.convertRectToCanvasWithRotation(e),u=l.rotation,h=a.isUserComponent(e);return r.createElement(i.default,{key:c,borderColor:h?s.theme.componentTint:s.theme.tint,borderWidth:1,backgroundColor:"transparent",opacity:1,rotation:u,frame:o.Rect.inset(o.Rect.multiply(l,t),0)})});return r.createElement(r.Fragment,null,c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(18),s=n(23);t.default=class ShapeOutline extends r.Component{render(){const{paths:e,offset:t}=this.props,n=i.toSVGPath(e),a=s.default.boundingBox(e),c={position:"absolute",transform:`translate(${t.x+.5}px, ${t.y+.5}px)`,width:a.width,height:a.height,overflow:"visible",fill:"transparent",strokeWidth:1,stroke:o.theme.layerCreatePreview};return r.createElement("svg",{width:"100%",height:"100%",style:c,key:"shape-overlay"},r.createElement("path",{d:n}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(25),o=n(33),s=n(1),a=n(1),c=n(17),l=n(21),u=n(20),h=n(404),d=n(92),p=n(44),f=n(9),g=n(183),m=n(405);class CreateCodeComponentBaseTool extends c.VekterTool{constructor(){super(...arguments),this.wantsAutoscrolling=!0,this.helper=new g.CreateToolHelper,this.oval=!1,this.drawingDidStart=!1,this.onDragStart=()=>{this.drawingDidStart=!0}}start(){this.helper.nodeClass=l.default,this.helper.highlightParent=!0,this.helper.dragStart=this.onDragStart,this.helper.start(this),this.engine.setCursor("crosshair")}stop(){this.helper.stop(this),this.engine.clearCursor(),this.snapper.stop()}update(){this.helper.update(this)}create(e,t,n,r,c){const{tree:g}=this.engine;if(0===(r=Object.assign({},r,{top:n.y,left:n.x,width:n.width,height:n.height,rotation:c})).width||0===r.height)return void this.engine.exitTool();this.engine.beginUndoGroup();let v,y=[];if(t){const e=g.getNode(t);if(e){const t=g.getRect(e),i=p.guessConstrainedFrame(n,t);r=Object.assign({},r,i),u.hasChildren(e)&&(y=e.children)}}else y=g.getGroundNodes();switch(this.enum){case f.Tools.CreateStackComponent:v=d.HardCodedCodeIdentifier.stack;break;case f.Tools.CreateScrollComponent:v=d.HardCodedCodeIdentifier.scroll;break;case f.Tools.CreatePageComponent:v=d.HardCodedCodeIdentifier.page;break;default:throw Error(`CreateCodeComponent can't handle tool: ${this.enum}`)}r.codeComponentIdentifier=v;const S=o.componentLoader.componentForIdentifier(v);if(S&&a.isReactDefinition(S)){if(r.codeComponentProps=h.defaultCodeComponentProps(S),S.identifier===d.HardCodedCodeIdentifier.stack){const e=n.width>n.height;m.applyStackDefaults(e,r.codeComponentProps)}switch(this.engine.createNode(l.default.name,r,t),this.engine.setSelection([e]),s.withChildInsertion(S.class)&&m.stackDefaultsDependOnChildren({siblingNodes:y,tree:g,rect:n,component:S,properties:r,reparenting:{engine:this.engine,id:e}}),this.engine.endUndoGroup(),this.engine.exitTool(),this.enum){case f.Tools.CreateStackComponent:i.triggerLayoutStackEvent({});break;case f.Tools.CreateScrollComponent:i.triggerInteractiveScrollCreateEvent({});break;case f.Tools.CreatePageComponent:i.triggerInteractivePageCreateEvent({})}}}}t.CreateCodeComponent=class CreateCodeComponent extends r.Component{render(){return r.createElement(g.Create,Object.assign({},this.props))}};t.CreateStackComponentTool=class CreateStackComponentTool extends CreateCodeComponentBaseTool{constructor(){super(...arguments),this.enum=f.Tools.CreateStackComponent}};t.CreateScrollComponentTool=class CreateScrollComponentTool extends CreateCodeComponentBaseTool{constructor(){super(...arguments),this.enum=f.Tools.CreateScrollComponent}};t.CreatePageComponentTool=class CreatePageComponentTool extends CreateCodeComponentBaseTool{constructor(){super(...arguments),this.enum=f.Tools.CreatePageComponent}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.isValidPropertyValue=function isValidPropertyValue(e,t){switch(e){case r.ControlType.Boolean:return!0===t||!1===t;case r.ControlType.Number:return r.isFiniteNumber(t);case r.ControlType.String:case r.ControlType.Enum:case r.ControlType.SegmentedEnum:case r.ControlType.Color:case r.ControlType.Image:case r.ControlType.File:case r.ControlType.ComponentInstance:return"string"==typeof t;case r.ControlType.FusedNumber:return"object"==typeof t;default:return!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(18),s=n(250);t.default=class IntersectionTangent extends r.Component{render(){const{intersectionTangent:e,zoom:t}=this.props;if(!e)return null;const n=new i.PathSegment(i.Point.multiply(e.a,t)),a=new i.PathSegment(i.Point.multiply(e.b,t));return r.createElement(s.default,{key:"curve-snap",strokeDasharray:"1 3",from:n,to:a,stroke:o.theme.snapLine})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(41),o=n(19),s=n(250);t.default=class PathCurves extends r.Component{render(){const{tree:e,closestCurve:t,segmentSelection:n,snapConstraint:a,selectionType:c,zoom:l}=this.props;if(a)return null;const u=[];if(t&&!t.midPointInRange){const n=e.getNode(t.id);if(!n)return null;const i=o.convertPathToCanvas(e,n,n,l)[0],a=i.pathSegments.count(),c=t.segmentIndex+1===a?0:t.segmentIndex+1,h=i.pathSegments.get(t.segmentIndex),d=i.pathSegments.get(c),p=r.createElement(s.default,{key:"closest",from:h,to:d});u.push(p)}if(c===i.PathSelectionType.Curves){const t=o.groupPathSegmentSelectors(n),i=Object.keys(t);for(const n of i){const i=e.getNode(n),a=o.convertPathToCanvas(e,i,i,l)[0],c=a.pathSegments.count(),h=t[n];for(const e of h){const t=e+1===c?0:e+1,n=a.pathSegments.get(e),o=a.pathSegments.get(t),l=r.createElement(s.default,{key:i.id+"selected curve"+e,from:n,to:o});u.push(l)}}}return r.createElement("div",null,u)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(18),s=n(23),a=n(19),c=n(250);t.default=class PathCurvePreview extends r.Component{render(){const{tree:e,segmentSelection:t,segmentHovered:n,snap:l}=this.props.pathTool.pathEngine,{zoom:u,mouseOnCanvas:h}=this.props.pathTool.engine;if(!h)return null;const d=this.props.pathTool.pathEngine.snapConstraint||this.props.pathTool.pathEngine.snap.temporaryConstraint,p=t[0];if(!p||null===l.snappedMouse)return null;const f=e.getNode(p.id);if(!f)return null;const g=f.pathSegments.get(p.index);if(!g)return null;let m,v=a.convertSegmentToCanvas(e,f,g,u);if(s.default.isLastSegment(f.pathSegments,f.pathClosed,p.index)||(v=a.reverseSegment(v)),!d&&n){const t=function hoveredEndSegment(e,t,n,r){const i=n.getNode(e.id);if(!i)return null;const o=i.pathSegments.get(e.index);if(!s.default.isEndSegment(i.pathSegments,i.pathClosed,e.index))return null;if(i.id===t.id&&e.index===t.index)return null;let c=a.convertSegmentToCanvas(n,i,o,r);return s.default.isLastSegment(i.pathSegments,i.pathClosed,e.index)&&(c=a.reverseSegment(c)),c}(n,p,e,u);if(null===t)return null;m=t}if(void 0===m){const e=i.Point.multiply(l.snappedMouse,u);m=new i.PathSegment(e)}const y=i.isStraightCurve(v,m),S=d&&!n,b=r.createElement(c.default,{key:"curve-preview",from:v,to:m,stroke:S?o.theme.snapLine:void 0});return S&&!y?r.createElement("div",null,r.createElement(c.default,{key:"curve-preview-straight",from:new i.PathSegment(i.PathSegment.point(v)),to:m,stroke:o.theme.snapLine,strokeDasharray:"1 3"}),b):b}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(41),s=n(19),a=n(817);t.default=class PathSegmentAnchors extends r.Component{render(){const{tree:e,selection:t,pathTool:n,segmentSelection:c,cmdKey:l,zoom:u,segmentHandle:h,selectionType:d,snapConstraint:p}=this.props,f=s.groupPathSegmentSelectors(c),g=[];for(let s=0,m=t.length;s<m;s++){const m=t[s],v=e.getNode(m),y=f[m]||[];for(let t=0,s=v.pathSegments.count();t<s;t++){const f=v.pathSegments.get(t),S=e.convertPointToCanvas(v,i.PathSegment.point(f)),b=null===h&&-1!==y.indexOf(t)&&d===o.PathSelectionType.Segments,_=r.createElement(a.default,{key:m+"anchor"+t,tree:e,node:v,index:t,segmentHandle:h,point:i.Point.multiply(S,u),selected:b,pathTool:n,segmentSelection:c,selectionType:d,snapConstraint:p,isEnd:!v.pathClosed&&(0===t||t===s-1),cmdKey:l});g.push(_)}}return r.createElement("div",{style:{position:"absolute"}},g)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(18),s=n(47),a=n(41),c=n(247),l=n(251),u=n(248),h=n(19);function processMouseDown(e,t,n){const r=e.engine,i=e.pathEngine,{tree:o,cmdKey:s}=r,{segmentSelection:d,segmentHandle:p,selectionType:f,snapConstraint:g}=i,{node:m,index:v,isEnd:y}=t;if(g)return;if(e instanceof l.PathSegmentAdditionTool){const e=d[0];if(s)return;if(y){if(e.id!==m.id){const t=o.getNode(e.id);return h.joinPaths(o,r,t,e,m,{id:m.id,index:v}),i.setSegmentSelection([]),i.setPathTool(new c.PathDefaultTool),void n.stopPropagation()}if(canClosePath(v,e,m))return r.updateNode(m.id,m.updateForPath({pathClosed:!0})),i.setSegmentSelection([{id:m.id,index:v}]),i.setPathTool(new u.PathSegmentMoveTool),void n.stopPropagation()}}else if(!(e instanceof c.PathDefaultTool))return;const S=f===a.PathSelectionType.Segments;if(n.shiftKey&&S)i.toggleSegmentSelection([{id:m.id,index:v}]);else{const e=d.find(e=>e.id===m.id&&e.index===v);S&&void 0!==e&&!p||i.setSegmentSelection([{id:m.id,index:v}])}i.setSegmentHandle(null),i.setPathTool(new u.PathSegmentMoveTool)}t.processMouseDown=processMouseDown;function canClosePath(e,t,n){if(e===t.index)return!1;const r=n.pathSegments.count();if(2!==r)return r>2;const o=n.pathSegments.get(0),s=n.pathSegments.get(1);return!i.isStraightCurve(o,s)||!i.isStraightCurve(s,o)}t.default=class PathSegmentAnchor extends r.Component{constructor(){super(...arguments),this.state={constraintAnchor:!1},this.mouseDown=e=>{const t=this.props.pathTool;t.engine.process(()=>{processMouseDown(t,this.props,e)})},this.mouseOver=()=>{const e=this.props.pathTool;e.engine.process(()=>{const{snapConstraint:t}=this.props;(e instanceof c.PathDefaultTool||e instanceof l.PathSegmentAdditionTool)&&(t&&this.setState({constraintAnchor:!0}),e.pathEngine.setHoveredSegment({id:this.props.node.id,index:this.props.index}),e.pathEngine.setClosestCurve(null))})},this.mouseOut=()=>{this.state.constraintAnchor&&this.setState({constraintAnchor:!1})},this.mouseMove=e=>{const{pathTool:t}=this.props;(t instanceof c.PathDefaultTool||t instanceof l.PathSegmentAdditionTool)&&e.stopPropagation()},this.doubleClick=e=>{e.stopPropagation();const{node:t,index:n,pathTool:r,segmentSelection:o}=this.props;if(r instanceof l.PathSegmentAdditionTool){const e=o[0];if(e.id!==t.id&&e.index!==n)return}const s=t.pathSegments.update(n,e=>{switch(e.handleMirroring){case"straight":{const r=i.PathSegment.curveDefault(t.pathSegments.toArray(),n),o=i.Point.reverse(r),s={handleMirroring:"symmetric",handleOutX:r.x,handleOutY:r.y,handleInX:o.x,handleInY:o.y};return new i.PathSegment(e.merge(s))}default:return new i.PathSegment(e.merge({handleMirroring:"straight"}))}});r.engine.process(()=>{r.engine.updateNode(t.id,t.updateForPath({pathSegments:s}))})}}render(){const{selected:e,point:t,cmdKey:n,snapConstraint:i,isEnd:o,pathTool:a,node:c,index:u,segmentSelection:h}=this.props,g={position:"absolute",width:10,height:10,top:t.y-5,left:t.x-5,cursor:"default"};if(o&&(g.zIndex=2),a instanceof l.PathSegmentAdditionTool&&!i)if(o){const e=h[0];e&&(e.id!==c.id||canClosePath(u,e,c))&&(g.cursor=s.pathClosingCursor())}else n&&(g.cursor=s.pathExtensionCursor());const m=i&&this.state.constraintAnchor&&!e;return r.createElement("div",{style:g,onMouseDown:this.mouseDown,onMouseOver:this.mouseOver,onMouseOut:this.mouseOut,onMouseMove:this.mouseMove,onDoubleClick:this.doubleClick},r.createElement("div",{style:e?p:m?f:d}))}};const d={position:"absolute",border:`${o.theme.segmentAnchorOutline} 1px solid`,backgroundColor:o.theme.segmentAnchor,width:8,height:8,top:1,left:1,borderRadius:"50%"},p=Object.assign({},d,{border:"white 1px solid",backgroundColor:o.theme.segmentAnchorOutline,width:10,height:10,top:0,left:0}),f=Object.assign({},d,{border:`${o.theme.snapLine} 1px solid`})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(18),s=n(41),a=n(246),c=n(184),l=n(19),u=n(819),h=n(820);t.default=class PathSegmentHandles extends r.Component{render(){const{tree:e,selection:t,segmentSelection:n,closestCurve:i,pathTool:o,selectionType:u}=this.props;if(u===s.PathSelectionType.Curves)return null;if(!(o instanceof c.PathSegmentHandleMoveTool)&&this.props.pathTool.pathEngine.snapConstraint)return null;const h=o instanceof a.PathCurveBendTool,d=[],p=[];if(h&&i){const t=e.getNode(i.id);let n=i.segmentIndex+1;i.segmentIndex===t.pathSegments.count()-1&&(n=0),this.handles(t,[i.segmentIndex,n],d,p)}else{const r=l.groupPathSegmentSelectors(n);t.forEach(t=>{const n=e.getNode(t),i=r[t]||[];this.handles(n,i,d,p)})}return r.createElement("div",{style:{position:"absolute"}}," ",d," ",p," ")}handles(e,t,n,a){const{tree:l,zoom:d,pathTool:p,segmentHandle:f,altKey:g,segmentSelection:m}=this.props,v=this.props.pathTool.pathEngine.snapConstraint||this.props.pathTool.pathEngine.snap.temporaryConstraint,y=e.pathSegments.count();for(let S=0;S<y;S++){let y=-1===t.indexOf(S);if(p instanceof c.PathSegmentHandleMoveTool||!g||(y=!1),y)continue;const b=e.pathSegments.get(S);if("straight"===b.handleMirroring)continue;const _=l.convertPointToCanvas(e,i.PathSegment.point(b)),C=l.convertPointToCanvas(e,i.PathSegment.calculatedHandleOut(b)),w=l.convertPointToCanvas(e,i.PathSegment.calculatedHandleIn(b)),x=i.Point.multiply(C,d),P=i.Point.multiply(w,d),T=e.id+10*S,k=null!==f&&f.id===e.id&&f.index===S;if(0!==b.handleInX||0!==b.handleInY){const t=k&&null!==f&&f.handle===s.SegmentHandle.In,i=t&&null!==v;n.push(r.createElement(h.default,{key:T+1,zoom:d,pointA:w,pointB:_,stroke:i?o.theme.snapLine:void 0})),a.push(r.createElement(u.default,{key:T+3,selected:t,constrained:i,point:P,pathTool:p,selector:{id:e.id,index:S,handle:s.SegmentHandle.In},segmentSelection:m}))}if(0!==b.handleOutX||0!==b.handleOutY){const t=k&&null!==f&&f.handle===s.SegmentHandle.Out,i=t&&null!==v;n.push(r.createElement(h.default,{key:T,zoom:d,pointA:C,pointB:_,stroke:i?o.theme.snapLine:void 0})),a.push(r.createElement(u.default,{key:T+2,selected:t,constrained:i,point:x,pathTool:p,selector:{id:e.id,index:S,handle:s.SegmentHandle.Out},segmentSelection:m}))}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(18),o=n(6),s=n(247),a=n(251),c=n(184);t.default=class PathSegmentHandle extends r.Component{constructor(){super(...arguments),this.mouseDown=()=>{const e=this.props.pathTool.engine,t=this.props.pathTool.pathEngine;e.process(()=>{const{selector:e,segmentSelection:n}=this.props;t.setSegmentHandle(e),t.setPathTool(new c.PathSegmentHandleMoveTool),void 0!==n.find(t=>e.id===t.id&&e.index===t.index)||t.setSegmentSelection([{id:e.id,index:e.index}])})},this.mouseOver=()=>{const e=this.props.pathTool.engine,t=this.props.pathTool.pathEngine;e.process(()=>{t.setHoveredSegment({id:o.InvalidID,index:0}),t.setClosestCurve(null)})},this.mouseMove=e=>{e.stopPropagation()},this.doubleClick=e=>{e.stopPropagation()}}render(){const{pathTool:e,point:t,selected:n,constrained:o}=this.props,c=n?10:8,l={position:"absolute",borderColor:n?i.theme.segmentAnchor:i.theme.segmentAnchorOutline,borderWidth:1,borderStyle:"solid",backgroundColor:n?o?i.theme.snapLine:i.theme.segmentAnchorOutline:i.theme.segmentAnchor,width:c,height:c,top:t.y-c/2,left:t.x-c/2,borderRadius:"50%",cursor:"auto"};return e instanceof s.PathDefaultTool||e instanceof a.PathSegmentAdditionTool||(l.pointerEvents="none"),r.createElement("div",{style:l,onMouseDown:this.mouseDown,onMouseOver:this.mouseOver,onMouseMove:this.mouseMove,onDoubleClick:this.doubleClick})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(18);t.default=class VectorLine extends r.Component{render(){const e=i.Point.multiply(this.props.pointA,this.props.zoom),t=i.Point.multiply(this.props.pointB,this.props.zoom),n=i.Point.subtract(t,e),s=n,a=`M 0 0 C 0 0 ${s.x} ${s.y} ${n.x} ${n.y}`,c={position:"absolute",transform:`translate(${e.x}px, ${e.y}px)`,width:"100px",height:"100px",overflow:"visible"};let l=o.theme.pathCurvePreview;return this.props.stroke&&(l=this.props.stroke),r.createElement("svg",{width:"100%",height:"100%",style:c,strokeWidth:1,stroke:l,fill:"transparent",viewBox:"0 0 100 100"},r.createElement("path",{d:a}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(822);t.default=class PathShapes extends r.Component{render(){const{tree:e,selection:t,zoom:n}=this.props,o=[];for(let s=0,a=t.length;s<a;s++){const a=e.getNode(t[s]);o.push(r.createElement(i.default,{key:a.id+"shapeBg",node:a,tree:e,zoom:n}))}return r.createElement("div",null,o)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(36),s=n(23),a=n(19),c=n(181);t.default=class PathShape extends r.Component{render(){const{tree:e,node:t,zoom:n}=this.props,l=a.convertPathToCanvas(e,t,t,n),u=i.toSVGPath(l),h=s.default.boundingBox(l),d={position:"absolute",transform:`translate(${h.x}px, ${h.y}px)`},p=e.getParent(t.id),f=p&&o.hasShape(p),g=c.computeColor(t.strokeColor,t.tree()),m=f||n>4||1!==t.strokeEnabled||0===t.strokeWidth||t.strokeWidth&&t.strokeWidth>10||0===i.ConvertColor.getAlpha(g),v={position:"absolute",width:h.width,height:h.height,overflow:"visible",fill:"transparent",strokeWidth:1,stroke:m?"rgba(0,0,0,0.25)":"transparent"};return r.createElement("div",{style:d},r.createElement("svg",{width:"100%",height:"100%",style:v,key:t.id+"overlay",viewBox:`${h.x} ${h.y} ${h.width} ${h.height}`,strokeLinecap:t.lineCap,strokeLinejoin:t.lineJoin},r.createElement("path",{d:u})))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(17),s=n(9),a=n(59),c=n(176),l=n(824),u=n(182);t.RadiusTool=class RadiusTool extends o.VekterTool{constructor(){super(...arguments),this.enum=s.Tools.Radius,this.mouseHasChanged=!1}start(){this.engine.beginUndoGroup(),this.updateTooltip(),this.engine.setHighlight()}stop(){this.engine.endUndoGroup(),this.engine.setTooltip(null)}update(){const{mouseDown:e,tree:t,selection:n}=this.engine,{mouse:r}=this.engine;if(!e||!r)return void this.engine.exitTool();if("mouseMove"!==u.default(this.engine,this.engine.previousInputState))return;this.mouseHasChanged=!0;const o=t.getNode(n[0]),s=t.getRect(o),c=Math.min(s.width/2,s.height/2),l={x:c,y:c},h=t.convertPointToCanvas(o,{x:0,y:0}),d=t.convertPointToCanvas(o,l),p=i.Line(h,d),f=i.Line.perpendicular(p,r),g=i.Line.intersection(p,f);if(null===g)return;const m=i.Point.distance(h,g),v=i.Point.distance(d,g),y=i.Point.distance(h,d);let S=0;S=m>y&&v>y?m<v?0:1:m>y?1:v>y?0:m/y;const b=Math.round(S*c),_={radius:b};a.withRadiusPerCorner(o)&&o.radiusBottomLeft===o.radius&&o.radiusBottomRight===o.radius&&o.radiusTopLeft===o.radius&&o.radiusTopRight===o.radius&&(_.radiusBottomLeft=b,_.radiusBottomRight=b,_.radiusTopLeft=b,_.radiusTopRight=b),this.engine.updateNode(o.id,_),this.updateTooltip(b)}updateTooltip(e){const{selection:t,tree:n}=this.engine,r=n.getNode(t[0]);this.engine.setTooltip(`${void 0!==e?e:r.radius}`)}};t.Radius=class Radius extends r.Component{render(){const{selection:e,tree:t,zoom:n}=this.props,i=t.getNode(e[0]);return r.createElement(l.default,{key:"borderRadiusHandle",node:i,tree:t,isToolActive:this.props.myTool.mouseHasChanged,isComponent:c.isUserComponent(i),zoom:n})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(27),s=n(9),a=n(18),c=n(59);t.default=class BorderRadiusHandle extends r.Component{constructor(){super(...arguments),this.onMouseDown=o.default.wrapMouseHandler(()=>{o.default.setToolEnum(s.Tools.Radius)})}render(){const{tree:e,node:t,zoom:n,isToolActive:o,isComponent:s,hidden:d}=this.props;if(c.withRadiusPerCorner(t)&&t.radiusPerCorner)return null;const p=e.getRect(t),f=i.Rect.multiply(p,n);if(f.width<32||f.height<32)return null;const g=t.radius,m=Math.min(p.width/2,p.height/2);let v=0;o||(v=10/(m*n));const y=Math.max(Math.min(g/m,1),v);let S={x:0,y:0},b={x:m,y:m};S=e.convertPointToCanvas(t,S,!0),b=e.convertPointToCanvas(t,b,!0),S.x*=n,S.y*=n,b.x*=n,b.y*=n;const _=b.x-S.x,C=b.y-S.y,w=S.x+_*y,x=S.y+C*y,P=Object.assign({},l,{border:`1px solid ${s?a.theme.componentTint:a.theme.tint}`,transform:`translate(${Math.round(w-4.5)}px, ${Math.round(x-4.5)}px) translateZ(0)`,opacity:d?0:1});return r.createElement("div",{style:P,onMouseDown:this.onMouseDown},r.createElement("div",{style:s?h:u}))}};const l={position:"absolute",width:9,height:9,borderRadius:5,backgroundColor:"white"},u={position:"absolute",width:3,height:3,backgroundColor:a.theme.tint,left:2,top:2,borderRadius:1.5},h=Object.assign({},u,{backgroundColor:a.theme.componentTint})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(t){o(t)}}function rejected(e){try{step(r.throw(e))}catch(t){o(t)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(27),o=n(130),s=o.ColorSampler.on(o.PostMessageChannel.toParentFrame).expect();t.sampleColor=function sampleColor(){return r(this,void 0,void 0,function*(){return new Promise(e=>{i.default.canvasStore.setColorSamplerActive(!0),i.default.runAtNextFrame(()=>r(this,void 0,void 0,function*(){const t=yield s.sampleColor();i.default.wrapHandler(()=>{i.default.canvasStore.setColorSamplerActive(!1),e(t.color)})()}))})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(100),i=n(0),o=n(17),s=n(27),a=n(376),c=n(72),l=n(9),u=n(412),h=n(178),d=n(827),p=n(828),f=n(413),g=n(829),m=n(830),v=n(93),y=r.getLogger("GradientToolManager");t.GradientToolEngine=class GradientToolEngine extends o.VekterTool{constructor(){super(...arguments),this.enum=l.Tools.Gradient,this.tool=null}get gradientNode(){const{tree:e,selection:t}=this.engine;if(t.length>0){const n=e.getNode(t[0]);if(c.supportsGradient(n)&&("linear-gradient"===n.fillType||"radial-gradient"===n.fillType))return n}return null}start(){}stop(){this.tool&&this.tool.stop()}update(){const{mouseDown:e,tree:t,zoom:n,selection:r,cmdKey:i,shiftKey:o,previousInputState:a}=this.engine,c=this.gradientNode;if(!c||"linear-gradient"!==c.fillType&&"radial-gradient"!==c.fillType||!c.fillLinearGradient&&!c.fillRadialGradient)return void this.engine.exitTool();if(this.tool&&this.tool.update(),!e||a.mouseDown)return;const l=v.getGradient(c);if(!l)return;const u=f.gradientCoordinates(t,c,l);if(!u)return;if(f.gradientInRange(u,e,30/n))return;const d=t.getNodesAtPoint(e,!0,n<4).filter(e=>h.default(e,s.default,r,i)),p=t.getTopMostChildNode(d);if(!p)return this.engine.setSelection([]),void this.engine.exitTool();const g=p.id,m=p.isSelected();if(o){if(m&&1===r.length)return;this.engine.toggleSelection([g])}else m||(this.engine.setSelection([g]),this.engine.setHighlight())}setTool(e){const t=this.tool?this.tool.constructor.name:"null",n=e&&e.constructor.name;y.debug("GradientToolEngine.setTool(): "+t+" -> "+n),this.tool&&this.tool.stop(),this.tool=e,this.tool&&(this.tool.engine=this.engine,this.tool.gradientEngine=this,this.tool.start())}setDefault(){this.setTool(null)}};t.GradientToolManager=class GradientToolManager extends i.Component{constructor(){super(...arguments),this.activeToolElement=e=>{const{gradientEngine:t}=this,{tool:n}=t;if(!n)return null;switch(n.constructor.name){case u.SampleColorTool.constructor.name:{const e=new a.VekterEngine;return e.setTool(new u.SampleColorTool),e.setExit(t.setDefault),i.createElement(u.SampleColor,Object.assign({},this.props,{myTool:e.tool}))}default:return null}},this.onRotate=s.default.wrapHandler(()=>{this.gradientEngine.setTool(new d.GradientAngleTool)}),this.onSelectStop=s.default.wrapHandler(e=>{const t=this.gradientEngine.gradientNode;t&&(s.default.documentSettings.setGradientStopIndex(e),"linear-gradient"===t.fillType&&this.gradientEngine.setTool(new d.GradientAngleTool),"radial-gradient"===t.fillType&&(0===e?this.gradientEngine.setTool(new g.RadialGradientMoveTool):this.gradientEngine.setTool(new m.RadialGradientResizeTool)))}),this.onHeightFactorStart=s.default.wrapHandler(()=>{this.gradientEngine.setTool(new m.RadialGradientResizeTool({isHorizontal:!1}))}),this.handles=e=>{const t=v.getGradient(e);return t?i.createElement(p.GradientHandles,Object.assign({},this.props,{node:e,gradient:t,onRotate:this.onRotate,onSelectStop:this.onSelectStop,onHeightFactorStart:this.onHeightFactorStart})):null}}componentWillMount(){this.gradientEngine=this.props.myTool}render(){const e=this.gradientEngine.gradientNode;return e?i.createElement(i.Fragment,null,this.handles(e),this.activeToolElement(e)):null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(47),o=n(394),s=n(9),a=n(252);t.GradientAngleTool=class GradientAngleTool extends a.VekterGradientTool{constructor(){super(...arguments),this.enum=s.Tools.Unknown,this.mouseDidMovePastThreshold=!1}start(){this.engine.beginUndoGroup();const e=this.gradientEngine.gradientNode;e&&"linear-gradient"===e.fillType&&e.fillLinearGradient?this.startGradient=e.fillLinearGradient:this.engine.exitTool()}stop(){this.engine.setTooltip(null),this.engine.endUndoGroup(),this.engine.clearCursor()}update(){const{mouseDown:e,selection:t,mouse:n,tree:i,shiftKey:s,setTooltip:a,previousInputState:c}=this.engine,{gradientNode:l}=this.gradientEngine,u=c.mouse,h=c.shiftKey;if(!e||!u||!n)return void this.gradientEngine.setDefault();const d=n.x!==u.x||n.y!==u.y,p=s!==h,f=r.Point.distance(n,e);if(!this.mouseDidMovePastThreshold&&f>1&&(this.mouseDidMovePastThreshold=!0),this.mouseDidMovePastThreshold&&(d||p)){const c=r.Rect.center(i.convertFrameToCanvas(l)),u=Math.atan2(e.y-c.y,e.x-c.x);let h=Math.atan2(n.y-c.y,n.x-c.x)-u;h=180*h/Math.PI;let d=this.startGradient.angle+h;s&&(d=45*Math.round(d/45)),(d=Math.round(d))>=360?d-=360:d<0&&(d+=360),a(`${d}°`),this.updateCursor();const p=new o.LinearGradient(this.startGradient.merge({angle:d}));this.engine.updateNodes(t,{fillLinearGradient:p,fillType:"linear-gradient"})}}updateCursor(){const{tree:e,mouse:t}=this.engine,n=r.Rect.center(e.convertFrameToCanvas(this.gradientEngine.gradientNode)),o=r.Point.angle(n,t);this.engine.setCursor(i.gradientRotate(o))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1),o=n(47),s=n(413);t.GradientHandles=class GradientHandles extends r.Component{constructor(){super(...arguments),this.radialGradientHeightFactorHandle=(e,t)=>{if(!(e instanceof s.RadialGradientCoordinates))return null;const n=i.Point.pixelAligned(i.Point.multiply(e.topCenter,t));return r.createElement("div",{style:{position:"absolute",top:n.y-4,left:n.x-4,width:9,height:9,borderRadius:"50%",backgroundColor:"white",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",overflow:"hidden",pointerEvents:"auto"},onMouseDown:this.props.onHeightFactorStart})},this.rotationHandle=(e,t,n)=>{if(!(e instanceof s.LinearGradientCoordinates))return null;const{center:a,start:c,end:l}=e,u=0===t?c:l,h=i.Point.angle(a,u),d=h*Math.PI/180,p={x:10*-Math.sin(d),y:10*Math.cos(d)},f=i.Point.add(i.Point.multiply(u,n),p);return r.createElement("div",{key:h,style:{position:"absolute",top:f.y-9,left:f.x-9,width:19,height:19,borderRadius:"50%",cursor:o.gradientRotate(h)},onMouseDown:this.props.onRotate})},this.gradientDot=(e,t,n,o,s)=>{const a=0===o?e.start:e.end,c=i.Point.pixelAligned(i.Point.multiply(a,n)),l=o===s,u=l?15:11,h=l?8:6;return r.createElement("div",{style:{position:"absolute",top:c.y-h,left:c.x-h,width:u,height:u,borderRadius:"50%",backgroundColor:"white",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",overflow:"hidden",pointerEvents:"auto"},onMouseDown:this.props.onSelectStop?this.props.onSelectStop.bind(this,o):void 0},r.createElement("div",{style:{position:"absolute",left:2,right:2,top:2,bottom:2,borderRadius:"50%",backgroundColor:i.ConvertColor.toHSL(t).l<=.9?"white":"#ccc",backgroundImage:`linear-gradient(${t}, ${t})`}}),r.createElement("div",{style:{position:"absolute",left:2,right:2,top:2,height:(u-4)/2,borderTopLeftRadius:"100%",borderTopRightRadius:"100%",transform:"rotate(-45deg)",transformOrigin:"50% 100%",backgroundColor:i.ConvertColor.setAlpha(t,1)}}),r.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",borderRadius:"50%",boxShadow:"inset 0 0 0 2px white, inset 0 0 0 3px rgba(0,0,0,.1)"}}))},this.line=(e,t)=>{const{start:n,end:o}=e;return r.createElement("div",{style:{position:"absolute",backgroundColor:"white",width:1,height:i.Point.distance(n,o)*t,transformOrigin:"0 0",transform:`translate(${Math.round(n.x*t)}px, ${Math.round(n.y*t)}px) translateZ(0) rotate(${i.Point.angle(n,o).toFixed(4)}deg)`,boxShadow:"0 0 0 1px rgba(0,0,0,.1)"}})},this.outline=(e,t)=>{let n,o,a="";const{size:c}=e;if(e instanceof s.RadialGradientCoordinates)n=e.rotation,o=e.start,a="50%";else{const{start:t,end:r}=e;if(n=i.Point.angle(t,r),Math.round(n)%90==0)return null;o=e.center}return r.createElement("div",{style:{position:"absolute",transform:`rotate(${n}deg)`,borderRadius:a,width:Math.round(c.width*t),height:Math.round(c.height*t),top:Math.round((o.y-c.height/2)*t),left:Math.round((o.x-c.width/2)*t),boxShadow:"0 0 0 1px rgba(255,255,255,.25), inset 0 0 0 1px rgba(0,0,0,.1)"}})}}render(){const{tree:e,node:t,gradient:n,zoom:i,colorStopSelection:o}=this.props,a=s.gradientCoordinates(e,t,n);return a?r.createElement(r.Fragment,null,this.outline(a,i),this.line(a,i),this.rotationHandle(a,0,i),this.rotationHandle(a,1,i),this.radialGradientHeightFactorHandle(a,i),this.gradientDot(a,n.stops.get(0).value,i,0,o),this.gradientDot(a,n.stops.get(1).value,i,1,o)):null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(1),o=n(110),s=n(9),a=n(252),c=n(95);t.RadialGradientMoveTool=class RadialGradientMoveTool extends a.VekterGradientTool{constructor(){super(...arguments),this.enum=s.Tools.Unknown,this.mouseDidMovePastThreshold=!1}start(){this.engine.beginUndoGroup();const e=this.gradientEngine.gradientNode;e&&"radial-gradient"===e.fillType&&e.fillRadialGradient?(this.startGradient=e.fillRadialGradient,this.snapData=function generateSnappingData(e,t){const n=i.Rect.atOrigin(e.getRect(t)),o=[...i.Rect.cornerPoints(n),i.Rect.center(n)],s=[],a=[];return o.map(n=>{const r=e.convertPointToCanvas(t,n);s.push(r.x),a.push(r.y)}),{x:r.Set(s),y:r.Set(a)}}(this.engine.tree,e)):this.engine.exitTool()}stop(){this.engine.toolStore.setSnapLines(),this.engine.endUndoGroup()}update(){const{mouseDown:e,selection:t,mouse:n,tree:r,shiftKey:s,previousInputState:a,zoom:l}=this.engine,{gradientNode:u}=this.gradientEngine,h=a.mouse,d=a.shiftKey;if(!(e&&h&&n&&u))return void this.gradientEngine.setDefault();const p=i.Point.distance(n,e);if(!this.mouseDidMovePastThreshold&&p>1&&(this.mouseDidMovePastThreshold=!0),!this.mouseDidMovePastThreshold)return;if(n.x===h.x&&n.y===h.y&&s===d)return;const{point:f,snapLines:g}=c.snap(this.snapData,l,n),m=Object.assign({},n);i.isFiniteNumber(f.x)&&(m.x=f.x),i.isFiniteNumber(f.y)&&(m.y=f.y),this.engine.toolStore.setSnapLines(g.x,g.y);const v=r.convertPointToNode(u,m),y=i.Rect.atOrigin(r.getRect(u)),S=i.roundedNumber(v.x/y.width,3),b=i.roundedNumber(v.y/y.height,3),_=new o.RadialGradient(this.startGradient.merge({centerAnchorX:S,centerAnchorY:b}));this.engine.updateNodes(t,{fillRadialGradient:_,fillType:"radial-gradient"})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(110),o=n(9),s=n(252);t.RadialGradientResizeTool=class RadialGradientResizeTool extends s.VekterGradientTool{constructor(e){super(),this.enum=o.Tools.Unknown,this.mouseDidMovePastThreshold=!1,this.isHorizontal=!0,e&&(this.isHorizontal=e.isHorizontal)}start(){this.engine.beginUndoGroup();const e=this.gradientEngine.gradientNode;e&&"radial-gradient"===e.fillType&&e.fillRadialGradient?this.startGradient=e.fillRadialGradient:this.engine.exitTool()}stop(){this.engine.setTooltip(null),this.engine.endUndoGroup()}update(){const{mouseDown:e,selection:t,mouse:n,tree:o,shiftKey:s,previousInputState:c,zoom:l}=this.engine,{gradientNode:u}=this.gradientEngine,h=c.mouse,d=c.shiftKey;if(!(e&&h&&n&&u))return void this.gradientEngine.setDefault();const p=r.Point.distance(n,e);if(!this.mouseDidMovePastThreshold&&p>1&&(this.mouseDidMovePastThreshold=!0),!this.mouseDidMovePastThreshold)return;if(n.x===h.x&&n.y===h.y&&s===d)return;const f=o.getRect(u),g=o.convertPointToNode(u,n),m=f.width*this.startGradient.centerAnchorX,v=Math.abs(g.x-m),y=f.height*this.startGradient.centerAnchorY,S=Math.abs(g.y-y),b=this.isHorizontal?f.width:f.height,_=10/l/b,C=function snap(e,t){for(const n of a)if(Math.abs(e-n)<t)return n;return r.roundedNumber(e,3)}((this.isHorizontal?v:S)/b,_),w=this.isHorizontal?this.startGradient.widthFactor:this.startGradient.heightFactor,x=s?C/w:1,P={widthFactor:this.isHorizontal?C:this.startGradient.widthFactor*x,heightFactor:this.isHorizontal?this.startGradient.heightFactor*x:C},T=new i.RadialGradient(this.startGradient.merge(P));this.engine.updateNodes(t,{fillRadialGradient:T,fillType:"radial-gradient"}),this.engine.setTooltip(`${C}`)}};const a=[.25,.5,.75,1,1.5,2]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(17),o=n(6),s=n(44),a=n(60),c=n(9),l=n(183),u=n(414),h=n(27),d=10;t.CreateTextTool=class CreateTextTool extends i.VekterTool{constructor(){super(...arguments),this.enum=c.Tools.CreateText,this.wantsAutoscrolling=!0,this.helper=new l.CreateToolHelper,this.create=(e,t,n,r,i)=>{const{tree:o}=this.engine,{x:c,y:l,width:d,height:p}=n;let f=void 0;const g=!this.isTextBox(n);if(g&&(n={x:c+d,y:l+p,width:0,height:0}),r=Object.assign({},r,{top:n.y,left:n.x,width:n.width,height:n.height}),g||(r.rotation=i),t){const e=o.getNode(t),i=o.getRect(e);if(g){const e=n.y,t=i.height/2,r=Math.abs(e-t)<2;!r&&e<t&&(n.y-=10),!r&&e>t&&(n.y+=6);const o=4;Math.abs(c-i.width/2)<o?(f="center",n.x-=d):c<o?f="left":i.width-c<o&&(f="right")}const a=s.guessConstrainedFrame(n,i,void 0,g);r=Object.assign({},r,a)}else g&&0!==o.getGroundNodes().length&&(r.top-=10);const m=Object.assign({},r,n,{autoSize:g});delete m.aspectRatio;let v=null;f&&(v=a.StyledTextDraft.createEmptyWithStyle(h.default.documentSettings.asStyle()),v=a.StyledTextDraft.setAlignment(v,f)),this.engine.beginUndoGroup(),this.engine.createText(v,t,m),this.engine.setSelection([e]),this.engine.setTool(new u.TextEditTool)}}start(){this.helper.nodeClass=o.TextNode,this.helper.highlightParent=!0,this.helper.start(this),this.engine.setCursor("text")}stop(){this.helper.stop(this),this.engine.clearCursor(),this.snapper.stop()}update(){const{mouse:e,mouseDown:t}=this.engine;this.pastMinimumDrag(e,t)?this.engine.setCursor("crosshair"):this.engine.setCursor("text"),this.helper.update(this)}pastMinimumDrag(e,t){return null!==e&&null!==t&&(Math.abs(e.x-t.x)>=d||Math.abs(e.y-t.y)>=d)}isTextBox(e){return e.width>=d||e.height>=d}};t.CreateText=class CreateText extends r.Component{render(){const e=this.props.myTool,{mouse:t,mouseDown:n}=e.engine;return e.helper.showTooltip=e.pastMinimumDrag(t,n),r.createElement(l.Create,Object.assign({},this.props))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(25),o=n(17),s=n(63),a=n(9),c=n(183);class CreateShapeBaseTool extends o.VekterTool{constructor(){super(...arguments),this.wantsAutoscrolling=!0,this.type="rectangle",this.helper=new c.CreateToolHelper,this.create=(e,t,n,r,o)=>{0!==(r=Object.assign({},r,{y:n.y,x:n.x,width:n.width,height:n.height,rotation:o})).width&&0!==r.height?(this.engine.beginUndoGroup(),this.engine.createShape(this.type,t,r),this.engine.endUndoGroup(),this.engine.setSelection([e]),this.engine.exitTool(),i.triggerDrawingShapeCreateEvent({shape:this.type})):this.engine.exitTool()}}start(){let e=s.BasicShape.makeRectangle;switch(this.type){case"polygon":e=s.BasicShape.makePolygon;break;case"star":e=s.BasicShape.makeStar;break;case"oval":e=s.BasicShape.makeOval}this.helper.overlayShape=e,this.helper.supportsParentDirected=!1,this.helper.highlightParent=!0,this.helper.needsShapeContainer=!0,this.helper.start(this),this.engine.setCursor("crosshair")}stop(){this.helper.stop(this),this.engine.clearCursor(),this.snapper.stop()}update(){this.helper.update(this)}}t.CreateRectangleShapeTool=class CreateRectangleShapeTool extends CreateShapeBaseTool{constructor(){super(),this.enum=a.Tools.CreateRectangleShape,this.type="rectangle"}};t.CreateOvalShapeTool=class CreateOvalShapeTool extends CreateShapeBaseTool{constructor(){super(),this.enum=a.Tools.CreateOvalShape,this.type="oval"}};t.CreateStarShapeTool=class CreateStarShapeTool extends CreateShapeBaseTool{constructor(){super(),this.enum=a.Tools.CreateStarShape,this.type="star"}};t.CreatePolygonShapeTool=class CreatePolygonShapeTool extends CreateShapeBaseTool{constructor(){super(),this.enum=a.Tools.CreatePolygonShape,this.type="polygon"}};t.CreateShape=class CreateShape extends r.Component{render(){return r.createElement(c.Create,Object.assign({},this.props))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(25),o=n(1),s=n(18),a=n(47),c=n(834),l=n(17),u=n(27),h=n(6),d=n(21),p=n(92),f=n(176),g=n(20),m=n(9),v=n(377),y=n(415);t.SlotConnectTool=class SlotConnectTool extends l.VekterTool{constructor(){super(...arguments),this.enum=m.Tools.SlotConnect,this.mouseHasBeenUp=!1,this.canDisconnect=!1,this.slotSelector=(e,t,n)=>{const r=Object.keys(t),i=[{label:e?"Connect to…":"Disconnect",enabled:!1}];for(const o of r)i.push({label:n.slotTitleForKey(o),click:()=>{this.addSlotContentForKey(e,o,n)}});c.Menu.buildFromTemplate(i).popup(this.engine.mouseRaw)}}start(){const{tree:e,selection:t}=this.engine,n=t[0];if(!n)return;const r=e.getNode(n);r&&(this.canDisconnect=r.allSlotContent().length>0)}stop(){this.engine.clearCursor(),this.engine.setHighlight(null)}update(){const{tree:e,mouse:t,mouseDown:n,selection:r,previousInputState:s}=this.engine,c=s.mouseDown,l=r[0];if(!l)return this.exitTool();const f=e.getNode(l);if(!f||!d.isCodeComponentNode(f))return this.exitTool();if(0===Object.keys(f.slots()).length)return this.exitTool();const m=f.slotDictionary(),v=!!m&&(m.multi.length>0||[...m.multi,...m.single].length>1),y=v?"":a.disconnectCursor(),S=e.getAncestors(f.id),b=e.getNodesAtPoint(t);let _=b.find(t=>!(!g.hasChildren(t)||h.isVectorNode(t))&&-1===S.indexOf(t.id)&&null===e.getParent(t.id));g.findComponentIn(e,f,_)&&(_=void 0),this.engine.setCursor(0===b.length&&this.canDisconnect?y:_?a.addCursor():"");const C=null===n&&null!==c;if(C&&(this.mouseHasBeenUp||o.Point.distance(c,t)>4)){switch(f.codeComponentIdentifier){case p.HardCodedCodeIdentifier.scroll:i.triggerInteractiveScrollConnectEvent({source:"canvas"});break;case p.HardCodedCodeIdentifier.page:i.triggerInteractivePageConnectEvent({source:"canvas"})}const e=_?_.id:h.NullID;e?(this.engine.linkChangesTo(e,f.id),this.addSlotContent(e,f)):0!==b.length||v?this.exitTool():this.addSlotContent(h.NullID,f)}else this.mouseHasBeenUp=this.mouseHasBeenUp||C,u.default.setHighlight(_?_.id:null)}addSlotContent(e,t){const n=t.slots();if(!n)return void this.engine.exitTool();const r=Object.keys(n);if(r.length>1){if(!e){const n=t.singleSlotWithContent();if(n)return void this.addSlotContentForKey(e,n,t)}this.slotSelector(e,n,t)}else this.addSlotContentForKey(e,r[0],t)}addSlotContentForKey(e,t,n){const r=n.component();if(!r||!r.properties)return this.exitTool();const i=r.properties[t];if(!i)return this.exitTool();const s=v.deepClone(n.codeComponentProps)||{};if(i.type===o.ControlType.ComponentInstance){const n=e?[{enabled:!0,value:e,type:i.type}]:[];s[t]=n}else if(i.type===o.ControlType.Array&&i.propertyControl.type===o.ControlType.ComponentInstance){const n=s[t];if(e)if(n&&Array.isArray(n))n.push({enabled:!0,value:e,type:i.propertyControl.type});else{const n=[{enabled:!0,value:e,type:i.propertyControl.type}];s[t]=n}else n&&Array.isArray(n)?n.pop():s[t]=[]}this.engine.updateNode(n.id,{codeComponentProps:s}),this.exitTool()}exitTool(){this.engine.exitTool()}};t.SlotConnect=class SlotConnect extends r.Component{render(){const{tree:e,selection:t,highlight:n,mouse:i,zoom:o}=this.props.myTool.engine,a=t[0];if(!a)return null;const c=e.getNode(a);if(!c||!d.isCodeComponentNode(c))return null;const l=e.getRect(c),u=c.canvasMatrix(),h=y.startPoint(l,u,y.ArrowDirection.Right);let p=i,g={x:0,y:0};const m=n?e.getNode(n):null;if(m){const{end:t,offset:n}=y.arrowPoints(e,l,c.canvasMatrix(),e.getRect(m),m.canvasMatrix(),y.ArrowDirection.Right,y.topAncestor(e,c));p=t,g=n}return r.createElement(y.Arrow,{tintColor:f.isUserComponent(c)?s.theme.componentTint:s.theme.tint,active:!0,startX:h.x,startY:h.y,endX:p.x,endY:p.y,direction:y.ArrowDirection.Right,startOffsetX:g.x,startOffsetY:g.y,background:!0,showArrowHead:!1,zoom:o})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(27),o=n(130),s=n(105),a=o.ContextMenuPresenter.on(o.PostMessageChannel.toParentFrame).expect();class Menu{constructor(){this.handlePopupResponse=i.default.wrapHandler(e=>{if(void 0===e)return;let t=this._items,n=void 0;for(const i of e){if(void 0===(n=t.get(i)))throw Error("Could not find expected menu item");t=void 0===n.submenu?r.List():n.submenu._items}void 0!==n&&n.click()}),this._items=r.List()}static buildFromTemplate(e){const t=new Menu;for(const n of e)t.append(new MenuItem(n));return t}get items(){return this._items.toArray()}append(e){this._items=this._items.push(e)}insert(e,t){this._items=this._items.insert(e,t)}popup(e){const t=JSON.parse(JSON.stringify(this._items.toJS()));a.showContextMenu({items:t,location:e}).then(e=>{this.handlePopupResponse(e.indexPath)}).catch(s.unhandledError)}}t.Menu=Menu;const c={enabled:!0,visible:!0,label:void 0,click:void 0,type:"normal",accelerator:void 0,submenu:void 0,checked:!1,mixed:!1};class MenuItem extends(r.Record(c)){constructor(e){void 0!==e.submenu&&"Menu"!==e.submenu.constructor.name&&(e.submenu=Menu.buildFromTemplate(e.submenu)),super(e)}toJS(){const e=super.toJS();return void 0!==e.submenu&&(e.submenu=e.submenu._items.toJS()),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(25),o=n(1),s=n(18),a=n(47),c=n(17),l=n(27),u=n(6),h=n(21),d=n(171),p=n(9),f=n(415);function isValidLinkSource(e,t){return!(null===t||!u.isDrawableNode(t)||!d.hasNavigationLink(t))}function isValidLinkTarget(e,t,n){if(!t||!n)return!1;return!e.getAncestors(n.id).find(e=>e===t.id)&&(u.isFrameNode(t)||h.isCodeComponentNode(t))&&t.id!==n.id&&t.parentid===e.root.id}t.isValidLinkSource=isValidLinkSource,t.isValidLinkTarget=isValidLinkTarget;t.NavigationLinkTool=class NavigationLinkTool extends c.VekterTool{constructor(){super(...arguments),this.enum=p.Tools.NavigationLink,this.readyForDestinationTarget=!1,this.linkSource=null}start(){const{tree:e,selection:t}=this.engine;if(1===t.length){const n=t[0]?e.getNode(t[0]):null;this.linkSource=isValidLinkSource(0,n)?n:null}}update(){const{tree:e,mouse:t,mouseDown:n,previousInputState:r}=this.engine,s=this.linkSource?isValidLinkTarget:isValidLinkSource,c=e.getNodesAtPoint(t).filter(e=>!e.locked).reverse().find(t=>u.isDrawableNode(t)&&!!s(e,t,this.linkSource));c?(l.default.setHighlight(c.id),this.engine.clearCursor()):(l.default.setHighlight(u.NullID),this.linkSource?this.engine.setCursor(a.disconnectCursor()):this.engine.clearCursor());const h=r.mouseDown,d=null===n&&null!==h;null===n||null!==h||this.linkSource?d&&this.linkSource&&(this.readyForDestinationTarget||o.Point.distance(h,t)>4)&&(l.default.updateNode(this.linkSource.id,{navigationTarget:c?c.id:u.NullID}),l.default.setSelection([this.linkSource.id]),l.default.setHighlight(null),l.default.exitTool(),i.triggerInteractiveLinkCreateEvent({})):this.linkSource=c||null,this.readyForDestinationTarget=this.readyForDestinationTarget||d||null!==this.linkSource&&null===n}stop(){delete this.linkSource,this.engine.setCursor("default"),this.engine.setHighlight(null),this.engine.mouseStore.setMouseDown(!1)}};t.NavigationLink=class NavigationLink extends r.Component{render(){const{linkSource:e}=this.props.myTool;if(!e)return null;const{tree:t,highlight:n,mouse:i,zoom:o}=this.props.myTool.engine,a=t.convertFrameToCanvas(e),c=t.getRect(e),l=e.canvasMatrix();let u=f.preferredArrowDirection(a,Object.assign({},i,{width:1,height:1}));const h=f.startPoint(c,l,u);let d=i,p={x:0,y:0};const g=n?t.getNode(n):null;if(g){u=f.preferredArrowDirection(a,t.convertFrameToCanvas(g));const{end:n,offset:r}=f.arrowPoints(t,c,e.canvasMatrix(),t.getRect(g),g.canvasMatrix(),u,f.topAncestor(t,e));d=n,p=r}return r.createElement(f.Arrow,{tintColor:s.theme.tint,active:!0,startX:h.x,startY:h.y,endX:d.x,endY:d.y,direction:u,startOffsetX:p.x,startOffsetY:p.y,background:!0,showArrowHead:!0,zoom:o})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(27),i=n(9),o=n(17),s=n(1),a=n(179),c=n(71),l=n(105),u=n(837),h=n(236);t.FeedbackTool=class FeedbackTool extends o.VekterTool{constructor(){super(...arguments),this.enum=i.Tools.Comment,this.wantsAutoscrolling=!0,this.keepActive=!1}start(){c.experiments.isOn("feedback")&&(r.default.feedbackStore.isActive=!0,r.default.setCursor("crosshair"))}stop(){this.keepActive||(r.default.feedbackStore.isActive=!1,this.engine.clearCursor())}update(){const{spacebarDown:e}=this.engine,{middleMouseButtonDownRaw:t}=this.engine.mouseStore;return e||t?(this.keepActive=!0,this.engine.setExit(()=>{this.engine.setExit(null),this.engine.setTool(this),this.keepActive=!1}),void this.engine.setTool(new a.PanTool)):r.default.mouseDown&&!this.mouseDown?(this.mouseDown=r.default.mouseDown,void this.onMouseDown()):!r.default.mouseDown&&this.mouseDown?(this.mouseDown=void 0,void this.onMouseUp()):void(r.default.mouseDown&&this.onMouseDownMove())}onMouseDown(){const e=r.default.feedbackStore.threadIdUnderMouse;this.draggingThreadId=e,this.draggingOffset=this.calcDraggingOffset()}onMouseDownMove(){if(this.isDragging)return void this.onDrag();const e=this.mouseDown;if(!e)return;const{zoom:t,mouse:n}=this.engine;s.Point.distance(n,e)*t<=5||(this.engine.feedbackStore.ignoreNextClick=!0,this.onDragStart())}onMouseUp(){const{feedbackStore:e}=this.engine;this.isDragging?this.onDragEnd():r.default.mouseOnCanvas&&e.isActive&&(e.selectedThread&&e.isTransientThread(e.selectedThread.id)&&e.threadIdUnderMouse!==e.selectedThread.id?e.deleteThread(e.selectedThread.id).catch(()=>{}):e.threadIdUnderMouse||e.openTransientThread(Object.assign({type:h.AnchorType.Canvas},this.engine.mouse)))}onDragStart(){this.isDragging=!0}onDrag(){const e=this.draggingThreadId,t=this.draggingOffset;if(!t||!e)return;const n=s.Point.subtract(r.default.mouse,t);this.engine.feedbackStore.setThreadAnchor(e,Object.assign({},n,{type:h.AnchorType.Canvas}))}onDragEnd(){const e=this.draggingThreadId;this.draggingThreadId=void 0,this.mouseDown=void 0,this.draggingOffset=void 0,this.isDragging=!1,e&&this.engine.feedbackStore.persistThreadAnchor(e).catch(l.unhandledError)}calcDraggingOffset(){const e=r.default.mouseDown;if(!e)return;const t=this.draggingThreadId;if(!t)return;const n=this.engine.feedbackStore.getThread(t);return n?s.Point.subtract(e,u.anchorToPoint(n.anchor)):void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(236),i=n(416);t.anchorToPoint=function anchorToPoint(e){switch(e.type){case r.AnchorType.Canvas:return{x:e.x,y:e.y};default:return i.default(e.type)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(125),o=n(839),s=n(6),a=n(22),c=n(235),l=n(361),u=n(242),h=n(181),d=n(51),p=n(75),f=n(1),g='// WARNING: this file is auto generated, any changes will be lost\nimport { createDesignComponent, CanvasStore } from "framer"\nconst canvas = CanvasStore.shared(); // CANVAS_DATA;\n',m="export const {name} = createDesignComponent<{props}>(canvas, {id}, {desc}, {width_height});\n",v="export const colors = Object.freeze({\n{fields}})\n",y="    /** {color} */\n    {name}: {value},\n";function codeConverter(e,t){let n;if(e instanceof s.CodeComponentNode)n=e.getProps();else{const t=e.cache;(n=t.props)||(n=t.props=e.getProps())}const r=u.safeName(e.name);if(e instanceof s.TextNode&&!n.rawHTML){const t=i.convertToRaw(e.styledText.styledText.getCurrentContent());n=Object.assign({},n,{contentState:t})}return{componentClass:e instanceof s.CanvasNode?o.componentForNode(e).name:e.componentIdentifier,props:n,children:t,name:r}}class MasterNodeEntry{constructor(e,t){this.node=e,this.seen=!0,this.name="",this.presentationTreeDirty=!0,this.codeDirty=!0,this.code="",this.updatePresentationTree(e,t)}update(e,t){this.seen=!0,this.node!==e&&this.updatePresentationTree(e,t)}updatePresentationTree(e,t){const n=u.safeComponentName(e.name);if(this.name!==n&&!this.name.startsWith(n+"_")){let e=n;for(let r=1;r<100&&this.name!==e&&t.hasName(e);r++)e=n+"_"+r;this.name=e}this.presentationTreeDirty=!0,this.presentationTree=r.convertPresentationTree(e,codeConverter);let{width:i,height:o}=this.presentationTree.props;const{_constraints:a}=this.presentationTree.props;a&&(void 0!==a.intrinsicWidth&&(i=a.intrinsicWidth),void 0!==a.intrinsicHeight&&(o=a.intrinsicHeight));const l=Object.assign({},this.presentationTree.props,{top:void 0,bottom:void 0,left:void 0,right:void 0,width:void 0,height:void 0,center:void 0});this.presentationTree.props=l;let h="";h+=null==i?"200":JSON.stringify(i),h+=",",h+=null==o?"200":JSON.stringify(o);const d=function propsTypeFor(e){let t="parentSize?:{width:number|string,height:number|string},width?:number|string,height?:number|string";const n=[];return e.walk(r=>{if(r!==e&&c.withTarget(r)&&r.isTarget&&r.name){const e=u.safeName(r.name);if(!e)return;r instanceof s.TextNode?(t+=","+e+"?:string",n.push(e+':"string"')):(t+=","+e+"?:string",n.push(e+':"image"'))}}),{propsType:"{"+t+"}",propsDesc:"{"+n.join(",")+"}"}}(e),p=template(m,{width_height:h,desc:d.propsDesc,id:JSON.stringify(u.idToReactId(e.id)),props:d.propsType,name:this.name});this.code!==p&&(this.codeDirty=!0,this.code=p)}}class ColorTokenNodeEntry{constructor(e){this.node=e,this.seen=!0,this.name="",this.codeDirty=!0,this.code="",this.updateCode(e)}update(e){this.seen=!0,this.node!==e&&this.updateCode(e)}updateCode(e){this.name=e.name||"";const t=f.Color(e.value),n=template(y,{name:JSON.stringify(this.name),value:JSON.stringify(d.tokenToCSSVariable(e,{excludeMetadata:!0})),color:1===t.a?f.Color.toHexString(t).toUpperCase():f.Color.toRgbString(t)});this.code!==n&&(this.codeDirty=!0,this.code=n)}}function template(e,t){return e.replace(/{([a-z0-9_]+)}/gi,(e,n)=>t[n]||e)}t.CodeGenerator=class CodeGenerator{constructor(e,t=l.projectServerConnection){this.engine=e,this.projectServerConnection=t,this.masterNodes=new Map,this.colorNodes=new Map,this.colorNodesIndex=new WeakMap,this.presentationTreeDirty=!0,this.codeDirty=!0,this.changedNodes=e=>{for(let t=0,n=e.length;t<n;t++){const n=e[t];a.isMaster(n)&&!a.isHiddenMaster(n)&&this.updateNode(n),p.isRootNode(n)&&this.updateAllColorNodes(n)}this.afterUpdates()},this.previousCanvas="",this.updatePreview=()=>{const e=JSON.stringify(r.CanvasStore.shared().canvas);this.previousCanvas!==e&&(this.previousCanvas=e,this.projectServerConnection.updateCanvasData(e))},this.schedulePreviewUpdate=this.engine.debounce(this.updatePreview,100),this.previousCode="",this.updateModule=()=>{const e=this.generateCode();this.previousCode!==e&&(this.previousCode=e,this.projectServerConnection.updateCanvasModule(e))},this.scheduleCodeUpdate=this.engine.debounce(this.updateModule,100)}hasName(e){let t=!1;return this.masterNodes.forEach(n=>{n.name===e&&(t=!0)}),t}generateCode(){const e=Array.from(this.masterNodes.values()).map(e=>e.code).sort();if(this.colorNodes.size){const t=this.colorNodesIndex,n=template(v,{fields:Array.from(this.colorNodes.values()).sort((e,n)=>t.get(e)-t.get(n)).map(e=>e.code).join("")});return`${g}${e.join("")}\n${n}`}return`${g}${e.join("")}`}updateTree(e){this.masterNodes.forEach(e=>e.seen=!1),this.colorNodes.forEach(e=>e.seen=!1),e.root.walk(e=>{a.isMaster(e)&&!a.isHiddenMaster(e)&&this.updateNode(e)}),this.masterNodes.forEach(e=>{e.seen||(this.masterNodes.delete(e.node.id),this.presentationTreeDirty=!0,this.codeDirty=!0)}),this.updateAllColorNodes(e.root),this.colorNodes.forEach(e=>{e.seen||(this.colorNodes.delete(e.node.id),this.codeDirty=!0)}),this.afterTreeUpdate()}updateNode(e){let t=this.masterNodes.get(e.id);t?(t.update(e,this),t.presentationTreeDirty&&(this.presentationTreeDirty=!0),t.codeDirty&&(this.codeDirty=!0)):(t=new MasterNodeEntry(e,this),this.masterNodes.set(e.id,t),this.presentationTreeDirty=!0,this.codeDirty=!0)}updateAllColorNodes(e){e.getTokensOfType(h.ColorTokenNode).forEach((e,t)=>{const n=this.updateColorNode(e);this.colorNodesIndex.set(n,t)})}updateColorNode(e){let t=this.colorNodes.get(e.id);return t?(t.update(e),t.codeDirty&&(this.codeDirty=!0)):(t=new ColorTokenNodeEntry(e),this.colorNodes.set(e.id,t),this.codeDirty=!0),t}afterTreeUpdate(){if(this.presentationTreeDirty){this.presentationTreeDirty=!1;const e=[];this.masterNodes.forEach(t=>{e.push(t.presentationTree),t.presentationTreeDirty=!1,t.codeDirty=!1}),this.colorNodes.forEach(e=>{e.codeDirty=!1}),r.CanvasStore.shared().setCanvas({children:e}),this.schedulePreviewUpdate()}this.codeDirty&&this.scheduleCodeUpdate()}afterUpdates(){if(this.presentationTreeDirty){this.presentationTreeDirty=!1;const e=r.CanvasStore.shared(),t=e.canvas.children||[];e.setCanvas({children:t.slice()}),this.masterNodes.forEach(t=>{t.presentationTreeDirty&&(e.updateNode(t.presentationTree),t.presentationTreeDirty=!1,t.codeDirty=!1)}),this.colorNodes.forEach(e=>{e.codeDirty=!1}),this.schedulePreviewUpdate()}this.codeDirty&&this.scheduleCodeUpdate()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(78),o=n(74),s=n(76),a=n(1),c=n(21),l=n(416);t.componentForNode=function componentForNode(e){return e instanceof i.default?a.Frame:e instanceof o.default?a.SVG:e instanceof s.default?a.Text:r.isShapeContainerNode(e)?a.Frame:r.isShapeGroupNode(e)?a.VectorGroup:r.isVectorNode(e)?a.Vector:c.isCodeComponentNode(e)?a.ComponentContainer:(l.default(e),a.Frame)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(56),i=n(20),o=n(43),s=n(91),a=n(26),c=n(61),l=n(45),u=n(40),h=n(39),d=n(46),p=n(57),f=n(134),g=n(88);t.BooleanShapeRecord=Object.assign({},r.nameDefaults,i.instructionalChildrenDefaults,g.pathFillDefaults,s.pathBooleanDefaults,a.rotationDefaults,o.aspectRatioDefaults,c.shapeStrokeDefaults,p.opacityDefaults,f.boxShadowDefaults,l.visibilityDefaults,u.lockDefaults,h.sizeDefaults,d.withExportDefaults,{x:0,y:0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(185),i=n(58),o=n(59);t.RectangleShapeRecord=Object.assign({},r.ShapeNodeRecord,i.radiusDefaults,o.radiusPerCornerDefaults)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(185),i=n(391),o=n(58);t.StarShapeRecord=Object.assign({},r.ShapeNodeRecord,o.radiusDefaults,i.spikesDefaults)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(844),i=n(185),o=n(58);t.PolygonShapeRecord=Object.assign({},i.ShapeNodeRecord,o.radiusDefaults,r.polygonDefaults)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.polygonDefaults={polygonSides:6};const r="polygonSides";function hasPolygon(e){return r in e}t.hasPolygon=hasPolygon,t.reducePolygon=function reducePolygon(e,t){hasPolygon(e)&&(void 0===t.polygonSides?t.polygonSides=e.polygonSides:null!==t.polygonSides&&t.polygonSides!==e.polygonSides&&(t.polygonSides=null))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(56),i=n(39),o=n(35),s=n(20),a=n(45),c=n(40),l=n(57),u=n(46),h=n(88),d=n(234),p=n(846),f=n(58),g=n(59),m=n(171),v=n(137),y=n(165);t.ShapeContainerRecord=Object.assign({},r.nameDefaults,i.sizeDefaults,s.basicChildrenDefaults,o.pinDefaults,d.autoSizeDefaults,p.sizeToFitDefaults,a.visibilityDefaults,c.lockDefaults,l.opacityDefaults,h.shapeContainerFillDefaults,f.radiusDefaults,g.radiusPerCornerDefaults,m.navigationLinkDefaults,u.withExportDefaults,u.withExportIncludesBackgroundDefaults,v.previewSettingsDefaults,y.withDeviceDefaults)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sizeToFitDefaults={sizeToFit:!1};const r="sizeToFit";function hasSizeToFit(e){return r in e}t.hasSizeToFit=hasSizeToFit,t.reduceSizeToFit=function reduceSizeToFit(e,t){hasSizeToFit(e)&&(void 0===t.sizeToFit?t.sizeToFit=e.sizeToFit:null!==t.sizeToFit&&e.sizeToFit!==t.sizeToFit&&(t.sizeToFit=null))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r,i=0;function isHiddenCheckBudget(){if(++i>100)throw Error("property hidden() check code execution limit exceeded")}function restoreBudgetCheck(){r&&(window.__checkBudget__=r)}t.isHidden=function isHidden(e,t){if(!e.hidden)return!1;try{!function installHiddenBudgetCheck(){i=0,window.__checkBudget__!==i&&(r=window.__checkBudget__,window.__checkBudget__=isHiddenCheckBudget)}();const o=!!e.hidden(t.codeComponentProps);return restoreBudgetCheck(),o}catch(n){return restoreBudgetCheck(),!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(231);t.hasStyledText=function hasStyledText(e){return r.withStyledText(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);t.ExportOptionsRecord=r.Record(Object.assign({},{enabled:!0,type:"png",scale:1,nameExtension:"",nameExtensionMode:"Suffix"}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(36),i=n(61),o=n(1),s=8,a=2e4;t.SpatialCache=class SpatialCache{constructor(){this.index=[]}atX(e){return e+a>>s<<1}atY(e){return 1+(e+a>>s<<1)}rect(e,t){let n=e.convertRectToCanvasCached(t);return r.hasShape(t)&&i.hasStroke(t)&&1===t.strokeEnabled&&t.strokeWidth&&(n=o.Rect.inflate(n,t.strokeWidth/2)),n}add(e,t){const n=this.rect(e,t),r=this.atX(n.x),i=this.atX(n.x+n.width),o=this.atY(n.y),s=this.atY(n.y+n.height);for(let a=r;a<=i;a+=2)for(let e=o;e<=s;e+=2){let n=this.index[a+e];n||(n=this.index[a+e]=[]),n.push(t)}}getNodesInRect(e,t){const n=new Set,r=this.atX(t.x),i=this.atX(t.x+t.width),s=this.atY(t.y),a=this.atY(t.y+t.height);for(let c=r;c<=i;c+=2)for(let r=s;r<=a;r+=2){const i=this.index[c+r];if(i)for(let r=0,s=i.length;r<s;r++){const s=e.current(i[r]);if(!s)continue;if(n.has(s))continue;const a=this.rect(e,s);o.Rect.intersects(a,t)&&n.add(s)}}return Array.from(n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function compareIndexArrays(e,t){let n=0;for(;n<e.length&&n<t.length;){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1;n++}return n>=e.length&&n>=t.length?0:n>=e.length?-1:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasTreeVersion=54},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onlyIncludes=(e,t)=>{const n=t.map(e=>e.name);return e.reduce((e,t)=>e&&-1!==n.indexOf(t.constructor.name),!0)},t.doesNotInclude=(e,t)=>{const n=t.map(e=>e.name);return e.reduce((e,t)=>e&&-1===n.indexOf(t.constructor.name),!0)},t.isEqual=(e,t)=>null===e&&null===t||e&&t&&e.id===t.id},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(855),i=n(875);let o=null;t.getGlobalSocketIO=function getGlobalSocketIO(e){if(o){if(o.io.uri===e)return o;o.close(),o=null}return o=r(e,{query:{token:i.authorizationToken}})}},function(e,t,n){var r=n(856),i=n(258),o=n(420),s=n(65)("socket.io-client");e.exports=t=lookup;var a=t.managers={};function lookup(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i=r(e),c=i.source,l=i.id,u=i.path,h=a[l]&&u in a[l].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||h?(s("ignoring socket cache for %s",c),n=o(c,t)):(a[l]||(s("new io instance for %s",c),a[l]=o(c,t)),n=a[l]),i.query&&!t.query&&(t.query=i.query),n.socket(i.path,t)}t.protocol=i.protocol,t.connect=lookup,t.Manager=n(420),t.Socket=n(427)},function(e,t,n){(function(t){var r=n(418),i=n(65)("socket.io-client:url");e.exports=function url(e,n){var o=e;n=n||t.location,null==e&&(e=n.protocol+"//"+n.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==n?n.protocol+"//"+e:"https://"+e),i("parse %s",e),o=r(e));o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443"));o.path=o.path||"/";var s=-1!==o.host.indexOf(":")?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+s+":"+o.port,o.href=o.protocol+"://"+s+(n&&n.port===o.port?"":":"+o.port),o}}).call(this,n(8))},function(e,t,n){var r;function createDebug(e){function debug(){if(debug.enabled){var e=debug,n=+new Date,i=n-(r||n);e.diff=i,e.prev=r,e.curr=n,r=n;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var a=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;a++;var i=t.formatters[r];if("function"==typeof i){var s=o[a];n=i.call(e,s),o.splice(a,1),a--}return n}),t.formatArgs.call(e,o),(debug.log||t.log||console.log.bind(console)).apply(e,o)}}return debug.namespace=e,debug.enabled=t.enabled(e),debug.useColors=t.useColors(),debug.color=function selectColor(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(debug),debug}(t=e.exports=createDebug.debug=createDebug.default=createDebug).coerce=function coerce(e){return e instanceof Error?e.stack||e.message:e},t.disable=function disable(){t.enable("")},t.enable=function enable(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function enabled(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(858),t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,r=60*n,i=60*r,o=24*i,s=7*o,a=365.25*o;function plural(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var c=typeof e;if("string"===c&&e.length>0)return function parse(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*s;case"days":case"day":case"d":return c*o;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?function fmtLong(e){var t=Math.abs(e);if(t>=o)return plural(e,t,o,"day");if(t>=i)return plural(e,t,i,"hour");if(t>=r)return plural(e,t,r,"minute");if(t>=n)return plural(e,t,n,"second");return e+" ms"}(e):function fmtShort(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){(function(e){var r=n(146),i=n(419),o=Object.prototype.toString,s="function"==typeof e.Blob||"[object BlobConstructor]"===o.call(e.Blob),a="function"==typeof e.File||"[object FileConstructor]"===o.call(e.File);t.deconstructPacket=function(e){var t=[],n=e.data,o=e;return o.data=function _deconstructPacket(e,t){if(!e)return e;if(i(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(r(e)){for(var o=new Array(e.length),s=0;s<e.length;s++)o[s]=_deconstructPacket(e[s],t);return o}if("object"==typeof e&&!(e instanceof Date)){var o={};for(var a in e)o[a]=_deconstructPacket(e[a],t);return o}return e}(n,t),o.attachments=t.length,{packet:o,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function _reconstructPacket(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(r(e))for(var n=0;n<e.length;n++)e[n]=_reconstructPacket(e[n],t);else if("object"==typeof e)for(var i in e)e[i]=_reconstructPacket(e[i],t);return e}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,o=e;!function _removeBlobs(e,c,l){if(!e)return e;if(s&&e instanceof Blob||a&&e instanceof File){n++;var u=new FileReader;u.onload=function(){l?l[c]=this.result:o=this.result,--n||t(o)},u.readAsArrayBuffer(e)}else if(r(e))for(var h=0;h<e.length;h++)_removeBlobs(e[h],h,e);else if("object"==typeof e&&!i(e))for(var d in e)_removeBlobs(e[d],d,e)}(o),n||t(o)}}).call(this,n(8))},function(e,t,n){e.exports=n(861),e.exports.parser=n(114)},function(e,t,n){(function(t){var r=n(421),i=n(113),o=n(65)("engine.io-client:socket"),s=n(426),a=n(114),c=n(418),l=n(188);function Socket(e,n){if(!(this instanceof Socket))return new Socket(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=null),e?(e=c(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=c(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.transportOptions=n.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized||n.rejectUnauthorized,this.forceNode=!!n.forceNode;var r="object"==typeof t&&t;r.global===r&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=Socket,Socket.priorWebsocketSuccess=!1,i(Socket.prototype),Socket.protocol=a.protocol,Socket.Socket=Socket,Socket.Transport=n(260),Socket.transports=n(421),Socket.parser=n(114),Socket.prototype.createTransport=function(e){o('creating transport "%s"',e);var t=function clone(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=a.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new r[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},Socket.prototype.open=function(){var e;if(this.rememberUpgrade&&Socket.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},Socket.prototype.setTransport=function(e){o("setting transport %s",e.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},Socket.prototype.probe=function(e){o('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function onTransportOpen(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(o('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;Socket.priorWebsocketSuccess="websocket"===t.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){n||"closed"!==r.readyState&&(o("changing transport and sending upgrade packet"),cleanup(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())})}else{o('probe transport "%s" failed',e);var s=new Error("probe error");s.transport=t.name,r.emit("upgradeError",s)}}))}function freezeTransport(){n||(n=!0,cleanup(),t.close(),t=null)}function onerror(n){var i=new Error("probe error: "+n);i.transport=t.name,freezeTransport(),o('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",i)}function onTransportClose(){onerror("transport closed")}function onclose(){onerror("socket closed")}function onupgrade(e){t&&e.name!==t.name&&(o('"%s" works - aborting "%s"',e.name,t.name),freezeTransport())}function cleanup(){t.removeListener("open",onTransportOpen),t.removeListener("error",onerror),t.removeListener("close",onTransportClose),r.removeListener("close",onclose),r.removeListener("upgrading",onupgrade)}Socket.priorWebsocketSuccess=!1,t.once("open",onTransportOpen),t.once("error",onerror),t.once("close",onTransportClose),this.once("close",onclose),this.once("upgrading",onupgrade),t.open()},Socket.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",Socket.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},Socket.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)},Socket.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},Socket.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},Socket.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},Socket.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},Socket.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},Socket.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},Socket.prototype.write=Socket.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},Socket.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},Socket.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?waitForUpgrade():close()}):this.upgrading?waitForUpgrade():close()}function close(){e.onClose("forced close"),o("socket closing - telling transport to close"),e.transport.close()}function cleanupAndClose(){e.removeListener("upgrade",cleanupAndClose),e.removeListener("upgradeError",cleanupAndClose),close()}function waitForUpgrade(){e.once("upgrade",cleanupAndClose),e.once("upgradeError",cleanupAndClose)}return this},Socket.prototype.onError=function(e){o("socket error %j",e),Socket.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},Socket.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},Socket.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~s(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,n(8))},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},function(e,t,n){(function(t){var r=n(259),i=n(422),o=n(113),s=n(189),a=n(65)("engine.io-client:polling-xhr");function empty(){}function XHR(e){if(i.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,t.location){var n="https:"===location.protocol,r=location.port;r||(r=n?443:80),this.xd=e.hostname!==t.location.hostname||r!==e.port,this.xs=e.secure!==n}}function Request(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function unloadHandler(){for(var e in Request.requests)Request.requests.hasOwnProperty(e)&&Request.requests[e].abort()}e.exports=XHR,e.exports.Request=Request,s(XHR,i),XHR.prototype.supportsBinary=!0,XHR.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new Request(e)},XHR.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=r},XHR.prototype.doPoll=function(){a("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},o(Request.prototype),Request.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new r(e),i=this;try{a("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&n.setRequestHeader(o,this.extraHeaders[o])}catch(s){}if("POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}try{n.setRequestHeader("Accept","*/*")}catch(s){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){i.onLoad()},n.onerror=function(){i.onError(n.responseText)}):n.onreadystatechange=function(){if(2===n.readyState)try{var e=n.getResponseHeader("Content-Type");i.supportsBinary&&"application/octet-stream"===e&&(n.responseType="arraybuffer")}catch(s){}4===n.readyState&&(200===n.status||1223===n.status?i.onLoad():setTimeout(function(){i.onError(n.status)},0))},a("xhr data %s",this.data),n.send(this.data)}catch(s){return void setTimeout(function(){i.onError(s)},0)}t.document&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)},Request.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},Request.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},Request.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},Request.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=empty:this.xhr.onreadystatechange=empty,e)try{this.xhr.abort()}catch(n){}t.document&&delete Request.requests[this.index],this.xhr=null}},Request.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(n){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},Request.prototype.hasXDR=function(){return void 0!==t.XDomainRequest&&!this.xs&&this.enablesXDR},Request.prototype.abort=function(){this.cleanup()},Request.requestsCount=0,Request.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",unloadHandler):t.addEventListener&&t.addEventListener("beforeunload",unloadHandler,!1))}).call(this,n(8))},function(e,t){e.exports=Object.keys||function keys(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),s=t,a=0;s<n;s++,a++)o[a]=i[s];return o.buffer}},function(e,t){function noop(){}e.exports=function after(e,t,n){var r=!1;return n=n||noop,proxy.count=e,0===e?t():proxy;function proxy(e,i){if(proxy.count<=0)throw new Error("after called too many times");--proxy.count,e?(r=!0,t(e),t=n):0!==proxy.count||r||t(null,i)}}},function(e,t,n){(function(e,r){var i;!function(o){var s=t,a=(e&&e.exports,"object"==typeof r&&r);a.global!==a&&a.window;var c,l,u,h=String.fromCharCode;function ucs2decode(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function checkScalarValue(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function createByte(e,t){return h(e>>t&63|128)}function encodeCodePoint(e,t){if(0==(4294967168&e))return h(e);var n="";return 0==(4294965248&e)?n=h(e>>6&31|192):0==(4294901760&e)?(checkScalarValue(e,t)||(e=65533),n=h(e>>12&15|224),n+=createByte(e,6)):0==(4292870144&e)&&(n=h(e>>18&7|240),n+=createByte(e,12),n+=createByte(e,6)),n+=h(63&e|128)}function readContinuationByte(){if(u>=l)throw Error("Invalid byte index");var e=255&c[u];if(u++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function decodeSymbol(e){var t,n;if(u>l)throw Error("Invalid byte index");if(u==l)return!1;if(t=255&c[u],u++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|readContinuationByte())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|readContinuationByte()<<6|readContinuationByte())>=2048)return checkScalarValue(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|readContinuationByte()<<12|readContinuationByte()<<6|readContinuationByte())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}var d={version:"2.1.2",encode:function utf8encode(e,t){for(var n=!1!==(t=t||{}).strict,r=ucs2decode(e),i=r.length,o=-1,s="";++o<i;)s+=encodeCodePoint(r[o],n);return s},decode:function utf8decode(e,t){var n=!1!==(t=t||{}).strict;c=ucs2decode(e),l=c.length,u=0;for(var r,i=[];!1!==(r=decodeSymbol(n));)i.push(r);return function ucs2encode(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=h((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=h(t);return i}(i)}};void 0===(i=function(){return d}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(424)(e),n(8))},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,r,i,o,s,a=.75*e.length,c=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),h=new Uint8Array(u);for(t=0;t<c;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],s=n[e.charCodeAt(t+3)],h[l++]=r<<2|i>>4,h[l++]=(15&i)<<4|o>>2,h[l++]=(3&o)<<6|63&s;return u}}()},function(e,t,n){(function(t){var n=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),i=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function mapArrayBufferViews(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}e[t]=r}}}function BlobBuilderConstructor(e,t){t=t||{};var r=new n;mapArrayBufferViews(e);for(var i=0;i<e.length;i++)r.append(e[i]);return t.type?r.getBlob(t.type):r.getBlob()}function BlobConstructor(e,t){return mapArrayBufferViews(e),new Blob(e,t||{})}e.exports=r?i?t.Blob:BlobConstructor:o?BlobBuilderConstructor:void 0}).call(this,n(8))},function(e,t,n){(function(t){var r=n(422),i=n(189);e.exports=JSONPPolling;var o,s=/\n/g,a=/\\n/g;function empty(){}function JSONPPolling(e){r.call(this,e),this.query=this.query||{},o||(t.___eio||(t.___eio=[]),o=t.___eio),this.index=o.length;var n=this;o.push(function(e){n.onData(e)}),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=empty)},!1)}i(JSONPPolling,r),JSONPPolling.prototype.supportsBinary=!1,JSONPPolling.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},JSONPPolling.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},JSONPPolling.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=c,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function complete(){initIframe(),t()}function initIframe(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),initIframe(),e=e.replace(a,"\\\n"),this.area.value=e.replace(s,"\\n");try{this.form.submit()}catch(l){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&complete()}:this.iframe.onload=complete}}).call(this,n(8))},function(e,t,n){(function(t){var r,i=n(260),o=n(114),s=n(188),a=n(189),c=n(425),l=n(65)("engine.io-client:websocket"),u=t.WebSocket||t.MozWebSocket;if("undefined"==typeof window)try{r=n(872)}catch(d){}var h=u;function WS(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=u&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(h=r),i.call(this,e)}h||"undefined"!=typeof window||(h=r),e.exports=WS,a(WS,i),WS.prototype.name="websocket",WS.prototype.supportsBinary=!0,WS.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new h(e,t):new h(e):new h(e,t,n)}catch(r){return this.emit("error",r)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},WS.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},WS.prototype.write=function(e){var n=this;this.writable=!1;for(var r=e.length,i=0,s=r;i<s;i++)!function(e){o.encodePacket(e,n.supportsBinary,function(i){if(!n.usingBrowserWebSocket){var o={};if(e.options&&(o.compress=e.options.compress),n.perMessageDeflate)("string"==typeof i?t.Buffer.byteLength(i):i.length)<n.perMessageDeflate.threshold&&(o.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,o)}catch(d){l("websocket closed before onclose event")}--r||done()})}(e[i]);function done(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}},WS.prototype.onClose=function(){i.prototype.onClose.call(this)},WS.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},WS.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),(e=s.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},WS.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===WS.prototype.name)}}).call(this,n(8))},function(e,t){},function(e,t){e.exports=function toArray(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},function(e,t){function Backoff(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=Backoff,Backoff.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Backoff.prototype.reset=function(){this.attempts=0},Backoff.prototype.setMin=function(e){this.ms=e},Backoff.prototype.setMax=function(e){this.max=e},Backoff.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authorizationToken=function getAuthorizationTokenOnce(){const e=window.authorization_token;return delete window.authorization_token,e||""}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(877),i=window;let o="",s="";t.updateProjectBundleHash=function updateProjectBundleHash(e){const t=e["index.js"],n=e["vendors.js"];t&&(o=String(r.javaHash(t))),n&&(s=String(r.javaHash(n)));const a=`${o}_${s}`;return i.componentHash=a,a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.javaHash=function javaHash(e){let t=0;if(0===e.length)return t;for(let n=0,r=e.length;n<r;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return t}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(t){o(t)}}function rejected(e){try{step(r.throw(e))}catch(t){o(t)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(100),o=n(28),s=n(25),a=n(6),c=n(9),l=n(107),u=n(76),h=n(879);class Benchmark{constructor(e,t,n,r,i){this.name=e,this.version=t,this.engine=n,this.onComplete=r,this.displayResults=i,this.current=0,this.scheduled=[],this.reports=[],this.started=0,this.ended=0,this.runOne=()=>{if(this.ended)return;this.current>0&&(this.reports[this.current-1]=this.engine.getLastReport());const e=this.scheduled[this.current];if(this.current+=1,!e)return this.done();this.engine.runAtNextFrame(this.runOne),this.engine.wrapHandler(e)()}}step(e){return o(!this.started),this.scheduled.push(e),this}drag(e,t,n,r,i=25){this.step(()=>{this.engine.setMouseStore(e,t,!1)});for(let o=0;o<=i;o++)this.step(()=>{this.engine.setMouseStore(e+Math.round(n/i*o),t+Math.round(r/i*o),!0)});return this.step(()=>{this.engine.setMouseStore(e+n,t+r,!1)}),this}start(e=0){i.debug(`--- bench:starting ${this.name} steps: ${this.scheduled.length} ---`),this.started=Date.now(),setTimeout(this.runOne,e)}done(){if(this.ended)return;this.ended=Date.now();const e=this.ended-this.started,t=this.scheduled.length/(e/1e3);i.info(`--- bench:done ${this.name} duration: ${(e/1e3).toFixed(3)} seconds, fps: ${t} ---`),console.table(this.reports.map(e=>(delete(e=Object.assign({},e,{perf:0})).perf,e)));const n={durationMs:e,fps:t,name:this.name,version:this.version,windowHeight:window.innerHeight,windowWidth:window.innerWidth};this.onComplete(n),this.displayResults&&function report(e){const t=document.createElement("div");Object.assign(t.style,{position:"fixed",top:0,left:0,width:"100%",height:"100%","z-index":1e3,"background-color":"rgba(0,0,0,0.5)",display:"flex","align-items":"center","justify-content":"center","user-select":"text"});const{durationMs:n=0,fps:r=0}=e,i=`duration: ${(n/1e3).toFixed(2)}\nfps: ${r.toFixed(1)}`;t.innerText=i,document.body.appendChild(t),t.onclick=()=>{const e=document.createElement("textarea");e.value=i,document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove(),t.remove()};const o=s.createVekterPerformanceBenchmarkEvent({name:e.name,version:e.version,fps:e.fps,durationMs:e.durationMs});h.Metrics.pushEvent(o)}(n)}}function benchEmpty(e,t=!0){return r(this,void 0,void 0,function*(){return new Promise(n=>{const r=new Benchmark("empty",1,e,n,t);for(let e=0;e<60;e++)r.step(()=>{});r.start()})})}function benchZoom(e,t=!0){return r(this,void 0,void 0,function*(){return new Promise(n=>{const r=new Benchmark("zoom",2,e,n,t),i=[1,2,4,8,16,8,4,2,1,.5,.25,.125,.0625];for(const t of i)r.step(()=>{e.canvasStore.setZoom(t)});e.processWhenReady(()=>{e.zoomToFitAll(),e.canvasStore.setZoom(1),r.start(1e3)})})})}function benchCreate(e,t=!0){return r(this,void 0,void 0,function*(){return new Promise(n=>{const r=new Benchmark("create",1,e,n,t);r.step(()=>{e.load(new a.default),e.canvasStore.setZoom(1)}),r.step(()=>{e.setToolEnum(c.Tools.CreateFrame)}),r.drag(0,0,200,600),r.step(()=>{e.setToolEnum(c.Tools.CreateFrame)}),r.drag(10,10,180,580),r.step(()=>{e.setToolEnum(c.Tools.CreateFrame)}),r.drag(20,20,10,10,5),r.step(()=>{e.setToolEnum(c.Tools.CreateFrame)}),r.drag(40,20,10,10,5),r.step(()=>{e.setToolEnum(c.Tools.CreateFrame)}),r.drag(60,20,10,10,5),r.step(()=>{e.setToolEnum(c.Tools.CreateFrame)}),r.drag(80,20,10,10,5),r.step(()=>{e.setToolEnum(c.Tools.CreateText)}),r.step(()=>{e.setMouseStore(50,100,!1)}),r.step(()=>{e.setMouseStore(50,100,!0)}),r.step(()=>{e.setMouseStore(50,100,!1)}),r.step(()=>{const t=e.tree.root.find(e=>e instanceof u.default);let n=t.styledText;n=n.withUpdatedText("hello world!"),e.updateNode(t.id,{styledText:n})}),r.step(()=>{e.exitTool()}),r.step(()=>{e.setSelection([e.tree.root.children[0].id])});for(let t=0;t<20;t++)r.step(()=>{l.ContextAction.duplicateNodes(e,e.selection)});r.step(()=>{e.canvasStore.setZoom(.5)}),r.step(()=>{e.canvasStore.setZoom(.25)}),r.drag(6300,-100,-1300,800),r.drag(5200,300,-1e3,-100),r.step(()=>{e.canvasStore.scrollToCenter(e.mouse)}),r.drag(4200,200,-1e3,0),r.step(()=>{e.canvasStore.scrollToCenter(e.mouse)}),r.drag(3200,200,-3200,-500),r.step(()=>{e.canvasStore.scrollToCenter(e.mouse)});for(let t=0;t<10;t++)r.step(()=>{l.ContextAction.duplicateNodes(e,e.selection)});for(let t=0;t<50;t++)r.step(()=>{e.undo()});for(let t=0;t<10;t++)r.step(()=>{e.redo()});return r.start()})})}t.benchEmpty=benchEmpty,t.benchZoom=benchZoom,t.benchCreate=benchCreate,t.automatedPerformanceTests=function allowRunOnce(e){let t=!1;return(...n)=>r(this,void 0,void 0,function*(){if(!t)return t=!0,e(...n)})}(function runPerformanceTests(e,t){return r(this,void 0,void 0,function*(){const n=yield benchEmpty(t,!1),r=yield benchZoom(t,!1),i=yield benchCreate(t,!1),{userAgent:o,language:s}=navigator,a={screen:{width:window.screen.width,height:window.screen.height},language:s};e.emit("performanceTestsComplete",{userAgent:o,context:a,benchmarks:[n,r,i]})})})},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(880),s=n(899);var a,c,l;!function(e){e.NOT_DEFINED="not-defined",e.CHROME="chrome",e.MAIN_MENU="main-menu-bar",e.TOOLS_PANEL="main-menu-bar-tools",e.LAYERS_PANEL="main-menu-bar-layers",e.PROPERTIES_PANEL="properties-panel",e.SHAPE_TOOLS_PANEL="shape-tools-panel",e.COMPONENTS_PANEL="main-menu-bar-components",e.COLOR_PICKER="color-picker"}(a=t.MetricsInteractionViews||(t.MetricsInteractionViews={})),t.MetricsViewContext=i.createContext({view:a.NOT_DEFINED}),t.withMetricsViewContext=(e,n)=>i.createElement(t.MetricsViewContext.Provider,{value:e},n),function(e){e.STORE_INTERNAL="store_internal",e.STORE_BROWSE="store_browse",e.STORE_USE_INSTALLED="store_use_installed"}(c=t.MetricEventType||(t.MetricEventType={})),function(e){e[e.v2=2]="v2"}(l||(l={}));const u={[c.STORE_INTERNAL]:l.v2,[c.STORE_BROWSE]:l.v2,[c.STORE_USE_INSTALLED]:l.v2},h={},d=new o.FramerTracking({sourceName:"framer-x",trackingURL:s.appServices.trackingURL,verbose:window.localStorage&&"active"===window.localStorage.getItem("debug-metrics"),addContext:e=>{for(const t in h)void 0===e[t]&&(e[t]=h[t])}});!function(e){e.init=function(e){const{appVersion:t,projectId:n}=e;Object.assign(h,{appVersion:t,projectId:n}),d.setUserId(e.userId)},e.push=function(e){if(e.type===c.STORE_INTERNAL){const{action:t,name:n,type:i}=e,o=r(e,["action","name","type"]);d.track(Object.assign({type:"track",event:n,version:l.v2},o))}else{const{type:t}=e,n=r(e,["type"]);d.track(Object.assign({type:"track",event:t,version:u[t]},n))}},e.pushEvent=function(e){const{event:t}=e,n=r(e,["event"]);d.track(Object.assign({},n,{type:"track",event:t,version:u[t]}))}}(t.Metrics||(t.Metrics={}))},function(e,t,n){(function(t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(1))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,s){function r(e){try{c(i.next(e))}catch(t){s(t)}}function u(e){try{c(i.throw(e))}catch(t){s(t)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(r,u)}c((i=i.apply(e,t||[])).next())})},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const s=n(2);function r(){const e=()=>Math.floor(65536*(1+Math.random())).toString(16).slice(-4);return`${e()}${e()}-${e()}-${e()}-${e()}-${e()}${e()}${e()}`}t.FramerTracking=class u{constructor(e){this.sourceName=e.sourceName,this.userId=e.userId,this.verbose=e.verbose||!1,this.addContext=e.addContext,this.poster=s.createPoster({endpointURL:e.trackingURL,postBatch:e.postBatch,storeId:e.storeId,processItem:e=>e.data.context.userId?e:this.userId?(e.data.context.userId=this.userId,e):null})}flush(){return i(this,void 0,void 0,function*(){yield this.poster.flush()})}group(e){this.post(Object.assign({},e,{type:"group"}))}identify(e){this.post(Object.assign({},e,{type:"identify"}))}track(e){if(this.verbose){const{event:t,type:n}=e,r=o(e,["event","type"]);this.logEvent(t,r)}this.post(Object.assign({},e,{type:"track"}))}setUserId(e){this.userId&&this.userId!==e&&console.warn("Changing user id from %s to %s",this.userId,e),this.userId=e,this.poster.reprocessItems()}logEvent(e,t){let n=`%c${e}`;const r=["background: blue; border-radius: 3px; color: white; padding: 0 5px;"];t&&Object.keys(t).length>0&&(n+=`\n%c${JSON.stringify(t,null,2)}`,r.push("font-family: monospace; opacity: 0.7;")),console.log(n,...r)}post(e){if(!this.userId){const t="identify"===e.type?e.userId:e.context&&e.context.userId;t&&this.setUserId(t)}const t=Object.assign({},e.context);"undefined"!=typeof window&&(t.language||(t.language=window.navigator.language),t.screen||(t.screen={width:window.screen.width,height:window.screen.height})),this.addContext&&this.addContext(t);const n={data:Object.assign({},e,{context:t,uuid:e.uuid||r()}),source:this.sourceName,timestamp:Date.now()};this.poster.post(n)}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,s){function r(e){try{c(i.next(e))}catch(t){s(t)}}function u(e){try{c(i.throw(e))}catch(t){s(t)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(r,u)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3);t.createPoster=function(e){return new a(e)};const o=1e3,s=1e4,c=100,l=4,u=1e3;class a{constructor(e){this.failCount=0,this.endpointURL=e.endpointURL,this.processItem=e.processItem,null!==e.storeId?(this.store=i.createStore(e.storeId||"framer-tracking-client-queue"),this.queue=this.store.load()):this.queue=[],this.postBatch=e.postBatch||("undefined"!=typeof window&&window.fetch?Promise.resolve().then(()=>n(4)).then(e=>e.postBatch):Promise.resolve().then(()=>n(5)).then(e=>e.postBatch))}flush(){return r(this,void 0,void 0,function*(){if(this.pendingFlushPromise){try{yield this.pendingFlushPromise}catch(n){}return 0===this.queue.length}clearTimeout(this.flushTimer),clearTimeout(this.flushDeadlineTimer),this.flushTimer=this.flushDeadlineTimer=void 0;const e=this.buildPostBody();if(!e)return!0;const t=Promise.all([this.postBatch,this.endpointURL]).then(([t,n])=>t(n,e));this.pendingFlushPromise=t;try{yield t,this.failCount=0,this.queue=this.queue.filter(e=>!e.pending),this.store&&this.store.save(this.queue),this.queue.length>0&&!this.flushTimer&&this.scheduleFlush()}catch(n){console.warn("Post failed: %s",n);for(const t of this.queue)t.pending&&(t.pending=!1);this.failCount++,this.scheduleFlush()}finally{this.pendingFlushPromise=void 0}return 0===this.queue.length})}post(e){const t=this.createQueueItem(e);this.queue.push(t),this.constrainQueueSize(),this.store&&this.store.save(this.queue),this.scheduleFlush()}reprocessItems(e=!1){let t=!1;for(const n of this.queue)n.complete||this.tryCompleteItem(n)&&(t=!0);this.store&&(e||t)&&this.store.save(this.queue)}buildPostBody(){const e=["[\n"];let t=0;for(let n=0;n<this.queue.length;n++){const r=this.queue[n];if(this.tryCompleteItem(r)&&(t>0&&e.push(",\n"),e.push(r.json),r.pending=!0,++t===c))break}return 0===t?"":(e.push("\n]"),e.join(""))}constrainQueueSize(){if(this.queue.length<=u)return;const e=this.queue.length-u;this.queue.splice(e),console.warn("Dropping %d item(s) from the queue",e)}createQueueItem(e){if(!this.processItem)return{complete:!0,json:JSON.stringify(e)};try{const n=this.processItem(e);return n?{complete:!0,json:JSON.stringify(n)}:{cache:e,complete:!1,json:JSON.stringify(e)}}catch(t){const r=JSON.stringify(e);return console.warn("Failed to process item (%s): %s",t.message,r),{cache:e,complete:!1,json:r}}}scheduleFlush(){const e=()=>this.flush();this.flushDeadlineTimer||(this.flushDeadlineTimer=setTimeout(e,this.withBackoff(s))),clearTimeout(this.flushTimer),this.flushTimer=setTimeout(e,this.withBackoff(o))}tryCompleteItem(e){if(e.complete)return!0;if(!this.processItem)return!1;try{const n=e.cache||JSON.parse(e.json),r=this.processItem(n);if(!r)return e.cache=n,!1;e.cache=void 0,e.complete=!0,e.json=JSON.stringify(r)}catch(t){return console.warn("Failed to process item (%s): %s",t.message,e),!1}return!0}withBackoff(e){return this.failCount?e*Math.pow(2,Math.min(this.failCount,l)):e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStore=function(e){return new s(e)};class s{constructor(e){this.id=e}load(){const e=this.getLocalStorageSafely();if(!e)return[];const t=e.getItem(this.id);return t?t.split("\n").map(e=>e&&"!"===e[0]?{complete:!1,json:e.slice(1)}:{complete:!0,json:e}):[]}save(e){const t=this.getLocalStorageSafely();if(!t)return;const n=e.map(e=>(e.complete?"":"!")+e.json).join("\n");t.setItem(this.id,n)}getLocalStorageSafely(){try{if("undefined"==typeof window||!window.localStorage)return null}catch(e){return null}return window.localStorage}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,s){function r(e){try{c(i.next(e))}catch(t){s(t)}}function u(e){try{c(i.throw(e))}catch(t){s(t)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(r,u)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.postBatch=function(e,t){return r(this,void 0,void 0,function*(){const n=yield fetch(e,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"},body:t});if(!n.ok)throw Error(`Server responded with ${n.statusText}`);"opaque"!==n.type&&(yield n.json())})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6);t.postBatch=function(e,t){return new Promise((n,i)=>{const o=e.split("/");if(o.length<3||"https:"!==o[0]||""!==o[1])throw Error("Expected a valid HTTPS URL");const s={hostname:o[2],path:"/"+o.slice(3).join("/"),headers:{"Content-Length":t.length,"Content-Type":"application/json; charset=utf-8"},method:"POST"},a=r.request(s,e=>{if(200!==e.statusCode)return void i(Error(`Server responded with ${e.statusMessage}`));e.setEncoding("utf8");let t="";e.on("data",e=>{t+=e}),e.on("error",i),e.on("end",()=>{try{JSON.parse(t),n()}catch(e){i(e)}})});a.on("error",i),a.write(t),a.end()})}},function(e,t){e.exports=n(881)}])}).call(this,n(8))},function(e,t,n){var r=n(882),i=n(440),o=e.exports;for(var s in r)r.hasOwnProperty(s)&&(o[s]=r[s]);function validateParams(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=validateParams(e),r.request.call(this,e,t)},o.get=function(e,t){return e=validateParams(e),r.get.call(this,e,t)}},function(e,t,n){(function(e){var r=n(883),i=n(431),o=n(892),s=n(893),a=n(440),c=t;c.request=function(t,n){t="string"==typeof t?a.parse(t):o(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",s=t.protocol||i,c=t.hostname||t.host,l=t.port,u=t.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),t.url=(c?s+"//"+c:"")+(l?":"+l:"")+u,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new r(t);return n&&h.on("response",n),h},c.get=function get(e,t){var n=c.request(e,t);return n.end(),n},c.ClientRequest=r,c.IncomingMessage=i,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.STATUS_CODES=s,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n(8))},function(e,t,n){(function(t,r,i){var o=n(430),s=n(67),a=n(431),c=n(432),l=n(891),u=a.IncomingMessage,h=a.readyStates;var d=e.exports=function(e){var n,r=this;c.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(t){r.setHeader(t,e.headers[t])});var i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)i=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!o.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}r._mode=function decideMode(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":o.vbArray&&e?"text:vbarray":"text"}(n,i),r.on("finish",function(){r._onFinish()})};s(d,c.Writable),d.prototype.setHeader=function(e,t){var n=e.toLowerCase();-1===p.indexOf(n)&&(this._headers[n]={name:e,value:t})},d.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},d.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},d.prototype._onFinish=function(){var e=this;if(!e._destroyed){var n=e._opts,s=e._headers,a=null;"GET"!==n.method&&"HEAD"!==n.method&&(a=o.arraybuffer?l(t.concat(e._body)):o.blobConstructor?new r.Blob(e._body.map(function(e){return l(e)}),{type:(s["content-type"]||{}).value||""}):t.concat(e._body).toString());var c=[];if(Object.keys(s).forEach(function(e){var t=s[e].name,n=s[e].value;Array.isArray(n)?n.forEach(function(e){c.push([t,e])}):c.push([t,n])}),"fetch"===e._mode){var u=null;if(o.abortController){var d=new AbortController;u=d.signal,e._fetchAbortController=d,"requestTimeout"in n&&0!==n.requestTimeout&&r.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},n.requestTimeout)}r.fetch(e._opts.url,{method:e._opts.method,headers:c,body:a||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:u}).then(function(t){e._fetchResponse=t,e._connect()},function(t){e.emit("error",t)})}else{var p=e._xhr=new r.XMLHttpRequest;try{p.open(e._opts.method,e._opts.url,!0)}catch(f){return void i.nextTick(function(){e.emit("error",f)})}"responseType"in p&&(p.responseType=e._mode.split(":")[0]),"withCredentials"in p&&(p.withCredentials=!!n.withCredentials),"text"===e._mode&&"overrideMimeType"in p&&p.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(p.timeout=n.requestTimeout,p.ontimeout=function(){e.emit("requestTimeout")}),c.forEach(function(e){p.setRequestHeader(e[0],e[1])}),e._response=null,p.onreadystatechange=function(){switch(p.readyState){case h.LOADING:case h.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(p.onprogress=function(){e._onXHRProgress()}),p.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{p.send(a)}catch(f){return void i.nextTick(function(){e.emit("error",f)})}}}},d.prototype._onXHRProgress=function(){(function statusValid(e){try{var t=e.status;return null!==t&&0!==t}catch(n){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},d.prototype._connect=function(){var e=this;e._destroyed||(e._response=new u(e._xhr,e._fetchResponse,e._mode),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},d.prototype._write=function(e,t,n){this._body.push(e),n()},d.prototype.abort=d.prototype.destroy=function(){this._destroyed=!0,this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},d.prototype.end=function(e,t,n){"function"==typeof e&&(n=e,e=void 0),c.Writable.prototype.end.call(this,e,t,n)},d.prototype.flushHeaders=function(){},d.prototype.setTimeout=function(){},d.prototype.setNoDelay=function(){},d.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this,n(147).Buffer,n(8),n(66))},function(e,t,n){"use strict";t.byteLength=function byteLength(e){return 3*e.length/4-placeHoldersCount(e)},t.toByteArray=function toByteArray(e){var t,n,r,s,a,c=e.length;s=placeHoldersCount(e),a=new o(3*c/4-s),n=s>0?c-4:c;var l=0;for(t=0;t<n;t+=4)r=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],a[l++]=r>>16&255,a[l++]=r>>8&255,a[l++]=255&r;2===s?(r=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,a[l++]=255&r):1===s&&(r=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,a[l++]=r>>8&255,a[l++]=255&r);return a},t.fromByteArray=function fromByteArray(e){for(var t,n=e.length,i=n%3,o="",s=[],a=0,c=n-i;a<c;a+=16383)s.push(encodeChunk(e,a,a+16383>c?c:a+16383));1===i?(t=e[n-1],o+=r[t>>2],o+=r[t<<4&63],o+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],o+=r[t>>10],o+=r[t>>4&63],o+=r[t<<2&63],o+="=");return s.push(o),s.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function placeHoldersCount(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function encodeChunk(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16)+(e[a+1]<<8)+e[a+2],s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,l=c>>1,u=-7,h=n?i-1:0,d=n?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+e[t+h],h+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+e[t+h],h+=d,u-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=l}return(p?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,c,l=8*o-i-1,u=(1<<l)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(t*c-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=f,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;e[n+p]=255&s,p+=f,s/=256,l-=8);e[n+p-f]|=128*g}},function(e,t){},function(e,t,n){"use strict";var r=n(191).Buffer;e.exports=function(){function BufferList(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BufferList),this.head=null,this.tail=null,this.length=0}return BufferList.prototype.push=function push(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},BufferList.prototype.unshift=function unshift(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},BufferList.prototype.shift=function shift(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},BufferList.prototype.clear=function clear(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function join(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},BufferList.prototype.concat=function concat(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=o,i=a,t.copy(n,i),a+=s.data.length,s=s.next;return o},BufferList}()},function(e,t,n){var r=Function.prototype.apply;function Timeout(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new Timeout(r.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new Timeout(r.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function onTimeout(){e._onTimeout&&e._onTimeout()},t))},n(319),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){(function(t){function config(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function deprecate(e,t){if(config("noDeprecation"))return e;var n=!1;return function deprecated(){if(!n){if(config("throwDeprecation"))throw new Error(t);config("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,n(8))},function(e,t,n){"use strict";e.exports=PassThrough;var r=n(439),i=n(148);function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);r.call(this,e)}i.inherits=n(67),i.inherits(PassThrough,r),PassThrough.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){var r=n(147).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(r.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,i=0;i<n;i++)t[i]=e[i];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){e.exports=function extend(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,n){(function(e,r){var i;!function(o){t&&t.nodeType,e&&e.nodeType;var s="object"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var a,c=2147483647,l=36,u=1,h=26,d=38,p=700,f=72,g=128,m="-",v=/^xn--/,y=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=l-u,C=Math.floor,w=String.fromCharCode;function error(e){throw new RangeError(b[e])}function map(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function mapDomain(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+map((e=e.replace(S,".")).split("."),t).join(".")}function ucs2decode(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function ucs2encode(e){return map(e,function(e){var t="";return e>65535&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=w(e)}).join("")}function digitToBasic(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function adapt(e,t,n){var r=0;for(e=n?C(e/p):e>>1,e+=C(e/t);e>_*h>>1;r+=l)e=C(e/_);return C(r+(_+1)*e/(e+d))}function decode(e){var t,n,r,i,o,s,a,d,p,v,y,S=[],b=e.length,_=0,w=g,x=f;for((n=e.lastIndexOf(m))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&error("not-basic"),S.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<b;){for(o=_,s=1,a=l;i>=b&&error("invalid-input"),((d=(y=e.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:l)>=l||d>C((c-_)/s))&&error("overflow"),_+=d*s,!(d<(p=a<=x?u:a>=x+h?h:a-x));a+=l)s>C(c/(v=l-p))&&error("overflow"),s*=v;x=adapt(_-o,t=S.length+1,0==o),C(_/t)>c-w&&error("overflow"),w+=C(_/t),_%=t,S.splice(_++,0,w)}return ucs2encode(S)}function encode(e){var t,n,r,i,o,s,a,d,p,v,y,S,b,_,x,P=[];for(S=(e=ucs2decode(e)).length,t=g,n=0,o=f,s=0;s<S;++s)(y=e[s])<128&&P.push(w(y));for(r=i=P.length,i&&P.push(m);r<S;){for(a=c,s=0;s<S;++s)(y=e[s])>=t&&y<a&&(a=y);for(a-t>C((c-n)/(b=r+1))&&error("overflow"),n+=(a-t)*b,t=a,s=0;s<S;++s)if((y=e[s])<t&&++n>c&&error("overflow"),y==t){for(d=n,p=l;!(d<(v=p<=o?u:p>=o+h?h:p-o));p+=l)x=d-v,_=l-v,P.push(w(digitToBasic(v+x%_,0))),d=C(x/_);P.push(w(digitToBasic(d,0))),o=adapt(n,b,r==i),n=0,++r}++n,++t}return P.join("")}a={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode,encode,toASCII:function toASCII(e){return mapDomain(e,function(e){return y.test(e)?"xn--"+encode(e):e})},toUnicode:function toUnicode(e){return mapDomain(e,function(e){return v.test(e)?decode(e.slice(4).toLowerCase()):e})}},void 0===(i=function(){return a}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(424)(e),n(8))},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(897),t.encode=t.stringify=n(898)},function(e,t,n){"use strict";function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var c=e.length;a>0&&c>a&&(c=a);for(var l=0;l<c;++l){var u,h,d,p,f=e[l].replace(s,"%20"),g=f.indexOf(n);g>=0?(u=f.substr(0,g),h=f.substr(g+1)):(u=f,h=""),d=decodeURIComponent(u),p=decodeURIComponent(h),hasOwnProperty(o,d)?r(o[d])?o[d].push(p):o[d]=[o[d],p]:o[d]=p}return o};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?map(o(e),function(o){var s=encodeURIComponent(r(o))+n;return i(e[o])?map(e[o],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[o]))}).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function map(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.appServices=new class AppServices{constructor(e=Object.assign({},window._framerServiceEndpoints)){this.endpoints=e}get apiBaseURL(){return(this.endpoints?this.endpoints.api:void 0)||"about:blank"}get publicStoreURL(){return(this.endpoints?this.endpoints.publicStore:void 0)||"about:blank"}get privateStoreURL(){return(this.endpoints?this.endpoints.privateStore:void 0)||"about:blank"}get trackingURL(){return(this.endpoints?this.endpoints.tracking:void 0)||"about:blank"}}},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const i=n(76),o=n(60),s=n(187),a=n(22),c=n(34),l=n(62),u=n(374),h=n(21);function addNode(e,t,n,i){const u=s.classMap[n];if(!u)throw new Error("Unknown node class: "+n);const h=i.replicaInfo;if(h){const n=e.get(h.master);if(!n||!a.isMaster(n))throw Error("boken diff, replica without master: "+t+" "+h.master);const r=c.reviveReplicaInfo(h),o=l.TemplateHelper.create(e,n,r.overrides,t);return i.parentid&&(o.parentid=i.parentid),e.insertNode(o,o.parentid),o}if("TextNode"===n&&i.styledText&&"StyledTextDraft"===i.styledText.__class){const e=i.styledText,{__class:t}=e,n=r(e,["__class"]),s=new o.StyledTextDraft(n,n);i=Object.assign({},i,{styledText:s})}const d=new u(reviveProps(i));return d.id=t,e.insertNode(d,d.parentid),d}function removeNode(e,t){e.remove(t)}function reviveProps(e){const t={};for(const n in e)"guidesX"===n||"guidesY"===n?t[n]=c.reviveGuidesInfo(e[n]):"replicaInfo"===n?t.replicaInfo=c.reviveReplicaInfo(e[n]):"tokens"===n?(t.tokens=c.reviveTokens(e[n],e.tokensIndex),t.tokensIndex=void 0):"tokensIndex"===n||(t[n]="codeComponentProps"===n?e[n]:c.revive(e[n]));return t}function changeNode(e,t,n){const s=e.idToNode.get(t);if(!s)throw Error("broken diff, node does not exist: "+t);let c;if(n.parentid&&e.move(t,n.parentid),s instanceof i.default){const{styledText:t}=n,i=r(n,["styledText"]);if(c=s.set(reviveProps(i),e),t){const n=new o.StyledTextDraft(void 0,t);c=s.set({styledText:n},e)}}else c=s.set(reviveProps(n),e),n.replicaInfo&&a.isReplica(c)&&a.isReplica(s)&&l.TemplateHelper.updateFromOverrides(e,c,s);return c}function dependsOnFutureChange(e,t){const n=t.replicaInfo;if(n&&!e.has(n.master))return!0;const r=t.parentid;return!!r&&!e.has(r)}function resyncChildOrder(e,t,n){if(void 0===t.children)throw Error("assertion failed: node must have children array");t.children=n.map(t=>e.get(t)).filter(e=>!!e)}t.reviveProps=reviveProps,t.applyChanges=function applyChanges(e,t){const n=[],r=[];for(;t.length>0;){const i=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],a=s.id;if(s.added)if(dependsOnFutureChange(e,s.to))i.push(s);else{const t=addNode(e,a,s.added,s.to);s.toChildren&&n.push(s),t instanceof h.default&&r.push(t)}else if(s.removed)removeNode(e,a);else if(dependsOnFutureChange(e,s.to))i.push(s);else{const t=changeNode(e,a,s.to);s.toChildren&&n.push(s),t instanceof h.default&&r.push(t)}}if(0===i.length)break;if(i.length===t.length)throw Error("no progress: "+i.length);t=i}for(let i=0,o=n.length;i<o;i++){const t=n[i],r=t.toChildren;if(!r)throw Error("assertion failed: change.toChildren must be set");const o=e.get(t.id);if(!o)throw Error("assertion failed: node must exist");resyncChildOrder(e,o,r)}for(let i=0,o=r.length;i<o;i++){const t=r[i];t.allSlotContent().forEach(n=>{const r=e.get(n);r&&e.linkNodeChangesTo(r,t.id)})}},t.reverseChanges=function reverseChanges(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r],o=i.id;i.added?removeNode(e,o):i.removed?dependsOnFutureChange(e,i.from)?n.push(i):addNode(e,o,i.removed,i.from):dependsOnFutureChange(e,i.from)?n.push(i):changeNode(e,o,i.from)}if(0!==n.length){if(n.length===t.length)throw Error("no progress");return reverseChanges(e,n)}},t.createTreeChanges=function createTreeChanges(e,t){const n=[];let r=void 0;return t.idToNode.forEach((t,i)=>{if(!t||!i)return;const o=e.idToNode.get(i);if(t.cache.placeholders&&(r={id:i,placeholders:t.cache.placeholders}),o===t)return;const s=nodeChange(o,t);s&&n.push(s)}),e===t?{changes:n,placeholder:r}:(e.idToNode.forEach((e,r)=>{if(!e||!r)return;if(t.idToNode.has(r))return;const i=nodeChange(e,void 0);i&&n.push(i)}),{changes:n,placeholder:r})};const d={id:!0,cache:!0,children:!0,mutable:!0,update:!0,styledText:!0},p={parentid:!0,replicaInfo:!0,originalid:!0};function childrenChange(e,t,n){if(t&&n&&Math.abs(t.length-n.length)<2){let e=!0;for(let r=0,i=Math.min(t.length,n.length);r<i;r++)if(t[r].id!==n[r].id){e=!1;break}if(e)return}t&&t.length>1&&(e.fromChildren=t.map(e=>e.id)),n&&n.length>1&&(e.toChildren=n.map(e=>e.id))}function nodeChange(e,t){const n={},r={},o={id:t?t.id:e?e.id:"",from:n,to:r};if(t)if(e){if(a.isReplicaChild(t))return}else{if(a.isReplicaChild(t))return;const n=t.constructor.name;e=s.nodeDefaultsMap[n],o.added=n}else{if(!e)throw Error("assertion failed: at least one node must be given");if(a.isReplicaChild(e))return;const n=e.constructor.name;t=s.nodeDefaultsMap[n],o.removed=n}const c=a.isReplica(e)||a.isReplica(t);let l=!1;for(const i in t){if(c){if(!p[i])continue}else{if("children"===i){childrenChange(o,e.children,t.children),(o.fromChildren||o.toChildren)&&(l=!0);continue}if(d[i])continue}const s=e[i],a=t[i];u.isEqual(s,a)||("tokens"!==i?(n[i]=s,r[i]=a,l=!0):(n.tokens=s.toJS(),r.tokens=a.toJS(),n.tokensIndex=Array.from(s.keys()),r.tokensIndex=Array.from(a.keys()),l=!0))}if(t instanceof i.default){if(!(e instanceof i.default))throw Error("assertion failed: nodes must be of same type");e.styledText!==t.styledText&&(n.styledText=e.styledText.toJS(),r.styledText=t.styledText.toJS(),l=!0)}if(l)return o}t.nodeChange=nodeChange},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isRendererInit=function isRendererInit(e){return e&&"RendererInit"===e.type},t.isRendererUpdate=function isRendererUpdate(e){return e&&"RendererUpdate"===e.type}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=null;function copyStrokeToChildren(e){const t=e.getAttribute("stroke-width");if(t){let n=e.firstElementChild;for(;n;)n.hasAttribute("stroke-width")||n.setAttribute("stroke-width",t),n=n.nextElementSibling}}t.repairStrokedSVGs=function repairStrokedSVGs(e){e&&window.MutationObserver&&-1!==navigator.appVersion.indexOf("AppleWebKit")&&-1===navigator.appVersion.indexOf("Chrome")&&(r||(r=new MutationObserver(e=>{for(const t of e)for(const e of t.addedNodes)if(e instanceof Element){switch(e.nodeName){case"SVG":case"svg":copyStrokeToChildren(e);continue}if(e.firstChild&&e.firstElementChild)for(const t of e.querySelectorAll("svg[stroke-width]"))t instanceof Element&&copyStrokeToChildren(t)}})),r.observe(e,{attributes:!1,childList:!0,subtree:!0}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(6),o=n(103),s=n(35),a=n(72);t.GroundNodeWrapper=function GroundNodeWrapper({node:e,children:t}){return r.createElement("div",{style:c(e)},t)};const c=e=>{let t=0,n=0;return o.hasPosition(e)&&(t=e.y,n=e.x),s.isPinnable(e)&&(t=e.top?e.top:0,n=e.left?e.left:0),{position:"absolute",willChange:supportsWillChangeTransform(e)?"transform":void 0,transform:`translateX(${rounded(n,e)}px) translateY(${rounded(t,e)}px)`}};function supportsWillChangeTransform(e){return function isWithoutGradient(e){return!(!a.hasOptionalFill(e)||!1!==e.fillEnabled)||!a.hasFill(e)||"linear-gradient"!==e.fillType&&"radial-gradient"!==e.fillType}(e)}function rounded(e,t){return i.isTextNode(t)?e:Math.round(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(55);t.wrapInCustomProperties=function wrapInCustomProperties(e,t){return void 0===i.CustomProperties?e:r.createElement(i.CustomProperties,{customProperties:t},e)}},function(e,t,n){"use strict";n.r(t);var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function memoize(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91});t.default=i}]);
